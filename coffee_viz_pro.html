<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Kahve TÃ¼ketimi 2026 â˜•</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://unpkg.com/@antv/g2plot@2.4.31/dist/g2plot.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@200;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #0f0f0f;
            color: #e0e0e0;
            font-family: 'Outfit', sans-serif;
            margin: 0;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            width: 100%;
            max-width: 1000px;
            background: #1a1a1a;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            margin-bottom: 50px;
        }
        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 40px;
            font-size: 1.1rem;
        }
        .chart-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #00ffcc;
            border-left: 5px solid #00ffcc;
            padding-left: 15px;
        }
        #bar-chart, #pie-chart {
            width: 100%;
            height: 600px;
        }
        .footer {
            margin-top: 30px;
            font-size: 0.8rem;
            color: #555;
            text-align: right;
        }
    </style>
</head>
<body>

    <h1>KÃœRESEL KAHVE TUTKUSU</h1>
    <p class="subtitle">KiÅŸi BaÅŸÄ±na YÄ±llÄ±k TÃ¼ketim (Kilogram)</p>

    <div class="container">
        <div class="chart-title">Zirvedeki 20 Ãœlke (D3.js)</div>
        <div id="bar-chart"></div>
    </div>

    <div class="container">
        <div class="chart-title">BÃ¶lgesel DaÄŸÄ±lÄ±m ve Oranlar (AntV G2Plot)</div>
        <div id="pie-chart"></div>
    </div>

    <div class="footer">Veri KaynaÄŸÄ±: Statista & ICO 2026 | GÃ¶rselleÅŸtirme: Rivr AI ðŸŒŠ</div>

    <script>
        // Veriyi yÃ¼kle (Dosyadan okuyamadÄ±ÄŸÄ±m iÃ§in buraya inject ediyorum)
        const rawData = [
            {"country": "Luxembourg", "kg": 25.34},
            {"country": "Maldives", "kg": 22.32},
            {"country": "Lebanon", "kg": 17.34},
            {"country": "Laos", "kg": 15.41},
            {"country": "Finland", "kg": 11.9},
            {"country": "Norway", "kg": 9.8},
            {"country": "Iceland", "kg": 9.0},
            {"country": "Denmark", "kg": 8.8},
            {"country": "Netherlands", "kg": 8.4},
            {"country": "Sweden", "kg": 8.2},
            {"country": "Switzerland", "kg": 7.9},
            {"country": "Belgium", "kg": 6.8},
            {"country": "Canada", "kg": 6.5},
            {"country": "Austria", "kg": 6.2},
            {"country": "Germany", "kg": 5.2},
            {"country": "Italy", "kg": 3.4},
            {"country": "USA", "kg": 3.1},
            {"country": "UK", "kg": 1.7},
            {"country": "Turkey", "kg": 0.4},
            {"country": "Japan", "kg": 2.0}
        ].sort((a, b) => b.kg - a.kg).slice(0, 20);

        // --- D3.js Bar Chart ---
        const margin = {top: 20, right: 30, bottom: 40, left: 150};
        const width = document.getElementById('bar-chart').clientWidth - margin.left - margin.right;
        const height = 600 - margin.top - margin.bottom;

        const svg = d3.select("#bar-chart")
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

        const x = d3.scaleLinear()
            .domain([0, d3.max(rawData, d => d.kg)])
            .range([0, width]);

        const y = d3.scaleBand()
            .range([0, height])
            .domain(rawData.map(d => d.country))
            .padding(0.2);

        svg.append("g")
            .selectAll("rect")
            .data(rawData)
            .join("rect")
            .attr("x", x(0))
            .attr("y", d => y(d.country))
            .attr("width", d => x(d.kg))
            .attr("height", y.bandwidth())
            .attr("fill", (d, i) => d3.interpolateCool(i / 20))
            .attr("rx", 5);

        svg.append("g")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(x).ticks(5))
            .selectAll("text").style("fill", "#888");

        svg.append("g")
            .call(d3.axisLeft(y).tickSize(0))
            .selectAll("text").style("fill", "#fff").style("font-size", "14px");

        // --- AntV G2Plot Pie/Rose Chart ---
        const roseChart = new G2Plot.Rose('pie-chart', {
            data: rawData,
            xField: 'country',
            yField: 'kg',
            seriesField: 'country',
            radius: 0.9,
            innerRadius: 0.2,
            theme: 'dark',
            label: {
                offset: -15,
            },
            legend: false,
            interactions: [{ type: 'element-active' }],
        });

        roseChart.render();
    </script>
</body>
</html>

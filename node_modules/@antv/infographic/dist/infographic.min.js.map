{"version":3,"file":"infographic.min.js","sources":["../src/templates/registry.ts","../src/templates/chart-pie.ts","../src/templates/compare-quadrant.ts","../src/templates/hierarchy-mindmap.ts","../src/templates/hierarchy-structure.ts","../src/templates/hierarchy-tree.ts","../src/templates/list-zigzag.ts","../src/templates/relation-dagre-flow.ts","../src/templates/sequence-stairs.ts","../src/templates/word-cloud.ts","../src/templates/built-in.ts","../esm/jsx/jsx-runtime.js","../src/constants/components.ts","../src/constants/element.ts","../src/constants/service.ts","../src/jsx/components/Defs.ts","../src/jsx/components/Ellipse.ts","../src/jsx/components/Group.ts","../src/jsx/components/Path.ts","../src/jsx/components/Polygon.ts","../src/jsx/components/Rect.ts","../src/utils/attrs.ts","../node_modules/culori/src/rgb/parseNumber.js","../node_modules/culori/src/colors/named.js","../node_modules/culori/src/rgb/parseNamed.js","../node_modules/culori/src/rgb/parseHex.js","../node_modules/culori/src/util/regex.js","../node_modules/culori/src/rgb/parseRgbLegacy.js","../node_modules/culori/src/_prepare.js","../node_modules/culori/src/converter.js","../node_modules/culori/src/modes.js","../node_modules/culori/src/parse.js","../node_modules/culori/src/rgb/parseRgb.js","../node_modules/culori/src/rgb/parseTransparent.js","../node_modules/culori/src/interpolate/lerp.js","../node_modules/culori/src/interpolate/piecewise.js","../node_modules/culori/src/interpolate/linear.js","../node_modules/culori/src/fixup/alpha.js","../node_modules/culori/src/rgb/definition.js","../node_modules/culori/src/a98/convertA98ToXyz65.js","../node_modules/culori/src/a98/convertXyz65ToA98.js","../node_modules/culori/src/lrgb/convertRgbToLrgb.js","../node_modules/culori/src/xyz65/convertRgbToXyz65.js","../node_modules/culori/src/lrgb/convertLrgbToRgb.js","../node_modules/culori/src/xyz65/convertXyz65ToRgb.js","../node_modules/culori/src/a98/definition.js","../node_modules/culori/src/util/normalizeHue.js","../node_modules/culori/src/fixup/hue.js","../node_modules/culori/src/cubehelix/constants.js","../node_modules/culori/src/cubehelix/convertRgbToCubehelix.js","../node_modules/culori/src/cubehelix/convertCubehelixToRgb.js","../node_modules/culori/src/difference.js","../node_modules/culori/src/average.js","../node_modules/culori/src/cubehelix/definition.js","../node_modules/culori/src/lch/convertLabToLch.js","../node_modules/culori/src/lch/convertLchToLab.js","../node_modules/culori/src/xyz65/constants.js","../node_modules/culori/src/constants.js","../node_modules/culori/src/lab65/convertLab65ToXyz65.js","../node_modules/culori/src/lab65/convertLab65ToRgb.js","../node_modules/culori/src/lab65/convertXyz65ToLab65.js","../node_modules/culori/src/lab65/convertRgbToLab65.js","../node_modules/culori/src/dlch/constants.js","../node_modules/culori/src/dlch/convertDlchToLab65.js","../node_modules/culori/src/dlch/convertLab65ToDlch.js","../node_modules/culori/src/dlab/definition.js","../node_modules/culori/src/dlch/definition.js","../node_modules/culori/src/hsi/convertHsiToRgb.js","../node_modules/culori/src/hsi/convertRgbToHsi.js","../node_modules/culori/src/hsi/definition.js","../node_modules/culori/src/hsl/convertHslToRgb.js","../node_modules/culori/src/hsl/convertRgbToHsl.js","../node_modules/culori/src/util/hue.js","../node_modules/culori/src/hsl/parseHslLegacy.js","../node_modules/culori/src/hsl/parseHsl.js","../node_modules/culori/src/hsl/definition.js","../node_modules/culori/src/hsv/convertHsvToRgb.js","../node_modules/culori/src/hsv/convertRgbToHsv.js","../node_modules/culori/src/hsv/definition.js","../node_modules/culori/src/hwb/convertHwbToRgb.js","../node_modules/culori/src/hwb/convertRgbToHwb.js","../node_modules/culori/src/hwb/parseHwb.js","../node_modules/culori/src/hwb/definition.js","../node_modules/culori/src/hdr/constants.js","../node_modules/culori/src/hdr/transfer.js","../node_modules/culori/src/itp/convertItpToXyz65.js","../node_modules/culori/src/itp/convertXyz65ToItp.js","../node_modules/culori/src/itp/definition.js","../node_modules/culori/src/jab/convertXyz65ToJab.js","../node_modules/culori/src/jab/convertJabToXyz65.js","../node_modules/culori/src/jab/convertRgbToJab.js","../node_modules/culori/src/jab/convertJabToRgb.js","../node_modules/culori/src/jab/definition.js","../node_modules/culori/src/jch/convertJabToJch.js","../node_modules/culori/src/jch/convertJchToJab.js","../node_modules/culori/src/jch/definition.js","../node_modules/culori/src/xyz50/constants.js","../node_modules/culori/src/lab/convertLabToXyz50.js","../node_modules/culori/src/xyz50/convertXyz50ToRgb.js","../node_modules/culori/src/lab/convertLabToRgb.js","../node_modules/culori/src/xyz50/convertRgbToXyz50.js","../node_modules/culori/src/lab/convertXyz50ToLab.js","../node_modules/culori/src/lab/convertRgbToLab.js","../node_modules/culori/src/lab/parseLab.js","../node_modules/culori/src/lab/definition.js","../node_modules/culori/src/lab65/definition.js","../node_modules/culori/src/lch/parseLch.js","../node_modules/culori/src/lch/definition.js","../node_modules/culori/src/lch65/definition.js","../node_modules/culori/src/lchuv/convertLuvToLchuv.js","../node_modules/culori/src/lchuv/convertLchuvToLuv.js","../node_modules/culori/src/luv/convertXyz50ToLuv.js","../node_modules/culori/src/luv/convertLuvToXyz50.js","../node_modules/culori/src/lchuv/definition.js","../node_modules/culori/src/lrgb/definition.js","../node_modules/culori/src/luv/definition.js","../node_modules/culori/src/oklab/convertLrgbToOklab.js","../node_modules/culori/src/oklab/convertRgbToOklab.js","../node_modules/culori/src/oklab/convertOklabToLrgb.js","../node_modules/culori/src/oklab/convertOklabToRgb.js","../node_modules/culori/src/okhsl/helpers.js","../node_modules/culori/src/okhsl/convertOklabToOkhsl.js","../node_modules/culori/src/okhsl/convertOkhslToOklab.js","../node_modules/culori/src/okhsl/modeOkhsl.js","../node_modules/culori/src/okhsv/convertOklabToOkhsv.js","../node_modules/culori/src/okhsv/convertOkhsvToOklab.js","../node_modules/culori/src/okhsv/modeOkhsv.js","../node_modules/culori/src/oklab/parseOklab.js","../node_modules/culori/src/oklab/definition.js","../node_modules/culori/src/oklch/parseOklch.js","../node_modules/culori/src/oklch/definition.js","../node_modules/culori/src/p3/convertP3ToXyz65.js","../node_modules/culori/src/p3/convertXyz65ToP3.js","../node_modules/culori/src/p3/definition.js","../node_modules/culori/src/prophoto/convertXyz50ToProphoto.js","../node_modules/culori/src/prophoto/convertProphotoToXyz50.js","../node_modules/culori/src/prophoto/definition.js","../node_modules/culori/src/rec2020/convertXyz65ToRec2020.js","../node_modules/culori/src/rec2020/convertRec2020ToXyz65.js","../node_modules/culori/src/rec2020/definition.js","../node_modules/culori/src/xyb/constants.js","../node_modules/culori/src/xyb/convertRgbToXyb.js","../node_modules/culori/src/xyb/convertXybToRgb.js","../node_modules/culori/src/xyb/definition.js","../node_modules/culori/src/xyz50/definition.js","../node_modules/culori/src/xyz65/definition.js","../node_modules/culori/src/xyz65/convertXyz65ToXyz50.js","../node_modules/culori/src/xyz65/convertXyz50ToXyz65.js","../node_modules/culori/src/yiq/definition.js","../node_modules/culori/src/yiq/convertYiqToRgb.js","../node_modules/culori/src/yiq/convertRgbToYiq.js","../node_modules/culori/src/formatter.js","../node_modules/culori/src/wcag.js","../node_modules/culori/src/index.js","../src/utils/color.ts","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/_arrayMap.js","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/_baseToString.js","../node_modules/lodash-es/_trimmedEndIndex.js","../node_modules/lodash-es/_baseTrim.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/toFinite.js","../node_modules/lodash-es/identity.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_WeakMap.js","../node_modules/lodash-es/_baseCreate.js","../node_modules/lodash-es/_apply.js","../node_modules/lodash-es/_copyArray.js","../node_modules/lodash-es/_shortOut.js","../node_modules/lodash-es/constant.js","../node_modules/lodash-es/_defineProperty.js","../node_modules/lodash-es/_baseSetToString.js","../node_modules/lodash-es/_setToString.js","../node_modules/lodash-es/_arrayEach.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/_baseAssignValue.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assignValue.js","../node_modules/lodash-es/_copyObject.js","../node_modules/lodash-es/_overRest.js","../node_modules/lodash-es/_baseRest.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/_isIterateeCall.js","../node_modules/lodash-es/_createAssigner.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/isBuffer.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_nativeKeys.js","../node_modules/lodash-es/_baseKeys.js","../node_modules/lodash-es/keys.js","../node_modules/lodash-es/_nativeKeysIn.js","../node_modules/lodash-es/_baseKeysIn.js","../node_modules/lodash-es/keysIn.js","../node_modules/lodash-es/_isKey.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/memoize.js","../node_modules/lodash-es/_memoizeCapped.js","../node_modules/lodash-es/_stringToPath.js","../node_modules/lodash-es/toString.js","../node_modules/lodash-es/_castPath.js","../node_modules/lodash-es/_toKey.js","../node_modules/lodash-es/_baseGet.js","../node_modules/lodash-es/get.js","../node_modules/lodash-es/_arrayPush.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/_baseSlice.js","../node_modules/lodash-es/_castSlice.js","../node_modules/lodash-es/_hasUnicode.js","../node_modules/lodash-es/_asciiToArray.js","../node_modules/lodash-es/_unicodeToArray.js","../node_modules/lodash-es/_stringToArray.js","../node_modules/lodash-es/_createCaseFirst.js","../node_modules/lodash-es/upperFirst.js","../node_modules/lodash-es/capitalize.js","../node_modules/lodash-es/_arrayReduce.js","../node_modules/lodash-es/_basePropertyOf.js","../node_modules/lodash-es/_deburrLetter.js","../node_modules/lodash-es/deburr.js","../node_modules/lodash-es/_asciiWords.js","../node_modules/lodash-es/_hasUnicodeWord.js","../node_modules/lodash-es/_unicodeWords.js","../node_modules/lodash-es/words.js","../node_modules/lodash-es/_createCompounder.js","../node_modules/lodash-es/camelCase.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_cloneBuffer.js","../node_modules/lodash-es/_arrayFilter.js","../node_modules/lodash-es/stubArray.js","../node_modules/lodash-es/_getSymbols.js","../node_modules/lodash-es/_baseGetAllKeys.js","../node_modules/lodash-es/_getAllKeys.js","../node_modules/lodash-es/_DataView.js","../node_modules/lodash-es/_Promise.js","../node_modules/lodash-es/_Set.js","../node_modules/lodash-es/_getTag.js","../node_modules/lodash-es/_initCloneArray.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_cloneArrayBuffer.js","../node_modules/lodash-es/_cloneDataView.js","../node_modules/lodash-es/_cloneRegExp.js","../node_modules/lodash-es/_cloneSymbol.js","../node_modules/lodash-es/_cloneTypedArray.js","../node_modules/lodash-es/_initCloneByTag.js","../node_modules/lodash-es/_initCloneObject.js","../node_modules/lodash-es/_baseIsMap.js","../node_modules/lodash-es/isMap.js","../node_modules/lodash-es/_baseIsSet.js","../node_modules/lodash-es/isSet.js","../node_modules/lodash-es/_baseClone.js","../node_modules/lodash-es/cloneDeep.js","../node_modules/lodash-es/_setCacheAdd.js","../node_modules/lodash-es/_setCacheHas.js","../node_modules/lodash-es/_SetCache.js","../node_modules/lodash-es/_arraySome.js","../node_modules/lodash-es/_cacheHas.js","../node_modules/lodash-es/_equalArrays.js","../node_modules/lodash-es/_mapToArray.js","../node_modules/lodash-es/_setToArray.js","../node_modules/lodash-es/_equalByTag.js","../node_modules/lodash-es/_equalObjects.js","../node_modules/lodash-es/_baseIsEqualDeep.js","../node_modules/lodash-es/_baseIsEqual.js","../node_modules/lodash-es/_createBaseFor.js","../node_modules/lodash-es/_baseFor.js","../node_modules/lodash-es/_assignMergeValue.js","../node_modules/lodash-es/isArrayLikeObject.js","../node_modules/lodash-es/_safeGet.js","../node_modules/lodash-es/toPlainObject.js","../node_modules/lodash-es/_baseMergeDeep.js","../node_modules/lodash-es/_baseMerge.js","../node_modules/lodash-es/_baseInRange.js","../node_modules/lodash-es/inRange.js","../node_modules/lodash-es/isEqual.js","../node_modules/lodash-es/kebabCase.js","../node_modules/lodash-es/merge.js","../src/utils/data.ts","../src/utils/design.ts","../src/utils/font.ts","../node_modules/measury/lib/font.js","../node_modules/measury/lib/measure.js","../node_modules/measury/lib/fonts/AlibabaPuHuiTi-Regular.js","../src/resource/load-tracker.ts","../src/renderer/fonts/registry.ts","../src/renderer/fonts/loader.ts","../src/renderer/fonts/built-in.ts","../src/renderer/fonts/index.ts","../src/renderer/palettes/registry.ts","../src/renderer/palettes/built-in.ts","../src/renderer/palettes/utils.ts","../src/renderer/composites/background.ts","../src/renderer/utils/attrs.ts","../src/renderer/utils/id.ts","../src/renderer/composites/base.ts","../src/renderer/composites/button.ts","../src/resource/loaders/image.ts","../src/resource/loaders/svg.ts","../src/resource/loaders/remote.ts","../src/resource/loaders/search.ts","../src/resource/registry.ts","../src/resource/utils/data-uri.ts","../src/resource/utils/parser.ts","../src/resource/utils/ref.ts","../src/resource/loader.ts","../src/renderer/composites/icon.ts","../src/renderer/composites/illus.ts","../node_modules/tinycolor2/esm/tinycolor.js","../src/renderer/stylize/gradient.ts","../src/renderer/stylize/patterns/diamond.ts","../src/renderer/stylize/patterns/dot.ts","../src/renderer/stylize/patterns/hex.ts","../src/renderer/stylize/patterns/line.ts","../src/renderer/stylize/patterns/mosaic.ts","../src/renderer/stylize/patterns/square.ts","../src/renderer/stylize/pattern.ts","../node_modules/roughjs/bundled/rough.esm.js","../src/renderer/stylize/rough.ts","../src/renderer/composites/shape.ts","../src/renderer/composites/svg.ts","../src/renderer/composites/text.ts","../src/renderer/renderer.ts","../src/utils/measure-text.ts","../src/utils/svg.ts","../src/utils/text.ts","../src/utils/recognizer.ts","../src/utils/element.ts","../node_modules/flru/dist/flru.mjs","../src/utils/fetch.ts","../src/utils/get-types.ts","../src/utils/hash.ts","../src/utils/icon.ts","../src/utils/is-node.ts","../src/utils/item.ts","../src/utils/join.ts","../src/utils/viewbox.ts","../src/utils/padding.ts","../src/utils/style.ts","../src/utils/uuid.ts","../src/jsx/components/Text.ts","../src/jsx/jsx-runtime.ts","../src/jsx/utils/is-fragment.ts","../src/jsx/utils/is-jsx-element.ts","../src/jsx/utils/element.ts","../src/jsx/utils/is-number.ts","../src/jsx/utils/bounds.ts","../src/jsx/utils/children.ts","../src/jsx/utils/clone.ts","../src/jsx/utils/context.ts","../src/jsx/utils/escape.ts","../src/jsx/utils/svg.ts","../src/jsx/layout.ts","../src/jsx/renderer.ts","../src/designs/components/Btn.tsx","../src/designs/components/BtnsGroup.tsx","../src/designs/components/Gap.tsx","../src/designs/components/Illus.tsx","../src/designs/components/ItemDesc.tsx","../src/designs/components/ItemIcon.tsx","../src/designs/components/ItemLabel.tsx","../src/designs/components/ItemsGroup.tsx","../src/designs/components/ItemValue.tsx","../src/designs/components/ShapesGroup.tsx","../src/designs/layouts/Align.tsx","../src/designs/layouts/Flex.tsx","../src/designs/components/Title.tsx","../src/themes/registry.ts","../src/themes/built-in.ts","../src/themes/generator.ts","../src/designs/utils/color.ts","../src/designs/utils/hierarchy-color.ts","../src/designs/utils/item.ts","../src/designs/utils/normalize-percent.ts","../src/designs/items/registry.ts","../src/designs/items/BadgeCard.tsx","../src/designs/items/CandyCardLite.tsx","../src/designs/defs/DropShadow.tsx","../src/designs/defs/LinearGradient.tsx","../src/designs/items/CapsuleItem.tsx","../src/designs/items/CircleNode.tsx","../src/designs/items/CircularProgress.tsx","../src/designs/items/CompactCard.tsx","../src/designs/items/DoneList.tsx","../src/designs/items/HorizontalIconArrow.tsx","../src/designs/items/HorizontalIconLine.tsx","../src/designs/items/IconBadge.tsx","../src/designs/items/IndexedCard.tsx","../src/designs/items/LCornerCard.tsx","../src/designs/items/LetterCard.tsx","../src/designs/items/LinedText.tsx","../src/designs/items/PillBadge.tsx","../src/designs/items/PlainText.tsx","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-path/src/path.js","../node_modules/d3-force/src/center.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-force/src/collide.js","../node_modules/d3-force/src/link.js","../node_modules/d3-force/src/lcg.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/path.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-zoom/src/transform.js","../src/designs/items/ProgressCard.tsx","../src/designs/items/QuarterCircular.tsx","../src/designs/items/QuarterSimpleCard.tsx","../src/designs/items/RibbonCard.tsx","../src/designs/items/RoundedRectNode.tsx","../src/designs/items/SimpleCircleNode.tsx","../src/designs/items/SimpleHorizontalArrow.tsx","../src/designs/items/SimpleIllusItem.tsx","../src/designs/items/SimpleItem.tsx","../src/designs/items/SimpleVerticalArrow.tsx","../src/designs/items/UnderlineText.tsx","../src/designs/items/VerticalIconArrow.tsx","../src/designs/structures/registry.ts","../src/designs/structures/chart-bar.tsx","../src/designs/structures/chart-column.tsx","../src/designs/structures/chart-line.tsx","../src/designs/structures/chart-pie.tsx","../src/designs/structures/chart-wordcloud.tsx","../src/designs/structures/compare-binary-horizontal/dividers/types.ts","../src/designs/structures/compare-binary-horizontal/dividers/pros-cons-arrow.tsx","../src/designs/structures/compare-binary-horizontal/dividers/pros-cons-fold.tsx","../src/designs/structures/compare-binary-horizontal/dividers/vs.tsx","../src/designs/structures/compare-binary-horizontal/index.tsx","../src/designs/structures/compare-hierarchy-left-right.tsx","../src/designs/structures/compare-hierarchy-row.tsx","../src/designs/structures/compare-quadrant.tsx","../node_modules/@antv/hierarchy/dist/hierarchy.es.js","../src/designs/structures/hierarchy-mindmap.tsx","../src/designs/structures/hierarchy-structure.tsx","../src/designs/structures/hierarchy-tree.tsx","../src/designs/structures/list-column.tsx","../src/designs/structures/list-grid.tsx","../src/designs/structures/list-pyramid.tsx","../src/designs/structures/list-row.tsx","../src/designs/structures/list-sector.tsx","../src/designs/structures/list-waterfall.tsx","../src/designs/structures/list-zigzag.tsx","../src/designs/structures/relation-circle.tsx","../node_modules/@antv/layout/lib/node_modules/tslib/tslib.es6.js","../node_modules/@antv/layout/lib/node_modules/@antv/expr/dist/index.esm.js","../node_modules/@antv/layout/lib/util/expr.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-number.js","../node_modules/@antv/layout/lib/util/size.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-nil.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-string.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-function.js","../node_modules/@antv/layout/lib/util/format.js","../node_modules/@antv/layout/lib/util/point.js","../node_modules/@antv/layout/lib/model/data.js","../node_modules/@antv/layout/lib/runtime/context.js","../node_modules/@antv/layout/lib/node_modules/comlink/dist/esm/comlink.js","../node_modules/@antv/layout/lib/runtime/supervisor.js","../node_modules/@antv/layout/lib/algorithm/base-layout.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-array.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-object.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-object-like.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-type.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-plain-object.js","../node_modules/@antv/layout/lib/_virtual/_commonjsHelpers.js","../node_modules/@antv/layout/lib/_virtual/_commonjs-dynamic-modules.js","../node_modules/@antv/layout/lib/node_modules/lodash/_listCacheClear.js","../node_modules/@antv/layout/lib/node_modules/lodash/eq.js","../node_modules/@antv/layout/lib/node_modules/lodash/_assocIndexOf.js","../node_modules/@antv/layout/lib/node_modules/lodash/_listCacheDelete.js","../node_modules/@antv/layout/lib/node_modules/lodash/_listCacheGet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_listCacheHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/_listCacheSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_ListCache.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stackClear.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stackDelete.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stackGet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stackHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/_freeGlobal.js","../node_modules/@antv/layout/lib/node_modules/lodash/_root.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Symbol.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getRawTag.js","../node_modules/@antv/layout/lib/node_modules/lodash/_objectToString.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseGetTag.js","../node_modules/@antv/layout/lib/node_modules/lodash/isObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/isFunction.js","../node_modules/@antv/layout/lib/node_modules/lodash/_coreJsData.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isMasked.js","../node_modules/@antv/layout/lib/node_modules/lodash/_toSource.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsNative.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getValue.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getNative.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Map.js","../node_modules/@antv/layout/lib/node_modules/lodash/_nativeCreate.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hashClear.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hashDelete.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hashGet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hashHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hashSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Hash.js","../node_modules/@antv/layout/lib/node_modules/lodash/_mapCacheClear.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isKeyable.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getMapData.js","../node_modules/@antv/layout/lib/node_modules/lodash/_mapCacheDelete.js","../node_modules/@antv/layout/lib/node_modules/lodash/_mapCacheGet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_mapCacheHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/_mapCacheSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_MapCache.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stackSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Stack.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayEach.js","../node_modules/@antv/layout/lib/node_modules/lodash/_defineProperty.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseAssignValue.js","../node_modules/@antv/layout/lib/node_modules/lodash/_assignValue.js","../node_modules/@antv/layout/lib/node_modules/lodash/_copyObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseTimes.js","../node_modules/@antv/layout/lib/node_modules/lodash/isObjectLike.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsArguments.js","../node_modules/@antv/layout/lib/node_modules/lodash/isArguments.js","../node_modules/@antv/layout/lib/node_modules/lodash/isArray.js","../node_modules/@antv/layout/lib/_virtual/isBuffer.js","../node_modules/@antv/layout/lib/node_modules/lodash/stubFalse.js","../node_modules/@antv/layout/lib/node_modules/lodash/isBuffer.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isIndex.js","../node_modules/@antv/layout/lib/node_modules/lodash/isLength.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsTypedArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseUnary.js","../node_modules/@antv/layout/lib/_virtual/_nodeUtil.js","../node_modules/@antv/layout/lib/node_modules/lodash/_nodeUtil.js","../node_modules/@antv/layout/lib/node_modules/lodash/isTypedArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayLikeKeys.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isPrototype.js","../node_modules/@antv/layout/lib/node_modules/lodash/_overArg.js","../node_modules/@antv/layout/lib/node_modules/lodash/_nativeKeys.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseKeys.js","../node_modules/@antv/layout/lib/node_modules/lodash/isArrayLike.js","../node_modules/@antv/layout/lib/node_modules/lodash/keys.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseAssign.js","../node_modules/@antv/layout/lib/node_modules/lodash/_nativeKeysIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseKeysIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/keysIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseAssignIn.js","../node_modules/@antv/layout/lib/_virtual/_cloneBuffer.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cloneBuffer.js","../node_modules/@antv/layout/lib/node_modules/lodash/_copyArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayFilter.js","../node_modules/@antv/layout/lib/node_modules/lodash/stubArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getSymbols.js","../node_modules/@antv/layout/lib/node_modules/lodash/_copySymbols.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayPush.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getPrototype.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getSymbolsIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_copySymbolsIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseGetAllKeys.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getAllKeys.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getAllKeysIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_DataView.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Promise.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Set.js","../node_modules/@antv/layout/lib/node_modules/lodash/_WeakMap.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getTag.js","../node_modules/@antv/layout/lib/node_modules/lodash/_initCloneArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_Uint8Array.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cloneArrayBuffer.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cloneDataView.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cloneRegExp.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cloneSymbol.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cloneTypedArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_initCloneByTag.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseCreate.js","../node_modules/@antv/layout/lib/node_modules/lodash/_initCloneObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsMap.js","../node_modules/@antv/layout/lib/node_modules/lodash/isMap.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/isSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseClone.js","../node_modules/@antv/layout/lib/node_modules/lodash/clone.js","../node_modules/@antv/layout/lib/node_modules/lodash/constant.js","../node_modules/@antv/layout/lib/node_modules/lodash/_createBaseFor.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseFor.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseForOwn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_createBaseEach.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseEach.js","../node_modules/@antv/layout/lib/node_modules/lodash/identity.js","../node_modules/@antv/layout/lib/node_modules/lodash/_castFunction.js","../node_modules/@antv/layout/lib/node_modules/lodash/forEach.js","../node_modules/@antv/layout/lib/node_modules/lodash/each.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseFilter.js","../node_modules/@antv/layout/lib/node_modules/lodash/_setCacheAdd.js","../node_modules/@antv/layout/lib/node_modules/lodash/_setCacheHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/_SetCache.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arraySome.js","../node_modules/@antv/layout/lib/node_modules/lodash/_cacheHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/_equalArrays.js","../node_modules/@antv/layout/lib/node_modules/lodash/_mapToArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_setToArray.js","../node_modules/@antv/layout/lib/node_modules/lodash/_equalByTag.js","../node_modules/@antv/layout/lib/node_modules/lodash/_equalObjects.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsEqualDeep.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsEqual.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsMatch.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isStrictComparable.js","../node_modules/@antv/layout/lib/node_modules/lodash/_getMatchData.js","../node_modules/@antv/layout/lib/node_modules/lodash/_matchesStrictComparable.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseMatches.js","../node_modules/@antv/layout/lib/node_modules/lodash/isSymbol.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isKey.js","../node_modules/@antv/layout/lib/node_modules/lodash/memoize.js","../node_modules/@antv/layout/lib/node_modules/lodash/_memoizeCapped.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stringToPath.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayMap.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseToString.js","../node_modules/@antv/layout/lib/node_modules/lodash/toString.js","../node_modules/@antv/layout/lib/node_modules/lodash/_castPath.js","../node_modules/@antv/layout/lib/node_modules/lodash/_toKey.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseGet.js","../node_modules/@antv/layout/lib/node_modules/lodash/get.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseHasIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hasPath.js","../node_modules/@antv/layout/lib/node_modules/lodash/hasIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseMatchesProperty.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseProperty.js","../node_modules/@antv/layout/lib/node_modules/lodash/_basePropertyDeep.js","../node_modules/@antv/layout/lib/node_modules/lodash/property.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIteratee.js","../node_modules/@antv/layout/lib/node_modules/lodash/filter.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseHas.js","../node_modules/@antv/layout/lib/node_modules/lodash/has.js","../node_modules/@antv/layout/lib/node_modules/lodash/isEmpty.js","../node_modules/@antv/layout/lib/node_modules/lodash/isUndefined.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseMap.js","../node_modules/@antv/layout/lib/node_modules/lodash/map.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayReduce.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseReduce.js","../node_modules/@antv/layout/lib/node_modules/lodash/reduce.js","../node_modules/@antv/layout/lib/node_modules/lodash/isString.js","../node_modules/@antv/layout/lib/node_modules/lodash/_asciiSize.js","../node_modules/@antv/layout/lib/node_modules/lodash/_hasUnicode.js","../node_modules/@antv/layout/lib/node_modules/lodash/_unicodeSize.js","../node_modules/@antv/layout/lib/node_modules/lodash/_stringSize.js","../node_modules/@antv/layout/lib/node_modules/lodash/size.js","../node_modules/@antv/layout/lib/node_modules/lodash/transform.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isFlattenable.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseFlatten.js","../node_modules/@antv/layout/lib/node_modules/lodash/_apply.js","../node_modules/@antv/layout/lib/node_modules/lodash/_overRest.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseSetToString.js","../node_modules/@antv/layout/lib/node_modules/lodash/_shortOut.js","../node_modules/@antv/layout/lib/node_modules/lodash/_setToString.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseRest.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseFindIndex.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIsNaN.js","../node_modules/@antv/layout/lib/node_modules/lodash/_strictIndexOf.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseIndexOf.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayIncludes.js","../node_modules/@antv/layout/lib/node_modules/lodash/_arrayIncludesWith.js","../node_modules/@antv/layout/lib/node_modules/lodash/noop.js","../node_modules/@antv/layout/lib/node_modules/lodash/_createSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseUniq.js","../node_modules/@antv/layout/lib/node_modules/lodash/isArrayLikeObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/union.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseValues.js","../node_modules/@antv/layout/lib/node_modules/lodash/values.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/lodash.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/graph.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/version.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/index.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/json.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/components.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/data/priority-queue.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/dijkstra.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/dijkstra-all.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/tarjan.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/find-cycles.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/floyd-warshall.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/topsort.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/is-acyclic.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/dfs.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/postorder.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/preorder.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/prim.js","../node_modules/@antv/layout/lib/node_modules/graphlib/lib/alg/index.js","../node_modules/@antv/layout/lib/node_modules/graphlib/index.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/graphlib.js","../node_modules/@antv/layout/lib/node_modules/lodash/cloneDeep.js","../node_modules/@antv/layout/lib/node_modules/lodash/_isIterateeCall.js","../node_modules/@antv/layout/lib/node_modules/lodash/defaults.js","../node_modules/@antv/layout/lib/node_modules/lodash/_createFind.js","../node_modules/@antv/layout/lib/node_modules/lodash/_trimmedEndIndex.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseTrim.js","../node_modules/@antv/layout/lib/node_modules/lodash/toNumber.js","../node_modules/@antv/layout/lib/node_modules/lodash/toFinite.js","../node_modules/@antv/layout/lib/node_modules/lodash/toInteger.js","../node_modules/@antv/layout/lib/node_modules/lodash/findIndex.js","../node_modules/@antv/layout/lib/node_modules/lodash/find.js","../node_modules/@antv/layout/lib/node_modules/lodash/flatten.js","../node_modules/@antv/layout/lib/node_modules/lodash/forIn.js","../node_modules/@antv/layout/lib/node_modules/lodash/last.js","../node_modules/@antv/layout/lib/node_modules/lodash/mapValues.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseExtremum.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseGt.js","../node_modules/@antv/layout/lib/node_modules/lodash/max.js","../node_modules/@antv/layout/lib/node_modules/lodash/_assignMergeValue.js","../node_modules/@antv/layout/lib/node_modules/lodash/isPlainObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/_safeGet.js","../node_modules/@antv/layout/lib/node_modules/lodash/toPlainObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseMergeDeep.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseMerge.js","../node_modules/@antv/layout/lib/node_modules/lodash/_createAssigner.js","../node_modules/@antv/layout/lib/node_modules/lodash/merge.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseLt.js","../node_modules/@antv/layout/lib/node_modules/lodash/min.js","../node_modules/@antv/layout/lib/node_modules/lodash/minBy.js","../node_modules/@antv/layout/lib/node_modules/lodash/now.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseSet.js","../node_modules/@antv/layout/lib/node_modules/lodash/_basePickBy.js","../node_modules/@antv/layout/lib/node_modules/lodash/_basePick.js","../node_modules/@antv/layout/lib/node_modules/lodash/_flatRest.js","../node_modules/@antv/layout/lib/node_modules/lodash/pick.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseRange.js","../node_modules/@antv/layout/lib/node_modules/lodash/_createRange.js","../node_modules/@antv/layout/lib/node_modules/lodash/range.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseSortBy.js","../node_modules/@antv/layout/lib/node_modules/lodash/_compareAscending.js","../node_modules/@antv/layout/lib/node_modules/lodash/_compareMultiple.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseOrderBy.js","../node_modules/@antv/layout/lib/node_modules/lodash/sortBy.js","../node_modules/@antv/layout/lib/node_modules/lodash/uniqueId.js","../node_modules/@antv/layout/lib/node_modules/lodash/_baseZipObject.js","../node_modules/@antv/layout/lib/node_modules/lodash/zipObject.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/lodash.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/data/list.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/greedy-fas.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/acyclic.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/util.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/normalize.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/rank/util.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/rank/feasible-tree.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/rank/network-simplex.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/rank/index.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/parent-dummy-chains.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/nesting-graph.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/add-border-segments.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/coordinate-system.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/init-order.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/cross-count.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/barycenter.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/resolve-conflicts.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/sort.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/sort-subgraph.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/build-layer-graph.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/add-subgraph-constraints.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/order/index.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/position/bk.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/position/index.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/layout.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/debug.js","../node_modules/@antv/layout/lib/node_modules/dagre/lib/version.js","../node_modules/@antv/layout/lib/node_modules/dagre/index.js","../node_modules/@antv/layout/lib/_virtual/index.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/is-boolean.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/each.js","../node_modules/@antv/layout/lib/node_modules/@antv/util/esm/lodash/pick.js","../node_modules/@antv/layout/lib/algorithm/dagre/index.js","../src/designs/structures/relation-dagre-flow.tsx","../src/designs/structures/relation-network.tsx","../src/designs/decorations/simple-arrow.tsx","../src/designs/decorations/text-3d.tsx","../src/designs/decorations/triangle.tsx","../src/designs/structures/sequence-ascending-stairs-3d.tsx","../src/designs/structures/sequence-ascending-steps.tsx","../src/designs/structures/sequence-circle-arrows.tsx","../src/designs/structures/sequence-circular.tsx","../src/designs/structures/sequence-color-snake-steps.tsx","../src/designs/structures/sequence-cylinders-3d.tsx","../src/designs/structures/sequence-filter-mesh.tsx","../node_modules/round-polygon/dist/round-polygon.es.js","../src/designs/structures/sequence-funnel.tsx","../src/designs/structures/sequence-horizontal-zigzag.tsx","../src/designs/structures/sequence-mountain.tsx","../src/designs/structures/sequence-pyramid.tsx","../src/designs/structures/sequence-roadmap-vertical.tsx","../src/designs/structures/sequence-snake-steps.tsx","../src/designs/structures/sequence-stairs-front.tsx","../src/designs/structures/sequence-steps.tsx","../src/designs/structures/sequence-timeline.tsx","../src/designs/structures/sequence-zigzag-pucks-3d.tsx","../src/designs/structures/sequence-zigzag-steps.tsx","../src/editor/commands/Batch.ts","../src/editor/commands/UpdateElement.ts","../src/editor/commands/UpdateOptions.ts","../src/editor/utils/click-handler.ts","../src/editor/utils/coordinate.ts","../src/editor/utils/data.ts","../src/editor/utils/element.ts","../src/editor/utils/event.ts","../src/editor/utils/extension.ts","../src/editor/utils/hotkey.ts","../src/editor/utils/object.ts","../src/editor/commands/UpdateText.ts","../src/editor/interactions/base.ts","../src/editor/interactions/brush-select.ts","../src/editor/interactions/click-select.ts","../src/editor/interactions/dblclick-edit-text.ts","../src/editor/interactions/drag-canvas.ts","../src/editor/interactions/drag-element.ts","../src/editor/interactions/hotkey-history.ts","../src/editor/interactions/select-highlight.ts","../src/editor/interactions/zoom-wheel.ts","../src/editor/plugins/base.ts","../src/editor/plugins/core-sync.ts","../src/editor/plugins/components/button.ts","../src/editor/plugins/components/color-picker.ts","../src/editor/plugins/components/icons.ts","../src/editor/plugins/components/popover.ts","../src/editor/plugins/edit-bar/edit-items/align-elements.ts","../src/editor/plugins/edit-bar/edit-items/font-align.ts","../src/editor/plugins/edit-bar/edit-items/font-color.ts","../src/editor/plugins/edit-bar/edit-items/font-family.ts","../src/editor/plugins/edit-bar/edit-items/font-size.ts","../src/editor/plugins/edit-bar/edit-items/icon-color.ts","../src/editor/plugins/edit-bar/edit-bar.ts","../src/editor/plugins/reset-viewbox.ts","../src/editor/plugins/resize-element.ts","../node_modules/picocolors/picocolors.browser.js","../__vite-browser-external","../node_modules/postcss/lib/css-syntax-error.js","../node_modules/postcss/lib/stringifier.js","../node_modules/postcss/lib/stringify.js","../node_modules/postcss/lib/symbols.js","../node_modules/postcss/lib/node.js","../node_modules/postcss/lib/comment.js","../node_modules/postcss/lib/declaration.js","../node_modules/postcss/lib/container.js","../node_modules/postcss/lib/at-rule.js","../node_modules/postcss/lib/document.js","../node_modules/nanoid/non-secure/index.cjs","../node_modules/postcss/lib/previous-map.js","../node_modules/postcss/lib/input.js","../node_modules/postcss/lib/root.js","../node_modules/postcss/lib/list.js","../node_modules/postcss/lib/rule.js","../node_modules/postcss/lib/fromJSON.js","../node_modules/postcss/lib/map-generator.js","../node_modules/postcss/lib/tokenize.js","../node_modules/postcss/lib/parser.js","../node_modules/postcss/lib/parse.js","../node_modules/postcss/lib/warning.js","../node_modules/postcss/lib/result.js","../node_modules/postcss/lib/warn-once.js","../node_modules/postcss/lib/lazy-result.js","../node_modules/postcss/lib/no-work-result.js","../node_modules/postcss/lib/processor.js","../node_modules/postcss/lib/postcss.js","../node_modules/postcss/lib/postcss.mjs","../src/exporter/font.ts","../src/exporter/svg.ts","../src/exporter/png.ts","../node_modules/eventemitter3/index.js","../src/editor/managers/command.ts","../src/editor/managers/interaction.ts","../src/editor/managers/plugin.ts","../src/editor/managers/state.ts","../src/editor/managers/sync-registry.ts","../src/editor/editor.ts","../src/options/parser.ts","../src/syntax/parser.ts","../src/syntax/mapper.ts","../src/syntax/schema.ts","../src/syntax/relations.ts","../src/syntax/index.ts","../src/runtime/options.ts","../src/runtime/utils.ts","../src/runtime/Infographic.tsx","../src/version.ts"],"sourcesContent":["import type { TemplateOptions } from './types';\n\nconst TEMPLATE_REGISTRY = new Map<string, TemplateOptions>();\n\nexport function registerTemplate(type: string, template: TemplateOptions) {\n  TEMPLATE_REGISTRY.set(type, template);\n}\n\nexport function getTemplate(type: string): TemplateOptions | undefined {\n  return TEMPLATE_REGISTRY.get(type);\n}\n\nexport function getTemplates(): string[] {\n  return Array.from(TEMPLATE_REGISTRY.keys());\n}\n","import type { TemplateOptions } from './types';\n\nexport const chartPieTemplates: Record<string, TemplateOptions> = {\n  'chart-pie-plain-text': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-pie',\n      },\n      items: [\n        {\n          type: 'plain-text',\n        },\n      ],\n    },\n  },\n  'chart-pie-compact-card': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-pie',\n        avoidLabelOverlap: true,\n      },\n      items: [\n        {\n          type: 'compact-card',\n        },\n      ],\n    },\n  },\n  'chart-pie-pill-badge': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-pie',\n        avoidLabelOverlap: true,\n      },\n      items: [\n        {\n          type: 'pill-badge',\n        },\n      ],\n    },\n  },\n  'chart-pie-donut-plain-text': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-pie',\n        innerRadius: 90,\n      },\n      items: [\n        {\n          type: 'plain-text',\n        },\n      ],\n    },\n  },\n  'chart-pie-donut-compact-card': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-pie',\n        innerRadius: 90,\n        avoidLabelOverlap: true,\n      },\n      items: [\n        {\n          type: 'compact-card',\n        },\n      ],\n    },\n  },\n  'chart-pie-donut-pill-badge': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-pie',\n        innerRadius: 90,\n        avoidLabelOverlap: true,\n      },\n      items: [\n        {\n          type: 'pill-badge',\n        },\n      ],\n    },\n  },\n};\n","import type { TemplateOptions } from './types';\n\nconst baseTemplates: Record<string, TemplateOptions> = {\n  'compare-quadrant-quarter-simple-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'quadrant' },\n      items: [{ type: 'quarter-simple-card' }],\n    },\n  },\n  'compare-quadrant-quarter-circular': {\n    design: {\n      title: 'default',\n      structure: { type: 'quadrant' },\n      items: [{ type: 'quarter-circular' }],\n    },\n  },\n  'compare-quadrant-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'quadrant' },\n      items: [{ type: 'simple-illus' }],\n    },\n  },\n};\n\n//  quadrant-xxx \nconst warnedKeys = new Set<string>();\nconst wrappedTemplates: Record<string, TemplateOptions> = {};\n\nObject.entries(baseTemplates).forEach(([key, template]) => {\n  wrappedTemplates[key] = template;\n\n  const oldKey = key.replace('compare-quadrant', 'quadrant');\n  wrappedTemplates[oldKey] = new Proxy(template, {\n    get(target, prop, receiver) {\n      if (!warnedKeys.has(oldKey)) {\n        console.warn(\n          `[Deprecated] \"${oldKey}\"  \"${key}\"`,\n        );\n        warnedKeys.add(oldKey);\n      }\n      return Reflect.get(target, prop, receiver);\n    },\n  });\n});\n\nexport const compareQuadrantTemplates = wrappedTemplates;\n","import type {\n  DesignOptions,\n  HierarchyMindmapProps,\n  TemplateOptions,\n} from '../designs';\n\nconst BRANCH_GRADIENT: Partial<HierarchyMindmapProps> = {\n  edgeType: 'curved',\n  edgeColorMode: 'gradient',\n  edgeWidth: 2,\n  colorMode: 'branch',\n  levelGap: 80,\n  nodeGap: 18,\n};\n\nconst LEVEL_GRADIENT: Partial<HierarchyMindmapProps> = {\n  edgeType: 'curved',\n  edgeWidth: 2,\n  edgeColorMode: 'gradient',\n  colorMode: 'level',\n  levelGap: 80,\n  nodeGap: 18,\n};\n\nconst LINED_PALETTE = {\n  type: 'lined-text',\n  usePaletteColor: true,\n  showUnderline: true,\n  underlineThickness: 2,\n};\n\nconst CAPSULE = {\n  type: 'capsule-item',\n};\n\nconst CIRCULAR_PROGRESS = {\n  type: 'circular-progress',\n};\n\nconst ROUNDED_RECT_NODE = {\n  type: 'rounded-rect-node',\n  positionH: 'center',\n} as const;\n\nconst COMPACT_CARD = {\n  type: 'compact-card',\n};\n\nconst createStructure = (\n  gradient: Partial<HierarchyMindmapProps>,\n  edgeAlign?: HierarchyMindmapProps['edgeAlign'],\n): Partial<HierarchyMindmapProps> & { type: string } => ({\n  type: 'hierarchy-mindmap',\n  ...(edgeAlign !== undefined ? { edgeAlign } : {}),\n  ...gradient,\n});\n\nconst createTemplate = (\n  key: string,\n  gradient: Partial<HierarchyMindmapProps>,\n  item: DesignOptions['item'],\n  edgeAlign?: HierarchyMindmapProps['edgeAlign'],\n): [string, TemplateOptions] => [\n  key,\n  {\n    design: {\n      structure: createStructure(gradient, edgeAlign),\n      item,\n    },\n  },\n];\n\nexport const hierarchyMindmapTemplates: Record<string, TemplateOptions> =\n  Object.fromEntries([\n    createTemplate(\n      'hierarchy-mindmap-branch-gradient-lined-palette',\n      BRANCH_GRADIENT,\n      LINED_PALETTE,\n      'bottom',\n    ),\n    createTemplate(\n      'hierarchy-mindmap-level-gradient-lined-palette',\n      LEVEL_GRADIENT,\n      LINED_PALETTE,\n      'bottom',\n    ),\n    createTemplate(\n      'hierarchy-mindmap-branch-gradient-capsule-item',\n      BRANCH_GRADIENT,\n      CAPSULE,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-level-gradient-capsule-item',\n      LEVEL_GRADIENT,\n      CAPSULE,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-branch-gradient-circle-progress',\n      BRANCH_GRADIENT,\n      CIRCULAR_PROGRESS,\n      0.4,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-level-gradient-circle-progress',\n      LEVEL_GRADIENT,\n      CIRCULAR_PROGRESS,\n      0.4,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-branch-gradient-rounded-rect',\n      BRANCH_GRADIENT,\n      ROUNDED_RECT_NODE,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-level-gradient-rounded-rect',\n      LEVEL_GRADIENT,\n      ROUNDED_RECT_NODE,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-branch-gradient-compact-card',\n      BRANCH_GRADIENT,\n      COMPACT_CARD,\n    ),\n    createTemplate(\n      'hierarchy-mindmap-level-gradient-compact-card',\n      LEVEL_GRADIENT,\n      COMPACT_CARD,\n    ),\n  ]);\n","import type { TemplateOptions } from './types';\n\nexport const hierarchyStructureTemplates: Record<string, TemplateOptions> = {\n  'hierarchy-structure': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'hierarchy-structure',\n      },\n      item: 'simple',\n    },\n  },\n  'hierarchy-structure-mirror': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'hierarchy-structure',\n        layerLabelPosition: 'right',\n      },\n      item: 'simple',\n    },\n  },\n};\n","import type { HierarchyTreeProps, TemplateOptions } from '../designs';\n\nconst structures: Record<string, Partial<HierarchyTreeProps>> = {\n  'tech-style': {\n    edgeType: 'straight',\n    edgeStyle: 'solid',\n    edgeColorMode: 'gradient',\n    edgeMarker: 'arrow',\n    markerSize: 12,\n    edgeCornerRadius: 5,\n  },\n  'dashed-line': {\n    edgeStyle: 'dashed',\n    edgeCornerRadius: 10,\n    edgeDashPattern: '10,5',\n    edgeColorMode: 'gradient',\n    edgeMarker: 'dot',\n    markerSize: 6,\n    edgeOffset: 6,\n  },\n  'distributed-origin': {\n    edgeOrigin: 'distributed',\n    edgeOriginPadding: 30,\n    edgeMarker: 'arrow',\n    edgeCornerRadius: 10,\n    markerSize: 12,\n    edgeColorMode: 'gradient',\n  },\n  'curved-line': {\n    edgeType: 'curved',\n    edgeColorMode: 'gradient',\n    edgeMarker: 'none',\n  },\n  'dashed-arrow': {\n    edgeType: 'straight',\n    edgeStyle: 'dashed',\n    edgeDashPattern: '8,4',\n    edgeMarker: 'arrow',\n    markerSize: 10,\n    edgeCornerRadius: 0,\n  },\n};\n\nconst items: string[] = [\n  'capsule-item',\n  'rounded-rect-node',\n  'compact-card',\n  'badge-card',\n  'ribbon-card',\n];\n\nexport const hierarchyTreeTemplates: Record<string, TemplateOptions> = {};\n\nconst structureName = 'hierarchy-tree';\nconst orientationConfigs: Array<{\n  key: string;\n  orientation?: HierarchyTreeProps['orientation'];\n}> = [\n  { key: '' },\n  { key: 'bt', orientation: 'bottom-top' },\n  { key: 'lr', orientation: 'left-right' },\n  { key: 'rl', orientation: 'right-left' },\n];\n\nconst createTemplateName = (\n  oriKey: string,\n  name: string,\n  item: string,\n): string => {\n  return oriKey\n    ? `${structureName}-${oriKey}-${name}-${item}`\n    : `${structureName}-${name}-${item}`;\n};\n\nfor (const item of items) {\n  for (const [name, structureProps] of Object.entries(structures)) {\n    for (const { key, orientation } of orientationConfigs) {\n      const templateName = createTemplateName(key, name, item);\n      hierarchyTreeTemplates[templateName] = {\n        design: {\n          structure: {\n            type: 'hierarchy-tree',\n            ...(orientation ? { orientation } : {}),\n            ...structureProps,\n          },\n          item: {\n            type: item,\n          },\n        },\n      };\n    }\n  }\n}\n","import type { TemplateOptions } from './types';\n\nexport const listZigzagTemplates: Record<string, TemplateOptions> = {\n  'list-zigzag-up-compact-card': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'list-zigzag-up',\n      },\n      items: [\n        {\n          type: 'compact-card',\n        },\n      ],\n    },\n    themeConfig: {\n      colorPrimary: '#17CA2C',\n    },\n  },\n  'list-zigzag-up-simple': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'list-zigzag-up',\n      },\n      items: [\n        {\n          type: 'simple',\n          usePaletteColor: true,\n        },\n      ],\n    },\n    themeConfig: {\n      colorPrimary: '#17CA2C',\n    },\n  },\n  'list-zigzag-down-compact-card': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'list-zigzag-down',\n      },\n      items: [\n        {\n          type: 'compact-card',\n        },\n      ],\n    },\n    themeConfig: {\n      colorPrimary: '#17CA2C',\n    },\n  },\n  'list-zigzag-down-simple': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'list-zigzag-down',\n      },\n      items: [\n        {\n          type: 'simple',\n          usePaletteColor: true,\n        },\n      ],\n    },\n    themeConfig: {\n      colorPrimary: '#17CA2C',\n    },\n  },\n};\n","import type { TemplateOptions } from './types';\n\nconst items = {\n  'simple-circle-node': {\n    type: 'simple-circle-node',\n  },\n  'badge-card': {\n    type: 'badge-card',\n  },\n  capsule: {\n    type: 'capsule-item',\n  },\n  'compact-card': {\n    type: 'compact-card',\n  },\n} as const;\n\nconst baseStructureAttrs = {\n  type: 'relation-dagre-flow',\n  edgeColorMode: 'gradient',\n  showArrow: true,\n  arrowType: 'triangle',\n  colorMode: 'node',\n} as const;\n\nconst structures = {\n  tb: {\n    ...baseStructureAttrs,\n    rankdir: 'TB',\n    edgeRouting: 'orth',\n  },\n  lr: {\n    ...baseStructureAttrs,\n    rankdir: 'LR',\n    edgeRouting: 'orth',\n  },\n  'tb-animated': {\n    ...baseStructureAttrs,\n    rankdir: 'TB',\n    edgeCornerRadius: 12,\n    edgeRouting: 'orth',\n    edgeAnimation: 'ant-line',\n    edgeDashPattern: '8,4',\n    edgeAnimationSpeed: 1,\n  },\n  'lr-animated': {\n    ...baseStructureAttrs,\n    rankdir: 'LR',\n    edgeCornerRadius: 12,\n    edgeRouting: 'orth',\n    edgeAnimation: 'ant-line',\n    edgeDashPattern: '8,4',\n    edgeAnimationSpeed: 1,\n  },\n};\n\nexport const relationDagreFlowTemplates: Record<string, TemplateOptions> = {};\n\nconst omit = ['lr-capsule', 'tb-capsule'];\nObject.entries(structures).forEach(([strKey, strAttrs]) => {\n  Object.entries(items).forEach(([itemKey, itemAttrs]) => {\n    const appendix = `${strKey}-${itemKey}`;\n    if (omit.includes(appendix)) return;\n    const templateKey = `relation-dagre-flow-${appendix}`;\n    relationDagreFlowTemplates[templateKey] = {\n      design: {\n        title: 'default',\n        structure: strAttrs,\n        item: itemAttrs,\n      },\n    };\n  });\n});\n","import type { TemplateOptions } from './types';\n\nexport const sequenceStairsTemplates: Record<string, TemplateOptions> = {\n  'sequence-stairs-front-pill-badge': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'sequence-stairs-front',\n      },\n      items: [\n        {\n          type: 'pill-badge',\n        },\n      ],\n    },\n  },\n  'sequence-stairs-front-compact-card': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'sequence-stairs-front',\n      },\n      items: [\n        {\n          type: 'compact-card',\n        },\n      ],\n    },\n  },\n  'sequence-stairs-front-simple': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'sequence-stairs-front',\n      },\n      items: [\n        {\n          type: 'simple',\n          usePaletteColor: true,\n        },\n      ],\n    },\n  },\n};\n","import type { TemplateOptions } from './types';\n\nexport const wordCloudTemplate: Record<string, TemplateOptions> = {\n  'chart-wordcloud-rotate': {\n    design: {\n      structure: {\n        type: 'chart-wordcloud',\n      },\n      item: 'simple',\n    },\n  },\n  'chart-wordcloud': {\n    design: {\n      structure: {\n        type: 'chart-wordcloud',\n        enableRotate: false,\n      },\n      item: 'simple',\n    },\n  },\n};\n","import { chartPieTemplates } from './chart-pie';\nimport { compareQuadrantTemplates } from './compare-quadrant';\nimport { hierarchyMindmapTemplates } from './hierarchy-mindmap';\nimport { hierarchyStructureTemplates } from './hierarchy-structure';\nimport { hierarchyTreeTemplates } from './hierarchy-tree';\nimport { listZigzagTemplates } from './list-zigzag';\nimport { registerTemplate } from './registry';\nimport { relationDagreFlowTemplates } from './relation-dagre-flow';\nimport { sequenceStairsTemplates } from './sequence-stairs';\nimport type { TemplateOptions } from './types';\nimport { wordCloudTemplate } from './word-cloud';\n\nconst BUILT_IN_TEMPLATES: Record<string, TemplateOptions> = {\n  'compare-hierarchy-left-right-circle-node-pill-badge': {\n    design: {\n      structure: {\n        type: 'compare-hierarchy-left-right',\n        decoration: 'split-line',\n        surround: false,\n        groupGap: -20,\n      },\n      title: 'default',\n      items: [{ type: 'circle-node', width: 240 }, 'pill-badge'],\n    },\n    themeConfig: {},\n  },\n  'compare-hierarchy-left-right-circle-node-plain-text': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-hierarchy-left-right',\n        decoration: 'dot-line',\n        flipLeaf: true,\n        groupGap: -10,\n      },\n      items: [{ type: 'circle-node', width: 180 }, { type: 'plain-text' }],\n    },\n  },\n  'list-pyramid-rounded-rect-node': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'list-pyramid',\n      },\n      items: [{ type: 'rounded-rect-node' }],\n    },\n  },\n  'list-pyramid-badge-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-pyramid' },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'list-pyramid-compact-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-pyramid' },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'list-column-done-list': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-column' },\n      items: [{ type: 'done-list' }],\n    },\n  },\n  'list-column-vertical-icon-arrow': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-column', gap: -5, zigzag: true },\n      items: [{ type: 'vertical-icon-arrow' }],\n    },\n  },\n  'list-grid-badge-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'list-grid-candy-card-lite': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'candy-card-lite' }],\n    },\n  },\n  'chart-column-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'chart-column' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n  },\n  'list-grid-circular-progress': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'circular-progress' }],\n    },\n  },\n  'list-grid-compact-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'list-grid-done-list': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'done-list' }],\n    },\n  },\n  'list-grid-horizontal-icon-arrow': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid', gap: 0, zigzag: true },\n      items: [{ type: 'horizontal-icon-arrow' }],\n    },\n  },\n  'list-grid-progress-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'progress-card' }],\n    },\n  },\n  'list-grid-ribbon-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'ribbon-card' }],\n    },\n  },\n  'list-grid-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-grid' },\n      items: [{ type: 'simple' }],\n    },\n  },\n  'list-row-circular-progress': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-row' },\n      items: [{ type: 'circular-progress' }],\n    },\n  },\n  'list-row-horizontal-icon-arrow': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-row', gap: 0, zigzag: true },\n      items: [{ type: 'horizontal-icon-arrow' }],\n    },\n  },\n  'relation-circle-circular-progress': {\n    design: {\n      title: 'default',\n      structure: { type: 'relation-circle' },\n      items: [{ type: 'circular-progress' }],\n    },\n  },\n  'relation-circle-icon-badge': {\n    design: {\n      title: 'default',\n      structure: { type: 'relation-circle' },\n      items: [{ type: 'icon-badge' }],\n    },\n  },\n  'relation-network-icon-badge': {\n    design: {\n      title: 'default',\n      structure: { type: 'relation-network' },\n      items: [{ type: 'icon-badge' }],\n    },\n  },\n  'relation-network-simple-circle-node': {\n    design: {\n      title: 'default',\n      structure: { type: 'relation-network' },\n      items: [{ type: 'simple-circle-node' }],\n    },\n  },\n  'sequence-steps-badge-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-steps' },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'sequence-steps-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-steps', gap: 10 },\n      items: [{ type: 'simple' }],\n    },\n  },\n  'sequence-timeline-done-list': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-timeline' },\n      items: [{ type: 'done-list' }],\n    },\n  },\n  'sequence-timeline-plain-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-timeline' },\n      items: [{ type: 'plain-text' }],\n    },\n  },\n  'sequence-timeline-rounded-rect-node': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-timeline' },\n      items: [{ type: 'rounded-rect-node' }],\n    },\n  },\n  'sequence-ascending-steps': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-ascending-steps', vGap: -46, hGap: -20 },\n      items: [{ type: 'l-corner-card' }],\n    },\n  },\n  'sequence-timeline-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-timeline', gap: 20 },\n      items: [{ type: 'simple', positionV: 'middle' }],\n    },\n  },\n  'sequence-cylinders-3d-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-cylinders-3d', gapY: 20 },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n  },\n  'list-column-simple-vertical-arrow': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-column', gap: 0, zigzag: true },\n      items: [{ type: 'simple-vertical-arrow' }],\n    },\n  },\n  'list-row-simple-horizontal-arrow': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-row', gap: 0, zigzag: true },\n      items: [{ type: 'simple-horizontal-arrow' }],\n    },\n  },\n  'compare-swot': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-hierarchy-row',\n        itemGap: 32,\n        itemPadding: 40,\n        showColumnBackground: true,\n        columnBackgroundAlpha: 0.08,\n      },\n      items: [\n        { type: 'letter-card', showBottomShade: false },\n        {\n          type: 'plain-text',\n          formatter: (text: string) => ` ${text}`,\n          usePaletteColor: true,\n        },\n      ],\n    },\n  },\n  'compare-hierarchy-row-letter-card-compact-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'compare-hierarchy-row' },\n      items: [{ type: 'letter-card' }, { type: 'compact-card' }],\n    },\n  },\n  'compare-hierarchy-row-letter-card-rounded-rect-node': {\n    design: {\n      title: 'default',\n      structure: { type: 'compare-hierarchy-row' },\n      items: [{ type: 'letter-card' }, { type: 'rounded-rect-node' }],\n    },\n  },\n  'sequence-snake-steps-compact-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-snake-steps' },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'sequence-snake-steps-pill-badge': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-snake-steps' },\n      items: [{ type: 'pill-badge' }],\n    },\n  },\n  'sequence-snake-steps-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-snake-steps' },\n      items: [{ type: 'simple' }],\n    },\n  },\n  'sequence-color-snake-steps-horizontal-icon-line': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-color-snake-steps' },\n      items: [{ type: 'horizontal-icon-line' }],\n    },\n  },\n  'sequence-pyramid-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-pyramid' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n    themeConfig: {\n      colorPrimary: '#1677ff',\n    },\n  },\n  'sequence-funnel-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-funnel' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n    themeConfig: {\n      palette: '#1677ff',\n    },\n  },\n  'list-row-horizontal-icon-line': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-row', gap: 0, zigzag: true },\n      items: [{ type: 'horizontal-icon-line' }],\n    },\n  },\n  'list-sector-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-sector' },\n      items: [{ type: 'simple' }],\n    },\n  },\n  'list-sector-plain-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-sector' },\n      items: [{ type: 'plain-text' }],\n    },\n  },\n  'list-sector-half-plain-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-sector', startAngle: -180, endAngle: 0 },\n      items: [{ type: 'plain-text' }],\n    },\n  },\n  'list-waterfall-badge-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-waterfall' },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'list-waterfall-compact-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-waterfall' },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'sequence-roadmap-vertical-plain-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical' },\n      items: [{ type: 'plain-text' }],\n    },\n  },\n  'sequence-roadmap-vertical-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical' },\n      items: [{ type: 'simple', showIcon: false }],\n    },\n  },\n  'sequence-roadmap-vertical-badge-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical' },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'sequence-roadmap-vertical-pill-badge': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical' },\n      items: [{ type: 'pill-badge' }],\n    },\n  },\n  'sequence-roadmap-vertical-quarter-circular': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical' },\n      items: [{ type: 'quarter-circular' }],\n    },\n  },\n  'sequence-roadmap-vertical-quarter-simple-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical', flipped: true },\n      items: [{ type: 'quarter-simple-card' }],\n    },\n  },\n  'sequence-horizontal-zigzag-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-horizontal-zigzag' },\n      items: [{ type: 'simple-illus' }],\n    },\n  },\n  'sequence-horizontal-zigzag-horizontal-icon-line': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-horizontal-zigzag' },\n      items: [{ type: 'horizontal-icon-line' }],\n    },\n  },\n  'sequence-horizontal-zigzag-plain-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-horizontal-zigzag' },\n      items: [{ type: 'plain-text' }],\n    },\n  },\n  'sequence-horizontal-zigzag-simple-horizontal-arrow': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-horizontal-zigzag' },\n      items: [{ type: 'simple-horizontal-arrow' }],\n    },\n  },\n  'sequence-horizontal-zigzag-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-horizontal-zigzag' },\n      items: [{ type: 'simple' }],\n    },\n  },\n  'list-row-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'list-row' },\n      items: [{ type: 'simple-illus' }],\n    },\n  },\n  'sequence-color-snake-steps-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-color-snake-steps' },\n      items: [{ type: 'simple-illus' }],\n    },\n  },\n  'sequence-snake-steps-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-snake-steps' },\n      items: [{ type: 'simple-illus' }],\n    },\n  },\n  'sequence-steps-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-steps' },\n      items: [{ type: 'simple-illus' }],\n    },\n  },\n  'sequence-timeline-simple-illus': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-timeline' },\n      items: [{ type: 'simple-illus', usePaletteColor: true }],\n    },\n  },\n  'sequence-zigzag-steps-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-zigzag-steps' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-horizontal-zigzag-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-horizontal-zigzag' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-roadmap-vertical-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-roadmap-vertical' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-snake-steps-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-snake-steps' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-circle-arrows-indexed-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-circle-arrows' },\n      items: [{ type: 'indexed-card' }],\n    },\n  },\n  'sequence-zigzag-pucks-3d-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-zigzag-pucks-3d' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n  },\n  'sequence-zigzag-pucks-3d-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-zigzag-pucks-3d' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-zigzag-pucks-3d-indexed-card': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-zigzag-pucks-3d' },\n      items: [{ type: 'indexed-card' }],\n    },\n  },\n  'sequence-ascending-stairs-3d-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-ascending-stairs-3d' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n  },\n  'sequence-ascending-stairs-3d-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-ascending-stairs-3d' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-circular-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-circular' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-circular-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-circular' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n  },\n  'sequence-filter-mesh-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-filter-mesh' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'sequence-filter-mesh-simple': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-filter-mesh' },\n      items: [{ type: 'simple', showIcon: false, usePaletteColor: true }],\n    },\n  },\n  'sequence-mountain-underline-text': {\n    design: {\n      title: 'default',\n      structure: { type: 'sequence-mountain' },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'compare-binary-horizontal-simple-fold': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-fold',\n      },\n      items: [{ type: 'simple', iconType: 'circle', iconSize: 40 }],\n    },\n  },\n  'compare-binary-horizontal-underline-text-fold': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-fold',\n      },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'compare-binary-horizontal-badge-card-fold': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-fold',\n      },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'compare-binary-horizontal-compact-card-fold': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-fold',\n      },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'compare-binary-horizontal-simple-arrow': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-arrow',\n      },\n      items: [{ type: 'simple', iconType: 'circle', iconSize: 40 }],\n    },\n  },\n  'compare-binary-horizontal-underline-text-arrow': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-arrow',\n      },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'compare-binary-horizontal-badge-card-arrow': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-arrow',\n      },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'compare-binary-horizontal-compact-card-arrow': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'pros-cons-arrow',\n      },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'compare-binary-horizontal-simple-vs': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'vs',\n      },\n      items: [{ type: 'simple', iconType: 'circle', iconSize: 40 }],\n    },\n  },\n  'compare-binary-horizontal-underline-text-vs': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'vs',\n      },\n      items: [{ type: 'underline-text' }],\n    },\n  },\n  'compare-binary-horizontal-badge-card-vs': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'vs',\n      },\n      items: [{ type: 'badge-card' }],\n    },\n  },\n  'compare-binary-horizontal-compact-card-vs': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'compare-binary-horizontal',\n        dividerType: 'vs',\n      },\n      items: [{ type: 'compact-card' }],\n    },\n  },\n  'chart-bar-plain-text': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-bar',\n      },\n      items: [\n        {\n          type: 'plain-text',\n          positionH: 'flipped',\n        },\n      ],\n    },\n  },\n  'chart-line-plain-text': {\n    design: {\n      title: 'default',\n      structure: {\n        type: 'chart-line',\n      },\n      items: [\n        {\n          type: 'plain-text',\n          lineNumber: 2,\n        },\n      ],\n    },\n  },\n  ...chartPieTemplates,\n  ...compareQuadrantTemplates,\n  ...hierarchyTreeTemplates,\n  ...hierarchyMindmapTemplates,\n  ...sequenceStairsTemplates,\n  ...wordCloudTemplate,\n  ...listZigzagTemplates,\n  ...relationDagreFlowTemplates,\n  ...hierarchyStructureTemplates,\n};\n\nObject.entries(BUILT_IN_TEMPLATES).forEach(([name, options]) => {\n  registerTemplate(name, options);\n});\n","export const Fragment = Symbol.for('@antv/infographic/Fragment');\nexport function jsx(type, props = {}) {\n    return { type, props };\n}\nexport function createFragment(props = {}) {\n    return jsx(Fragment, props);\n}\nexport const jsxs = jsx;\nexport const jsxDEV = jsx;\n","export const COMPONENT_ROLE = 'infographic-component';\n","/**\n * Infographic \n */\nexport const enum ElementTypeEnum {\n  Background = 'background',\n  Title = 'title',\n  Desc = 'desc',\n  ItemsGroup = 'items-group',\n  ItemIconGroup = 'item-icon-group',\n  ItemIcon = 'item-icon',\n  ItemLabel = 'item-label',\n  ItemDesc = 'item-desc',\n  ItemValue = 'item-value',\n  ItemIllus = 'item-illus',\n  BtnAdd = 'btn-add',\n  BtnRemove = 'btn-remove',\n  IllusGroup = 'illus-group',\n  IllusVolume = 'illus-volume',\n  Illus = 'illus',\n  BtnsGroup = 'btns-group',\n\n  Unknown = 'unknown',\n}\n","export const ICON_SERVICE_URL = 'https://www.weavefox.cn/api/open/v1/icon';\n","import type { DefsProps, JSXElement } from '../types';\n\nexport const DefsSymbol = Symbol.for('@antv/infographic/Defs');\n\nexport function Defs(props: DefsProps): JSXElement {\n  const node: JSXElement = {\n    type: DefsSymbol,\n    props,\n  };\n  return node;\n}\n","import type { EllipseProps, JSXElement } from '../types';\n\nexport function Ellipse(props: EllipseProps): JSXElement {\n  const { x = 0, y = 0, width = 0, height = 0 } = props;\n  props.cx ??= x + width / 2;\n  props.cy ??= y + height / 2;\n  props.rx ??= width / 2;\n  props.ry ??= height / 2;\n  const node: JSXElement = {\n    type: 'ellipse',\n    props,\n  };\n  return node;\n}\n","import type { GroupProps, JSXElement } from '../types';\n\nexport function Group(props: GroupProps): JSXElement {\n  const { x = 0, y = 0 } = props;\n  if (x || y) {\n    props.transform ||= `translate(${x}, ${y})`;\n  }\n  const node: JSXElement = {\n    type: 'g',\n    props,\n  };\n  return node;\n}\n","import type { JSXElement, PathProps } from '../types';\n\nexport function Path(props: PathProps): JSXElement {\n  const { x, y } = props;\n\n  const finalProps = {\n    ...props,\n  };\n\n  if (x !== undefined || y !== undefined) {\n    finalProps.transform = `translate(${x ?? 0}, ${y ?? 0})`;\n  }\n\n  const node: JSXElement = {\n    type: 'path',\n    props: finalProps,\n  };\n\n  return node;\n}\n","import type { JSXElement, PolygonProps } from '../types';\n\nexport function Polygon({ points = [], ...props }: PolygonProps): JSXElement {\n  const { x, y } = props;\n  const pointsStr = points.map(({ x, y }) => `${x},${y}`).join(' ');\n\n  const finalProps = {\n    ...props,\n    points: pointsStr,\n  };\n\n  if (x !== undefined || y !== undefined) {\n    finalProps.transform =\n      `translate(${x ?? 0}, ${y ?? 0})` + (finalProps.transform || '');\n  }\n\n  const node: JSXElement = {\n    type: 'polygon',\n    props: finalProps,\n  };\n  return node;\n}\n","import type { JSXElement, RectProps } from '../types';\n\nexport function Rect(props: RectProps): JSXElement {\n  const node: JSXElement = {\n    type: 'rect',\n    props,\n  };\n  return node;\n}\n","export function getCommonAttrs<T extends Record<string, any>>(attrs: T[]) {\n  return Object.keys(attrs[0]).reduce((acc, key) => {\n    const k = key as keyof T;\n    if (attrs.every((attr) => attr[k] === attrs[0][k])) {\n      acc[k] = attrs[0][k];\n    }\n    return acc;\n  }, {} as T);\n}\n","const parseNumber = (color, len) => {\n\tif (typeof color !== 'number') return;\n\n\t// hex3: #c93 -> #cc9933\n\tif (len === 3) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tg: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\tb: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex4: #c931 -> #cc993311\n\tif (len === 4) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 12) & 0xf) | ((color >> 8) & 0xf0)) / 255,\n\t\t\tg: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tb: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\talpha: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex6: #f0f1f2\n\tif (len === 6) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 16) & 0xff) / 255,\n\t\t\tg: ((color >> 8) & 0xff) / 255,\n\t\t\tb: (color & 0xff) / 255\n\t\t};\n\t}\n\n\t// hex8: #f0f1f2ff\n\tif (len === 8) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 24) & 0xff) / 255,\n\t\t\tg: ((color >> 16) & 0xff) / 255,\n\t\t\tb: ((color >> 8) & 0xff) / 255,\n\t\t\talpha: (color & 0xff) / 255\n\t\t};\n\t}\n};\n\nexport default parseNumber;\n","const named = {\n\taliceblue: 0xf0f8ff,\n\tantiquewhite: 0xfaebd7,\n\taqua: 0x00ffff,\n\taquamarine: 0x7fffd4,\n\tazure: 0xf0ffff,\n\tbeige: 0xf5f5dc,\n\tbisque: 0xffe4c4,\n\tblack: 0x000000,\n\tblanchedalmond: 0xffebcd,\n\tblue: 0x0000ff,\n\tblueviolet: 0x8a2be2,\n\tbrown: 0xa52a2a,\n\tburlywood: 0xdeb887,\n\tcadetblue: 0x5f9ea0,\n\tchartreuse: 0x7fff00,\n\tchocolate: 0xd2691e,\n\tcoral: 0xff7f50,\n\tcornflowerblue: 0x6495ed,\n\tcornsilk: 0xfff8dc,\n\tcrimson: 0xdc143c,\n\tcyan: 0x00ffff,\n\tdarkblue: 0x00008b,\n\tdarkcyan: 0x008b8b,\n\tdarkgoldenrod: 0xb8860b,\n\tdarkgray: 0xa9a9a9,\n\tdarkgreen: 0x006400,\n\tdarkgrey: 0xa9a9a9,\n\tdarkkhaki: 0xbdb76b,\n\tdarkmagenta: 0x8b008b,\n\tdarkolivegreen: 0x556b2f,\n\tdarkorange: 0xff8c00,\n\tdarkorchid: 0x9932cc,\n\tdarkred: 0x8b0000,\n\tdarksalmon: 0xe9967a,\n\tdarkseagreen: 0x8fbc8f,\n\tdarkslateblue: 0x483d8b,\n\tdarkslategray: 0x2f4f4f,\n\tdarkslategrey: 0x2f4f4f,\n\tdarkturquoise: 0x00ced1,\n\tdarkviolet: 0x9400d3,\n\tdeeppink: 0xff1493,\n\tdeepskyblue: 0x00bfff,\n\tdimgray: 0x696969,\n\tdimgrey: 0x696969,\n\tdodgerblue: 0x1e90ff,\n\tfirebrick: 0xb22222,\n\tfloralwhite: 0xfffaf0,\n\tforestgreen: 0x228b22,\n\tfuchsia: 0xff00ff,\n\tgainsboro: 0xdcdcdc,\n\tghostwhite: 0xf8f8ff,\n\tgold: 0xffd700,\n\tgoldenrod: 0xdaa520,\n\tgray: 0x808080,\n\tgreen: 0x008000,\n\tgreenyellow: 0xadff2f,\n\tgrey: 0x808080,\n\thoneydew: 0xf0fff0,\n\thotpink: 0xff69b4,\n\tindianred: 0xcd5c5c,\n\tindigo: 0x4b0082,\n\tivory: 0xfffff0,\n\tkhaki: 0xf0e68c,\n\tlavender: 0xe6e6fa,\n\tlavenderblush: 0xfff0f5,\n\tlawngreen: 0x7cfc00,\n\tlemonchiffon: 0xfffacd,\n\tlightblue: 0xadd8e6,\n\tlightcoral: 0xf08080,\n\tlightcyan: 0xe0ffff,\n\tlightgoldenrodyellow: 0xfafad2,\n\tlightgray: 0xd3d3d3,\n\tlightgreen: 0x90ee90,\n\tlightgrey: 0xd3d3d3,\n\tlightpink: 0xffb6c1,\n\tlightsalmon: 0xffa07a,\n\tlightseagreen: 0x20b2aa,\n\tlightskyblue: 0x87cefa,\n\tlightslategray: 0x778899,\n\tlightslategrey: 0x778899,\n\tlightsteelblue: 0xb0c4de,\n\tlightyellow: 0xffffe0,\n\tlime: 0x00ff00,\n\tlimegreen: 0x32cd32,\n\tlinen: 0xfaf0e6,\n\tmagenta: 0xff00ff,\n\tmaroon: 0x800000,\n\tmediumaquamarine: 0x66cdaa,\n\tmediumblue: 0x0000cd,\n\tmediumorchid: 0xba55d3,\n\tmediumpurple: 0x9370db,\n\tmediumseagreen: 0x3cb371,\n\tmediumslateblue: 0x7b68ee,\n\tmediumspringgreen: 0x00fa9a,\n\tmediumturquoise: 0x48d1cc,\n\tmediumvioletred: 0xc71585,\n\tmidnightblue: 0x191970,\n\tmintcream: 0xf5fffa,\n\tmistyrose: 0xffe4e1,\n\tmoccasin: 0xffe4b5,\n\tnavajowhite: 0xffdead,\n\tnavy: 0x000080,\n\toldlace: 0xfdf5e6,\n\tolive: 0x808000,\n\tolivedrab: 0x6b8e23,\n\torange: 0xffa500,\n\torangered: 0xff4500,\n\torchid: 0xda70d6,\n\tpalegoldenrod: 0xeee8aa,\n\tpalegreen: 0x98fb98,\n\tpaleturquoise: 0xafeeee,\n\tpalevioletred: 0xdb7093,\n\tpapayawhip: 0xffefd5,\n\tpeachpuff: 0xffdab9,\n\tperu: 0xcd853f,\n\tpink: 0xffc0cb,\n\tplum: 0xdda0dd,\n\tpowderblue: 0xb0e0e6,\n\tpurple: 0x800080,\n\n\t// Added in CSS Colors Level 4:\n\t// https://drafts.csswg.org/css-color/#changes-from-3\n\trebeccapurple: 0x663399,\n\n\tred: 0xff0000,\n\trosybrown: 0xbc8f8f,\n\troyalblue: 0x4169e1,\n\tsaddlebrown: 0x8b4513,\n\tsalmon: 0xfa8072,\n\tsandybrown: 0xf4a460,\n\tseagreen: 0x2e8b57,\n\tseashell: 0xfff5ee,\n\tsienna: 0xa0522d,\n\tsilver: 0xc0c0c0,\n\tskyblue: 0x87ceeb,\n\tslateblue: 0x6a5acd,\n\tslategray: 0x708090,\n\tslategrey: 0x708090,\n\tsnow: 0xfffafa,\n\tspringgreen: 0x00ff7f,\n\tsteelblue: 0x4682b4,\n\ttan: 0xd2b48c,\n\tteal: 0x008080,\n\tthistle: 0xd8bfd8,\n\ttomato: 0xff6347,\n\tturquoise: 0x40e0d0,\n\tviolet: 0xee82ee,\n\twheat: 0xf5deb3,\n\twhite: 0xffffff,\n\twhitesmoke: 0xf5f5f5,\n\tyellow: 0xffff00,\n\tyellowgreen: 0x9acd32\n};\n\nexport default named;\n","import parseNumber from './parseNumber.js';\nimport named from '../colors/named.js';\n\n// Also supports the `transparent` color as defined in:\n// https://drafts.csswg.org/css-color/#transparent-black\nconst parseNamed = color => {\n\treturn parseNumber(named[color.toLowerCase()], 6);\n};\n\nexport default parseNamed;\n","import parseNumber from './parseNumber.js';\n\nconst hex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\n\nconst parseHex = color => {\n\tlet match;\n\t// eslint-disable-next-line no-cond-assign\n\treturn (match = color.match(hex))\n\t\t? parseNumber(parseInt(match[1], 16), match[1].length)\n\t\t: undefined;\n};\n\nexport default parseHex;\n","/*\n\tBasic building blocks for color regexes\n\t---------------------------------------\n\n\tThese regexes are expressed as strings\n\tto be interpolated in the color regexes.\n */\n\n// <number>\nexport const num = '([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)';\n\n// <number> or 'none'\nexport const num_none = `(?:${num}|none)`;\n\n// <percentage>\nexport const per = `${num}%`;\n\n// <percent> or 'none'\nexport const per_none = `(?:${num}%|none)`;\n\n// <number-percentage> (<alpha-value>)\nexport const num_per = `(?:${num}%|${num})`;\n\n// <number-percentage> (<alpha-value>) or 'none'\nexport const num_per_none = `(?:${num}%|${num}|none)`;\n\n// <hue>\nexport const hue = `(?:${num}(deg|grad|rad|turn)|${num})`;\n\n// <hue> or 'none'\nexport const hue_none = `(?:${num}(deg|grad|rad|turn)|${num}|none)`;\n\nexport const c = `\\\\s*,\\\\s*`; // comma\nexport const so = '\\\\s*'; // space, optional\nexport const s = `\\\\s+`; // space\n\nexport const rx_num_per_none = new RegExp('^' + num_per_none + '$');\n","import { num, per, num_per, c } from '../util/regex.js';\n\n/*\n\trgb() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#rgb-functions\n */\nconst rgb_num_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${num}${c}${num}${c}${num}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst rgb_per_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${per}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseRgbLegacy = color => {\n\tlet res = { mode: 'rgb' };\n\tlet match;\n\tif ((match = color.match(rgb_num_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 255;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 255;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 255;\n\t\t}\n\t} else if ((match = color.match(rgb_per_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 100;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 100;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 100;\n\t\t}\n\t} else {\n\t\treturn undefined;\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, match[4] / 100));\n\t} else if (match[5] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, +match[5]));\n\t}\n\n\treturn res;\n};\n\nexport default parseRgbLegacy;\n","import parse from './parse.js';\n\nconst prepare = (color, mode) =>\n\tcolor === undefined\n\t\t? undefined\n\t\t: typeof color !== 'object'\n\t\t? parse(color)\n\t\t: color.mode !== undefined\n\t\t? color\n\t\t: mode\n\t\t? { ...color, mode }\n\t\t: undefined;\n\nexport default prepare;\n","import { converters } from './modes.js';\nimport prepare from './_prepare.js';\n\nconst converter =\n\t(target_mode = 'rgb') =>\n\tcolor =>\n\t\t(color = prepare(color, target_mode)) !== undefined\n\t\t\t? // if the color's mode corresponds to our target mode\n\t\t\t  color.mode === target_mode\n\t\t\t\t? // then just return the color\n\t\t\t\t  color\n\t\t\t\t: // otherwise check to see if we have a dedicated\n\t\t\t\t// converter for the target mode\n\t\t\t\tconverters[color.mode][target_mode]\n\t\t\t\t? // and return its result...\n\t\t\t\t  converters[color.mode][target_mode](color)\n\t\t\t\t: // ...otherwise pass through RGB as an intermediary step.\n\t\t\t\t// if the target mode is RGB...\n\t\t\t\ttarget_mode === 'rgb'\n\t\t\t\t? // just return the RGB\n\t\t\t\t  converters[color.mode].rgb(color)\n\t\t\t\t: // otherwise convert color.mode -> RGB -> target_mode\n\t\t\t\t  converters.rgb[target_mode](converters[color.mode].rgb(color))\n\t\t\t: undefined;\n\nexport default converter;\n","import converter from './converter.js';\n\nconst converters = {};\nconst modes = {};\n\nconst parsers = [];\nconst colorProfiles = {};\n\nconst identity = v => v;\n\nconst useMode = definition => {\n\tconverters[definition.mode] = {\n\t\t...converters[definition.mode],\n\t\t...definition.toMode\n\t};\n\n\tObject.keys(definition.fromMode || {}).forEach(k => {\n\t\tif (!converters[k]) {\n\t\t\tconverters[k] = {};\n\t\t}\n\t\tconverters[k][definition.mode] = definition.fromMode[k];\n\t});\n\n\t// Color space channel ranges\n\tif (!definition.ranges) {\n\t\tdefinition.ranges = {};\n\t}\n\n\tif (!definition.difference) {\n\t\tdefinition.difference = {};\n\t}\n\n\tdefinition.channels.forEach(channel => {\n\t\t// undefined channel ranges default to the [0, 1] interval\n\t\tif (definition.ranges[channel] === undefined) {\n\t\t\tdefinition.ranges[channel] = [0, 1];\n\t\t}\n\n\t\tif (!definition.interpolate[channel]) {\n\t\t\tthrow new Error(`Missing interpolator for: ${channel}`);\n\t\t}\n\n\t\tif (typeof definition.interpolate[channel] === 'function') {\n\t\t\tdefinition.interpolate[channel] = {\n\t\t\t\tuse: definition.interpolate[channel]\n\t\t\t};\n\t\t}\n\n\t\tif (!definition.interpolate[channel].fixup) {\n\t\t\tdefinition.interpolate[channel].fixup = identity;\n\t\t}\n\t});\n\n\tmodes[definition.mode] = definition;\n\t(definition.parse || []).forEach(parser => {\n\t\tuseParser(parser, definition.mode);\n\t});\n\n\treturn converter(definition.mode);\n};\n\nconst getMode = mode => modes[mode];\n\nconst useParser = (parser, mode) => {\n\tif (typeof parser === 'string') {\n\t\tif (!mode) {\n\t\t\tthrow new Error(`'mode' required when 'parser' is a string`);\n\t\t}\n\t\tcolorProfiles[parser] = mode;\n\t} else if (typeof parser === 'function') {\n\t\tif (parsers.indexOf(parser) < 0) {\n\t\t\tparsers.push(parser);\n\t\t}\n\t}\n};\n\nconst removeParser = parser => {\n\tif (typeof parser === 'string') {\n\t\tdelete colorProfiles[parser];\n\t} else if (typeof parser === 'function') {\n\t\tconst idx = parsers.indexOf(parser);\n\t\tif (idx > 0) {\n\t\t\tparsers.splice(idx, 1);\n\t\t}\n\t}\n};\n\nexport {\n\tuseMode,\n\tgetMode,\n\tuseParser,\n\tremoveParser,\n\tconverters,\n\tparsers,\n\tcolorProfiles\n};\n","import { parsers, colorProfiles, getMode } from './modes.js';\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentStartCodePoint = /[^\\x00-\\x7F]|[a-zA-Z_]/;\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentCodePoint = /[^\\x00-\\x7F]|[-\\w]/;\n\nexport const Tok = {\n\tFunction: 'function',\n\tIdent: 'ident',\n\tNumber: 'number',\n\tPercentage: 'percentage',\n\tParenClose: ')',\n\tNone: 'none',\n\tHue: 'hue',\n\tAlpha: 'alpha'\n};\n\nlet _i = 0;\n\n/*\n\t4.3.10. Check if three code points would start a number\n\thttps://drafts.csswg.org/css-syntax/#starts-with-a-number\n */\nfunction is_num(chars) {\n\tlet ch = chars[_i];\n\tlet ch1 = chars[_i + 1];\n\tif (ch === '-' || ch === '+') {\n\t\treturn /\\d/.test(ch1) || (ch1 === '.' && /\\d/.test(chars[_i + 2]));\n\t}\n\tif (ch === '.') {\n\t\treturn /\\d/.test(ch1);\n\t}\n\treturn /\\d/.test(ch);\n}\n\n/*\n\tCheck if the stream starts with an identifier.\n */\n\nfunction is_ident(chars) {\n\tif (_i >= chars.length) {\n\t\treturn false;\n\t}\n\tlet ch = chars[_i];\n\tif (IdentStartCodePoint.test(ch)) {\n\t\treturn true;\n\t}\n\tif (ch === '-') {\n\t\tif (chars.length - _i < 2) {\n\t\t\treturn false;\n\t\t}\n\t\tlet ch1 = chars[_i + 1];\n\t\tif (ch1 === '-' || IdentStartCodePoint.test(ch1)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n/*\n\t4.3.3. Consume a numeric token\n\thttps://drafts.csswg.org/css-syntax/#consume-numeric-token\n */\n\nconst huenits = {\n\tdeg: 1,\n\trad: 180 / Math.PI,\n\tgrad: 9 / 10,\n\tturn: 360\n};\n\nfunction num(chars) {\n\tlet value = '';\n\tif (chars[_i] === '-' || chars[_i] === '+') {\n\t\tvalue += chars[_i++];\n\t}\n\tvalue += digits(chars);\n\tif (chars[_i] === '.' && /\\d/.test(chars[_i + 1])) {\n\t\tvalue += chars[_i++] + digits(chars);\n\t}\n\tif (chars[_i] === 'e' || chars[_i] === 'E') {\n\t\tif (\n\t\t\t(chars[_i + 1] === '-' || chars[_i + 1] === '+') &&\n\t\t\t/\\d/.test(chars[_i + 2])\n\t\t) {\n\t\t\tvalue += chars[_i++] + chars[_i++] + digits(chars);\n\t\t} else if (/\\d/.test(chars[_i + 1])) {\n\t\t\tvalue += chars[_i++] + digits(chars);\n\t\t}\n\t}\n\tif (is_ident(chars)) {\n\t\tlet id = ident(chars);\n\t\tif (id === 'deg' || id === 'rad' || id === 'turn' || id === 'grad') {\n\t\t\treturn { type: Tok.Hue, value: value * huenits[id] };\n\t\t}\n\t\treturn undefined;\n\t}\n\tif (chars[_i] === '%') {\n\t\t_i++;\n\t\treturn { type: Tok.Percentage, value: +value };\n\t}\n\treturn { type: Tok.Number, value: +value };\n}\n\n/*\n\tConsume digits.\n */\nfunction digits(chars) {\n\tlet v = '';\n\twhile (/\\d/.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an identifier.\n */\nfunction ident(chars) {\n\tlet v = '';\n\twhile (_i < chars.length && IdentCodePoint.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an ident-like token.\n */\nfunction identlike(chars) {\n\tlet v = ident(chars);\n\tif (chars[_i] === '(') {\n\t\t_i++;\n\t\treturn { type: Tok.Function, value: v };\n\t}\n\tif (v === 'none') {\n\t\treturn { type: Tok.None, value: undefined };\n\t}\n\treturn { type: Tok.Ident, value: v };\n}\n\nexport function tokenize(str = '') {\n\tlet chars = str.trim();\n\tlet tokens = [];\n\tlet ch;\n\n\t/* reset counter */\n\t_i = 0;\n\n\twhile (_i < chars.length) {\n\t\tch = chars[_i++];\n\n\t\t/*\n\t\t\tConsume whitespace without emitting it\n\t\t */\n\t\tif (ch === '\\n' || ch === '\\t' || ch === ' ') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === ',') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === ')') {\n\t\t\ttokens.push({ type: Tok.ParenClose });\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === '+') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '-') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\ttokens.push({ type: Tok.Ident, value: ident(chars) });\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '.') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '/') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tlet alpha;\n\t\t\tif (is_num(chars)) {\n\t\t\t\talpha = num(chars);\n\t\t\t\tif (alpha.type !== Tok.Hue) {\n\t\t\t\t\ttokens.push({ type: Tok.Alpha, value: alpha });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\tif (ident(chars) === 'none') {\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\ttype: Tok.Alpha,\n\t\t\t\t\t\tvalue: { type: Tok.None, value: undefined }\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (/\\d/.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(num(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (IdentStartCodePoint.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(identlike(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\t/*\n\t\t\tTreat everything not already handled as an error.\n\t\t */\n\t\treturn undefined;\n\t}\n\n\treturn tokens;\n}\n\nexport function parseColorSyntax(tokens) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function || token.value !== 'color') {\n\t\treturn undefined;\n\t}\n\ttoken = tokens[tokens._i++];\n\tif (token.type !== Tok.Ident) {\n\t\treturn undefined;\n\t}\n\tconst mode = colorProfiles[token.value];\n\tif (!mode) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode };\n\tconst coords = consumeCoords(tokens, false);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tconst channels = getMode(mode).channels;\n\tfor (let ii = 0, c, ch; ii < channels.length; ii++) {\n\t\tc = coords[ii];\n\t\tch = channels[ii];\n\t\tif (c.type !== Tok.None) {\n\t\t\tres[ch] = c.type === Tok.Number ? c.value : c.value / 100;\n\t\t\tif (ch === 'alpha') {\n\t\t\t\tres[ch] = Math.max(0, Math.min(1, res[ch]));\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nfunction consumeCoords(tokens, includeHue) {\n\tconst coords = [];\n\tlet token;\n\twhile (tokens._i < tokens.length) {\n\t\ttoken = tokens[tokens._i++];\n\t\tif (\n\t\t\ttoken.type === Tok.None ||\n\t\t\ttoken.type === Tok.Number ||\n\t\t\ttoken.type === Tok.Alpha ||\n\t\t\ttoken.type === Tok.Percentage ||\n\t\t\t(includeHue && token.type === Tok.Hue)\n\t\t) {\n\t\t\tcoords.push(token);\n\t\t\tcontinue;\n\t\t}\n\t\tif (token.type === Tok.ParenClose) {\n\t\t\tif (tokens._i < tokens.length) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tif (coords.length < 3 || coords.length > 4) {\n\t\treturn undefined;\n\t}\n\n\tif (coords.length === 4) {\n\t\tif (coords[3].type !== Tok.Alpha) {\n\t\t\treturn undefined;\n\t\t}\n\t\tcoords[3] = coords[3].value;\n\t}\n\tif (coords.length === 3) {\n\t\tcoords.push({ type: Tok.None, value: undefined });\n\t}\n\n\treturn coords.every(c => c.type !== Tok.Alpha) ? coords : undefined;\n}\n\nexport function parseModernSyntax(tokens, includeHue) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function) {\n\t\treturn undefined;\n\t}\n\tlet coords = consumeCoords(tokens, includeHue);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tcoords.unshift(token.value);\n\treturn coords;\n}\n\nconst parse = color => {\n\tif (typeof color !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst tokens = tokenize(color);\n\tconst parsed = tokens ? parseModernSyntax(tokens, true) : undefined;\n\tlet result = undefined;\n\tlet i = 0;\n\tlet len = parsers.length;\n\twhile (i < len) {\n\t\tif ((result = parsers[i++](color, parsed)) !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn tokens ? parseColorSyntax(tokens) : undefined;\n};\n\nexport default parse;\n","import { Tok } from '../parse.js';\n\nfunction parseRgb(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'rgb' && parsed[0] !== 'rgba')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'rgb' };\n\tconst [, r, g, b, alpha] = parsed;\n\tif (r.type === Tok.Hue || g.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (r.type !== Tok.None) {\n\t\tres.r = r.type === Tok.Number ? r.value / 255 : r.value / 100;\n\t}\n\tif (g.type !== Tok.None) {\n\t\tres.g = g.type === Tok.Number ? g.value / 255 : g.value / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value / 255 : b.value / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseRgb;\n","const parseTransparent = c =>\n\tc === 'transparent'\n\t\t? { mode: 'rgb', r: 0, g: 0, b: 0, alpha: 0 }\n\t\t: undefined;\n\nexport default parseTransparent;\n","const lerp = (a, b, t) => a + t * (b - a);\nconst unlerp = (a, b, v) => (v - a) / (b - a);\n\nconst blerp = (a00, a01, a10, a11, tx, ty) => {\n\treturn lerp(lerp(a00, a01, tx), lerp(a10, a11, tx), ty);\n};\n\nconst trilerp = (\n\ta000,\n\ta010,\n\ta100,\n\ta110,\n\ta001,\n\ta011,\n\ta101,\n\ta111,\n\ttx,\n\tty,\n\ttz\n) => {\n\treturn lerp(\n\t\tblerp(a000, a010, a100, a110, tx, ty),\n\t\tblerp(a001, a011, a101, a111, tx, ty),\n\t\ttz\n\t);\n};\n\nexport { lerp, blerp, trilerp, unlerp };\n","const get_classes = arr => {\n\tlet classes = [];\n\tfor (let i = 0; i < arr.length - 1; i++) {\n\t\tlet a = arr[i];\n\t\tlet b = arr[i + 1];\n\t\tif (a === undefined && b === undefined) {\n\t\t\tclasses.push(undefined);\n\t\t} else if (a !== undefined && b !== undefined) {\n\t\t\tclasses.push([a, b]);\n\t\t} else {\n\t\t\tclasses.push(a !== undefined ? [a, a] : [b, b]);\n\t\t}\n\t}\n\treturn classes;\n};\n\nconst interpolatorPiecewise = interpolator => arr => {\n\tlet classes = get_classes(arr);\n\treturn t => {\n\t\tlet cls = t * classes.length;\n\t\tlet idx = t >= 1 ? classes.length - 1 : Math.max(Math.floor(cls), 0);\n\t\tlet pair = classes[idx];\n\t\treturn pair === undefined\n\t\t\t? undefined\n\t\t\t: interpolator(pair[0], pair[1], cls - idx);\n\t};\n};\n\nexport { interpolatorPiecewise };\n","import { lerp } from './lerp.js';\nimport { interpolatorPiecewise } from './piecewise.js';\n\nexport const interpolatorLinear = interpolatorPiecewise(lerp);\n","const fixupAlpha = arr => {\n\tlet some_defined = false;\n\tlet res = arr.map(v => {\n\t\tif (v !== undefined) {\n\t\t\tsome_defined = true;\n\t\t\treturn v;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn some_defined ? res : arr;\n};\n\nexport { fixupAlpha };\n","import parseNamed from './parseNamed.js';\nimport parseHex from './parseHex.js';\nimport parseRgbLegacy from './parseRgbLegacy.js';\nimport parseRgb from './parseRgb.js';\nimport parseTransparent from './parseTransparent.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\n/*\n\tsRGB color space\n */\n\nconst definition = {\n\tmode: 'rgb',\n\tchannels: ['r', 'g', 'b', 'alpha'],\n\tparse: [\n\t\tparseRgb,\n\t\tparseHex,\n\t\tparseRgbLegacy,\n\t\tparseNamed,\n\t\tparseTransparent,\n\t\t'srgb'\n\t],\n\tserialize: 'srgb',\n\tinterpolate: {\n\t\tr: interpolatorLinear,\n\t\tg: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\tgamut: true,\n\twhite: { r: 1, g: 1, b: 1 },\n\tblack: { r: 0, g: 0, b: 0 }\n};\n\nexport default definition;\n","/*\n\tConvert A98 RGB values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n*/\n\nconst linearize = (v = 0) => Math.pow(Math.abs(v), 563 / 256) * Math.sign(v);\n\nconst convertA98ToXyz65 = a98 => {\n\tlet r = linearize(a98.r);\n\tlet g = linearize(a98.g);\n\tlet b = linearize(a98.b);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.5766690429101305 * r +\n\t\t\t0.1855582379065463 * g +\n\t\t\t0.1882286462349947 * b,\n\t\ty:\n\t\t\t0.297344975250536 * r +\n\t\t\t0.6273635662554661 * g +\n\t\t\t0.0752914584939979 * b,\n\t\tz:\n\t\t\t0.0270313613864123 * r +\n\t\t\t0.0706888525358272 * g +\n\t\t\t0.9913375368376386 * b\n\t};\n\tif (a98.alpha !== undefined) {\n\t\tres.alpha = a98.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertA98ToXyz65;\n","/*\n\tConvert CIE XYZ D65 values to A98 RGB\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst gamma = v => Math.pow(Math.abs(v), 256 / 563) * Math.sign(v);\n\nconst convertXyz65ToA98 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'a98',\n\t\tr: gamma(\n\t\t\tx * 2.0415879038107465 -\n\t\t\t\ty * 0.5650069742788597 -\n\t\t\t\t0.3447313507783297 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.9692436362808798 +\n\t\t\t\ty * 1.8759675015077206 +\n\t\t\t\t0.0415550574071756 * z\n\t\t),\n\t\tb: gamma(\n\t\t\tx * 0.0134442806320312 -\n\t\t\t\ty * 0.1183623922310184 +\n\t\t\t\t1.0151749943912058 * z\n\t\t)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToA98;\n","const fn = (c = 0) => {\n\tconst abs = Math.abs(c);\n\tif (abs <= 0.04045) {\n\t\treturn c / 12.92;\n\t}\n\treturn (Math.sign(c) || 1) * Math.pow((abs + 0.055) / 1.055, 2.4);\n};\n\nconst convertRgbToLrgb = ({ r, g, b, alpha }) => {\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToLrgb;\n","/*\n\tConvert sRGB values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://observablehq.com/@danburzo/color-matrix-calculator\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertRgbToXyz65 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.4123907992659593 * r +\n\t\t\t0.357584339383878 * g +\n\t\t\t0.1804807884018343 * b,\n\t\ty:\n\t\t\t0.2126390058715102 * r +\n\t\t\t0.715168678767756 * g +\n\t\t\t0.0721923153607337 * b,\n\t\tz:\n\t\t\t0.0193308187155918 * r +\n\t\t\t0.119194779794626 * g +\n\t\t\t0.9505321522496607 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToXyz65;\n","const fn = (c = 0) => {\n\tconst abs = Math.abs(c);\n\tif (abs > 0.0031308) {\n\t\treturn (Math.sign(c) || 1) * (1.055 * Math.pow(abs, 1 / 2.4) - 0.055);\n\t}\n\treturn c * 12.92;\n};\n\nconst convertLrgbToRgb = ({ r, g, b, alpha }, mode = 'rgb') => {\n\tlet res = {\n\t\tmode,\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLrgbToRgb;\n","/*\n\tCIE XYZ D65 values to sRGB.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://observablehq.com/@danburzo/color-matrix-calculator\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz65ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb({\n\t\tr:\n\t\t\tx * 3.2409699419045226 -\n\t\t\ty * 1.5373831775700939 -\n\t\t\t0.4986107602930034 * z,\n\t\tg:\n\t\t\tx * -0.9692436362808796 +\n\t\t\ty * 1.8759675015077204 +\n\t\t\t0.0415550574071756 * z,\n\t\tb:\n\t\t\tx * 0.0556300796969936 -\n\t\t\ty * 0.2039769588889765 +\n\t\t\t1.0569715142428784 * z\n\t});\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToRgb;\n","import rgb from '../rgb/definition.js';\n\nimport convertA98ToXyz65 from './convertA98ToXyz65.js';\nimport convertXyz65ToA98 from './convertXyz65ToA98.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'a98',\n\tparse: ['a98-rgb'],\n\tserialize: 'a98-rgb',\n\n\tfromMode: {\n\t\trgb: color => convertXyz65ToA98(convertRgbToXyz65(color)),\n\t\txyz65: convertXyz65ToA98\n\t},\n\n\ttoMode: {\n\t\trgb: color => convertXyz65ToRgb(convertA98ToXyz65(color)),\n\t\txyz65: convertA98ToXyz65\n\t}\n};\n\nexport default definition;\n","const normalizeHue = hue => ((hue = hue % 360) < 0 ? hue + 360 : hue);\n\nexport default normalizeHue;\n","import normalizeHue from '../util/normalizeHue.js';\n\nconst hue = (hues, fn) => {\n\treturn hues\n\t\t.map((hue, idx, arr) => {\n\t\t\tif (hue === undefined) {\n\t\t\t\treturn hue;\n\t\t\t}\n\t\t\tlet normalized = normalizeHue(hue);\n\t\t\tif (idx === 0 || hues[idx - 1] === undefined) {\n\t\t\t\treturn normalized;\n\t\t\t}\n\t\t\treturn fn(normalized - normalizeHue(arr[idx - 1]));\n\t\t})\n\t\t.reduce((acc, curr) => {\n\t\t\tif (\n\t\t\t\t!acc.length ||\n\t\t\t\tcurr === undefined ||\n\t\t\t\tacc[acc.length - 1] === undefined\n\t\t\t) {\n\t\t\t\tacc.push(curr);\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t\tacc.push(curr + acc[acc.length - 1]);\n\t\t\treturn acc;\n\t\t}, []);\n};\n\nconst fixupHueShorter = arr =>\n\thue(arr, d => (Math.abs(d) <= 180 ? d : d - 360 * Math.sign(d)));\nconst fixupHueLonger = arr =>\n\thue(arr, d => (Math.abs(d) >= 180 || d === 0 ? d : d - 360 * Math.sign(d)));\nconst fixupHueIncreasing = arr => hue(arr, d => (d >= 0 ? d : d + 360));\nconst fixupHueDecreasing = arr => hue(arr, d => (d <= 0 ? d : d - 360));\n\nexport {\n\tfixupHueShorter,\n\tfixupHueLonger,\n\tfixupHueIncreasing,\n\tfixupHueDecreasing\n};\n","export const M = [-0.14861, 1.78277, -0.29227, -0.90649, 1.97294, 0];\n\nexport const degToRad = Math.PI / 180;\nexport const radToDeg = 180 / Math.PI;\n","/*\n\tConvert a RGB color to the Cubehelix HSL color space.\n\n\tThis computation is not present in Green's paper:\n\thttps://arxiv.org/pdf/1108.5083.pdf\n\n\t...but can be derived from the inverse, HSL to RGB conversion.\n\n\tIt matches the math in Mike Bostock's D3 implementation:\n\n\thttps://github.com/d3/d3-color/blob/master/src/cubehelix.js\n */\n\nimport { radToDeg, M } from './constants.js';\n\nlet DE = M[3] * M[4];\nlet BE = M[1] * M[4];\nlet BCAD = M[1] * M[2] - M[0] * M[3];\n\nconst convertRgbToCubehelix = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet l = (BCAD * b + r * DE - g * BE) / (BCAD + DE - BE);\n\tlet x = b - l;\n\tlet y = (M[4] * (g - l) - M[2] * x) / M[3];\n\n\tlet res = {\n\t\tmode: 'cubehelix',\n\t\tl: l,\n\t\ts:\n\t\t\tl === 0 || l === 1\n\t\t\t\t? undefined\n\t\t\t\t: Math.sqrt(x * x + y * y) / (M[4] * l * (1 - l))\n\t};\n\n\tif (res.s) res.h = Math.atan2(y, x) * radToDeg - 120;\n\tif (alpha !== undefined) res.alpha = alpha;\n\n\treturn res;\n};\n\nexport default convertRgbToCubehelix;\n","import { degToRad, M } from './constants.js';\n\nconst convertCubehelixToRgb = ({ h, s, l, alpha }) => {\n\tlet res = { mode: 'rgb' };\n\n\th = (h === undefined ? 0 : h + 120) * degToRad;\n\tif (l === undefined) l = 0;\n\n\tlet amp = s === undefined ? 0 : s * l * (1 - l);\n\n\tlet cosh = Math.cos(h);\n\tlet sinh = Math.sin(h);\n\n\tres.r = l + amp * (M[0] * cosh + M[1] * sinh);\n\tres.g = l + amp * (M[2] * cosh + M[3] * sinh);\n\tres.b = l + amp * (M[4] * cosh + M[5] * sinh);\n\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertCubehelixToRgb;\n","import { getMode } from './modes.js';\nimport converter from './converter.js';\nimport normalizeHue from './util/normalizeHue.js';\n\nconst differenceHueSaturation = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.s || !smp.s) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.s * smp.s) * dH;\n};\n\nconst differenceHueNaive = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tif (Math.abs(smp_h - std_h) > 180) {\n\t\t// todo should this be normalized once again?\n\t\treturn std_h - (smp_h - 360 * Math.sign(smp_h - std_h));\n\t}\n\treturn smp_h - std_h;\n};\n\nconst differenceHueChroma = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.c || !smp.c) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.c * smp.c) * dH;\n};\n\nconst differenceEuclidean = (mode = 'rgb', weights = [1, 1, 1, 0]) => {\n\tlet def = getMode(mode);\n\tlet channels = def.channels;\n\tlet diffs = def.difference;\n\tlet conv = converter(mode);\n\treturn (std, smp) => {\n\t\tlet ConvStd = conv(std);\n\t\tlet ConvSmp = conv(smp);\n\t\treturn Math.sqrt(\n\t\t\tchannels.reduce((sum, k, idx) => {\n\t\t\t\tlet delta = diffs[k]\n\t\t\t\t\t? diffs[k](ConvStd, ConvSmp)\n\t\t\t\t\t: ConvStd[k] - ConvSmp[k];\n\t\t\t\treturn (\n\t\t\t\t\tsum +\n\t\t\t\t\t(weights[idx] || 0) * Math.pow(isNaN(delta) ? 0 : delta, 2)\n\t\t\t\t);\n\t\t\t}, 0)\n\t\t);\n\t};\n};\n\nconst differenceCie76 = () => differenceEuclidean('lab65');\n\nconst differenceCie94 = (kL = 1, K1 = 0.045, K2 = 0.015) => {\n\tlet lab = converter('lab65');\n\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\t// Extract Lab values, and compute Chroma\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(kL, 2) +\n\t\t\t\tdC2 / Math.pow(1 + K1 * cStd, 2) +\n\t\t\t\tdH2 / Math.pow(1 + K2 * cStd, 2)\n\t\t);\n\t};\n};\n\n/*\n\tCIEDE2000 color difference, original Matlab implementation by Gaurav Sharma\n\tBased on \"The CIEDE2000 Color-Difference Formula: Implementation Notes, Supplementary Test Data, and Mathematical Observations\" \n\tby Gaurav Sharma, Wencheng Wu, Edul N. Dalal in Color Research and Application, vol. 30. No. 1, pp. 21-30, February 2005.\n\thttp://www2.ece.rochester.edu/~gsharma/ciede2000/\n */\n\nconst differenceCiede2000 = (Kl = 1, Kc = 1, Kh = 1) => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet cAvg = (cStd + cSmp) / 2;\n\n\t\tlet G =\n\t\t\t0.5 *\n\t\t\t(1 -\n\t\t\t\tMath.sqrt(\n\t\t\t\t\tMath.pow(cAvg, 7) / (Math.pow(cAvg, 7) + Math.pow(25, 7))\n\t\t\t\t));\n\n\t\tlet apStd = aStd * (1 + G);\n\t\tlet apSmp = aSmp * (1 + G);\n\n\t\tlet cpStd = Math.sqrt(apStd * apStd + bStd * bStd);\n\t\tlet cpSmp = Math.sqrt(apSmp * apSmp + bSmp * bSmp);\n\n\t\tlet hpStd =\n\t\t\tMath.abs(apStd) + Math.abs(bStd) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bStd, apStd);\n\t\thpStd += (hpStd < 0) * 2 * Math.PI;\n\n\t\tlet hpSmp =\n\t\t\tMath.abs(apSmp) + Math.abs(bSmp) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bSmp, apSmp);\n\t\thpSmp += (hpSmp < 0) * 2 * Math.PI;\n\n\t\tlet dL = lSmp - lStd;\n\t\tlet dC = cpSmp - cpStd;\n\n\t\tlet dhp = cpStd * cpSmp === 0 ? 0 : hpSmp - hpStd;\n\t\tdhp -= (dhp > Math.PI) * 2 * Math.PI;\n\t\tdhp += (dhp < -Math.PI) * 2 * Math.PI;\n\n\t\tlet dH = 2 * Math.sqrt(cpStd * cpSmp) * Math.sin(dhp / 2);\n\n\t\tlet Lp = (lStd + lSmp) / 2;\n\t\tlet Cp = (cpStd + cpSmp) / 2;\n\n\t\tlet hp;\n\t\tif (cpStd * cpSmp === 0) {\n\t\t\thp = hpStd + hpSmp;\n\t\t} else {\n\t\t\thp = (hpStd + hpSmp) / 2;\n\t\t\thp -= (Math.abs(hpStd - hpSmp) > Math.PI) * Math.PI;\n\t\t\thp += (hp < 0) * 2 * Math.PI;\n\t\t}\n\n\t\tlet Lpm50 = Math.pow(Lp - 50, 2);\n\t\tlet T =\n\t\t\t1 -\n\t\t\t0.17 * Math.cos(hp - Math.PI / 6) +\n\t\t\t0.24 * Math.cos(2 * hp) +\n\t\t\t0.32 * Math.cos(3 * hp + Math.PI / 30) -\n\t\t\t0.2 * Math.cos(4 * hp - (63 * Math.PI) / 180);\n\n\t\tlet Sl = 1 + (0.015 * Lpm50) / Math.sqrt(20 + Lpm50);\n\t\tlet Sc = 1 + 0.045 * Cp;\n\t\tlet Sh = 1 + 0.015 * Cp * T;\n\n\t\tlet deltaTheta =\n\t\t\t((30 * Math.PI) / 180) *\n\t\t\tMath.exp(-1 * Math.pow(((180 / Math.PI) * hp - 275) / 25, 2));\n\t\tlet Rc =\n\t\t\t2 *\n\t\t\tMath.sqrt(Math.pow(Cp, 7) / (Math.pow(Cp, 7) + Math.pow(25, 7)));\n\n\t\tlet Rt = -1 * Math.sin(2 * deltaTheta) * Rc;\n\n\t\treturn Math.sqrt(\n\t\t\tMath.pow(dL / (Kl * Sl), 2) +\n\t\t\t\tMath.pow(dC / (Kc * Sc), 2) +\n\t\t\t\tMath.pow(dH / (Kh * Sh), 2) +\n\t\t\t\t(((Rt * dC) / (Kc * Sc)) * dH) / (Kh * Sh)\n\t\t);\n\t};\n};\n\n/*\n\tCMC (l:c) difference formula\n\n\tReferences:\n\t\thttps://en.wikipedia.org/wiki/Color_difference#CMC_l:c_(1984)\n\t\thttp://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n */\nconst differenceCmc = (l = 1, c = 1) => {\n\tlet lab = converter('lab65');\n\n\t/*\n\t\tComparte two colors:\n\t\tstd - standard (first) color\n\t\tsmp - sample (second) color\n\t */\n\treturn (std, smp) => {\n\t\t// convert standard color to Lab\n\t\tlet LabStd = lab(std);\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\n\t\t// Obtain hue/chroma\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\t\tlet hStd = Math.atan2(bStd, aStd);\n\t\thStd = hStd + 2 * Math.PI * (hStd < 0);\n\n\t\t// convert sample color to Lab, obtain LCh\n\t\tlet LabSmp = lab(smp);\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\n\t\t// Obtain chroma\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\t// lightness delta squared\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\n\t\t// chroma delta squared\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\n\t\t// hue delta squared\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\tlet F = Math.sqrt(Math.pow(cStd, 4) / (Math.pow(cStd, 4) + 1900));\n\t\tlet T =\n\t\t\thStd >= (164 / 180) * Math.PI && hStd <= (345 / 180) * Math.PI\n\t\t\t\t? 0.56 + Math.abs(0.2 * Math.cos(hStd + (168 / 180) * Math.PI))\n\t\t\t\t: 0.36 + Math.abs(0.4 * Math.cos(hStd + (35 / 180) * Math.PI));\n\n\t\tlet Sl = lStd < 16 ? 0.511 : (0.040975 * lStd) / (1 + 0.01765 * lStd);\n\t\tlet Sc = (0.0638 * cStd) / (1 + 0.0131 * cStd) + 0.638;\n\t\tlet Sh = Sc * (F * T + 1 - F);\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(l * Sl, 2) +\n\t\t\t\tdC2 / Math.pow(c * Sc, 2) +\n\t\t\t\tdH2 / Math.pow(Sh, 2)\n\t\t);\n\t};\n};\n\n/*\n\n\tHyAB color difference formula, introduced in:\n\n\t\tAbasi S, Amani Tehran M, Fairchild MD. \n\t\t\"Distance metrics for very large color differences.\"\n\t\tColor Res Appl. 2019; 116. \n\t\thttps://doi.org/10.1002/col.22451\n\n\tPDF available at:\n\t\n\t\thttp://markfairchild.org/PDFs/PAP40.pdf\n */\nconst differenceHyab = () => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\t\tlet dL = LabStd.l - LabSmp.l;\n\t\tlet dA = LabStd.a - LabSmp.a;\n\t\tlet dB = LabStd.b - LabSmp.b;\n\t\treturn Math.abs(dL) + Math.sqrt(dA * dA + dB * dB);\n\t};\n};\n\n/*\n\t\"Measuring perceived color difference using YIQ NTSC\n\ttransmission color space in mobile applications\"\n\t\t\n\t\tby Yuriy Kotsarenko, Fernando Ramos in:\n\t\tProgramacin Matemtica y Software (2010) \n\n\tAvailable at:\n\t\t\n\t\thttp://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf\n */\nconst differenceKotsarenkoRamos = () =>\n\tdifferenceEuclidean('yiq', [0.5053, 0.299, 0.1957]);\n\n/*\n\tE_ITP, as defined in Rec. ITU-R BT.2124:\n\n\thttps://www.itu.int/rec/R-REC-BT.2124/en\n*/\nconst differenceItp = () =>\n\tdifferenceEuclidean('itp', [518400, 129600, 518400]);\n\nexport {\n\tdifferenceHueChroma,\n\tdifferenceHueSaturation,\n\tdifferenceHueNaive,\n\tdifferenceEuclidean,\n\tdifferenceCie76,\n\tdifferenceCie94,\n\tdifferenceCiede2000,\n\tdifferenceCmc,\n\tdifferenceHyab,\n\tdifferenceKotsarenkoRamos,\n\tdifferenceItp\n};\n","import converter from './converter.js';\nimport { getMode } from './modes.js';\n\nconst averageAngle = val => {\n\t// See: https://en.wikipedia.org/wiki/Mean_of_circular_quantities\n\tlet sum = val.reduce(\n\t\t(sum, val) => {\n\t\t\tif (val !== undefined) {\n\t\t\t\tlet rad = (val * Math.PI) / 180;\n\t\t\t\tsum.sin += Math.sin(rad);\n\t\t\t\tsum.cos += Math.cos(rad);\n\t\t\t}\n\t\t\treturn sum;\n\t\t},\n\t\t{ sin: 0, cos: 0 }\n\t);\n\tlet angle = (Math.atan2(sum.sin, sum.cos) * 180) / Math.PI;\n\treturn angle < 0 ? 360 + angle : angle;\n};\n\nconst averageNumber = val => {\n\tlet a = val.filter(v => v !== undefined);\n\treturn a.length ? a.reduce((sum, v) => sum + v, 0) / a.length : undefined;\n};\n\nconst isfn = o => typeof o === 'function';\n\nfunction average(colors, mode = 'rgb', overrides) {\n\tlet def = getMode(mode);\n\tlet cc = colors.map(converter(mode));\n\treturn def.channels.reduce(\n\t\t(res, ch) => {\n\t\t\tlet arr = cc.map(c => c[ch]).filter(val => val !== undefined);\n\t\t\tif (arr.length) {\n\t\t\t\tlet fn;\n\t\t\t\tif (isfn(overrides)) {\n\t\t\t\t\tfn = overrides;\n\t\t\t\t} else if (overrides && isfn(overrides[ch])) {\n\t\t\t\t\tfn = overrides[ch];\n\t\t\t\t} else if (def.average && isfn(def.average[ch])) {\n\t\t\t\t\tfn = def.average[ch];\n\t\t\t\t} else {\n\t\t\t\t\tfn = averageNumber;\n\t\t\t\t}\n\t\t\t\tres[ch] = fn(arr, ch);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{ mode }\n\t);\n}\n\nexport { average, averageAngle, averageNumber };\n","/* \n\tDave Green's Cubehelix\n\t----------------------\n\n\tGreen, D. A., 2011, \"A colour scheme for the display of astronomical intensity images\", \n\tBulletin of the Astronomical Society of India, 39, 289. (2011BASI...39..289G at ADS.) \n\n\thttps://www.mrao.cam.ac.uk/%7Edag/CUBEHELIX/\n\thttps://arxiv.org/pdf/1108.5083.pdf\n\n\tAlthough Cubehelix was defined to be a method to obtain a colour scheme,\n\tit actually contains a definition of a colour space, as identified by \n\tMike Bostock and implemented in D3.js.\n\n\tGreen's paper introduces the following terminology:\n\n\t* \ta `lightness` dimension in the interval [0, 1] \n\t\ton which we interpolate to obtain the colour scheme\n\t*\ta `start` colour that is analogous to a Hue in HSL space\n\t*\ta number of `rotations` around the Hue cylinder.\n\t*\ta `hue` parameter which should more appropriately be called `saturation`\n\t\n\tAs such, the original definition of the Cubehelix scheme is actually an\n\tinterpolation between two colors in the Cubehelix space:\n\n\tH: start \t\t\t\tH: start + 360 * rotations\n\tS: hue \t\t\t->\t\tS: hue\n\tL: 0\t\t\t\t\tL: 1\n\n\tWe can therefore extend the interpolation to any two colors in this space,\n\twith a variable Saturation and a Lightness interval other than the fixed 0 -> 1.\n*/\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport convertRgbToCubehelix from './convertRgbToCubehelix.js';\nimport convertCubehelixToRgb from './convertCubehelixToRgb.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'cubehelix',\n\tchannels: ['h', 's', 'l', 'alpha'],\n\tparse: ['--cubehelix'],\n\tserialize: '--cubehelix',\n\n\tranges: {\n\t\th: [0, 360],\n\t\ts: [0, 4.614],\n\t\tl: [0, 1]\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToCubehelix\n\t},\n\n\ttoMode: {\n\t\trgb: convertCubehelixToRgb\n\t},\n\n\tinterpolate: {\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\n/* \n\tReferences: \n\t\t* https://drafts.csswg.org/css-color/#lab-to-lch\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n*/\nconst convertLabToLch = ({ l, a, b, alpha }, mode = 'lch') => {\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet c = Math.sqrt(a * a + b * b);\n\tlet res = { mode, l, c };\n\tif (c) res.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLabToLch;\n","/* \n\tReferences: \n\t\t* https://drafts.csswg.org/css-color/#lch-to-lab\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n*/\nconst convertLchToLab = ({ l, c, h, alpha }, mode = 'lab') => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode,\n\t\tl,\n\t\ta: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tb: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLchToLab;\n","export const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n","/*\n\tThe XYZ tristimulus values (white point)\n\tof standard illuminants for the CIE 1931 2 \n\tstandard observer.\n\n\tSee: https://en.wikipedia.org/wiki/Standard_illuminant\n */\n\nexport const D50 = {\n\tX: 0.3457 / 0.3585,\n\tY: 1,\n\tZ: (1 - 0.3457 - 0.3585) / 0.3585\n};\n\nexport const D65 = {\n\tX: 0.3127 / 0.329,\n\tY: 1,\n\tZ: (1 - 0.3127 - 0.329) / 0.329\n};\n\nexport const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n","import { k, e } from '../xyz65/constants.js';\nimport { D65 } from '../constants.js';\n\nlet fn = v => (Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k);\n\nconst convertLab65ToXyz65 = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx: fn(fx) * D65.X,\n\t\ty: fn(fy) * D65.Y,\n\t\tz: fn(fz) * D65.Z\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLab65ToXyz65;\n","import convertLab65ToXyz65 from './convertLab65ToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst convertLab65ToRgb = lab => convertXyz65ToRgb(convertLab65ToXyz65(lab));\n\nexport default convertLab65ToRgb;\n","import { k, e } from '../xyz65/constants.js';\nimport { D65 } from '../constants.js';\n\nconst f = value => (value > e ? Math.cbrt(value) : (k * value + 16) / 116);\n\nconst convertXyz65ToLab65 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet f0 = f(x / D65.X);\n\tlet f1 = f(y / D65.Y);\n\tlet f2 = f(z / D65.Z);\n\n\tlet res = {\n\t\tmode: 'lab65',\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToLab65;\n","import convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToLab65 from './convertXyz65ToLab65.js';\n\nconst convertRgbToLab65 = rgb => {\n\tlet res = convertXyz65ToLab65(convertRgbToXyz65(rgb));\n\n\t// Fixes achromatic RGB colors having a _slight_ chroma due to floating-point errors\n\t// and approximated computations in sRGB <-> CIELab.\n\t// See: https://github.com/d3/d3-color/pull/46\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToLab65;\n","export const kE = 1;\nexport const kCH = 1;\nexport const  = (26 / 180) * Math.PI;\nexport const cos = Math.cos();\nexport const sin = Math.sin();\nexport const factor = 100 / Math.log(139 / 100); // ~ 303.67\n","import { kCH, kE, sin, cos, , factor } from './constants.js';\n\n/*\n\tConvert DIN99o LCh to CIELab D65\n\t--------------------------------\n */\n\nconst convertDlchToLab65 = ({ l, c, h, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (c === undefined) c = 0;\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode: 'lab65',\n\t\tl: (Math.exp((l * kE) / factor) - 1) / 0.0039\n\t};\n\n\tlet G = (Math.exp(0.0435 * c * kCH * kE) - 1) / 0.075;\n\tlet e = G * Math.cos((h / 180) * Math.PI - );\n\tlet f = G * Math.sin((h / 180) * Math.PI - );\n\tres.a = e * cos - (f / 0.83) * sin;\n\tres.b = e * sin + (f / 0.83) * cos;\n\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertDlchToLab65;\n","import { kCH, kE, sin, cos, , factor } from './constants.js';\nimport normalizeHue from '../util/normalizeHue.js';\n\n/*\n\tConvert CIELab D65 to DIN99o LCh\n\t================================\n */\n\nconst convertLab65ToDlch = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet e = a * cos + b * sin;\n\tlet f = 0.83 * (b * cos - a * sin);\n\tlet G = Math.sqrt(e * e + f * f);\n\tlet res = {\n\t\tmode: 'dlch',\n\t\tl: (factor / kE) * Math.log(1 + 0.0039 * l),\n\t\tc: Math.log(1 + 0.075 * G) / (0.0435 * kCH * kE)\n\t};\n\n\tif (res.c) {\n\t\tres.h = normalizeHue(((Math.atan2(f, e) + ) / Math.PI) * 180);\n\t}\n\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLab65ToDlch;\n","import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\nimport convertDlchToLab65 from '../dlch/convertDlchToLab65.js';\nimport convertLab65ToDlch from '../dlch/convertLab65ToDlch.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst convertDlabToLab65 = c => convertDlchToLab65(convertLabToLch(c, 'dlch'));\nconst convertLab65ToDlab = c => convertLchToLab(convertLab65ToDlch(c), 'dlab');\n\nconst definition = {\n\tmode: 'dlab',\n\n\tparse: ['--din99o-lab'],\n\tserialize: '--din99o-lab',\n\n\ttoMode: {\n\t\tlab65: convertDlabToLab65,\n\t\trgb: c => convertLab65ToRgb(convertDlabToLab65(c))\n\t},\n\n\tfromMode: {\n\t\tlab65: convertLab65ToDlab,\n\t\trgb: c => convertLab65ToDlab(convertRgbToLab65(c))\n\t},\n\n\tchannels: ['l', 'a', 'b', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-40.09, 45.501],\n\t\tb: [-40.469, 44.344]\n\t},\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t}\n};\n\nexport default definition;\n","import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertDlchToLab65 from './convertDlchToLab65.js';\nimport convertLab65ToDlch from './convertLab65ToDlch.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'dlch',\n\n\tparse: ['--din99o-lch'],\n\tserialize: '--din99o-lch',\n\n\ttoMode: {\n\t\tlab65: convertDlchToLab65,\n\t\tdlab: c => convertLchToLab(c, 'dlab'),\n\t\trgb: c => convertLab65ToRgb(convertDlchToLab65(c))\n\t},\n\n\tfromMode: {\n\t\tlab65: convertLab65ToDlch,\n\t\tdlab: c => convertLabToLch(c, 'dlch'),\n\t\trgb: c => convertLab65ToDlch(convertRgbToLab65(c))\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 51.484],\n\t\th: [0, 360]\n\t},\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\tc: interpolatorLinear,\n\t\th: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupHueShorter\n\t\t},\n\t\talpha: {\n\t\t\tuse: interpolatorLinear,\n\t\t\tfixup: fixupAlpha\n\t\t}\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHsiToRgb({ h, s, i, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (i === undefined) i = 0;\n\tlet f = Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tg: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tb: i * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tg: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tb: i * (1 - s)\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = {\n\t\t\t\tr: i * (1 - s),\n\t\t\t\tg: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tb: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = {\n\t\t\t\tr: i * (1 - s),\n\t\t\t\tg: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tb: i * (1 + s * (3 / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1)),\n\t\t\t\tg: i * (1 - s),\n\t\t\t\tb: i * (1 + s * (3 / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = {\n\t\t\t\tr: i * (1 + s * (3 / (2 - f) - 1)),\n\t\t\t\tg: i * (1 - s),\n\t\t\t\tb: i * (1 + s * ((3 * (1 - f)) / (2 - f) - 1))\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: i * (1 - s), g: i * (1 - s), b: i * (1 - s) };\n\t}\n\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsi({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsi',\n\t\ts: r + g + b === 0 ? 0 : 1 - (3 * m) / (r + g + b),\n\t\ti: (r + g + b) / 3\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","import convertHsiToRgb from './convertHsiToRgb.js';\nimport convertRgbToHsi from './convertRgbToHsi.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsi',\n\n\ttoMode: {\n\t\trgb: convertHsiToRgb\n\t},\n\n\tparse: ['--hsi'],\n\tserialize: '--hsi',\n\n\tfromMode: {\n\t\trgb: convertRgbToHsi\n\t},\n\n\tchannels: ['h', 's', 'i', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\ti: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHslToRgb({ h, s, l, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (l === undefined) l = 0;\n\tlet m1 = l + s * (l < 0.5 ? l : 1 - l);\n\tlet m2 = m1 - (m1 - l) * 2 * Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: m1, g: m2, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: m2, g: m1, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: 2 * l - m1, g: m1, b: m2 };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: 2 * l - m1, g: m2, b: m1 };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: m2, g: 2 * l - m1, b: m1 };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: m1, g: 2 * l - m1, b: m2 };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: 2 * l - m1, g: 2 * l - m1, b: 2 * l - m1 };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsl({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsl',\n\t\ts: M === m ? 0 : (M - m) / (1 - Math.abs(M + m - 1)),\n\t\tl: 0.5 * (M + m)\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","const hueToDeg = (val, unit) => {\n\tswitch (unit) {\n\t\tcase 'deg':\n\t\t\treturn +val;\n\t\tcase 'rad':\n\t\t\treturn (val / Math.PI) * 180;\n\t\tcase 'grad':\n\t\t\treturn (val / 10) * 9;\n\t\tcase 'turn':\n\t\t\treturn val * 360;\n\t}\n};\n\nexport default hueToDeg;\n","import hueToDeg from '../util/hue.js';\nimport { hue, per, num_per, c } from '../util/regex.js';\n\n/*\n\thsl() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#the-hsl-notation\n */\nconst hsl_old = new RegExp(\n\t`^hsla?\\\\(\\\\s*${hue}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseHslLegacy = color => {\n\tlet match = color.match(hsl_old);\n\tif (!match) return;\n\tlet res = { mode: 'hsl' };\n\n\tif (match[3] !== undefined) {\n\t\tres.h = +match[3];\n\t} else if (match[1] !== undefined && match[2] !== undefined) {\n\t\tres.h = hueToDeg(match[1], match[2]);\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.s = Math.min(Math.max(0, match[4] / 100), 1);\n\t}\n\n\tif (match[5] !== undefined) {\n\t\tres.l = Math.min(Math.max(0, match[5] / 100), 1);\n\t}\n\n\tif (match[6] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, match[6] / 100));\n\t} else if (match[7] !== undefined) {\n\t\tres.alpha = Math.max(0, Math.min(1, +match[7]));\n\t}\n\treturn res;\n};\n\nexport default parseHslLegacy;\n","import { Tok } from '../parse.js';\n\nfunction parseHsl(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'hsl' && parsed[0] !== 'hsla')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hsl' };\n\tconst [, h, s, l, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (s.type !== Tok.None) {\n\t\tif (s.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.s = s.value / 100;\n\t}\n\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = l.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseHsl;\n","import convertHslToRgb from './convertHslToRgb.js';\nimport convertRgbToHsl from './convertRgbToHsl.js';\nimport parseHslLegacy from './parseHslLegacy.js';\nimport parseHsl from './parseHsl.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsl',\n\n\ttoMode: {\n\t\trgb: convertHslToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHsl\n\t},\n\n\tchannels: ['h', 's', 'l', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHsl, parseHslLegacy],\n\tserialize: c =>\n\t\t`hsl(${c.h !== undefined ? c.h : 'none'} ${\n\t\t\tc.s !== undefined ? c.s * 100 + '%' : 'none'\n\t\t} ${c.l !== undefined ? c.l * 100 + '%' : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHsvToRgb({ h, s, v, alpha }) {\n\th = normalizeHue(h !== undefined ? h : 0);\n\tif (s === undefined) s = 0;\n\tif (v === undefined) v = 0;\n\tlet f = Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: v, g: v * (1 - s * f), b: v * (1 - s) };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: v * (1 - s * f), g: v, b: v * (1 - s) };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: v * (1 - s), g: v, b: v * (1 - s * f) };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: v * (1 - s), g: v * (1 - s * f), b: v };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: v * (1 - s * f), g: v * (1 - s), b: v };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: v, g: v * (1 - s), b: v * (1 - s * f) };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: v * (1 - s), g: v * (1 - s), b: v * (1 - s) };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsv({ r, g, b, alpha }) {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsv',\n\t\ts: M === 0 ? 0 : 1 - m / M,\n\t\tv: M\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n","import convertHsvToRgb from './convertHsvToRgb.js';\nimport convertRgbToHsv from './convertRgbToHsv.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsv',\n\n\ttoMode: {\n\t\trgb: convertHsvToRgb\n\t},\n\n\tparse: ['--hsv'],\n\tserialize: '--hsv',\n\n\tfromMode: {\n\t\trgb: convertRgbToHsv\n\t},\n\n\tchannels: ['h', 's', 'v', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","/*\n\tHWB to RGB converter\n\t--------------------\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#hwb-to-rgb\n\t\t* https://en.wikipedia.org/wiki/HWB_color_model\n\t\t* http://alvyray.com/Papers/CG/HWB_JGTv208.pdf\n */\n\nimport convertHsvToRgb from '../hsv/convertHsvToRgb.js';\n\nexport default function convertHwbToRgb({ h, w, b, alpha }) {\n\tif (w === undefined) w = 0;\n\tif (b === undefined) b = 0;\n\t// normalize w + b to 1\n\tif (w + b > 1) {\n\t\tlet s = w + b;\n\t\tw /= s;\n\t\tb /= s;\n\t}\n\treturn convertHsvToRgb({\n\t\th: h,\n\t\ts: b === 1 ? 1 : 1 - w / (1 - b),\n\t\tv: 1 - b,\n\t\talpha: alpha\n\t});\n}\n","/*\n\tRGB to HWB converter\n\t--------------------\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#hwb-to-rgb\n\t\t* https://en.wikipedia.org/wiki/HWB_color_model\n\t\t* http://alvyray.com/Papers/CG/HWB_JGTv208.pdf\n */\n\nimport convertRgbToHsv from '../hsv/convertRgbToHsv.js';\n\nexport default function convertRgbToHwb(rgba) {\n\tlet hsv = convertRgbToHsv(rgba);\n\tif (hsv === undefined) return undefined;\n\tlet s = hsv.s !== undefined ? hsv.s : 0;\n\tlet v = hsv.v !== undefined ? hsv.v : 0;\n\tlet res = {\n\t\tmode: 'hwb',\n\t\tw: (1 - s) * v,\n\t\tb: 1 - v\n\t};\n\tif (hsv.h !== undefined) res.h = hsv.h;\n\tif (hsv.alpha !== undefined) res.alpha = hsv.alpha;\n\treturn res;\n}\n","import { Tok } from '../parse.js';\n\nfunction ParseHwb(color, parsed) {\n\tif (!parsed || parsed[0] !== 'hwb') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hwb' };\n\tconst [, h, w, b, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (w.type !== Tok.None) {\n\t\tif (w.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.w = w.value / 100;\n\t}\n\n\tif (b.type !== Tok.None) {\n\t\tif (b.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.b = b.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default ParseHwb;\n","import convertHwbToRgb from './convertHwbToRgb.js';\nimport convertRgbToHwb from './convertRgbToHwb.js';\nimport parseHwb from './parseHwb.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueNaive } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hwb',\n\n\ttoMode: {\n\t\trgb: convertHwbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHwb\n\t},\n\n\tchannels: ['h', 'w', 'b', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHwb],\n\tserialize: c =>\n\t\t`hwb(${c.h !== undefined ? c.h : 'none'} ${\n\t\t\tc.w !== undefined ? c.w * 100 + '%' : 'none'\n\t\t} ${c.b !== undefined ? c.b * 100 + '%' : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tw: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueNaive\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","/*\n\tRelative XYZ has Y=1 for media white,\n\tBT.2048 says media white Y=203 (at PQ 58).\n\tSee: https://www.itu.int/dms_pub/itu-r/opb/rep/R-REP-BT.2408-3-2019-PDF-E.pdf\n*/\nexport const YW = 203;\n","/*\n\thttps://en.wikipedia.org/wiki/Transfer_functions_in_imaging\n*/\n\nexport const M1 = 0.1593017578125;\nexport const M2 = 78.84375;\nexport const C1 = 0.8359375;\nexport const C2 = 18.8515625;\nexport const C3 = 18.6875;\n\n/*\n\tPerceptual Quantizer, as defined in Rec. BT 2100-2 (2018)\n\n\t* https://www.itu.int/rec/R-REC-BT.2100-2-201807-I/en\n\t* https://en.wikipedia.org/wiki/Perceptual_quantizer\n*/\n\n/* PQ EOTF, defined for `v` in [0,1]. */\nexport function transferPqDecode(v) {\n\tif (v < 0) return 0;\n\tconst c = Math.pow(v, 1 / M2);\n\treturn 1e4 * Math.pow(Math.max(0, c - C1) / (C2 - C3 * c), 1 / M1);\n}\n\n/* PQ EOTF^-1, defined for `v` in [0, 1e4]. */\nexport function transferPqEncode(v) {\n\tif (v < 0) return 0;\n\tconst c = Math.pow(v / 1e4, M1);\n\treturn Math.pow((C1 + C2 * c) / (1 + C3 * c), M2);\n}\n","import { YW } from '../hdr/constants.js';\nimport { transferPqDecode } from '../hdr/transfer.js';\n\nconst toRel = c => Math.max(c / YW, 0);\n\nconst convertItpToXyz65 = ({ i, t, p, alpha }) => {\n\tif (i === undefined) i = 0;\n\tif (t === undefined) t = 0;\n\tif (p === undefined) p = 0;\n\n\tconst l = transferPqDecode(\n\t\ti + 0.008609037037932761 * t + 0.11102962500302593 * p\n\t);\n\tconst m = transferPqDecode(\n\t\ti - 0.00860903703793275 * t - 0.11102962500302599 * p\n\t);\n\tconst s = transferPqDecode(\n\t\ti + 0.5600313357106791 * t - 0.32062717498731885 * p\n\t);\n\n\tconst res = {\n\t\tmode: 'xyz65',\n\t\tx: toRel(\n\t\t\t2.0701522183894219 * l -\n\t\t\t\t1.3263473389671556 * m +\n\t\t\t\t0.2066510476294051 * s\n\t\t),\n\t\ty: toRel(\n\t\t\t0.3647385209748074 * l +\n\t\t\t\t0.680566024947227 * m -\n\t\t\t\t0.0453045459220346 * s\n\t\t),\n\t\tz: toRel(\n\t\t\t-0.049747207535812 * l -\n\t\t\t\t0.0492609666966138 * m +\n\t\t\t\t1.1880659249923042 * s\n\t\t)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertItpToXyz65;\n","import { YW } from '../hdr/constants.js';\nimport { transferPqEncode } from '../hdr/transfer.js';\n\nconst toAbs = (c = 0) => Math.max(c * YW, 0);\n\nconst convertXyz65ToItp = ({ x, y, z, alpha }) => {\n\tconst absX = toAbs(x);\n\tconst absY = toAbs(y);\n\tconst absZ = toAbs(z);\n\tconst l = transferPqEncode(\n\t\t0.3592832590121217 * absX +\n\t\t\t0.6976051147779502 * absY -\n\t\t\t0.0358915932320289 * absZ\n\t);\n\tconst m = transferPqEncode(\n\t\t-0.1920808463704995 * absX +\n\t\t\t1.1004767970374323 * absY +\n\t\t\t0.0753748658519118 * absZ\n\t);\n\tconst s = transferPqEncode(\n\t\t0.0070797844607477 * absX +\n\t\t\t0.0748396662186366 * absY +\n\t\t\t0.8433265453898765 * absZ\n\t);\n\n\tconst i = 0.5 * l + 0.5 * m;\n\tconst t = 1.61376953125 * l - 3.323486328125 * m + 1.709716796875 * s;\n\tconst p = 4.378173828125 * l - 4.24560546875 * m - 0.132568359375 * s;\n\n\tconst res = { mode: 'itp', i, t, p };\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToItp;\n","import { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport convertItpToXyz65 from './convertItpToXyz65.js';\nimport convertXyz65ToItp from './convertXyz65ToItp.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\n/*\n  ICtCp (or ITP) color space, as defined in ITU-R Recommendation BT.2100.\n\n  ICtCp is drafted to be supported in CSS within\n  [CSS Color HDR Module Level 1](https://drafts.csswg.org/css-color-hdr/#ICtCp) spec.\n*/\n\nconst definition = {\n\tmode: 'itp',\n\tchannels: ['i', 't', 'p', 'alpha'],\n\tparse: ['--ictcp'],\n\tserialize: '--ictcp',\n\n\ttoMode: {\n\t\txyz65: convertItpToXyz65,\n\t\trgb: color => convertXyz65ToRgb(convertItpToXyz65(color))\n\t},\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToItp,\n\t\trgb: color => convertXyz65ToItp(convertRgbToXyz65(color))\n\t},\n\n\tranges: {\n\t\ti: [0, 0.581],\n\t\tt: [-0.369, 0.272],\n\t\tp: [-0.164, 0.331]\n\t},\n\n\tinterpolate: {\n\t\ti: interpolatorLinear,\n\t\tt: interpolatorLinear,\n\t\tp: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","import { M1 as n, C1, C2, C3 } from '../hdr/transfer.js';\nconst p = 134.03437499999998; // = 1.7 * 2523 / Math.pow(2, 5);\nconst d0 = 1.6295499532821566e-11;\n\n/* \n\tThe encoding function is derived from Perceptual Quantizer.\n*/\nconst jabPqEncode = v => {\n\tif (v < 0) return 0;\n\tlet vn = Math.pow(v / 10000, n);\n\treturn Math.pow((C1 + C2 * vn) / (1 + C3 * vn), p);\n};\n\n// Convert to Absolute XYZ\nconst abs = (v = 0) => Math.max(v * 203, 0);\n\nconst convertXyz65ToJab = ({ x, y, z, alpha }) => {\n\tx = abs(x);\n\ty = abs(y);\n\tz = abs(z);\n\n\tlet xp = 1.15 * x - 0.15 * z;\n\tlet yp = 0.66 * y + 0.34 * x;\n\n\tlet l = jabPqEncode(0.41478972 * xp + 0.579999 * yp + 0.014648 * z);\n\tlet m = jabPqEncode(-0.20151 * xp + 1.120649 * yp + 0.0531008 * z);\n\tlet s = jabPqEncode(-0.0166008 * xp + 0.2648 * yp + 0.6684799 * z);\n\n\tlet i = (l + m) / 2;\n\n\tlet res = {\n\t\tmode: 'jab',\n\t\tj: (0.44 * i) / (1 - 0.56 * i) - d0,\n\t\ta: 3.524 * l - 4.066708 * m + 0.542708 * s,\n\t\tb: 0.199076 * l + 1.096799 * m - 1.295875 * s\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz65ToJab;\n","import { M1 as n, C1, C2, C3 } from '../hdr/transfer.js';\nconst p = 134.03437499999998; // = 1.7 * 2523 / Math.pow(2, 5);\nconst d0 = 1.6295499532821566e-11;\n\n/* \n\tThe encoding function is derived from Perceptual Quantizer.\n*/\nconst jabPqDecode = v => {\n\tif (v < 0) return 0;\n\tlet vp = Math.pow(v, 1 / p);\n\treturn 10000 * Math.pow((C1 - vp) / (C3 * vp - C2), 1 / n);\n};\n\nconst rel = v => v / 203;\n\nconst convertJabToXyz65 = ({ j, a, b, alpha }) => {\n\tif (j === undefined) j = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet i = (j + d0) / (0.44 + 0.56 * (j + d0));\n\n\tlet l = jabPqDecode(i + 0.13860504 * a + 0.058047316 * b);\n\tlet m = jabPqDecode(i - 0.13860504 * a - 0.058047316 * b);\n\tlet s = jabPqDecode(i - 0.096019242 * a - 0.8118919 * b);\n\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx: rel(\n\t\t\t1.661373024652174 * l -\n\t\t\t\t0.914523081304348 * m +\n\t\t\t\t0.23136208173913045 * s\n\t\t),\n\t\ty: rel(\n\t\t\t-0.3250758611844533 * l +\n\t\t\t\t1.571847026732543 * m -\n\t\t\t\t0.21825383453227928 * s\n\t\t),\n\t\tz: rel(-0.090982811 * l - 0.31272829 * m + 1.5227666 * s)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertJabToXyz65;\n","/*\n\tConvert sRGB to JzAzBz.\n\n\tFor achromatic sRGB colors, adjust the equivalent JzAzBz color\n\tto be achromatic as well, insteading of having a very slight chroma.\n */\n\nimport convertXyz65ToJab from './convertXyz65ToJab.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\n\nconst convertRgbToJab = rgb => {\n\tlet res = convertXyz65ToJab(convertRgbToXyz65(rgb));\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToJab;\n","import convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\nimport convertJabToXyz65 from './convertJabToXyz65.js';\n\nconst convertJabToRgb = color => convertXyz65ToRgb(convertJabToXyz65(color));\n\nexport default convertJabToRgb;\n","/*\n\tThe JzAzBz color space.\n\n\tBased on:\n\n\tMuhammad Safdar, Guihua Cui, Youn Jin Kim, and Ming Ronnier Luo, \n\t\"Perceptually uniform color space for image signals \n\tincluding high dynamic range and wide gamut,\" \n\tOpt. Express 25, 15131-15151 (2017) \n\n\thttps://doi.org/10.1364/OE.25.015131\n */\n\nimport convertXyz65ToJab from './convertXyz65ToJab.js';\nimport convertJabToXyz65 from './convertJabToXyz65.js';\nimport convertRgbToJab from './convertRgbToJab.js';\nimport convertJabToRgb from './convertJabToRgb.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'jab',\n\tchannels: ['j', 'a', 'b', 'alpha'],\n\n\tparse: ['--jzazbz'],\n\tserialize: '--jzazbz',\n\n\tfromMode: {\n\t\trgb: convertRgbToJab,\n\t\txyz65: convertXyz65ToJab\n\t},\n\n\ttoMode: {\n\t\trgb: convertJabToRgb,\n\t\txyz65: convertJabToXyz65\n\t},\n\n\tranges: {\n\t\tj: [0, 0.222],\n\t\ta: [-0.109, 0.129],\n\t\tb: [-0.185, 0.134]\n\t},\n\n\tinterpolate: {\n\t\tj: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\nconst convertJabToJch = ({ j, a, b, alpha }) => {\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet c = Math.sqrt(a * a + b * b);\n\tlet res = {\n\t\tmode: 'jch',\n\t\tj,\n\t\tc\n\t};\n\tif (c) {\n\t\tres.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\t}\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertJabToJch;\n","const convertJchToJab = ({ j, c, h, alpha }) => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode: 'jab',\n\t\tj,\n\t\ta: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tb: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertJchToJab;\n","import convertJabToJch from './convertJabToJch.js';\nimport convertJchToJab from './convertJchToJab.js';\nimport convertJabToRgb from '../jab/convertJabToRgb.js';\nimport convertRgbToJab from '../jab/convertRgbToJab.js';\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'jch',\n\n\tparse: ['--jzczhz'],\n\tserialize: '--jzczhz',\n\n\ttoMode: {\n\t\tjab: convertJchToJab,\n\t\trgb: c => convertJabToRgb(convertJchToJab(c))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertJabToJch(convertRgbToJab(c)),\n\t\tjab: convertJabToJch\n\t},\n\n\tchannels: ['j', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tj: [0, 0.221],\n\t\tc: [0, 0.19],\n\t\th: [0, 360]\n\t},\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tj: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","export const k = Math.pow(29, 3) / Math.pow(3, 3);\nexport const e = Math.pow(6, 3) / Math.pow(29, 3);\n","import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nlet fn = v => (Math.pow(v, 3) > e ? Math.pow(v, 3) : (116 * v - 16) / k);\n\nconst convertLabToXyz50 = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\tlet fy = (l + 16) / 116;\n\tlet fx = a / 500 + fy;\n\tlet fz = fy - b / 200;\n\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx: fn(fx) * D50.X,\n\t\ty: fn(fy) * D50.Y,\n\t\tz: fn(fz) * D50.Z\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLabToXyz50;\n","/*\n\tCIE XYZ D50 values to sRGB.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz50ToRgb = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb({\n\t\tr:\n\t\t\tx * 3.1341359569958707 -\n\t\t\ty * 1.6173863321612538 -\n\t\t\t0.4906619460083532 * z,\n\t\tg:\n\t\t\tx * -0.978795502912089 +\n\t\t\ty * 1.916254567259524 +\n\t\t\t0.03344273116131949 * z,\n\t\tb:\n\t\t\tx * 0.07195537988411677 -\n\t\t\ty * 0.2289768264158322 +\n\t\t\t1.405386058324125 * z\n\t});\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToRgb;\n","import convertLabToXyz50 from './convertLabToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\n\nconst convertLabToRgb = lab => convertXyz50ToRgb(convertLabToXyz50(lab));\n\nexport default convertLabToRgb;\n","/*\n\tConvert sRGB values to CIE XYZ D50\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertRgbToXyz50 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t0.436065742824811 * r +\n\t\t\t0.3851514688337912 * g +\n\t\t\t0.14307845442264197 * b,\n\t\ty:\n\t\t\t0.22249319175623702 * r +\n\t\t\t0.7168870538238823 * g +\n\t\t\t0.06061979053616537 * b,\n\t\tz:\n\t\t\t0.013923904500943465 * r +\n\t\t\t0.09708128566574634 * g +\n\t\t\t0.7140993584005155 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToXyz50;\n","import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nconst f = value => (value > e ? Math.cbrt(value) : (k * value + 16) / 116);\n\nconst convertXyz50ToLab = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet f0 = f(x / D50.X);\n\tlet f1 = f(y / D50.Y);\n\tlet f2 = f(z / D50.Z);\n\n\tlet res = {\n\t\tmode: 'lab',\n\t\tl: 116 * f1 - 16,\n\t\ta: 500 * (f0 - f1),\n\t\tb: 200 * (f1 - f2)\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz50ToLab;\n","import convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\nimport convertXyz50ToLab from './convertXyz50ToLab.js';\n\nconst convertRgbToLab = rgb => {\n\tlet res = convertXyz50ToLab(convertRgbToXyz50(rgb));\n\n\t// Fixes achromatic RGB colors having a _slight_ chroma due to floating-point errors\n\t// and approximated computations in sRGB <-> CIELab.\n\t// See: https://github.com/d3/d3-color/pull/46\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToLab;\n","import { Tok } from '../parse.js';\n\nfunction parseLab(color, parsed) {\n\tif (!parsed || parsed[0] !== 'lab') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'lab' };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (a.type !== Tok.None) {\n\t\tres.a = a.type === Tok.Number ? a.value : (a.value * 125) / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value : (b.value * 125) / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseLab;\n","import convertLabToRgb from './convertLabToRgb.js';\nimport convertLabToXyz50 from './convertLabToXyz50.js';\nimport convertRgbToLab from './convertRgbToLab.js';\nimport convertXyz50ToLab from './convertXyz50ToLab.js';\nimport parseLab from './parseLab.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'lab',\n\n\ttoMode: {\n\t\txyz50: convertLabToXyz50,\n\t\trgb: convertLabToRgb\n\t},\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToLab,\n\t\trgb: convertRgbToLab\n\t},\n\n\tchannels: ['l', 'a', 'b', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t},\n\n\tparse: [parseLab],\n\tserialize: c =>\n\t\t`lab(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.a !== undefined ? c.a : 'none'\n\t\t} ${c.b !== undefined ? c.b : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\ta: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","import convertLab65ToRgb from './convertLab65ToRgb.js';\nimport convertLab65ToXyz65 from './convertLab65ToXyz65.js';\nimport convertRgbToLab65 from './convertRgbToLab65.js';\nimport convertXyz65ToLab65 from './convertXyz65ToLab65.js';\nimport lab from '../lab/definition.js';\n\nconst definition = {\n\t...lab,\n\tmode: 'lab65',\n\n\tparse: ['--lab-d65'],\n\tserialize: '--lab-d65',\n\n\ttoMode: {\n\t\txyz65: convertLab65ToXyz65,\n\t\trgb: convertLab65ToRgb\n\t},\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToLab65,\n\t\trgb: convertRgbToLab65\n\t},\n\n\tranges: {\n\t\tl: [0, 100],\n\t\ta: [-125, 125],\n\t\tb: [-125, 125]\n\t}\n};\n\nexport default definition;\n","import { Tok } from '../parse.js';\n\nfunction parseLch(color, parsed) {\n\tif (!parsed || parsed[0] !== 'lch') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'lch' };\n\tconst [, l, c, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = Math.min(Math.max(0, l.value), 100);\n\t}\n\tif (c.type !== Tok.None) {\n\t\tres.c = Math.max(\n\t\t\t0,\n\t\t\tc.type === Tok.Number ? c.value : (c.value * 150) / 100\n\t\t);\n\t}\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseLch;\n","import convertLabToLch from './convertLabToLch.js';\nimport convertLchToLab from './convertLchToLab.js';\nimport convertLabToRgb from '../lab/convertLabToRgb.js';\nimport convertRgbToLab from '../lab/convertRgbToLab.js';\nimport parseLch from './parseLch.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'lch',\n\n\ttoMode: {\n\t\tlab: convertLchToLab,\n\t\trgb: c => convertLabToRgb(convertLchToLab(c))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToLab(c)),\n\t\tlab: convertLabToLch\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t},\n\n\tparse: [parseLch],\n\tserialize: c =>\n\t\t`lch(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.c !== undefined ? c.c : 'none'\n\t\t} ${c.h !== undefined ? c.h : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertLab65ToRgb from '../lab65/convertLab65ToRgb.js';\nimport convertRgbToLab65 from '../lab65/convertRgbToLab65.js';\nimport lch from '../lch/definition.js';\n\nconst definition = {\n\t...lch,\n\tmode: 'lch65',\n\n\tparse: ['--lch-d65'],\n\tserialize: '--lch-d65',\n\n\ttoMode: {\n\t\tlab65: c => convertLchToLab(c, 'lab65'),\n\t\trgb: c => convertLab65ToRgb(convertLchToLab(c, 'lab65'))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToLab65(c), 'lch65'),\n\t\tlab65: c => convertLabToLch(c, 'lch65')\n\t},\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 150],\n\t\th: [0, 360]\n\t}\n};\n\nexport default definition;\n","import normalizeHue from '../util/normalizeHue.js';\n\nconst convertLuvToLchuv = ({ l, u, v, alpha }) => {\n\tif (u === undefined) u = 0;\n\tif (v === undefined) v = 0;\n\tlet c = Math.sqrt(u * u + v * v);\n\tlet res = {\n\t\tmode: 'lchuv',\n\t\tl: l,\n\t\tc: c\n\t};\n\tif (c) {\n\t\tres.h = normalizeHue((Math.atan2(v, u) * 180) / Math.PI);\n\t}\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertLuvToLchuv;\n","const convertLchuvToLuv = ({ l, c, h, alpha }) => {\n\tif (h === undefined) h = 0;\n\tlet res = {\n\t\tmode: 'luv',\n\t\tl: l,\n\t\tu: c ? c * Math.cos((h / 180) * Math.PI) : 0,\n\t\tv: c ? c * Math.sin((h / 180) * Math.PI) : 0\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertLchuvToLuv;\n","import { k, e } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nexport const u_fn = (x, y, z) => (4 * x) / (x + 15 * y + 3 * z);\nexport const v_fn = (x, y, z) => (9 * y) / (x + 15 * y + 3 * z);\n\nexport const un = u_fn(D50.X, D50.Y, D50.Z);\nexport const vn = v_fn(D50.X, D50.Y, D50.Z);\n\nconst l_fn = value => (value <= e ? k * value : 116 * Math.cbrt(value) - 16);\n\nconst convertXyz50ToLuv = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet l = l_fn(y / D50.Y);\n\tlet u = u_fn(x, y, z);\n\tlet v = v_fn(x, y, z);\n\n\t// guard against NaNs produced by `xyz(0 0 0)` black\n\tif (!isFinite(u) || !isFinite(v)) {\n\t\tl = u = v = 0;\n\t} else {\n\t\tu = 13 * l * (u - un);\n\t\tv = 13 * l * (v - vn);\n\t}\n\n\tlet res = {\n\t\tmode: 'luv',\n\t\tl,\n\t\tu,\n\t\tv\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertXyz50ToLuv;\n","import { k } from '../xyz50/constants.js';\nimport { D50 } from '../constants.js';\n\nexport const u_fn = (x, y, z) => (4 * x) / (x + 15 * y + 3 * z);\nexport const v_fn = (x, y, z) => (9 * y) / (x + 15 * y + 3 * z);\n\nexport const un = u_fn(D50.X, D50.Y, D50.Z);\nexport const vn = v_fn(D50.X, D50.Y, D50.Z);\n\nconst convertLuvToXyz50 = ({ l, u, v, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (l === 0) {\n\t\treturn { mode: 'xyz50', x: 0, y: 0, z: 0 };\n\t}\n\n\tif (u === undefined) u = 0;\n\tif (v === undefined) v = 0;\n\n\tlet up = u / (13 * l) + un;\n\tlet vp = v / (13 * l) + vn;\n\tlet y = D50.Y * (l <= 8 ? l / k : Math.pow((l + 16) / 116, 3));\n\tlet x = (y * (9 * up)) / (4 * vp);\n\tlet z = (y * (12 - 3 * up - 20 * vp)) / (4 * vp);\n\n\tlet res = { mode: 'xyz50', x, y, z };\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLuvToXyz50;\n","/*\n\tCIELChuv color space\n\t--------------------\n\n\tReference: \n\n\t\thttps://en.wikipedia.org/wiki/CIELUV\n */\n\nimport convertLuvToLchuv from './convertLuvToLchuv.js';\nimport convertLchuvToLuv from './convertLchuvToLuv.js';\nimport convertXyz50ToLuv from '../luv/convertXyz50ToLuv.js';\nimport convertLuvToXyz50 from '../luv/convertLuvToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueChroma } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst convertRgbToLchuv = rgb =>\n\tconvertLuvToLchuv(convertXyz50ToLuv(convertRgbToXyz50(rgb)));\nconst convertLchuvToRgb = lchuv =>\n\tconvertXyz50ToRgb(convertLuvToXyz50(convertLchuvToLuv(lchuv)));\n\nconst definition = {\n\tmode: 'lchuv',\n\n\ttoMode: {\n\t\tluv: convertLchuvToLuv,\n\t\trgb: convertLchuvToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToLchuv,\n\t\tluv: convertLuvToLchuv\n\t},\n\n\tchannels: ['l', 'c', 'h', 'alpha'],\n\n\tparse: ['--lchuv'],\n\tserialize: '--lchuv',\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tc: [0, 176.956],\n\t\th: [0, 360]\n\t},\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\tc: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueChroma\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n","import rgb from '../rgb/definition.js';\nimport convertRgbToLrgb from './convertRgbToLrgb.js';\nimport convertLrgbToRgb from './convertLrgbToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'lrgb',\n\n\ttoMode: {\n\t\trgb: convertLrgbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToLrgb\n\t},\n\n\tparse: ['srgb-linear'],\n\tserialize: 'srgb-linear'\n};\n\nexport default definition;\n","/*\n\tCIELUV color space\n\t------------------\n\n\tReference: \n\n\t\thttps://en.wikipedia.org/wiki/CIELUV\n */\n\nimport convertXyz50ToLuv from './convertXyz50ToLuv.js';\nimport convertLuvToXyz50 from './convertLuvToXyz50.js';\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'luv',\n\n\ttoMode: {\n\t\txyz50: convertLuvToXyz50,\n\t\trgb: luv => convertXyz50ToRgb(convertLuvToXyz50(luv))\n\t},\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToLuv,\n\t\trgb: rgb => convertXyz50ToLuv(convertRgbToXyz50(rgb))\n\t},\n\n\tchannels: ['l', 'u', 'v', 'alpha'],\n\n\tparse: ['--luv'],\n\tserialize: '--luv',\n\n\tranges: {\n\t\tl: [0, 100],\n\t\tu: [-84.936, 175.042],\n\t\tv: [-125.882, 87.243]\n\t},\n\n\tinterpolate: {\n\t\tl: interpolatorLinear,\n\t\tu: interpolatorLinear,\n\t\tv: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","const convertLrgbToOklab = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\n\tlet L = Math.cbrt(\n\t\t0.412221469470763 * r + 0.5363325372617348 * g + 0.0514459932675022 * b\n\t);\n\tlet M = Math.cbrt(\n\t\t0.2119034958178252 * r + 0.6806995506452344 * g + 0.1073969535369406 * b\n\t);\n\tlet S = Math.cbrt(\n\t\t0.0883024591900564 * r + 0.2817188391361215 * g + 0.6299787016738222 * b\n\t);\n\n\tlet res = {\n\t\tmode: 'oklab',\n\t\tl:\n\t\t\t0.210454268309314 * L +\n\t\t\t0.7936177747023054 * M -\n\t\t\t0.0040720430116193 * S,\n\t\ta:\n\t\t\t1.9779985324311684 * L -\n\t\t\t2.4285922420485799 * M +\n\t\t\t0.450593709617411 * S,\n\t\tb:\n\t\t\t0.0259040424655478 * L +\n\t\t\t0.7827717124575296 * M -\n\t\t\t0.8086757549230774 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLrgbToOklab;\n","import convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\n\nconst convertRgbToOklab = rgb => {\n\tlet res = convertLrgbToOklab(convertRgbToLrgb(rgb));\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToOklab;\n","const convertOklabToLrgb = ({ l, a, b, alpha }) => {\n\tif (l === undefined) l = 0;\n\tif (a === undefined) a = 0;\n\tif (b === undefined) b = 0;\n\n\tlet L = Math.pow(l + 0.3963377773761749 * a + 0.2158037573099136 * b, 3);\n\tlet M = Math.pow(l - 0.1055613458156586 * a - 0.0638541728258133 * b, 3);\n\tlet S = Math.pow(l - 0.0894841775298119 * a - 1.2914855480194092 * b, 3);\n\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr:\n\t\t\t4.0767416360759574 * L -\n\t\t\t3.3077115392580616 * M +\n\t\t\t0.2309699031821044 * S,\n\t\tg:\n\t\t\t-1.2684379732850317 * L +\n\t\t\t2.6097573492876887 * M -\n\t\t\t0.3413193760026573 * S,\n\t\tb:\n\t\t\t-0.0041960761386756 * L -\n\t\t\t0.7034186179359362 * M +\n\t\t\t1.7076146940746117 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertOklabToLrgb;\n","import convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\nimport convertOklabToLrgb from './convertOklabToLrgb.js';\n\nconst convertOklabToRgb = c => convertLrgbToRgb(convertOklabToLrgb(c));\n\nexport default convertOklabToRgb;\n","/*\n\tAdapted from code by Bjrn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bjrn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\n\nexport function toe(x) {\n\tconst k_1 = 0.206;\n\tconst k_2 = 0.03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (\n\t\t0.5 *\n\t\t(k_3 * x -\n\t\t\tk_1 +\n\t\t\tMath.sqrt((k_3 * x - k_1) * (k_3 * x - k_1) + 4 * k_2 * k_3 * x))\n\t);\n}\n\nexport function toe_inv(x) {\n\tconst k_1 = 0.206;\n\tconst k_2 = 0.03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (x * x + k_1 * x) / (k_3 * (x + k_2));\n}\n\n// Finds the maximum saturation possible for a given hue that fits in sRGB\n// Saturation here is defined as S = C/L\n// a and b must be normalized so a^2 + b^2 == 1\nfunction compute_max_saturation(a, b) {\n\t// Max saturation will be when one of r, g or b goes below zero.\n\n\t// Select different coefficients depending on which component goes below zero first\n\tlet k0, k1, k2, k3, k4, wl, wm, ws;\n\n\tif (-1.88170328 * a - 0.80936493 * b > 1) {\n\t\t// Red component\n\t\tk0 = +1.19086277;\n\t\tk1 = +1.76576728;\n\t\tk2 = +0.59662641;\n\t\tk3 = +0.75515197;\n\t\tk4 = +0.56771245;\n\t\twl = +4.0767416621;\n\t\twm = -3.3077115913;\n\t\tws = +0.2309699292;\n\t} else if (1.81444104 * a - 1.19445276 * b > 1) {\n\t\t// Green component\n\t\tk0 = +0.73956515;\n\t\tk1 = -0.45954404;\n\t\tk2 = +0.08285427;\n\t\tk3 = +0.1254107;\n\t\tk4 = +0.14503204;\n\t\twl = -1.2684380046;\n\t\twm = +2.6097574011;\n\t\tws = -0.3413193965;\n\t} else {\n\t\t// Blue component\n\t\tk0 = +1.35733652;\n\t\tk1 = -0.00915799;\n\t\tk2 = -1.1513021;\n\t\tk3 = -0.50559606;\n\t\tk4 = +0.00692167;\n\t\twl = -0.0041960863;\n\t\twm = -0.7034186147;\n\t\tws = +1.707614701;\n\t}\n\n\t// Approximate max saturation using a polynomial:\n\tlet S = k0 + k1 * a + k2 * b + k3 * a * a + k4 * a * b;\n\n\t// Do one step Halley's method to get closer\n\t// this gives an error less than 10e6, except for some blue hues where the dS/dh is close to infinite\n\t// this should be sufficient for most applications, otherwise do two/three steps\n\n\tlet k_l = +0.3963377774 * a + 0.2158037573 * b;\n\tlet k_m = -0.1055613458 * a - 0.0638541728 * b;\n\tlet k_s = -0.0894841775 * a - 1.291485548 * b;\n\n\t{\n\t\tlet l_ = 1 + S * k_l;\n\t\tlet m_ = 1 + S * k_m;\n\t\tlet s_ = 1 + S * k_s;\n\n\t\tlet l = l_ * l_ * l_;\n\t\tlet m = m_ * m_ * m_;\n\t\tlet s = s_ * s_ * s_;\n\n\t\tlet l_dS = 3 * k_l * l_ * l_;\n\t\tlet m_dS = 3 * k_m * m_ * m_;\n\t\tlet s_dS = 3 * k_s * s_ * s_;\n\n\t\tlet l_dS2 = 6 * k_l * k_l * l_;\n\t\tlet m_dS2 = 6 * k_m * k_m * m_;\n\t\tlet s_dS2 = 6 * k_s * k_s * s_;\n\n\t\tlet f = wl * l + wm * m + ws * s;\n\t\tlet f1 = wl * l_dS + wm * m_dS + ws * s_dS;\n\t\tlet f2 = wl * l_dS2 + wm * m_dS2 + ws * s_dS2;\n\n\t\tS = S - (f * f1) / (f1 * f1 - 0.5 * f * f2);\n\t}\n\n\treturn S;\n}\n\nexport function find_cusp(a, b) {\n\t// First, find the maximum saturation (saturation S = C/L)\n\tlet S_cusp = compute_max_saturation(a, b);\n\n\t// Convert to linear sRGB to find the first point where at least one of r,g or b >= 1:\n\tlet rgb = convertOklabToLrgb({ l: 1, a: S_cusp * a, b: S_cusp * b });\n\tlet L_cusp = Math.cbrt(1 / Math.max(rgb.r, rgb.g, rgb.b));\n\tlet C_cusp = L_cusp * S_cusp;\n\n\treturn [L_cusp, C_cusp];\n}\n\n// Finds intersection of the line defined by\n// L = L0 * (1 - t) + t * L1;\n// C = t * C1;\n// a and b must be normalized so a^2 + b^2 == 1\nfunction find_gamut_intersection(a, b, L1, C1, L0, cusp = null) {\n\tif (!cusp) {\n\t\t// Find the cusp of the gamut triangle\n\t\tcusp = find_cusp(a, b);\n\t}\n\n\t// Find the intersection for upper and lower half seprately\n\tlet t;\n\tif ((L1 - L0) * cusp[1] - (cusp[0] - L0) * C1 <= 0) {\n\t\t// Lower half\n\n\t\tt = (cusp[1] * L0) / (C1 * cusp[0] + cusp[1] * (L0 - L1));\n\t} else {\n\t\t// Upper half\n\n\t\t// First intersect with triangle\n\t\tt = (cusp[1] * (L0 - 1)) / (C1 * (cusp[0] - 1) + cusp[1] * (L0 - L1));\n\n\t\t// Then one step Halley's method\n\t\t{\n\t\t\tlet dL = L1 - L0;\n\t\t\tlet dC = C1;\n\n\t\t\tlet k_l = +0.3963377774 * a + 0.2158037573 * b;\n\t\t\tlet k_m = -0.1055613458 * a - 0.0638541728 * b;\n\t\t\tlet k_s = -0.0894841775 * a - 1.291485548 * b;\n\n\t\t\tlet l_dt = dL + dC * k_l;\n\t\t\tlet m_dt = dL + dC * k_m;\n\t\t\tlet s_dt = dL + dC * k_s;\n\n\t\t\t// If higher accuracy is required, 2 or 3 iterations of the following block can be used:\n\t\t\t{\n\t\t\t\tlet L = L0 * (1 - t) + t * L1;\n\t\t\t\tlet C = t * C1;\n\n\t\t\t\tlet l_ = L + C * k_l;\n\t\t\t\tlet m_ = L + C * k_m;\n\t\t\t\tlet s_ = L + C * k_s;\n\n\t\t\t\tlet l = l_ * l_ * l_;\n\t\t\t\tlet m = m_ * m_ * m_;\n\t\t\t\tlet s = s_ * s_ * s_;\n\n\t\t\t\tlet ldt = 3 * l_dt * l_ * l_;\n\t\t\t\tlet mdt = 3 * m_dt * m_ * m_;\n\t\t\t\tlet sdt = 3 * s_dt * s_ * s_;\n\n\t\t\t\tlet ldt2 = 6 * l_dt * l_dt * l_;\n\t\t\t\tlet mdt2 = 6 * m_dt * m_dt * m_;\n\t\t\t\tlet sdt2 = 6 * s_dt * s_dt * s_;\n\n\t\t\t\tlet r =\n\t\t\t\t\t4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s - 1;\n\t\t\t\tlet r1 =\n\t\t\t\t\t4.0767416621 * ldt -\n\t\t\t\t\t3.3077115913 * mdt +\n\t\t\t\t\t0.2309699292 * sdt;\n\t\t\t\tlet r2 =\n\t\t\t\t\t4.0767416621 * ldt2 -\n\t\t\t\t\t3.3077115913 * mdt2 +\n\t\t\t\t\t0.2309699292 * sdt2;\n\n\t\t\t\tlet u_r = r1 / (r1 * r1 - 0.5 * r * r2);\n\t\t\t\tlet t_r = -r * u_r;\n\n\t\t\t\tlet g =\n\t\t\t\t\t-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s - 1;\n\t\t\t\tlet g1 =\n\t\t\t\t\t-1.2684380046 * ldt +\n\t\t\t\t\t2.6097574011 * mdt -\n\t\t\t\t\t0.3413193965 * sdt;\n\t\t\t\tlet g2 =\n\t\t\t\t\t-1.2684380046 * ldt2 +\n\t\t\t\t\t2.6097574011 * mdt2 -\n\t\t\t\t\t0.3413193965 * sdt2;\n\n\t\t\t\tlet u_g = g1 / (g1 * g1 - 0.5 * g * g2);\n\t\t\t\tlet t_g = -g * u_g;\n\n\t\t\t\tlet b =\n\t\t\t\t\t-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s - 1;\n\t\t\t\tlet b1 =\n\t\t\t\t\t-0.0041960863 * ldt -\n\t\t\t\t\t0.7034186147 * mdt +\n\t\t\t\t\t1.707614701 * sdt;\n\t\t\t\tlet b2 =\n\t\t\t\t\t-0.0041960863 * ldt2 -\n\t\t\t\t\t0.7034186147 * mdt2 +\n\t\t\t\t\t1.707614701 * sdt2;\n\n\t\t\t\tlet u_b = b1 / (b1 * b1 - 0.5 * b * b2);\n\t\t\t\tlet t_b = -b * u_b;\n\n\t\t\t\tt_r = u_r >= 0 ? t_r : 10e5;\n\t\t\t\tt_g = u_g >= 0 ? t_g : 10e5;\n\t\t\t\tt_b = u_b >= 0 ? t_b : 10e5;\n\n\t\t\t\tt += Math.min(t_r, Math.min(t_g, t_b));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn t;\n}\n\nexport function get_ST_max(a_, b_, cusp = null) {\n\tif (!cusp) {\n\t\tcusp = find_cusp(a_, b_);\n\t}\n\tlet L = cusp[0];\n\tlet C = cusp[1];\n\treturn [C / L, C / (1 - L)];\n}\n\nexport function get_ST_mid(a_, b_) {\n\tlet S =\n\t\t0.11516993 +\n\t\t1 /\n\t\t\t(+7.4477897 +\n\t\t\t\t4.1590124 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(-2.19557347 +\n\t\t\t\t\t\t1.75198401 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-2.13704948 -\n\t\t\t\t\t\t\t\t10.02301043 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(-4.24894561 +\n\t\t\t\t\t\t\t\t\t\t5.38770819 * b_ +\n\t\t\t\t\t\t\t\t\t\t4.69891013 * a_))));\n\n\tlet T =\n\t\t0.11239642 +\n\t\t1 /\n\t\t\t(+1.6132032 -\n\t\t\t\t0.68124379 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(+0.40370612 +\n\t\t\t\t\t\t0.90148123 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-0.27087943 +\n\t\t\t\t\t\t\t\t0.6122399 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(+0.00299215 -\n\t\t\t\t\t\t\t\t\t\t0.45399568 * b_ -\n\t\t\t\t\t\t\t\t\t\t0.14661872 * a_))));\n\n\treturn [S, T];\n}\n\nexport function get_Cs(L, a_, b_) {\n\tlet cusp = find_cusp(a_, b_);\n\n\tlet C_max = find_gamut_intersection(a_, b_, L, 1, L, cusp);\n\tlet ST_max = get_ST_max(a_, b_, cusp);\n\n\tlet S_mid =\n\t\t0.11516993 +\n\t\t1 /\n\t\t\t(+7.4477897 +\n\t\t\t\t4.1590124 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(-2.19557347 +\n\t\t\t\t\t\t1.75198401 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-2.13704948 -\n\t\t\t\t\t\t\t\t10.02301043 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(-4.24894561 +\n\t\t\t\t\t\t\t\t\t\t5.38770819 * b_ +\n\t\t\t\t\t\t\t\t\t\t4.69891013 * a_))));\n\n\tlet T_mid =\n\t\t0.11239642 +\n\t\t1 /\n\t\t\t(+1.6132032 -\n\t\t\t\t0.68124379 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(+0.40370612 +\n\t\t\t\t\t\t0.90148123 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-0.27087943 +\n\t\t\t\t\t\t\t\t0.6122399 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(+0.00299215 -\n\t\t\t\t\t\t\t\t\t\t0.45399568 * b_ -\n\t\t\t\t\t\t\t\t\t\t0.14661872 * a_))));\n\n\tlet k = C_max / Math.min(L * ST_max[0], (1 - L) * ST_max[1]);\n\n\tlet C_a = L * S_mid;\n\tlet C_b = (1 - L) * T_mid;\n\tlet C_mid =\n\t\t0.9 *\n\t\tk *\n\t\tMath.sqrt(\n\t\t\tMath.sqrt(\n\t\t\t\t1 / (1 / (C_a * C_a * C_a * C_a) + 1 / (C_b * C_b * C_b * C_b))\n\t\t\t)\n\t\t);\n\n\tC_a = L * 0.4;\n\tC_b = (1 - L) * 0.8;\n\tlet C_0 = Math.sqrt(1 / (1 / (C_a * C_a) + 1 / (C_b * C_b)));\n\treturn [C_0, C_mid, C_max];\n}\n","/*\n\tAdapted from code by Bjrn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bjrn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport normalizeHue from '../util/normalizeHue.js';\nimport { get_Cs, toe } from './helpers.js';\n\nexport default function convertOklabToOkhsl(lab) {\n\tconst l = lab.l !== undefined ? lab.l : 0;\n\tconst a = lab.a !== undefined ? lab.a : 0;\n\tconst b = lab.b !== undefined ? lab.b : 0;\n\n\tconst ret = { mode: 'okhsl', l: toe(l) };\n\n\tif (lab.alpha !== undefined) {\n\t\tret.alpha = lab.alpha;\n\t}\n\tlet c = Math.sqrt(a * a + b * b);\n\tif (!c) {\n\t\tret.s = 0;\n\t\treturn ret;\n\t}\n\tlet [C_0, C_mid, C_max] = get_Cs(l, a / c, b / c);\n\tlet s;\n\tif (c < C_mid) {\n\t\tlet k_0 = 0;\n\t\tlet k_1 = 0.8 * C_0;\n\t\tlet k_2 = 1 - k_1 / C_mid;\n\t\tlet t = (c - k_0) / (k_1 + k_2 * (c - k_0));\n\t\ts = t * 0.8;\n\t} else {\n\t\tlet k_0 = C_mid;\n\t\tlet k_1 = (0.2 * C_mid * C_mid * 1.25 * 1.25) / C_0;\n\t\tlet k_2 = 1 - k_1 / (C_max - C_mid);\n\t\tlet t = (c - k_0) / (k_1 + k_2 * (c - k_0));\n\t\ts = 0.8 + 0.2 * t;\n\t}\n\tif (s) {\n\t\tret.s = s;\n\t\tret.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\t}\n\treturn ret;\n}\n","/*\n\tAdapted from code by Bjrn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bjrn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport { toe_inv, get_Cs } from './helpers.js';\n\nexport default function convertOkhslToOklab(hsl) {\n\tlet h = hsl.h !== undefined ? hsl.h : 0;\n\tlet s = hsl.s !== undefined ? hsl.s : 0;\n\tlet l = hsl.l !== undefined ? hsl.l : 0;\n\n\tconst ret = { mode: 'oklab', l: toe_inv(l) };\n\n\tif (hsl.alpha !== undefined) {\n\t\tret.alpha = hsl.alpha;\n\t}\n\n\tif (!s || l === 1) {\n\t\tret.a = ret.b = 0;\n\t\treturn ret;\n\t}\n\n\tlet a_ = Math.cos((h / 180) * Math.PI);\n\tlet b_ = Math.sin((h / 180) * Math.PI);\n\tlet [C_0, C_mid, C_max] = get_Cs(ret.l, a_, b_);\n\tlet t, k_0, k_1, k_2;\n\tif (s < 0.8) {\n\t\tt = 1.25 * s;\n\t\tk_0 = 0;\n\t\tk_1 = 0.8 * C_0;\n\t\tk_2 = 1 - k_1 / C_mid;\n\t} else {\n\t\tt = 5 * (s - 0.8);\n\t\tk_0 = C_mid;\n\t\tk_1 = (0.2 * C_mid * C_mid * 1.25 * 1.25) / C_0;\n\t\tk_2 = 1 - k_1 / (C_max - C_mid);\n\t}\n\tlet C = k_0 + (t * k_1) / (1 - k_2 * t);\n\tret.a = C * a_;\n\tret.b = C * b_;\n\n\treturn ret;\n}\n","import convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertOklabToOkhsl from './convertOklabToOkhsl.js';\nimport convertOkhslToOklab from './convertOkhslToOklab.js';\n\nimport modeHsl from '../hsl/definition.js';\n\nconst modeOkhsl = {\n\t...modeHsl,\n\tmode: 'okhsl',\n\tchannels: ['h', 's', 'l', 'alpha'],\n\tparse: ['--okhsl'],\n\tserialize: '--okhsl',\n\tfromMode: {\n\t\toklab: convertOklabToOkhsl,\n\t\trgb: c => convertOklabToOkhsl(convertRgbToOklab(c))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhslToOklab,\n\t\trgb: c => convertOklabToRgb(convertOkhslToOklab(c))\n\t}\n};\n\nexport default modeOkhsl;\n","/*\n\tAdapted from code by Bjrn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bjrn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport normalizeHue from '../util/normalizeHue.js';\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\nimport { get_ST_max, toe_inv, toe } from '../okhsl/helpers.js';\n\nexport default function convertOklabToOkhsv(lab) {\n\tlet l = lab.l !== undefined ? lab.l : 0;\n\tlet a = lab.a !== undefined ? lab.a : 0;\n\tlet b = lab.b !== undefined ? lab.b : 0;\n\n\tlet c = Math.sqrt(a * a + b * b);\n\n\t// TODO: c = 0\n\tlet a_ = c ? a / c : 1;\n\tlet b_ = c ? b / c : 1;\n\n\tlet [S_max, T] = get_ST_max(a_, b_);\n\tlet S_0 = 0.5;\n\tlet k = 1 - S_0 / S_max;\n\n\tlet t = T / (c + l * T);\n\tlet L_v = t * l;\n\tlet C_v = t * c;\n\n\tlet L_vt = toe_inv(L_v);\n\tlet C_vt = (C_v * L_vt) / L_v;\n\n\tlet rgb_scale = convertOklabToLrgb({ l: L_vt, a: a_ * C_vt, b: b_ * C_vt });\n\tlet scale_L = Math.cbrt(\n\t\t1 / Math.max(rgb_scale.r, rgb_scale.g, rgb_scale.b, 0)\n\t);\n\n\tl = l / scale_L;\n\tc = ((c / scale_L) * toe(l)) / l;\n\tl = toe(l);\n\n\tconst ret = {\n\t\tmode: 'okhsv',\n\t\ts: c ? ((S_0 + T) * C_v) / (T * S_0 + T * k * C_v) : 0,\n\t\tv: l ? l / L_v : 0\n\t};\n\tif (ret.s) {\n\t\tret.h = normalizeHue((Math.atan2(b, a) * 180) / Math.PI);\n\t}\n\tif (lab.alpha !== undefined) {\n\t\tret.alpha = lab.alpha;\n\t}\n\treturn ret;\n}\n","/*\n\tCopyright (c) 2021 Bjrn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\nimport { get_ST_max, toe_inv } from '../okhsl/helpers.js';\n\nexport default function convertOkhsvToOklab(hsv) {\n\tconst ret = { mode: 'oklab' };\n\tif (hsv.alpha !== undefined) {\n\t\tret.alpha = hsv.alpha;\n\t}\n\n\tconst h = hsv.h !== undefined ? hsv.h : 0;\n\tconst s = hsv.s !== undefined ? hsv.s : 0;\n\tconst v = hsv.v !== undefined ? hsv.v : 0;\n\n\tconst a_ = Math.cos((h / 180) * Math.PI);\n\tconst b_ = Math.sin((h / 180) * Math.PI);\n\n\tconst [S_max, T] = get_ST_max(a_, b_);\n\tconst S_0 = 0.5;\n\tconst k = 1 - S_0 / S_max;\n\tconst L_v = 1 - (s * S_0) / (S_0 + T - T * k * s);\n\tconst C_v = (s * T * S_0) / (S_0 + T - T * k * s);\n\n\tconst L_vt = toe_inv(L_v);\n\tconst C_vt = (C_v * L_vt) / L_v;\n\tconst rgb_scale = convertOklabToLrgb({\n\t\tl: L_vt,\n\t\ta: a_ * C_vt,\n\t\tb: b_ * C_vt\n\t});\n\tconst scale_L = Math.cbrt(\n\t\t1 / Math.max(rgb_scale.r, rgb_scale.g, rgb_scale.b, 0)\n\t);\n\n\tconst L_new = toe_inv(v * L_v);\n\tconst C = (C_v * L_new) / L_v;\n\n\tret.l = L_new * scale_L;\n\tret.a = C * a_ * scale_L;\n\tret.b = C * b_ * scale_L;\n\n\treturn ret;\n}\n","import convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertOklabToOkhsv from './convertOklabToOkhsv.js';\nimport convertOkhsvToOklab from './convertOkhsvToOklab.js';\n\nimport modeHsv from '../hsv/definition.js';\n\nconst modeOkhsv = {\n\t...modeHsv,\n\tmode: 'okhsv',\n\tchannels: ['h', 's', 'v', 'alpha'],\n\tparse: ['--okhsv'],\n\tserialize: '--okhsv',\n\tfromMode: {\n\t\toklab: convertOklabToOkhsv,\n\t\trgb: c => convertOklabToOkhsv(convertRgbToOklab(c))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhsvToOklab,\n\t\trgb: c => convertOklabToRgb(convertOkhsvToOklab(c))\n\t}\n};\n\nexport default modeOkhsv;\n","import { Tok } from '../parse.js';\n\nfunction parseOklab(color, parsed) {\n\tif (!parsed || parsed[0] !== 'oklab') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'oklab' };\n\tconst [, l, a, b, alpha] = parsed;\n\tif (l.type === Tok.Hue || a.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (l.type !== Tok.None) {\n\t\tres.l = Math.min(\n\t\t\tMath.max(0, l.type === Tok.Number ? l.value : l.value / 100),\n\t\t\t1\n\t\t);\n\t}\n\tif (a.type !== Tok.None) {\n\t\tres.a = a.type === Tok.Number ? a.value : (a.value * 0.4) / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value : (b.value * 0.4) / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseOklab;\n","import convertOklabToLrgb from './convertOklabToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\nimport convertRgbToOklab from './convertRgbToOklab.js';\nimport convertOklabToRgb from './convertOklabToRgb.js';\nimport parseOklab from './parseOklab.js';\n\nimport lab from '../lab/definition.js';\n\n/*\n\tOklab, a perceptual color space for image processing by Bjrn Ottosson\n\tReference: https://bottosson.github.io/posts/oklab/\n */\n\nconst definition = {\n\t...lab,\n\tmode: 'oklab',\n\n\ttoMode: {\n\t\tlrgb: convertOklabToLrgb,\n\t\trgb: convertOklabToRgb\n\t},\n\n\tfromMode: {\n\t\tlrgb: convertLrgbToOklab,\n\t\trgb: convertRgbToOklab\n\t},\n\n\tranges: {\n\t\tl: [0, 1],\n\t\ta: [-0.4, 0.4],\n\t\tb: [-0.4, 0.4]\n\t},\n\n\tparse: [parseOklab],\n\tserialize: c =>\n\t\t`oklab(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.a !== undefined ? c.a : 'none'\n\t\t} ${c.b !== undefined ? c.b : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`\n};\n\nexport default definition;\n","import { Tok } from '../parse.js';\n\nfunction parseOklch(color, parsed) {\n\tif (!parsed || parsed[0] !== 'oklch') {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'oklch' };\n\tconst [, l, c, h, alpha] = parsed;\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = Math.min(\n\t\t\tMath.max(0, l.type === Tok.Number ? l.value : l.value / 100),\n\t\t\t1\n\t\t);\n\t}\n\tif (c.type !== Tok.None) {\n\t\tres.c = Math.max(\n\t\t\t0,\n\t\t\tc.type === Tok.Number ? c.value : (c.value * 0.4) / 100\n\t\t);\n\t}\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = Math.min(\n\t\t\t1,\n\t\t\tMath.max(\n\t\t\t\t0,\n\t\t\t\talpha.type === Tok.Number ? alpha.value : alpha.value / 100\n\t\t\t)\n\t\t);\n\t}\n\n\treturn res;\n}\n\nexport default parseOklch;\n","import lch from '../lch/definition.js';\nimport convertLabToLch from '../lch/convertLabToLch.js';\nimport convertLchToLab from '../lch/convertLchToLab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport parseOklch from './parseOklch.js';\n\nconst definition = {\n\t...lch,\n\tmode: 'oklch',\n\n\ttoMode: {\n\t\toklab: c => convertLchToLab(c, 'oklab'),\n\t\trgb: c => convertOklabToRgb(convertLchToLab(c, 'oklab'))\n\t},\n\n\tfromMode: {\n\t\trgb: c => convertLabToLch(convertRgbToOklab(c), 'oklch'),\n\t\toklab: c => convertLabToLch(c, 'oklch')\n\t},\n\n\tparse: [parseOklch],\n\tserialize: c =>\n\t\t`oklch(${c.l !== undefined ? c.l : 'none'} ${\n\t\t\tc.c !== undefined ? c.c : 'none'\n\t\t} ${c.h !== undefined ? c.h : 'none'}${\n\t\t\tc.alpha < 1 ? ` / ${c.alpha}` : ''\n\t\t})`,\n\n\tranges: {\n\t\tl: [0, 1],\n\t\tc: [0, 0.4],\n\t\th: [0, 360]\n\t}\n};\n\nexport default definition;\n","/*\n\tConvert Display P3 values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\n\nconst convertP3ToXyz65 = rgb => {\n\tlet { r, g, b, alpha } = convertRgbToLrgb(rgb);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.486570948648216 * r +\n\t\t\t0.265667693169093 * g +\n\t\t\t0.1982172852343625 * b,\n\t\ty:\n\t\t\t0.2289745640697487 * r +\n\t\t\t0.6917385218365062 * g +\n\t\t\t0.079286914093745 * b,\n\t\tz: 0.0 * r + 0.0451133818589026 * g + 1.043944368900976 * b\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertP3ToXyz65;\n","/*\n\tCIE XYZ D65 values to Display P3.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nimport convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\n\nconst convertXyz65ToP3 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = convertLrgbToRgb(\n\t\t{\n\t\t\tr:\n\t\t\t\tx * 2.4934969119414263 -\n\t\t\t\ty * 0.9313836179191242 -\n\t\t\t\t0.402710784450717 * z,\n\t\t\tg:\n\t\t\t\tx * -0.8294889695615749 +\n\t\t\t\ty * 1.7626640603183465 +\n\t\t\t\t0.0236246858419436 * z,\n\t\t\tb:\n\t\t\t\tx * 0.0358458302437845 -\n\t\t\t\ty * 0.0761723892680418 +\n\t\t\t\t0.9568845240076871 * z\n\t\t},\n\t\t'p3'\n\t);\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToP3;\n","import rgb from '../rgb/definition.js';\nimport convertP3ToXyz65 from './convertP3ToXyz65.js';\nimport convertXyz65ToP3 from './convertXyz65ToP3.js';\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'p3',\n\tparse: ['display-p3'],\n\tserialize: 'display-p3',\n\n\tfromMode: {\n\t\trgb: color => convertXyz65ToP3(convertRgbToXyz65(color)),\n\t\txyz65: convertXyz65ToP3\n\t},\n\n\ttoMode: {\n\t\trgb: color => convertXyz65ToRgb(convertP3ToXyz65(color)),\n\t\txyz65: convertP3ToXyz65\n\t}\n};\n\nexport default definition;\n","/*\n\tConvert CIE XYZ D50 values to ProPhoto RGB\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst gamma = v => {\n\tlet abs = Math.abs(v);\n\tif (abs >= 1 / 512) {\n\t\treturn Math.sign(v) * Math.pow(abs, 1 / 1.8);\n\t}\n\treturn 16 * v;\n};\n\nconst convertXyz50ToProphoto = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'prophoto',\n\t\tr: gamma(\n\t\t\tx * 1.3457868816471585 -\n\t\t\t\ty * 0.2555720873797946 -\n\t\t\t\t0.0511018649755453 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.5446307051249019 +\n\t\t\t\ty * 1.5082477428451466 +\n\t\t\t\t0.0205274474364214 * z\n\t\t),\n\t\tb: gamma(x * 0.0 + y * 0.0 + 1.2119675456389452 * z)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToProphoto;\n","/*\n\tConvert ProPhoto RGB values to CIE XYZ D50\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n*/\n\nconst linearize = (v = 0) => {\n\tlet abs = Math.abs(v);\n\tif (abs >= 16 / 512) {\n\t\treturn Math.sign(v) * Math.pow(abs, 1.8);\n\t}\n\treturn v / 16;\n};\n\nconst convertProphotoToXyz50 = prophoto => {\n\tlet r = linearize(prophoto.r);\n\tlet g = linearize(prophoto.g);\n\tlet b = linearize(prophoto.b);\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t0.7977666449006423 * r +\n\t\t\t0.1351812974005331 * g +\n\t\t\t0.0313477341283922 * b,\n\t\ty:\n\t\t\t0.2880748288194013 * r +\n\t\t\t0.7118352342418731 * g +\n\t\t\t0.0000899369387256 * b,\n\t\tz: 0 * r + 0 * g + 0.8251046025104602 * b\n\t};\n\tif (prophoto.alpha !== undefined) {\n\t\tres.alpha = prophoto.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertProphotoToXyz50;\n","import rgb from '../rgb/definition.js';\n\nimport convertXyz50ToProphoto from './convertXyz50ToProphoto.js';\nimport convertProphotoToXyz50 from './convertProphotoToXyz50.js';\n\nimport convertXyz50ToRgb from '../xyz50/convertXyz50ToRgb.js';\nimport convertRgbToXyz50 from '../xyz50/convertRgbToXyz50.js';\n\n/*\n\tProPhoto RGB Color space\n\n\tReferences:\n\t\t* https://en.wikipedia.org/wiki/ProPhoto_RGB_color_space\n */\n\nconst definition = {\n\t...rgb,\n\tmode: 'prophoto',\n\tparse: ['prophoto-rgb'],\n\tserialize: 'prophoto-rgb',\n\n\tfromMode: {\n\t\txyz50: convertXyz50ToProphoto,\n\t\trgb: color => convertXyz50ToProphoto(convertRgbToXyz50(color))\n\t},\n\n\ttoMode: {\n\t\txyz50: convertProphotoToXyz50,\n\t\trgb: color => convertXyz50ToRgb(convertProphotoToXyz50(color))\n\t}\n};\n\nexport default definition;\n","/*\n\tConvert CIE XYZ D65 values to Rec. 2020\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.itu.int/rec/R-REC-BT.2020/en\n*/\n\nconst  = 1.09929682680944;\nconst  = 0.018053968510807;\nconst gamma = v => {\n\tconst abs = Math.abs(v);\n\tif (abs > ) {\n\t\treturn (Math.sign(v) || 1) * ( * Math.pow(abs, 0.45) - ( - 1));\n\t}\n\treturn 4.5 * v;\n};\n\nconst convertXyz65ToRec2020 = ({ x, y, z, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'rec2020',\n\t\tr: gamma(\n\t\t\tx * 1.7166511879712683 -\n\t\t\t\ty * 0.3556707837763925 -\n\t\t\t\t0.2533662813736599 * z\n\t\t),\n\t\tg: gamma(\n\t\t\tx * -0.6666843518324893 +\n\t\t\t\ty * 1.6164812366349395 +\n\t\t\t\t0.0157685458139111 * z\n\t\t),\n\t\tb: gamma(\n\t\t\tx * 0.0176398574453108 -\n\t\t\t\ty * 0.0427706132578085 +\n\t\t\t\t0.9421031212354739 * z\n\t\t)\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToRec2020;\n","/*\n\tConvert Rec. 2020 values to CIE XYZ D65\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\t\t* https://www.itu.int/rec/R-REC-BT.2020/en\n*/\n\nconst  = 1.09929682680944;\nconst  = 0.018053968510807;\n\nconst linearize = (v = 0) => {\n\tlet abs = Math.abs(v);\n\tif (abs <  * 4.5) {\n\t\treturn v / 4.5;\n\t}\n\treturn (Math.sign(v) || 1) * Math.pow((abs +  - 1) / , 1 / 0.45);\n};\n\nconst convertRec2020ToXyz65 = rec2020 => {\n\tlet r = linearize(rec2020.r);\n\tlet g = linearize(rec2020.g);\n\tlet b = linearize(rec2020.b);\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.6369580483012911 * r +\n\t\t\t0.1446169035862083 * g +\n\t\t\t0.1688809751641721 * b,\n\t\ty:\n\t\t\t0.262700212011267 * r +\n\t\t\t0.6779980715188708 * g +\n\t\t\t0.059301716469862 * b,\n\t\tz: 0 * r + 0.0280726930490874 * g + 1.0609850577107909 * b\n\t};\n\tif (rec2020.alpha !== undefined) {\n\t\tres.alpha = rec2020.alpha;\n\t}\n\treturn res;\n};\n\nexport default convertRec2020ToXyz65;\n","import rgb from '../rgb/definition.js';\n\nimport convertXyz65ToRec2020 from './convertXyz65ToRec2020.js';\nimport convertRec2020ToXyz65 from './convertRec2020ToXyz65.js';\n\nimport convertRgbToXyz65 from '../xyz65/convertRgbToXyz65.js';\nimport convertXyz65ToRgb from '../xyz65/convertXyz65ToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'rec2020',\n\n\tfromMode: {\n\t\txyz65: convertXyz65ToRec2020,\n\t\trgb: color => convertXyz65ToRec2020(convertRgbToXyz65(color))\n\t},\n\n\ttoMode: {\n\t\txyz65: convertRec2020ToXyz65,\n\t\trgb: color => convertXyz65ToRgb(convertRec2020ToXyz65(color))\n\t},\n\n\tparse: ['rec2020'],\n\tserialize: 'rec2020'\n};\n\nexport default definition;\n","export const bias = 0.00379307325527544933;\nexport const bias_cbrt = Math.cbrt(bias);\n","import convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\nimport { bias, bias_cbrt } from './constants.js';\n\nconst transfer = v => Math.cbrt(v) - bias_cbrt;\n\nconst convertRgbToXyb = color => {\n\tconst { r, g, b, alpha } = convertRgbToLrgb(color);\n\tconst l = transfer(0.3 * r + 0.622 * g + 0.078 * b + bias);\n\tconst m = transfer(0.23 * r + 0.692 * g + 0.078 * b + bias);\n\tconst s = transfer(\n\t\t0.24342268924547819 * r +\n\t\t\t0.20476744424496821 * g +\n\t\t\t0.5518098665095536 * b +\n\t\t\tbias\n\t);\n\tconst res = {\n\t\tmode: 'xyb',\n\t\tx: (l - m) / 2,\n\t\ty: (l + m) / 2,\n\t\t/* Apply default chroma from luma (subtract Y from B) */\n\t\tb: s - (l + m) / 2\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToXyb;\n","import convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\nimport { bias, bias_cbrt } from './constants.js';\n\nconst transfer = v => Math.pow(v + bias_cbrt, 3);\n\nconst convertXybToRgb = ({ x, y, b, alpha }) => {\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (b === undefined) b = 0;\n\tconst l = transfer(x + y) - bias;\n\tconst m = transfer(y - x) - bias;\n\t/* Account for chroma from luma: add Y back to B */\n\tconst s = transfer(b + y) - bias;\n\n\tconst res = convertLrgbToRgb({\n\t\tr:\n\t\t\t11.031566904639861 * l -\n\t\t\t9.866943908131562 * m -\n\t\t\t0.16462299650829934 * s,\n\t\tg:\n\t\t\t-3.2541473810744237 * l +\n\t\t\t4.418770377582723 * m -\n\t\t\t0.16462299650829934 * s,\n\t\tb:\n\t\t\t-3.6588512867136815 * l +\n\t\t\t2.7129230459360922 * m +\n\t\t\t1.9459282407775895 * s\n\t});\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertXybToRgb;\n","import { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport convertRgbToXyb from './convertRgbToXyb.js';\nimport convertXybToRgb from './convertXybToRgb.js';\n\n/*\n\tThe XYB color space, used in JPEG XL.\n\tReference: https://ds.jpeg.org/whitepapers/jpeg-xl-whitepaper.pdf\n*/\n\nconst definition = {\n\tmode: 'xyb',\n\tchannels: ['x', 'y', 'b', 'alpha'],\n\tparse: ['--xyb'],\n\tserialize: '--xyb',\n\n\ttoMode: {\n\t\trgb: convertXybToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyb\n\t},\n\n\tranges: {\n\t\tx: [-0.0154, 0.0281],\n\t\ty: [0, 0.8453],\n\t\tb: [-0.2778, 0.388]\n\t},\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","/*\n\tThe XYZ D50 color space\n\t-----------------------\n */\n\nimport convertXyz50ToRgb from './convertXyz50ToRgb.js';\nimport convertXyz50ToLab from '../lab/convertXyz50ToLab.js';\nimport convertRgbToXyz50 from './convertRgbToXyz50.js';\nimport convertLabToXyz50 from '../lab/convertLabToXyz50.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'xyz50',\n\tparse: ['xyz-d50'],\n\tserialize: 'xyz-d50',\n\n\ttoMode: {\n\t\trgb: convertXyz50ToRgb,\n\t\tlab: convertXyz50ToLab\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyz50,\n\t\tlab: convertLabToXyz50\n\t},\n\n\tchannels: ['x', 'y', 'z', 'alpha'],\n\n\tranges: {\n\t\tx: [0, 0.964],\n\t\ty: [0, 0.999],\n\t\tz: [0, 0.825]\n\t},\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","/*\n\tThe XYZ D65 color space\n\t-----------------------\n */\n\nimport convertXyz65ToRgb from './convertXyz65ToRgb.js';\nimport convertRgbToXyz65 from './convertRgbToXyz65.js';\n\nimport convertXyz65ToXyz50 from './convertXyz65ToXyz50.js';\nimport convertXyz50ToXyz65 from './convertXyz50ToXyz65.js';\n\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\nconst definition = {\n\tmode: 'xyz65',\n\n\ttoMode: {\n\t\trgb: convertXyz65ToRgb,\n\t\txyz50: convertXyz65ToXyz50\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToXyz65,\n\t\txyz50: convertXyz50ToXyz65\n\t},\n\n\tranges: {\n\t\tx: [0, 0.95],\n\t\ty: [0, 1],\n\t\tz: [0, 1.088]\n\t},\n\n\tchannels: ['x', 'y', 'z', 'alpha'],\n\n\tparse: ['xyz', 'xyz-d65'],\n\tserialize: 'xyz-d65',\n\n\tinterpolate: {\n\t\tx: interpolatorLinear,\n\t\ty: interpolatorLinear,\n\t\tz: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","/*\n\tChromatic adaptation of CIE XYZ from D65 to D50 white point\n\tusing the Bradford method.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\t\n*/\n\nconst convertXyz65ToXyz50 = xyz65 => {\n\tlet { x, y, z, alpha } = xyz65;\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'xyz50',\n\t\tx:\n\t\t\t1.0479298208405488 * x +\n\t\t\t0.0229467933410191 * y -\n\t\t\t0.0501922295431356 * z,\n\t\ty:\n\t\t\t0.0296278156881593 * x +\n\t\t\t0.990434484573249 * y -\n\t\t\t0.0170738250293851 * z,\n\t\tz:\n\t\t\t-0.0092430581525912 * x +\n\t\t\t0.0150551448965779 * y +\n\t\t\t0.7518742899580008 * z\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz65ToXyz50;\n","/*\n\tChromatic adaptation of CIE XYZ from D50 to D65 white point\n\tusing the Bradford method.\n\n\tReferences:\n\t\t* https://drafts.csswg.org/css-color/#color-conversion-code\n\t\t* http://www.brucelindbloom.com/index.html?Eqn_ChromAdapt.html\t\n*/\n\nconst convertXyz50ToXyz65 = xyz50 => {\n\tlet { x, y, z, alpha } = xyz50;\n\tif (x === undefined) x = 0;\n\tif (y === undefined) y = 0;\n\tif (z === undefined) z = 0;\n\tlet res = {\n\t\tmode: 'xyz65',\n\t\tx:\n\t\t\t0.9554734527042182 * x -\n\t\t\t0.0230985368742614 * y +\n\t\t\t0.0632593086610217 * z,\n\t\ty:\n\t\t\t-0.0283697069632081 * x +\n\t\t\t1.0099954580058226 * y +\n\t\t\t0.021041398966943 * z,\n\t\tz:\n\t\t\t0.0123140016883199 * x -\n\t\t\t0.0205076964334779 * y +\n\t\t\t1.3303659366080753 * z\n\t};\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\treturn res;\n};\n\nexport default convertXyz50ToXyz65;\n","import convertRgbToYiq from './convertRgbToYiq.js';\nimport convertYiqToRgb from './convertYiqToRgb.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\n/*\n\tYIQ Color Space\n\n\tReferences\n\t----------\n\n\tWikipedia:\n\t\thttps://en.wikipedia.org/wiki/YIQ\n\n\t\"Measuring perceived color difference using YIQ NTSC\n\ttransmission color space in mobile applications\"\n\t\t\n\t\tby Yuriy Kotsarenko, Fernando Ramos in:\n\t\tProgramacin Matemtica y Software (2010) \n\n\tAvailable at:\n\t\t\n\t\thttp://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf\n */\n\nconst definition = {\n\tmode: 'yiq',\n\n\ttoMode: {\n\t\trgb: convertYiqToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToYiq\n\t},\n\n\tchannels: ['y', 'i', 'q', 'alpha'],\n\n\tparse: ['--yiq'],\n\tserialize: '--yiq',\n\n\tranges: {\n\t\ti: [-0.595, 0.595],\n\t\tq: [-0.522, 0.522]\n\t},\n\n\tinterpolate: {\n\t\ty: interpolatorLinear,\n\t\ti: interpolatorLinear,\n\t\tq: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t}\n};\n\nexport default definition;\n","const convertYiqToRgb = ({ y, i, q, alpha }) => {\n\tif (y === undefined) y = 0;\n\tif (i === undefined) i = 0;\n\tif (q === undefined) q = 0;\n\tconst res = {\n\t\tmode: 'rgb',\n\t\tr: y + 0.95608445 * i + 0.6208885 * q,\n\t\tg: y - 0.27137664 * i - 0.6486059 * q,\n\t\tb: y - 1.10561724 * i + 1.70250126 * q\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertYiqToRgb;\n","const convertRgbToYiq = ({ r, g, b, alpha }) => {\n\tif (r === undefined) r = 0;\n\tif (g === undefined) g = 0;\n\tif (b === undefined) b = 0;\n\tconst res = {\n\t\tmode: 'yiq',\n\t\ty: 0.29889531 * r + 0.58662247 * g + 0.11448223 * b,\n\t\ti: 0.59597799 * r - 0.2741761 * g - 0.32180189 * b,\n\t\tq: 0.21147017 * r - 0.52261711 * g + 0.31114694 * b\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToYiq;\n","import converter from './converter.js';\nimport round from './round.js';\nimport prepare from './_prepare.js';\nimport { getMode } from './modes.js';\n\nlet twoDecimals = round(2);\n\nconst clamp = value => Math.max(0, Math.min(1, value || 0));\nconst fixup = value => Math.round(clamp(value) * 255);\n\nconst rgb = converter('rgb');\nconst hsl = converter('hsl');\n\nexport const serializeHex = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet r = fixup(color.r);\n\tlet g = fixup(color.g);\n\tlet b = fixup(color.b);\n\n\treturn '#' + ((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1);\n};\n\nexport const serializeHex8 = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet a = fixup(color.alpha !== undefined ? color.alpha : 1);\n\treturn serializeHex(color) + ((1 << 8) | a).toString(16).slice(1);\n};\n\nexport const serializeRgb = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet r = fixup(color.r);\n\tlet g = fixup(color.g);\n\tlet b = fixup(color.b);\n\n\tif (color.alpha === undefined || color.alpha === 1) {\n\t\t// opaque color\n\t\treturn `rgb(${r}, ${g}, ${b})`;\n\t} else {\n\t\t// transparent color\n\t\treturn `rgba(${r}, ${g}, ${b}, ${twoDecimals(clamp(color.alpha))})`;\n\t}\n};\n\nexport const serializeHsl = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tconst h = twoDecimals(color.h || 0);\n\tconst s = twoDecimals(clamp(color.s) * 100) + '%';\n\tconst l = twoDecimals(clamp(color.l) * 100) + '%';\n\n\tif (color.alpha === undefined || color.alpha === 1) {\n\t\t// opaque color\n\t\treturn `hsl(${h}, ${s}, ${l})`;\n\t} else {\n\t\t// transparent color\n\t\treturn `hsla(${h}, ${s}, ${l}, ${twoDecimals(clamp(color.alpha))})`;\n\t}\n};\n\nexport const formatCss = c => {\n\tconst color = prepare(c);\n\tif (!color) {\n\t\treturn undefined;\n\t}\n\tconst def = getMode(color.mode);\n\tif (!def.serialize || typeof def.serialize === 'string') {\n\t\tlet res = `color(${def.serialize || `--${color.mode}`} `;\n\t\tdef.channels.forEach((ch, i) => {\n\t\t\tif (ch !== 'alpha') {\n\t\t\t\tres +=\n\t\t\t\t\t(i ? ' ' : '') +\n\t\t\t\t\t(color[ch] !== undefined ? color[ch] : 'none');\n\t\t\t}\n\t\t});\n\t\tif (color.alpha !== undefined && color.alpha < 1) {\n\t\t\tres += ` / ${color.alpha}`;\n\t\t}\n\t\treturn res + ')';\n\t}\n\tif (typeof def.serialize === 'function') {\n\t\treturn def.serialize(color);\n\t}\n\treturn undefined;\n};\n\nexport const formatHex = c => serializeHex(rgb(c));\nexport const formatHex8 = c => serializeHex8(rgb(c));\nexport const formatRgb = c => serializeRgb(rgb(c));\nexport const formatHsl = c => serializeHsl(hsl(c));\n","import converter from './converter.js';\n\n/*\n\tWCAG luminance\n\tReferences: \n\n\thttps://en.wikipedia.org/wiki/Relative_luminance\n\thttps://github.com/w3c/wcag/issues/236#issuecomment-379526596\n */\nexport function luminance(color) {\n\tlet c = converter('lrgb')(color);\n\treturn 0.2126 * c.r + 0.7152 * c.g + 0.0722 * c.b;\n}\n\n/*\n\tWCAG contrast\n */\nexport function contrast(a, b) {\n\tlet L1 = luminance(a);\n\tlet L2 = luminance(b);\n\treturn (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05);\n}\n","// Color space definitions\nimport modeA98 from './a98/definition.js';\nimport modeCubehelix from './cubehelix/definition.js';\nimport modeDlab from './dlab/definition.js';\nimport modeDlch from './dlch/definition.js';\nimport modeHsi from './hsi/definition.js';\nimport modeHsl from './hsl/definition.js';\nimport modeHsv from './hsv/definition.js';\nimport modeHwb from './hwb/definition.js';\nimport modeItp from './itp/definition.js';\nimport modeJab from './jab/definition.js';\nimport modeJch from './jch/definition.js';\nimport modeLab from './lab/definition.js';\nimport modeLab65 from './lab65/definition.js';\nimport modeLch from './lch/definition.js';\nimport modeLch65 from './lch65/definition.js';\nimport modeLchuv from './lchuv/definition.js';\nimport modeLrgb from './lrgb/definition.js';\nimport modeLuv from './luv/definition.js';\nimport modeOkhsl from './okhsl/modeOkhsl.js';\nimport modeOkhsv from './okhsv/modeOkhsv.js';\nimport modeOklab from './oklab/definition.js';\nimport modeOklch from './oklch/definition.js';\nimport modeP3 from './p3/definition.js';\nimport modeProphoto from './prophoto/definition.js';\nimport modeRec2020 from './rec2020/definition.js';\nimport modeRgb from './rgb/definition.js';\nimport modeXyb from './xyb/definition.js';\nimport modeXyz50 from './xyz50/definition.js';\nimport modeXyz65 from './xyz65/definition.js';\nimport modeYiq from './yiq/definition.js';\nimport { useMode } from './modes.js';\n\nexport { default as converter } from './converter.js';\n\nexport {\n\tserializeHex,\n\tserializeHex8,\n\tserializeRgb,\n\tserializeHsl,\n\tformatHex,\n\tformatHex8,\n\tformatRgb,\n\tformatHsl,\n\tformatCss\n} from './formatter.js';\n\nexport { default as colorsNamed } from './colors/named.js';\nexport { default as blend } from './blend.js';\nexport { default as random } from './random.js';\n\nexport {\n\tfixupHueShorter,\n\tfixupHueLonger,\n\tfixupHueIncreasing,\n\tfixupHueDecreasing\n} from './fixup/hue.js';\n\nexport { fixupAlpha } from './fixup/alpha.js';\n\nexport {\n\tmapper,\n\tmapAlphaMultiply,\n\tmapAlphaDivide,\n\tmapTransferLinear,\n\tmapTransferGamma\n} from './map.js';\n\nexport { average, averageAngle, averageNumber } from './average.js';\n\nexport { default as round } from './round.js';\nexport {\n\tinterpolate,\n\tinterpolateWith,\n\tinterpolateWithPremultipliedAlpha\n} from './interpolate/interpolate.js';\n\nexport { interpolatorLinear } from './interpolate/linear.js';\n\nexport { interpolatorPiecewise } from './interpolate/piecewise.js';\n\nexport {\n\tinterpolatorSplineBasis,\n\tinterpolatorSplineBasisClosed\n} from './interpolate/splineBasis.js';\n\nexport {\n\tinterpolatorSplineNatural,\n\tinterpolatorSplineNaturalClosed\n} from './interpolate/splineNatural.js';\n\nexport {\n\tinterpolatorSplineMonotone,\n\tinterpolatorSplineMonotone2,\n\tinterpolatorSplineMonotoneClosed\n} from './interpolate/splineMonotone.js';\n\nexport { lerp, unlerp, blerp, trilerp } from './interpolate/lerp.js';\nexport { default as samples } from './samples.js';\nexport {\n\tdisplayable,\n\tinGamut,\n\tclampRgb,\n\tclampChroma,\n\tclampGamut,\n\ttoGamut\n} from './clamp.js';\nexport { default as nearest } from './nearest.js';\nexport { useMode, getMode, useParser, removeParser } from './modes.js';\nexport { default as parse } from './parse.js';\n\nexport {\n\tdifferenceEuclidean,\n\tdifferenceCie76,\n\tdifferenceCie94,\n\tdifferenceCiede2000,\n\tdifferenceCmc,\n\tdifferenceHyab,\n\tdifferenceHueSaturation,\n\tdifferenceHueChroma,\n\tdifferenceHueNaive,\n\tdifferenceKotsarenkoRamos,\n\tdifferenceItp\n} from './difference.js';\n\nexport {\n\tfilterBrightness,\n\tfilterContrast,\n\tfilterSepia,\n\tfilterInvert,\n\tfilterSaturate,\n\tfilterGrayscale,\n\tfilterHueRotate\n} from './filter.js';\n\nexport {\n\tfilterDeficiencyProt,\n\tfilterDeficiencyDeuter,\n\tfilterDeficiencyTrit\n} from './deficiency.js';\n\n// Easings\nexport { default as easingMidpoint } from './easing/midpoint.js';\nexport {\n\teasingSmoothstep,\n\teasingSmoothstepInverse\n} from './easing/smoothstep.js';\nexport { default as easingSmootherstep } from './easing/smootherstep.js';\nexport { default as easingInOutSine } from './easing/inOutSine.js';\nexport { default as easingGamma } from './easing/gamma.js';\n\nexport {\n\tluminance as wcagLuminance,\n\tcontrast as wcagContrast\n} from './wcag.js';\n\nexport { default as parseHsl } from './hsl/parseHsl.js';\nexport { default as parseHwb } from './hwb/parseHwb.js';\nexport { default as parseLab } from './lab/parseLab.js';\nexport { default as parseLch } from './lch/parseLch.js';\nexport { default as parseNamed } from './rgb/parseNamed.js';\nexport { default as parseTransparent } from './rgb/parseTransparent.js';\nexport { default as parseHex } from './rgb/parseHex.js';\nexport { default as parseRgb } from './rgb/parseRgb.js';\nexport { default as parseHslLegacy } from './hsl/parseHslLegacy.js';\nexport { default as parseRgbLegacy } from './rgb/parseRgbLegacy.js';\nexport { default as parseOklab } from './oklab/parseOklab.js';\nexport { default as parseOklch } from './oklch/parseOklch.js';\n\nexport { default as convertA98ToXyz65 } from './a98/convertA98ToXyz65.js';\nexport { default as convertCubehelixToRgb } from './cubehelix/convertCubehelixToRgb.js';\nexport { default as convertDlchToLab65 } from './dlch/convertDlchToLab65.js';\nexport { default as convertHsiToRgb } from './hsi/convertHsiToRgb.js';\nexport { default as convertHslToRgb } from './hsl/convertHslToRgb.js';\nexport { default as convertHsvToRgb } from './hsv/convertHsvToRgb.js';\nexport { default as convertHwbToRgb } from './hwb/convertHwbToRgb.js';\nexport { default as convertItpToXyz65 } from './itp/convertItpToXyz65.js';\nexport { default as convertJabToJch } from './jch/convertJabToJch.js';\nexport { default as convertJabToRgb } from './jab/convertJabToRgb.js';\nexport { default as convertJabToXyz65 } from './jab/convertJabToXyz65.js';\nexport { default as convertJchToJab } from './jch/convertJchToJab.js';\nexport { default as convertLab65ToDlch } from './dlch/convertLab65ToDlch.js';\nexport { default as convertLab65ToRgb } from './lab65/convertLab65ToRgb.js';\nexport { default as convertLab65ToXyz65 } from './lab65/convertLab65ToXyz65.js';\nexport { default as convertLabToLch } from './lch/convertLabToLch.js';\nexport { default as convertLabToRgb } from './lab/convertLabToRgb.js';\nexport { default as convertLabToXyz50 } from './lab/convertLabToXyz50.js';\nexport { default as convertLchToLab } from './lch/convertLchToLab.js';\nexport { default as convertLchuvToLuv } from './lchuv/convertLchuvToLuv.js';\nexport { default as convertLrgbToOklab } from './oklab/convertLrgbToOklab.js';\nexport { default as convertLrgbToRgb } from './lrgb/convertLrgbToRgb.js';\nexport { default as convertLuvToLchuv } from './lchuv/convertLuvToLchuv.js';\nexport { default as convertLuvToXyz50 } from './luv/convertLuvToXyz50.js';\nexport { default as convertOkhslToOklab } from './okhsl/convertOkhslToOklab.js';\nexport { default as convertOkhsvToOklab } from './okhsv/convertOkhsvToOklab.js';\nexport { default as convertOklabToLrgb } from './oklab/convertOklabToLrgb.js';\nexport { default as convertOklabToOkhsl } from './okhsl/convertOklabToOkhsl.js';\nexport { default as convertOklabToOkhsv } from './okhsv/convertOklabToOkhsv.js';\nexport { default as convertOklabToRgb } from './oklab/convertOklabToRgb.js';\nexport { default as convertP3ToXyz65 } from './p3/convertP3ToXyz65.js';\nexport { default as convertProphotoToXyz50 } from './prophoto/convertProphotoToXyz50.js';\nexport { default as convertRec2020ToXyz65 } from './rec2020/convertRec2020ToXyz65.js';\nexport { default as convertRgbToCubehelix } from './cubehelix/convertRgbToCubehelix.js';\nexport { default as convertRgbToHsi } from './hsi/convertRgbToHsi.js';\nexport { default as convertRgbToHsl } from './hsl/convertRgbToHsl.js';\nexport { default as convertRgbToHsv } from './hsv/convertRgbToHsv.js';\nexport { default as convertRgbToHwb } from './hwb/convertRgbToHwb.js';\nexport { default as convertRgbToJab } from './jab/convertRgbToJab.js';\nexport { default as convertRgbToLab } from './lab/convertRgbToLab.js';\nexport { default as convertRgbToLab65 } from './lab65/convertRgbToLab65.js';\nexport { default as convertRgbToLrgb } from './lrgb/convertRgbToLrgb.js';\nexport { default as convertRgbToOklab } from './oklab/convertRgbToOklab.js';\nexport { default as convertRgbToXyb } from './xyb/convertRgbToXyb.js';\nexport { default as convertRgbToXyz50 } from './xyz50/convertRgbToXyz50.js';\nexport { default as convertRgbToXyz65 } from './xyz65/convertRgbToXyz65.js';\nexport { default as convertRgbToYiq } from './yiq/convertRgbToYiq.js';\nexport { default as convertXybToRgb } from './xyb/convertXybToRgb.js';\nexport { default as convertXyz50ToLab } from './lab/convertXyz50ToLab.js';\nexport { default as convertXyz50ToLuv } from './luv/convertXyz50ToLuv.js';\nexport { default as convertXyz50ToProphoto } from './prophoto/convertXyz50ToProphoto.js';\nexport { default as convertXyz50ToRgb } from './xyz50/convertXyz50ToRgb.js';\nexport { default as convertXyz50ToXyz65 } from './xyz65/convertXyz50ToXyz65.js';\nexport { default as convertXyz65ToA98 } from './a98/convertXyz65ToA98.js';\nexport { default as convertXyz65ToItp } from './itp/convertXyz65ToItp.js';\nexport { default as convertXyz65ToJab } from './jab/convertXyz65ToJab.js';\nexport { default as convertXyz65ToLab65 } from './lab65/convertXyz65ToLab65.js';\nexport { default as convertXyz65ToP3 } from './p3/convertXyz65ToP3.js';\nexport { default as convertXyz65ToRec2020 } from './rec2020/convertXyz65ToRec2020.js';\nexport { default as convertXyz65ToRgb } from './xyz65/convertXyz65ToRgb.js';\nexport { default as convertXyz65ToXyz50 } from './xyz65/convertXyz65ToXyz50.js';\nexport { default as convertYiqToRgb } from './yiq/convertYiqToRgb.js';\n\nexport {\n\tmodeA98,\n\tmodeCubehelix,\n\tmodeDlab,\n\tmodeDlch,\n\tmodeHsi,\n\tmodeHsl,\n\tmodeHsv,\n\tmodeHwb,\n\tmodeItp,\n\tmodeJab,\n\tmodeJch,\n\tmodeLab,\n\tmodeLab65,\n\tmodeLch,\n\tmodeLch65,\n\tmodeLchuv,\n\tmodeLrgb,\n\tmodeLuv,\n\tmodeOkhsl,\n\tmodeOkhsv,\n\tmodeOklab,\n\tmodeOklch,\n\tmodeP3,\n\tmodeProphoto,\n\tmodeRec2020,\n\tmodeRgb,\n\tmodeXyb,\n\tmodeXyz50,\n\tmodeXyz65,\n\tmodeYiq\n};\n\nexport const a98 = useMode(modeA98);\nexport const cubehelix = useMode(modeCubehelix);\nexport const dlab = useMode(modeDlab);\nexport const dlch = useMode(modeDlch);\nexport const hsi = useMode(modeHsi);\nexport const hsl = useMode(modeHsl);\nexport const hsv = useMode(modeHsv);\nexport const hwb = useMode(modeHwb);\nexport const itp = useMode(modeItp);\nexport const jab = useMode(modeJab);\nexport const jch = useMode(modeJch);\nexport const lab = useMode(modeLab);\nexport const lab65 = useMode(modeLab65);\nexport const lch = useMode(modeLch);\nexport const lch65 = useMode(modeLch65);\nexport const lchuv = useMode(modeLchuv);\nexport const lrgb = useMode(modeLrgb);\nexport const luv = useMode(modeLuv);\nexport const okhsl = useMode(modeOkhsl);\nexport const okhsv = useMode(modeOkhsv);\nexport const oklab = useMode(modeOklab);\nexport const oklch = useMode(modeOklch);\nexport const p3 = useMode(modeP3);\nexport const prophoto = useMode(modeProphoto);\nexport const rec2020 = useMode(modeRec2020);\nexport const rgb = useMode(modeRgb);\nexport const xyb = useMode(modeXyb);\nexport const xyz50 = useMode(modeXyz50);\nexport const xyz65 = useMode(modeXyz65);\nexport const yiq = useMode(modeYiq);\n","import { parse, wcagLuminance } from 'culori';\n\nexport function hasColor(fill?: string | null): boolean {\n  if (!fill) return false;\n  const normalizedFill = fill.trim().toLowerCase();\n  if (\n    normalizedFill === 'none' ||\n    normalizedFill === 'transparent' ||\n    normalizedFill === ''\n  ) {\n    return false;\n  }\n  return true;\n}\n\nexport function isDarkColor(color: string): boolean {\n  const c = parse(color);\n  if (!c) return false;\n  const luminance = wcagLuminance(c);\n  return luminance < 0.5;\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","import castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nexport default createCaseFirst;\n","import createCaseFirst from './_createCaseFirst.js';\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nexport default upperFirst;\n","import toString from './toString.js';\nimport upperFirst from './upperFirst.js';\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nexport default capitalize;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import capitalize from './capitalize.js';\nimport createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nexport default camelCase;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nexport default baseInRange;\n","import baseInRange from './_baseInRange.js';\nimport toFinite from './toFinite.js';\nimport toNumber from './toNumber.js';\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nexport default inRange;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nexport default kebabCase;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import { get } from 'lodash-es';\nimport type { ItemDatum, ParsedData } from '../types';\n\n/**\n *  indexesKey \n */\nexport function getDatumByIndexes(\n  data: ParsedData | ParsedData['items'],\n  indexes: number[],\n): ItemDatum {\n  if (indexes.length === 0) return {} as ItemDatum;\n  const base = Array.isArray(data) ? data[indexes[0]] : data.items[indexes[0]];\n  if (indexes.length === 1) return base;\n\n  const path = indexes\n    .slice(1)\n    .map((i) => `children[${i}]`)\n    .join('.');\n\n  return get(base, path);\n}\n","import type {\n  NullableParsedDesignsOptions,\n  ParsedDesignsOptions,\n} from '../designs';\n\nexport function isNonNullableParsedDesignsOptions(\n  options: NullableParsedDesignsOptions,\n): options is ParsedDesignsOptions {\n  const { structure, item, items } = options;\n  if (!structure) return false;\n  if (!item) return false;\n  if (items.some((it) => !it)) return false;\n  return true;\n}\n","import type { FontWeightName } from '../types';\n\nconst GENERIC_FONT_FAMILIES = new Set([\n  'serif',\n  'sans-serif',\n  'monospace',\n  'cursive',\n  'fantasy',\n  'system-ui',\n  '-apple-system',\n  'ui-serif',\n  'ui-sans-serif',\n  'ui-monospace',\n  'ui-rounded',\n  'emoji',\n  'math',\n  'fangsong',\n]);\n\nexport function splitFontFamily(font: string): string[] {\n  const families: string[] = [];\n  let current = '';\n  let quote: '\"' | \"'\" | null = null;\n\n  const push = () => {\n    const value = current.trim();\n    if (value) families.push(value);\n    current = '';\n  };\n\n  for (let i = 0; i < font.length; i += 1) {\n    const char = font[i];\n    if (quote) {\n      current += char;\n      if (char === quote) quote = null;\n      continue;\n    }\n\n    if (char === '\"' || char === \"'\") {\n      quote = char;\n      current += char;\n      continue;\n    }\n\n    if (char === ',') {\n      push();\n      continue;\n    }\n\n    current += char;\n  }\n\n  push();\n  return families;\n}\n\nfunction stripWrappingQuotes(value: string) {\n  const trimmed = value.trim();\n  if (\n    (trimmed.startsWith('\"') && trimmed.endsWith('\"')) ||\n    (trimmed.startsWith(\"'\") && trimmed.endsWith(\"'\"))\n  ) {\n    return trimmed.slice(1, -1);\n  }\n  return trimmed;\n}\n\nfunction isWrappedInQuotes(value: string) {\n  const trimmed = value.trim();\n  return (\n    (trimmed.startsWith('\"') && trimmed.endsWith('\"')) ||\n    (trimmed.startsWith(\"'\") && trimmed.endsWith(\"'\"))\n  );\n}\n\nfunction needsQuoting(value: string) {\n  return /^\\d/.test(value) || /\\s/.test(value);\n}\n\nfunction encodeSingleFontFamily(font: string) {\n  const trimmed = font.trim();\n  if (!trimmed) return trimmed;\n  if (isWrappedInQuotes(trimmed)) return trimmed;\n  if (GENERIC_FONT_FAMILIES.has(trimmed.toLowerCase())) return trimmed;\n  if (!needsQuoting(trimmed)) return trimmed;\n\n  const quote = trimmed.includes('\"') && !trimmed.includes(\"'\") ? \"'\" : '\"';\n  return `${quote}${trimmed}${quote}`;\n}\n\nexport function decodeFontFamily(font: string) {\n  const families = splitFontFamily(font);\n  if (!families.length) return '';\n  if (families.length === 1) return stripWrappingQuotes(families[0]);\n  return families.map((family) => stripWrappingQuotes(family)).join(', ');\n}\n\nexport function encodeFontFamily(font: string) {\n  const families = splitFontFamily(font);\n  if (!families.length) return font.trim();\n  return families.map((family) => encodeSingleFontFamily(family)).join(', ');\n}\n\nconst FontWeightNameMap: Record<string, FontWeightName> = {\n  '100': 'thin',\n  hairline: 'thin',\n  thin: 'thin',\n  '200': 'extralight',\n  ultralight: 'extralight',\n  extralight: 'extralight',\n  '300': 'light',\n  light: 'light',\n  '400': 'regular',\n  normal: 'regular',\n  regular: 'regular',\n  '500': 'medium',\n  medium: 'medium',\n  '600': 'semibold',\n  demibold: 'semibold',\n  semibold: 'semibold',\n  '700': 'bold',\n  bold: 'bold',\n  '800': 'extrabold',\n  ultrabold: 'extrabold',\n  extrabold: 'extrabold',\n  '900': 'black',\n  heavy: 'black',\n  black: 'black',\n  '950': 'extrablack',\n  ultrablack: 'extrablack',\n  extrablack: 'extrablack',\n};\n\nexport function normalizeFontWeightName(\n  fontWeight: string | number,\n): FontWeightName {\n  const key = String(fontWeight).toLowerCase();\n  return FontWeightNameMap[key] || 'regular';\n}\n","// family -> weight -> style -> FontData\nconst fontRegistry = new Map();\nconst fontAliases = new Map();\n// \nlet defaultFontFamily = 'sans-serif';\nfunction resolveFontFamily(family) {\n    if (!family)\n        return family;\n    if (fontRegistry.has(family))\n        return family;\n    return fontAliases.get(family) || family;\n}\n/**\n * \n * \n *  Arial\n */\nconst fallbackFontData = {\n    fontFamily: 'sans-serif',\n    fontWeight: 400,\n    fontStyle: 'normal',\n    unitsPerEm: 2048,\n    metrics: {\n        ascender: 2189,\n        descender: -555,\n        lineGap: 0,\n    },\n    // ASCII \n    glyphs: {\n        '\"': 727,\n        '%': 1821,\n        \"'\": 391,\n        '(': 682,\n        ')': 682,\n        '*': 797,\n        '+': 1196,\n        '-': 682,\n        '<': 1196,\n        '=': 1196,\n        '>': 1196,\n        '@': 2079,\n        C: 1479,\n        D: 1479,\n        F: 1251,\n        G: 1593,\n        H: 1479,\n        J: 1024,\n        M: 1706,\n        N: 1479,\n        O: 1593,\n        Q: 1593,\n        R: 1479,\n        T: 1251,\n        U: 1479,\n        W: 1933,\n        Z: 1251,\n        '^': 961,\n        _: 1024,\n        '`': 682,\n        c: 1024,\n        i: 455,\n        j: 455,\n        k: 1024,\n        l: 455,\n        m: 1706,\n        r: 682,\n        s: 1024,\n        v: 1024,\n        w: 1479,\n        x: 1024,\n        y: 1024,\n        z: 1024,\n        '{': 684,\n        '|': 532,\n        '}': 684,\n        '~': 1196,\n    },\n    glyphsByWidth: {\n        569: ' !,./:;I[\\\\]ft',\n        1139: '#$0123456789?Labdeghnopqu',\n        1366: '&ABEKPSVXY',\n    },\n    defaultWidth: 1139,\n};\n/**\n * \n */\nfunction normalizeWeight(weight) {\n    if (weight === undefined || weight === 'normal')\n        return '400';\n    if (weight === 'bold')\n        return '700';\n    // \n    const namedWeights = {\n        thin: '100',\n        hairline: '100',\n        'extra-light': '200',\n        'ultra-light': '200',\n        light: '300',\n        regular: '400',\n        normal: '400',\n        medium: '500',\n        'semi-bold': '600',\n        semibold: '600',\n        'demi-bold': '600',\n        demibold: '600',\n        'extra-bold': '800',\n        extrabold: '800',\n        'ultra-bold': '800',\n        ultrabold: '800',\n        black: '900',\n        heavy: '900',\n        'extra-black': '950',\n        extrablack: '950',\n        'ultra-black': '950',\n        ultrablack: '950',\n        bolder: '900',\n        lighter: '300',\n    };\n    if (typeof weight === 'string') {\n        const normalized = weight.toLowerCase();\n        return namedWeights[normalized] || weight;\n    }\n    return String(weight);\n}\n/**\n * \n */\nfunction normalizeStyle(style) {\n    return style || 'normal';\n}\n/**\n * \n */\nexport function registerFont(data) {\n    const family = data.fontFamily;\n    const normalizedWeight = normalizeWeight(data.fontWeight);\n    const normalizedStyle = normalizeStyle(data.fontStyle);\n    if (data.aliases) {\n        for (const alias of data.aliases) {\n            if (!fontAliases.has(alias)) {\n                fontAliases.set(alias, family);\n            }\n        }\n    }\n    //  glyphsByWidth  glyphs\n    if (data.glyphsByWidth) {\n        const expandedGlyphs = { ...(data.glyphs || {}) };\n        for (const [widthOrChar, valueOrWidth] of Object.entries(data.glyphsByWidth)) {\n            if (typeof valueOrWidth === 'string') {\n                // width -> characters string\n                const width = Number(widthOrChar);\n                for (const char of valueOrWidth) {\n                    expandedGlyphs[char] = width;\n                }\n            }\n            else {\n                // char -> width ()\n                expandedGlyphs[widthOrChar] = valueOrWidth;\n            }\n        }\n        //  fontData  glyphs \n        data = {\n            ...data,\n            glyphs: expandedGlyphs,\n            //  glyphsByWidth\n            glyphsByWidth: undefined,\n        };\n    }\n    if (!fontRegistry.has(family)) {\n        fontRegistry.set(family, new Map());\n    }\n    const familyMap = fontRegistry.get(family);\n    if (!familyMap.has(normalizedWeight)) {\n        familyMap.set(normalizedWeight, new Map());\n    }\n    const weightMap = familyMap.get(normalizedWeight);\n    weightMap.set(normalizedStyle, data);\n}\n/**\n * \n */\nexport function setDefaultFontFamily(fontFamily) {\n    defaultFontFamily = fontFamily;\n}\n/**\n * \n * @param family \n * @param weight  normal (400)\n * @param style  normal\n */\nexport function getFontData(family, weight, style) {\n    const targetFamily = resolveFontFamily(family || defaultFontFamily);\n    const normalizedWeight = normalizeWeight(weight);\n    const normalizedStyle = normalizeStyle(style);\n    const familyMap = fontRegistry.get(targetFamily);\n    if (!familyMap) {\n        console.warn(`Font family \"${targetFamily}\" not registered, using fallback font data`);\n        return fallbackFontData;\n    }\n    // \n    let weightMap = familyMap.get(normalizedWeight);\n    if (weightMap) {\n        let fontData = weightMap.get(normalizedStyle);\n        if (fontData)\n            return fontData;\n        //  normal\n        if (normalizedStyle !== 'normal') {\n            fontData = weightMap.get('normal');\n            if (fontData)\n                return fontData;\n        }\n        // \n        const firstStyle = weightMap.values().next().value;\n        if (firstStyle)\n            return firstStyle;\n    }\n    //  400normal\n    weightMap = familyMap.get('400');\n    if (weightMap) {\n        let fontData = weightMap.get(normalizedStyle);\n        if (fontData)\n            return fontData;\n        //  normal \n        if (normalizedStyle !== 'normal') {\n            fontData = weightMap.get('normal');\n            if (fontData)\n                return fontData;\n        }\n        // \n        const firstStyle = weightMap.values().next().value;\n        if (firstStyle)\n            return firstStyle;\n    }\n    //  family \n    const firstWeightMap = familyMap.values().next().value;\n    if (firstWeightMap) {\n        const firstStyle = firstWeightMap.values().next().value;\n        if (firstStyle)\n            return firstStyle;\n    }\n    throw new Error(`No font data found for family \"${targetFamily}\" with weight \"${normalizedWeight}\" and style \"${normalizedStyle}\"`);\n}\n","import { getFontData } from './font.js';\n/**\n * \n */\nfunction applyTextTransform(text, transform) {\n    if (!transform || transform === 'none')\n        return text;\n    switch (transform) {\n        case 'uppercase':\n            return text.toUpperCase();\n        case 'lowercase':\n            return text.toLowerCase();\n        case 'capitalize':\n            return text\n                .split(' ')\n                .map((word) => {\n                if (word.length === 0)\n                    return word;\n                return word[0].toUpperCase() + word.slice(1).toLowerCase();\n            })\n                .join(' ');\n        default:\n            return text;\n    }\n}\nfunction normalizeFontSize(fontSize) {\n    if (fontSize === undefined) {\n        return 14;\n    }\n    if (typeof fontSize === 'number') {\n        return fontSize;\n    }\n    const parsed = parseFloat(fontSize);\n    return isNaN(parsed) ? 16 : parsed;\n}\n/**\n * \n */\nfunction calculateLineHeight(style, fontData) {\n    const fontSize = normalizeFontSize(style.fontSize);\n    const lineHeight = style.lineHeight;\n    if (lineHeight === undefined) {\n        // \n        const { ascender, descender, lineGap = 0 } = fontData.metrics;\n        const totalHeight = ascender - descender + lineGap;\n        return (totalHeight / fontData.unitsPerEm) * fontSize;\n    }\n    if (typeof lineHeight === 'number') {\n        // \n        return lineHeight * fontSize;\n    }\n    if (lineHeight.type === 'pixel') {\n        return lineHeight.value;\n    }\n    if (lineHeight.type === 'percent') {\n        return (lineHeight.value / 100) * fontSize;\n    }\n    return fontSize;\n}\n/**\n * \n */\nexport function measureText(text, style = {}) {\n    // 1. \n    const transformedText = applyTextTransform(text, style.textTransform);\n    // 2. \n    const fontData = getFontData(style.fontFamily, style.fontWeight, style.fontStyle);\n    const fontSize = normalizeFontSize(style.fontSize);\n    const letterSpacing = style.letterSpacing || 0;\n    const wordSpacing = style.wordSpacing || 0;\n    // 3. \n    let totalWidth = 0;\n    const chars = Array.from(transformedText); //  Unicode \n    for (let i = 0; i < chars.length; i++) {\n        const char = chars[i];\n        const nextChar = i < chars.length - 1 ? chars[i + 1] : undefined;\n        //  advance width\n        let advance = fontData.glyphs?.[char];\n        if (advance === undefined) {\n            advance = fontData.defaultWidth || fontData.unitsPerEm / 2;\n        }\n        // \n        const charWidth = (advance / fontData.unitsPerEm) * fontSize;\n        totalWidth += charWidth;\n        //  (kerning)\n        if (nextChar && fontData.kerning) {\n            const pair = char + nextChar;\n            const kernValue = fontData.kerning[pair];\n            if (kernValue !== undefined) {\n                totalWidth += (kernValue / fontData.unitsPerEm) * fontSize;\n            }\n        }\n        // \n        if (i < chars.length - 1) {\n            totalWidth += letterSpacing;\n        }\n        // \n        if (char === ' ') {\n            totalWidth += wordSpacing;\n        }\n    }\n    // 4. \n    const height = calculateLineHeight(style, fontData);\n    const { ascender } = fontData.metrics;\n    const baseline = (ascender / fontData.unitsPerEm) * fontSize;\n    return {\n        width: totalWidth,\n        height: height,\n        baseline: baseline,\n    };\n}\n","/**\n * Alibaba PuHuiTi 3.0 55 Regular\n * Font Weight: 400\n */\nexport default {\n    fontFamily: 'Alibaba PuHuiTi',\n    aliases: ['AlibabaPuHuiTi', 'AlibabaPuHuiTi-Regular'],\n    fontWeight: 400,\n    fontStyle: 'normal',\n    unitsPerEm: 1000,\n    metrics: {\n        ascender: 1060,\n        descender: -340,\n        lineGap: 0,\n    },\n    glyphs: {\n        ' ': 257,\n        '!': 361,\n        '\"': 405,\n        '#': 600,\n        '%': 821,\n        '&': 640,\n        '\\'': 253,\n        '(': 359,\n        ')': 359,\n        '*': 430,\n        ',': 302,\n        '-': 440,\n        '.': 302,\n        '/': 500,\n        ':': 378,\n        ';': 378,\n        '?': 431,\n        '@': 860,\n        'B': 620,\n        'C': 599,\n        'D': 699,\n        'F': 527,\n        'G': 685,\n        'H': 708,\n        'J': 271,\n        'K': 614,\n        'L': 507,\n        'M': 830,\n        'N': 737,\n        'P': 597,\n        'R': 614,\n        'S': 566,\n        'T': 528,\n        'V': 617,\n        'W': 898,\n        'X': 624,\n        'Y': 594,\n        'Z': 626,\n        '[': 294,\n        '\\\\': 510,\n        ']': 294,\n        '_': 500,\n        '`': 346,\n        'b': 635,\n        'c': 497,\n        'd': 635,\n        'f': 349,\n        'g': 636,\n        'k': 518,\n        'l': 286,\n        'm': 921,\n        'p': 635,\n        'q': 636,\n        'r': 379,\n        's': 479,\n        't': 337,\n        'v': 526,\n        'w': 828,\n        'x': 516,\n        'y': 527,\n        'z': 506,\n        '{': 299,\n        '|': 183,\n        '}': 299,\n        '': 257,\n        '': 357,\n        '': 183,\n        '': 479,\n        '': 346,\n        '': 806,\n        '': 483,\n        '': 511,\n        '': 440,\n        '': 404,\n        '': 346,\n        '': 363,\n        '': 346,\n        '': 593,\n        '': 357,\n        '': 346,\n        '': 445,\n        '': 511,\n        '': 902,\n        '': 914,\n        '': 902,\n        '': 431,\n        '': 889,\n        '': 599,\n        '': 719,\n        '': 737,\n        '': 594,\n        '': 597,\n        '': 610,\n        '': 926,\n        '': 497,\n        '': 527,\n        '': 635,\n        '': 527,\n        '': 599,\n        '': 497,\n        '': 599,\n        '': 497,\n        '': 599,\n        '': 497,\n        '': 599,\n        '': 497,\n        '': 699,\n        '': 640,\n        '': 719,\n        '': 635,\n        '': 685,\n        '': 636,\n        '': 685,\n        '': 636,\n        '': 685,\n        '': 636,\n        '': 685,\n        '': 636,\n        '': 708,\n        '': 708,\n        '': 545,\n        '': 536,\n        '': 271,\n        '': 614,\n        '': 518,\n        '': 518,\n        '': 507,\n        '': 286,\n        '': 507,\n        '': 286,\n        '': 507,\n        '': 290,\n        '': 507,\n        '': 291,\n        '': 507,\n        '': 286,\n        '': 737,\n        '': 737,\n        '': 737,\n        '': 669,\n        '': 737,\n        '': 987,\n        '': 917,\n        '': 614,\n        '': 379,\n        '': 614,\n        '': 379,\n        '': 614,\n        '': 379,\n        '': 566,\n        '': 479,\n        '': 566,\n        '': 479,\n        '': 566,\n        '': 479,\n        '': 566,\n        '': 479,\n        '': 528,\n        '': 337,\n        '': 528,\n        '': 340,\n        '': 528,\n        '': 337,\n        '': 898,\n        '': 828,\n        '': 594,\n        '': 527,\n        '': 594,\n        '': 626,\n        '': 506,\n        '': 626,\n        '': 506,\n        '': 626,\n        '': 506,\n        '': 310,\n        '': 719,\n        '': 608,\n        '': 265,\n        '': 614,\n        '': 609,\n        '': 609,\n        '': 609,\n        '': 609,\n        '': 609,\n        '': 889,\n        '': 926,\n        '': 566,\n        '': 479,\n        '': 528,\n        '': 337,\n        '': 255,\n        '': 255,\n        '': 378,\n        '': 346,\n        '': 346,\n        '': 670,\n        '': 357,\n        '': 628,\n        '': 779,\n        '': 346,\n        '': 765,\n        '': 726,\n        '': 765,\n        '': 312,\n        '': 620,\n        '': 507,\n        '': 626,\n        '': 708,\n        '': 614,\n        '': 617,\n        '': 830,\n        '': 737,\n        '': 708,\n        '': 597,\n        '': 596,\n        '': 528,\n        '': 594,\n        '': 831,\n        '': 624,\n        '': 804,\n        '': 594,\n        '': 509,\n        '': 643,\n        '': 312,\n        '': 593,\n        '': 610,\n        '': 526,\n        '': 509,\n        '': 465,\n        '': 643,\n        '': 638,\n        '': 312,\n        '': 518,\n        '': 514,\n        '': 526,\n        '': 465,\n        '': 616,\n        '': 619,\n        '': 497,\n        '': 639,\n        '': 437,\n        '': 593,\n        '': 774,\n        '': 509,\n        '': 745,\n        '': 782,\n        '': 312,\n        '': 593,\n        '': 593,\n        '': 782,\n        '': 440,\n        '': 440,\n        '': 495,\n        '': 684,\n        '': 684,\n        '': 500,\n        '': 270,\n        '': 270,\n        '': 270,\n        '': 270,\n        '': 784,\n        '': 784,\n        '': 468,\n        '': 500,\n        '': 500,\n        '': 308,\n        '': 1085,\n        '': 1174,\n        '': 256,\n        '': 472,\n        '': 689,\n        '': 256,\n        '': 472,\n        '': 689,\n        '': 312,\n        '': 312,\n        '': 589,\n        '': 433,\n        '': 500,\n        '': 120,\n        '': 407,\n        '': 407,\n        '': 407,\n        '': 225,\n        '': 225,\n        '': 486,\n        '': 407,\n        '': 407,\n        '': 407,\n        '': 225,\n        '': 225,\n        '': 486,\n        '': 599,\n        '': 527,\n        '': 600,\n        '': 921,\n        '': 625,\n        '': 1093,\n        '': 769,\n        '': 754,\n        '': 635,\n        '': 614,\n        '': 528,\n        '': 1288,\n        '': 950,\n        '': 685,\n        '': 576,\n        '': 599,\n        '': 576,\n        '': 700,\n        '': 528,\n        '': 750,\n        '': 683,\n        '': 577,\n        '': 620,\n        '': 915,\n        '': 825,\n        '': 868,\n        '': 385,\n        '': 1176,\n        '': 806,\n        '': 1022,\n        '': 903,\n        '': 903,\n        '': 930,\n        '': 931,\n        '': 931,\n        '': 871,\n        '': 1166,\n        '': 587,\n        '': 663,\n        '': 708,\n        '': 596,\n        '': 604,\n        '': 679,\n        '': 617,\n        '': 531,\n        '': 654,\n        '': 600,\n        '': 662,\n        '': 600,\n        '': 0,\n        '': 472,\n    },\n    glyphsByWidth: {\n        268: 'ij',\n        274: 'I',\n        406: '',\n        552: '+<=>^~',\n        556: 'E',\n        575: '$0123456789',\n        578: 'e',\n        612: 'a',\n        613: 'u',\n        618: 'hno',\n        667: 'A',\n        701: 'U',\n        743: 'OQ',\n        1000: '',\n    },\n    defaultWidth: 984,\n    kerning: {\n        '\"\"': -56,\n        '\"\\'': -57,\n        '\",': -179,\n        '\".': -179,\n        '\\'\"': -56,\n        '\\'\\'': -57,\n        '\\',': -179,\n        '\\'.': -179,\n        '(j': 60,\n        ',\"': -160,\n        ',\\'': -160,\n        ',1': -140,\n        ',7': -41,\n        ',9': -39,\n        '.\"': -160,\n        '.\\'': -160,\n        '.1': -140,\n        '.7': -41,\n        '.9': -39,\n        '//': -120,\n        '1,': -99,\n        '1.': -99,\n        '1:': -99,\n        '1;': -99,\n        '7,': -160,\n        '7.': -160,\n        '7:': -99,\n        '7;': -99,\n        ':1': -79,\n        ':7': -59,\n        ';1': -79,\n        ';7': -59,\n        'A\"': -100,\n        'A\\'': -100,\n        'AC': -20,\n        'AG': -20,\n        'AO': -20,\n        'AQ': -20,\n        'AT': -80,\n        'AU': -10,\n        'AV': -70,\n        'AW': -39,\n        'AY': -81,\n        'Af': -20,\n        'Al': -10,\n        'At': -20,\n        'Av': -20,\n        'Ay': -20,\n        'BC': -10,\n        'BG': -10,\n        'BO': -10,\n        'BQ': -10,\n        'BT': -40,\n        'BV': -20,\n        'BX': -20,\n        'BY': -21,\n        'D,': -59,\n        'D.': -59,\n        'DA': -20,\n        'DT': -36,\n        'DV': -30,\n        'DW': -19,\n        'DX': -20,\n        'DY': -40,\n        'DZ': -20,\n        'Da': -39,\n        'Ej': 19,\n        'F,': -159,\n        'F.': -159,\n        'FA': -40,\n        'Fa': -59,\n        'Fh': 1,\n        'Fk': 1,\n        'GV': -11,\n        'GY': -21,\n        'JJ': 7,\n        'KA': -19,\n        'KC': -20,\n        'KG': -20,\n        'KO': -20,\n        'KQ': -20,\n        'KT': -19,\n        'KU': -39,\n        'KV': -39,\n        'KW': -39,\n        'KY': -40,\n        'Kc': -39,\n        'Kd': -39,\n        'Ke': -39,\n        'Kg': -39,\n        'Kl': -39,\n        'Ko': -39,\n        'Kq': -39,\n        'Ks': -19,\n        'Kt': -10,\n        'Ku': -40,\n        'Kv': -60,\n        'Kw': -40,\n        'Ky': -60,\n        'L\"': -99,\n        'L\\'': -99,\n        'LA': 20,\n        'LC': -59,\n        'LG': -59,\n        'LO': -59,\n        'LQ': -59,\n        'LT': -79,\n        'LU': -19,\n        'LV': -79,\n        'LW': -39,\n        'LY': -100,\n        'Lv': -41,\n        'Lw': -21,\n        'Ly': -41,\n        'O,': -59,\n        'O.': -59,\n        'OA': -20,\n        'OT': -36,\n        'OV': -30,\n        'OW': -19,\n        'OX': -20,\n        'OY': -40,\n        'OZ': -20,\n        'Oa': -39,\n        'P,': -199,\n        'P.': -199,\n        'PA': -60,\n        'PT': -29,\n        'PV': -10,\n        'PW': -10,\n        'PX': -50,\n        'PY': -20,\n        'PZ': -39,\n        'Pa': -60,\n        'Q,': -59,\n        'Q.': -59,\n        'QA': -20,\n        'QJ': 7,\n        'QT': -36,\n        'QV': -30,\n        'QW': -19,\n        'QX': -20,\n        'QY': -40,\n        'QZ': -20,\n        'Qa': -39,\n        'RC': -15,\n        'RG': -15,\n        'RO': -15,\n        'RQ': -15,\n        'RT': -40,\n        'RU': -10,\n        'RV': -21,\n        'RW': -10,\n        'RX': -29,\n        'RY': -41,\n        'Rc': -20,\n        'Rd': -20,\n        'Re': -20,\n        'Rg': -20,\n        'Ro': -20,\n        'Rq': -20,\n        'Rt': -20,\n        'Ru': -10,\n        'Rv': -10,\n        'Rx': 20,\n        'Ry': -10,\n        'S,': -20,\n        'S.': -20,\n        'SS': -1,\n        'ST': -1,\n        'SV': -21,\n        'SW': -10,\n        'SY': -21,\n        'St': -1,\n        'Sv': -20,\n        'Sw': -10,\n        'Sx': -1,\n        'Sy': -20,\n        'T\"': 2,\n        'T\\'': 2,\n        'T,': -154,\n        'T.': -154,\n        'TA': -80,\n        'TC': -20,\n        'TG': -20,\n        'TO': -20,\n        'TQ': -20,\n        'TS': -1,\n        'Ta': -80,\n        'Tc': -59,\n        'Td': -59,\n        'Te': -59,\n        'Tg': -59,\n        'Ti': -20,\n        'Tj': -19,\n        'Tm': -59,\n        'Tn': -59,\n        'To': -59,\n        'Tp': -58,\n        'Tq': -59,\n        'Tr': -59,\n        'Ts': -60,\n        'Tt': 20,\n        'Tu': -79,\n        'Tv': -39,\n        'Tw': -19,\n        'Tx': -39,\n        'Ty': -39,\n        'Tz': -59,\n        'UA': -10,\n        'UX': -19,\n        'Ux': -1,\n        'V,': -140,\n        'V.': -140,\n        'V:': -41,\n        'V;': -41,\n        'VA': -70,\n        'VC': -30,\n        'VG': -30,\n        'VO': -30,\n        'VQ': -30,\n        'VS': -10,\n        'Va': -41,\n        'Vc': -21,\n        'Vd': -21,\n        'Ve': -21,\n        'Vg': -21,\n        'Vh': 1,\n        'Vk': 1,\n        'Vo': -21,\n        'Vq': -21,\n        'Vs': -21,\n        'Vv': -1,\n        'Vy': -1,\n        'W,': -79,\n        'W.': -79,\n        'W:': -39,\n        'W;': -39,\n        'WA': -40,\n        'WC': -19,\n        'WG': -19,\n        'WO': -19,\n        'WQ': -19,\n        'Wa': -40,\n        'Wc': -20,\n        'Wd': -20,\n        'We': -20,\n        'Wg': -20,\n        'Wo': -20,\n        'Wq': -20,\n        'Ws': -20,\n        'XA': -19,\n        'XC': -20,\n        'XG': -20,\n        'XO': -20,\n        'XQ': -20,\n        'XT': -19,\n        'XU': -39,\n        'XV': -39,\n        'XW': -39,\n        'XY': -40,\n        'Xc': -39,\n        'Xd': -39,\n        'Xe': -39,\n        'Xg': -39,\n        'Xl': -39,\n        'Xo': -39,\n        'Xq': -39,\n        'Xs': -19,\n        'Xt': -10,\n        'Xu': -40,\n        'Xv': -60,\n        'Xw': -40,\n        'Xy': -60,\n        'Y\"': 1,\n        'Y\\'': 1,\n        'Y,': -141,\n        'Y.': -141,\n        'Y:': -60,\n        'Y;': -60,\n        'YA': -81,\n        'YC': -40,\n        'YG': -40,\n        'YO': -40,\n        'YQ': -40,\n        'YS': -1,\n        'Ya': -101,\n        'Yc': -60,\n        'Yd': -60,\n        'Ye': -60,\n        'Yf': -1,\n        'Yg': -60,\n        'Yh': 1,\n        'Yi': -19,\n        'Yk': 1,\n        'Ym': -41,\n        'Yn': -41,\n        'Yo': -60,\n        'Yp': -40,\n        'Yq': -60,\n        'Yr': -41,\n        'Ys': -61,\n        'Yt': -1,\n        'Yu': -40,\n        'Yv': -40,\n        'Yx': -41,\n        'Yy': -40,\n        'Yz': -41,\n        'ZC': -20,\n        'ZG': -20,\n        'ZO': -20,\n        'ZQ': -20,\n        '[j': 80,\n        'aT': -60,\n        'aV': -21,\n        'aY': -61,\n        'av': -10,\n        'aw': -10,\n        'ay': -10,\n        'b,': -40,\n        'b.': -40,\n        'bT': -59,\n        'bV': -21,\n        'bW': -20,\n        'bX': -39,\n        'bY': -60,\n        'bv': -10,\n        'bx': -20,\n        'by': -10,\n        'e,': -20,\n        'e.': -20,\n        'eT': -59,\n        'eY': -40,\n        'ej': 20,\n        'f\"': 3,\n        'f\\'': 3,\n        'f)': 1,\n        'f*': 61,\n        'f,': -1,\n        'f.': -1,\n        'f?': 40,\n        'fT': 40,\n        'fV': 21,\n        'fW': 21,\n        'fX': 21,\n        'fY': 1,\n        'f]': 21,\n        'fa': -29,\n        'fc': -19,\n        'fd': -19,\n        'fe': -19,\n        'ff': 1,\n        'fg': -39,\n        'fh': -19,\n        'fi': -19,\n        'fj': -19,\n        'fk': -19,\n        'fl': -19,\n        'fo': -19,\n        'fq': -19,\n        'fs': -19,\n        'ft': 1,\n        'f}': 3,\n        'hT': -58,\n        'hY': -39,\n        'hv': -10,\n        'hy': -10,\n        'i\"': 2,\n        'i\\'': 2,\n        'i)': 2,\n        'i?': 3,\n        'iT': -20,\n        'i]': 41,\n        'i}': 22,\n        'jT': -20,\n        'kT': -39,\n        'kU': -1,\n        'kW': -20,\n        'ka': -20,\n        'kc': -20,\n        'kd': -20,\n        'ke': -20,\n        'kg': -20,\n        'kl': -20,\n        'ko': -20,\n        'kq': -20,\n        'ku': -10,\n        'lf': -20,\n        'lv': -19,\n        'lw': -10,\n        'ly': -19,\n        'mT': -58,\n        'mY': -39,\n        'mv': -10,\n        'my': -10,\n        'nT': -58,\n        'nY': -39,\n        'nv': -10,\n        'ny': -10,\n        'o,': -40,\n        'o.': -40,\n        'oT': -59,\n        'oV': -21,\n        'oW': -20,\n        'oX': -39,\n        'oY': -60,\n        'ov': -10,\n        'ox': -20,\n        'oy': -10,\n        'p,': -40,\n        'p.': -40,\n        'pT': -59,\n        'pV': -21,\n        'pW': -20,\n        'pX': -39,\n        'pY': -60,\n        'pv': -10,\n        'px': -20,\n        'py': -10,\n        'qT': -19,\n        'qY': -19,\n        'qj': 20,\n        'r\"': 2,\n        'r\\'': 2,\n        'r,': -90,\n        'r.': -90,\n        'ra': -49,\n        'rc': -19,\n        'rd': -19,\n        're': -19,\n        'rf': 1,\n        'ro': -19,\n        'rq': -19,\n        'rt': 20,\n        'sT': -59,\n        'sV': -21,\n        'sW': -20,\n        'sX': -19,\n        'sY': -60,\n        'sv': -19,\n        'sx': -10,\n        'sy': -19,\n        'tf': 1,\n        'uT': -40,\n        'uY': -19,\n        'v,': -90,\n        'v.': -90,\n        'vT': -39,\n        'vX': -39,\n        'va': -35,\n        'vc': -10,\n        'vd': -10,\n        've': -10,\n        'vo': -10,\n        'vq': -10,\n        'w,': -50,\n        'w.': -50,\n        'wT': -19,\n        'wX': -39,\n        'wa': -30,\n        'xT': -39,\n        'xU': -1,\n        'xW': -20,\n        'xa': -20,\n        'xc': -20,\n        'xd': -20,\n        'xe': -20,\n        'xg': -20,\n        'xl': -20,\n        'xo': -20,\n        'xq': -20,\n        'xu': -10,\n        'y,': -90,\n        'y.': -90,\n        'yT': -39,\n        'yX': -39,\n        'ya': -35,\n        'yc': -10,\n        'yd': -10,\n        'ye': -10,\n        'yo': -10,\n        'yq': -10,\n        'zT': -59,\n        '{h': 2,\n        '{j': 79,\n        '{k': 2,\n    },\n};\n","type SvgLoadPromise = Promise<unknown>;\n\nconst SVG_LOAD_PROMISE_MAP = new WeakMap<\n  SVGSVGElement,\n  Map<string, SvgLoadPromise>\n>();\n\nexport function getSvgLoadPromises(svg: SVGSVGElement): SvgLoadPromise[] {\n  const map = SVG_LOAD_PROMISE_MAP.get(svg);\n  return map ? Array.from(map.values()) : [];\n}\n\nexport function getSvgLoadPromise<T = unknown>(\n  svg: SVGSVGElement,\n  key: string,\n): Promise<T> | undefined {\n  return SVG_LOAD_PROMISE_MAP.get(svg)?.get(key) as Promise<T> | undefined;\n}\n\nexport function trackSvgLoadPromise<T>(\n  svg: SVGSVGElement,\n  key: string,\n  promise: Promise<T>,\n): Promise<T> {\n  let map = SVG_LOAD_PROMISE_MAP.get(svg);\n  if (!map) {\n    map = new Map();\n    SVG_LOAD_PROMISE_MAP.set(svg, map);\n  }\n\n  map.set(key, promise as SvgLoadPromise);\n\n  promise.finally(() => {\n    const map = SVG_LOAD_PROMISE_MAP.get(svg);\n    if (!map) return;\n    if (map.get(key) === promise) map.delete(key);\n    if (map.size === 0) SVG_LOAD_PROMISE_MAP.delete(svg);\n  });\n\n  return promise;\n}\n\nexport async function waitForSvgLoads(svg: SVGSVGElement): Promise<void> {\n  await Promise.resolve();\n  while (true) {\n    const promises = getSvgLoadPromises(svg);\n    if (!promises.length) break;\n    await Promise.allSettled(promises);\n    await Promise.resolve();\n  }\n}\n","import type { Font } from '../../types';\nimport {\n  decodeFontFamily,\n  encodeFontFamily,\n  splitFontFamily,\n} from '../../utils/font';\n\nconst FONT_REGISTRY: Map<string, Font> = new Map();\n\nexport let DEFAULT_FONT = 'Alibaba PuHuiTi';\n\nexport function getFont(font: string) {\n  const families = splitFontFamily(font);\n  for (const family of families) {\n    const fontObj = FONT_REGISTRY.get(decodeFontFamily(family));\n    if (fontObj) return fontObj;\n  }\n  return null;\n}\n\nexport function getFonts() {\n  return Array.from(FONT_REGISTRY.values());\n}\n\nexport function setDefaultFont(font: string) {\n  DEFAULT_FONT = encodeFontFamily(font);\n}\n\n/**\n * \n * @param font - \n * @returns \n * @example\n * ```js\n * registerFont({\n *  font: 'Alibaba PuHuiTi',\n *  name: '',\n *  url: {\n *    regular: 'https://assets.antv.antgroup.com/AlibabaPuHuiTi-Regular/result.css'\n *  }\n *})\n * ```\n * @description\n * https://chinese-font.netlify.app/zh-cn/post/simple_tutorial\n */\nexport function registerFont(font: Font): Font {\n  const f = { ...font };\n  FONT_REGISTRY.set(f.fontFamily, f);\n  f.fontFamily = encodeFontFamily(f.fontFamily);\n  return f;\n}\n\nexport function unregisterFont(font: string) {\n  const fontObj = getFont(font);\n  if (!fontObj) return null;\n  FONT_REGISTRY.delete(decodeFontFamily(fontObj.fontFamily));\n  return fontObj;\n}\n","import {\n  getSvgLoadPromise,\n  trackSvgLoadPromise,\n} from '../../resource/load-tracker';\nimport {\n  isNode,\n  join,\n  normalizeFontWeightName,\n  splitFontFamily,\n} from '../../utils';\nimport { getFont, getFonts } from './registry';\n\nexport function getFontURLs(font: string): string[] {\n  const urls = splitFontFamily(font).flatMap((family) => {\n    const config = getFont(family);\n    if (!config) return [];\n    const { baseUrl, fontWeight } = config;\n    return Object.values(fontWeight)\n      .filter((url): url is string => !!url)\n      .map((url) => join(baseUrl, url));\n  });\n\n  return Array.from(new Set(urls));\n}\n\nexport function getWoff2BaseURL(\n  font: string,\n  fontWeightName: string,\n): string | null {\n  const families = splitFontFamily(font);\n  let config = null as ReturnType<typeof getFont>;\n  for (const family of families) {\n    config = getFont(family);\n    if (config) break;\n  }\n  if (!config) return null;\n\n  const name = normalizeFontWeightName(fontWeightName);\n  const path = config.fontWeight[name];\n  if (!path) return null;\n  return join(config.baseUrl, path.replace(/\\/result.css$/, ''));\n}\n\nconst FONT_LOAD_MAP = new WeakMap<\n  HTMLHeadElement,\n  Map<string, HTMLLinkElement>\n>();\nconst FONT_PROMISE_MAP = new WeakMap<\n  HTMLHeadElement,\n  Map<string, Promise<void>>\n>();\n\nfunction trackFontPromise(\n  target: HTMLHeadElement,\n  id: string,\n  promise: Promise<void>,\n): Promise<void> {\n  let map = FONT_PROMISE_MAP.get(target);\n  if (!map) {\n    map = new Map();\n    FONT_PROMISE_MAP.set(target, map);\n  }\n\n  map.set(id, promise);\n\n  promise.finally(() => {\n    const map = FONT_PROMISE_MAP.get(target);\n    if (!map) return;\n    if (map.get(id) === promise) map.delete(id);\n    if (map.size === 0) FONT_PROMISE_MAP.delete(target);\n  });\n\n  return promise;\n}\n\nfunction isLinkLoaded(link: HTMLLinkElement): boolean {\n  if (link.getAttribute('data-infographic-font-loaded') === 'true') return true;\n  try {\n    return !!link.sheet;\n  } catch {\n    return false;\n  }\n}\n\nfunction getFontLoadPromise(\n  target: HTMLHeadElement,\n  id: string,\n  link?: HTMLLinkElement,\n): Promise<void> {\n  const existing = FONT_PROMISE_MAP.get(target)?.get(id);\n  if (existing) return existing;\n\n  if (!link || isLinkLoaded(link)) {\n    return trackFontPromise(target, id, Promise.resolve());\n  }\n\n  const promise = new Promise<void>((resolve) => {\n    const done = () => {\n      link.setAttribute('data-infographic-font-loaded', 'true');\n      resolve();\n    };\n    link.addEventListener('load', done, { once: true });\n    link.addEventListener('error', done, { once: true });\n  });\n\n  return trackFontPromise(target, id, promise);\n}\n\nexport function loadFont(svg: SVGSVGElement, font: string) {\n  const doc = svg.ownerDocument;\n  const target = doc?.head || document.head;\n  if (!target) return;\n\n  if (!FONT_LOAD_MAP.has(target)) FONT_LOAD_MAP.set(target, new Map());\n  const map = FONT_LOAD_MAP.get(target)!;\n\n  const urls = getFontURLs(font);\n  if (!urls.length) return;\n\n  const links: HTMLLinkElement[] = [];\n  urls.forEach((url) => {\n    const id = `${font}-${url}`;\n    const promiseKey = `font:${id}`;\n    if (getSvgLoadPromise<void>(svg, promiseKey)) return;\n\n    let link = map.get(id);\n    if (!link) {\n      link = doc.createElement('link');\n      link.id = id;\n      link.rel = 'stylesheet';\n      link.href = url;\n      links.push(link);\n      map.set(id, link);\n    }\n\n    const promise = getFontLoadPromise(target, id, link);\n    trackSvgLoadPromise(svg, promiseKey, promise);\n  });\n\n  if (!links.length) return;\n\n  if (target.tagName === 'HEAD') {\n    links.forEach((link) => target.appendChild(link));\n  }\n}\n\nexport function loadFonts(svg: SVGSVGElement) {\n  if (isNode) return;\n  const fonts = getFonts();\n  fonts.forEach((font) => loadFont(svg, font.fontFamily));\n}\n","import type { Font } from '../../types';\n\nconst BASE_FONT_URL = 'https://assets.antv.antgroup.com';\n\nconst getUrl = (name: string) => `${name}/result.css`;\n\nexport const BUILT_IN_FONTS: Font[] = [\n  {\n    fontFamily: 'Alibaba PuHuiTi',\n    name: '',\n    baseUrl: BASE_FONT_URL,\n    fontWeight: {\n      regular: getUrl('AlibabaPuHuiTi-Regular'),\n      bold: getUrl('AlibabaPuHuiTi-Bold'),\n    },\n  },\n  {\n    fontFamily: 'Source Han Sans',\n    name: '',\n    baseUrl: BASE_FONT_URL,\n    fontWeight: { regular: getUrl('SourceHanSansCN-Regular') },\n  },\n  {\n    fontFamily: 'Source Han Serif',\n    name: '',\n    baseUrl: BASE_FONT_URL,\n    fontWeight: { regular: getUrl('SourceHanSerifCN-Regular') },\n  },\n  {\n    fontFamily: 'LXGW WenKai',\n    name: '',\n    baseUrl: BASE_FONT_URL,\n    fontWeight: { regular: getUrl('LXGWWenKai-Regular') },\n  },\n  {\n    fontFamily: '851tegakizatsu',\n    name: '',\n    baseUrl: BASE_FONT_URL,\n    fontWeight: { regular: getUrl('851tegakizatsu-Regular') },\n  },\n];\n","export { getFontURLs, getWoff2BaseURL, loadFont, loadFonts } from './loader';\nexport {\n  DEFAULT_FONT,\n  getFont,\n  getFonts,\n  registerFont,\n  setDefaultFont,\n} from './registry';\n\nimport { BUILT_IN_FONTS } from './built-in';\nimport { registerFont } from './registry';\n\nBUILT_IN_FONTS.forEach(registerFont);\n","import type { Palette } from './types';\n\nconst PALETTE_REGISTRY = new Map<string, Palette>();\n\nexport function registerPalette(name: string, palette: Palette) {\n  PALETTE_REGISTRY.set(name, palette);\n}\n\nexport function getPalette(type: string): Palette | undefined {\n  return PALETTE_REGISTRY.get(type);\n}\n\nexport function getPalettes(): Record<string, Palette> {\n  return Object.fromEntries(PALETTE_REGISTRY);\n}\n","import { registerPalette } from './registry';\nimport type { Palette } from './types';\n\nexport const antv: Palette = [\n  '#1783FF',\n  '#00C9C9',\n  '#F0884D',\n  '#D580FF',\n  '#7863FF',\n  '#60C42D',\n  '#BD8F24',\n  '#FF80CA',\n  '#2491B3',\n  '#17C76F',\n  '#70CAF8',\n];\nregisterPalette('antv', antv);\n\nexport const spectral: Palette = (_, index, count) => {\n  const colors = [\n    ['#fc8d59', '#ffffbf', '#99d594'],\n    ['#d7191c', '#fdae61', '#abdda4', '#2b83ba'],\n    ['#d7191c', '#fdae61', '#ffffbf', '#abdda4', '#2b83ba'],\n    ['#d53e4f', '#fc8d59', '#fee08b', '#e6f598', '#99d594', '#3288bd'],\n    [\n      '#d53e4f',\n      '#fc8d59',\n      '#fee08b',\n      '#ffffbf',\n      '#e6f598',\n      '#99d594',\n      '#3288bd',\n    ],\n    [\n      '#d53e4f',\n      '#f46d43',\n      '#fdae61',\n      '#fee08b',\n      '#e6f598',\n      '#abdda4',\n      '#66c2a5',\n      '#3288bd',\n    ],\n    [\n      '#d53e4f',\n      '#f46d43',\n      '#fdae61',\n      '#fee08b',\n      '#ffffbf',\n      '#e6f598',\n      '#abdda4',\n      '#66c2a5',\n      '#3288bd',\n    ],\n    [\n      '#9e0142',\n      '#d53e4f',\n      '#f46d43',\n      '#fdae61',\n      '#fee08b',\n      '#e6f598',\n      '#abdda4',\n      '#66c2a5',\n      '#3288bd',\n      '#5e4fa2',\n    ],\n    [\n      '#9e0142',\n      '#d53e4f',\n      '#f46d43',\n      '#fdae61',\n      '#fee08b',\n      '#ffffbf',\n      '#e6f598',\n      '#abdda4',\n      '#66c2a5',\n      '#3288bd',\n      '#5e4fa2',\n    ],\n  ];\n\n  const size = Math.min(Math.max(count, 3), 11);\n  return colors[size - 3][index % size];\n};\n\nregisterPalette('spectral', spectral);\n","import { getPalette } from './registry';\nimport type { Palette } from './types';\n\nexport const getPaletteColor = (\n  args: string | Palette = [],\n  indexes: number[],\n  total?: number,\n) => {\n  const palette = typeof args === 'string' ? getPalette(args) || [] : args;\n  const index = indexes[0] ?? 0;\n\n  if (typeof palette === 'function') {\n    const ratio = total ? index / total : 0;\n    return palette(ratio, index, total ?? 0);\n  }\n\n  if (Array.isArray(palette)) {\n    if (palette.length === 0) return;\n    return palette[index % palette.length] as string;\n  }\n};\n","import type { ParsedInfographicOptions } from '../../options';\nimport { createElement, getElementByRole } from '../../utils';\nimport { ElementTypeEnum } from '../constants';\n\nexport function renderBackground(\n  svg: SVGSVGElement,\n  options: ParsedInfographicOptions,\n): void {\n  if (options.svg?.background === false) return;\n  const {\n    themeConfig: { colorBg: background },\n  } = options;\n  if (!background) return;\n  const container = svg.parentElement;\n\n  if (container) container.style.backgroundColor = background || 'none';\n  const element = getElementByRole(svg, ElementTypeEnum.Background);\n\n  svg.style.backgroundColor = background;\n\n  if (element) {\n    element.setAttribute('fill', background);\n  } else if (svg.viewBox?.baseVal) {\n    const { x, y, width, height } = svg.viewBox.baseVal;\n\n    const rect = createElement('rect', {\n      x,\n      y,\n      width,\n      height,\n      fill: background,\n      'data-element-type': ElementTypeEnum.Background,\n    });\n    svg.prepend(rect);\n  }\n}\n","import type { DynamicAttributes } from '../../themes';\n\nexport function parseDynamicAttributes<T extends object>(\n  node: SVGElement,\n  attributes: DynamicAttributes<T>,\n): T {\n  const attrs = Object.entries(attributes).reduce((acc, [key, value]) => {\n    if (typeof value === 'function') {\n      const staticValue = value(node.getAttribute(key), node);\n      if (staticValue !== undefined && staticValue !== null)\n        acc[key as keyof T] = staticValue;\n    } else {\n      Object.assign(acc, { [key]: value });\n    }\n    return acc;\n  }, {} as T);\n\n  return attrs;\n}\n","export function getSafetyId(id: string) {\n  return id.replace(/#|%|\\.| |\\/|\\(|\\)/g, '').replace(/,/g, '-');\n}\n","import type { DynamicAttributes } from '../../themes';\nimport type { BaseAttributes } from '../../types';\nimport { setAttributes, traverse } from '../../utils';\nimport { parseDynamicAttributes } from '../utils';\n\nexport function renderBaseElement(\n  svg: SVGSVGElement,\n  attrs?: DynamicAttributes<BaseAttributes>,\n) {\n  if (attrs && Object.keys(attrs).length > 0) {\n    traverse(svg, (element) => {\n      const parsedAttrs = parseDynamicAttributes(element, attrs);\n      setAttributes(element, parsedAttrs);\n    });\n  }\n}\n","import {\n  createElement,\n  getAttributes,\n  parseSVG,\n  setAttributes,\n  setElementRole,\n} from '../../utils';\n\nconst ADD_ICON_ID = 'btn-add-icon';\nconst REMOVE_ICON_ID = 'btn-remove-icon';\n\nexport function renderButtonsGroup(svg: SVGSVGElement, group: SVGGElement) {\n  setAttributes(group, { display: 'none' });\n\n  const addBtns = group.querySelectorAll<SVGRectElement>('[id^=\"btn-add-\"]');\n  const removeBtns = group.querySelectorAll<SVGRectElement>(\n    '[id^=\"btn-remove-\"]',\n  );\n\n  defineButtonIcon(svg);\n  addBtns.forEach(renderAddButton);\n  removeBtns.forEach(renderRemoveButton);\n}\n\nconst btnIconDefRole = 'btn-icon-defs';\nfunction defineButtonIcon(svg: SVGSVGElement) {\n  const defs = createElement('defs');\n  setElementRole(defs, btnIconDefRole);\n\n  const addIconSymbol =\n    parseSVG(`<symbol class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n  <path\n    d=\"M512 1024C229.216 1024 0 794.784 0 512S229.216 0 512 0s512 229.216 512 512-229.216 512-512 512z m0-960C264.576 64 64 264.576 64 512s200.576 448 448 448 448-200.576 448-448S759.424 64 512 64z m192 480h-160v160a32 32 0 0 1-64 0v-160h-160a32 32 0 0 1 0-64h160v-160a32 32 0 0 1 64 0v160h160a32 32 0 0 1 0 64z\"\n    fill=\"#339900\"></path>\n</symbol>`);\n  if (addIconSymbol) {\n    addIconSymbol.setAttribute('id', ADD_ICON_ID);\n    defs.appendChild(addIconSymbol);\n  }\n\n  const removeIconSymbol =\n    parseSVG(`<symbol viewBox=\"0 0 1025 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\">\n  <path d=\"M874.971429 149.942857C776.228571 54.857143 648.228571 0 512.914286 0S245.942857 54.857143 150.857143 149.942857c-201.142857 201.142857-201.142857 522.971429 0 724.114286C245.942857 969.142857 377.6 1024 512.914286 1024s266.971429-54.857143 362.057143-149.942857c201.142857-201.142857 201.142857-522.971429 0-724.114286m-51.2 672.914286C739.657143 906.971429 629.942857 950.857143 512.914286 950.857143s-226.742857-43.885714-310.857143-128c-171.885714-171.885714-171.885714-449.828571 0-621.714286C286.171429 117.028571 395.885714 73.142857 512.914286 73.142857s226.742857 43.885714 310.857143 128c171.885714 171.885714 171.885714 449.828571 0 621.714286\" fill=\"#E63C33\"></path>\n  <path d=\"M772.571429 475.428571H253.257143c-21.942857 0-36.571429 14.628571-36.571429 36.571429 0 10.971429 3.657143 18.285714 10.971429 25.6s14.628571 10.971429 25.6 10.971429H768.914286c21.942857 0 36.571429-14.628571 36.571428-36.571429s-14.628571-36.571429-32.914285-36.571429\" fill=\"#E63C33\"></path>\n</symbol>`);\n  if (removeIconSymbol) {\n    removeIconSymbol.setAttribute('id', REMOVE_ICON_ID);\n    defs.appendChild(removeIconSymbol);\n  }\n\n  svg.prepend(defs);\n}\n\nfunction renderButtonIcon(node: SVGElement, name: string) {\n  const {\n    id,\n    x = 0,\n    y = 0,\n    width = 0,\n    height = 0,\n  } = getAttributes(node, ['id', 'x', 'y', 'width', 'height']);\n\n  const group = createElement('g', {\n    id,\n    class: 'btn-group',\n    transform: `translate(${x}, ${y})`,\n  });\n\n  const dataItems = node.getAttribute('data-items');\n  if (dataItems) {\n    group.setAttribute('data-items', dataItems);\n  }\n\n  const r = Math.max(+width!, +height!) / 2;\n  const bkg = createElement('circle', {\n    cx: r,\n    cy: r,\n    r,\n    fill: '#fff',\n    stroke: 'transparent',\n  });\n  group.appendChild(bkg);\n\n  const icon = createElement('use', {\n    href: `#${name}`,\n    width,\n    height,\n  });\n  group.appendChild(icon);\n  group.style.cursor = 'pointer';\n  node.replaceWith(group);\n}\n\nfunction renderAddButton(node: SVGElement) {\n  renderButtonIcon(node, ADD_ICON_ID);\n}\n\nfunction renderRemoveButton(node: SVGElement) {\n  renderButtonIcon(node, REMOVE_ICON_ID);\n}\n","import { parseSVG } from '../../utils';\n\nfunction isImageBase64Resource(resource: string): boolean {\n  return resource.startsWith('data:');\n}\n\nexport async function loadImageBase64Resource(data: string) {\n  if (!data || !isImageBase64Resource(data)) return null;\n\n  const mimeType = data.match(/^data:([^;]+)/)?.[1];\n  if (!mimeType) return null;\n\n  const analysis = () => {\n    return new Promise<{ width: number; height: number; hasAlpha: boolean }>(\n      (resolve, reject) => {\n        const img = new Image();\n        img.onload = () => {\n          const width = img.naturalWidth;\n          const height = img.naturalHeight;\n\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n\n          if (!ctx) {\n            return resolve({ width, height, hasAlpha: false });\n          }\n          // skip analysis for jpeg/jpg/webp/gif\n          if (\n            ['image/jpeg', 'image/jpg', 'image/webp', 'image/gif'].includes(\n              mimeType,\n            )\n          ) {\n            return resolve({ width, height, hasAlpha: false });\n          }\n\n          canvas.width = width;\n          canvas.height = height;\n          ctx.drawImage(img, 0, 0);\n\n          let hasAlpha = false;\n          const step = 10;\n\n          for (let x = 0; x < width; x += step) {\n            if (hasAlpha) break;\n            for (let y = 0; y < height; y += step) {\n              const imageData = ctx.getImageData(x, y, 1, 1);\n              if (imageData.data[3] < 255) {\n                hasAlpha = true;\n                break;\n              }\n            }\n          }\n\n          resolve({ width, height, hasAlpha });\n        };\n        img.onerror = () => reject(new Error('Failed to analysis image'));\n        img.src = data;\n      },\n    );\n  };\n\n  const { width, height, hasAlpha } = await analysis();\n\n  const getPreserveAspectRatio = () => {\n    if (hasAlpha) return 'xMidYMid meet';\n\n    if (mimeType?.includes('image/gif') || mimeType?.includes('image/svg')) {\n      return 'xMidYMid meet';\n    }\n\n    const minDimension = Math.min(width, height);\n    if (minDimension <= 200) return 'xMidYMid meet';\n\n    const aspectRatio = width / height;\n    if (aspectRatio >= 0.6 && aspectRatio <= 1.67) return 'xMidYMid meet';\n    if (aspectRatio < 0.3 || aspectRatio > 3.33) return 'xMidYMid meet';\n\n    return 'xMidYMid slice';\n  };\n\n  const preserveAspectRatio = getPreserveAspectRatio();\n\n  return parseSVG<SVGSymbolElement>(`\n<symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${width} ${height}\" preserveAspectRatio=\"${preserveAspectRatio}\">\n  <image href=\"${data}\" width=\"${width}\" height=\"${height}\" />\n</symbol>`);\n}\n","import { parseSVG } from '../../utils';\n\nfunction isSVGResource(resource: string): boolean {\n  const trimmedResource = resource.trim();\n  return (\n    /^(?:<\\?xml[^>]*>\\s*)?<svg[\\s>]/i.test(trimmedResource) ||\n    trimmedResource.startsWith('<symbol')\n  );\n}\n\nexport function loadSVGResource(data: string) {\n  if (!data || !isSVGResource(data)) return null;\n  const str = data\n    .replace(/<svg(?=[\\s/>])/i, '<symbol')\n    .replace(/<\\/svg>/i, '</symbol>');\n  return parseSVG(str);\n}\n","import { fetchWithCache } from '../../utils';\nimport { loadImageBase64Resource } from './image';\nimport { loadSVGResource } from './svg';\n\nfunction isRemoteResource(resource: string): boolean {\n  try {\n    return Boolean(new URL(resource));\n  } catch {\n    return false;\n  }\n}\n\nfunction shouldParseAsSVG(contentType: string, format?: string) {\n  const normalized = contentType.toLowerCase();\n  if (normalized.includes('image/svg')) return true;\n  if (!contentType && format === 'svg') return true;\n  return false;\n}\n\nexport async function loadRemoteResource(resource: string, format?: string) {\n  if (!resource || !isRemoteResource(resource)) return null;\n\n  const response = await fetchWithCache(resource);\n  if (!response.ok) throw new Error('Failed to load resource');\n\n  const contentType = response.headers.get('Content-Type') || '';\n\n  if (shouldParseAsSVG(contentType, format)) {\n    const svgText = await response.text();\n    return loadSVGResource(svgText);\n  }\n\n  const blob = await response.blob();\n  const base64 = await blobToBase64(blob);\n\n  return loadImageBase64Resource(base64);\n}\n\nfunction blobToBase64(blob: Blob): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      resolve(reader.result as string);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n","import { ICON_SERVICE_URL } from '../../constants';\nimport { fetchWithCache } from '../../utils';\nimport { loadImageBase64Resource } from './image';\nimport { loadRemoteResource } from './remote';\nimport { loadSVGResource } from './svg';\n\nconst queryIcon = async (query: string): Promise<string | null> => {\n  try {\n    const params = new URLSearchParams({ text: query, topK: '1' });\n    const url = `${ICON_SERVICE_URL}?${params.toString()}`;\n    const response = await fetchWithCache(url);\n    if (!response.ok) return null;\n    const result = await response.json();\n    if (!result?.status || !Array.isArray(result.data?.data)) return null;\n    return (result.data.data[0] as string) || null;\n  } catch (error) {\n    console.error(`Failed to query icon for \"${query}\":`, error);\n    return null;\n  }\n};\n\nfunction isDataURI(resource: string): boolean {\n  return resource.startsWith('data:');\n}\n\nfunction looksLikeSVG(resource: string): boolean {\n  const str = resource.trim();\n  return str.startsWith('<svg') || str.startsWith('<symbol');\n}\n\nexport async function loadSearchResource(query: string, format?: string) {\n  if (!query) return null;\n  const result = await queryIcon(query);\n  if (!result) return null;\n\n  if (looksLikeSVG(result)) return loadSVGResource(result);\n\n  if (isDataURI(result)) {\n    const mimeType = result.match(/^data:([^;]+)/)?.[1] || '';\n    const isBase64 = result.includes(';base64,');\n    if (mimeType === 'image/svg+xml' && !isBase64) {\n      const commaIndex = result.indexOf(',');\n      const svgText = commaIndex >= 0 ? result.slice(commaIndex + 1) : result;\n      return loadSVGResource(svgText);\n    }\n    if (mimeType === 'image/svg+xml' && format === 'svg' && isBase64) {\n      return loadImageBase64Resource(result);\n    }\n    return loadImageBase64Resource(result);\n  }\n\n  return loadRemoteResource(result, format);\n}\n","import type { ResourceLoader } from './types';\n\nlet customResourceLoader: ResourceLoader | null = null;\n\nexport function registerResourceLoader(loader: ResourceLoader) {\n  customResourceLoader = loader;\n}\n\nexport function getCustomResourceLoader(): ResourceLoader | null {\n  return customResourceLoader;\n}\n","import type { ResourceConfig } from '../types';\n\nexport function parseDataURI(resource: string): ResourceConfig | null {\n  if (!resource.startsWith('data:')) return null;\n  const commaIndex = resource.indexOf(',');\n  if (commaIndex === -1) return null;\n\n  const header = resource.slice(5, commaIndex);\n  const data = resource.slice(commaIndex + 1);\n  const parts = header.split(';');\n  const mimeType = parts[0];\n  const isBase64 = parts.includes('base64');\n\n  if (mimeType === 'image/svg+xml' && !isBase64) {\n    const decoded = data.startsWith('%3C') ? decodeURIComponent(data) : data;\n    return {\n      source: 'inline',\n      format: 'svg',\n      encoding: 'raw',\n      data: decoded,\n    };\n  }\n\n  if (mimeType.startsWith('image/')) {\n    const format = mimeType === 'image/svg+xml' ? 'svg' : 'image';\n    return {\n      source: 'inline',\n      format,\n      encoding: isBase64 ? 'base64' : 'data-uri',\n      data: resource,\n    };\n  }\n\n  return null;\n}\n","import type { ResourceConfig, ResourceFormat } from '../types';\nimport { parseDataURI } from './data-uri';\n\nconst KNOWN_FORMATS = new Set(['svg', 'png', 'jpg', 'jpeg', 'webp', 'gif']);\n\nfunction looksLikeSVG(resource: string) {\n  const str = resource.trim();\n  return str.startsWith('<svg') || str.startsWith('<symbol');\n}\n\nfunction inferFormatFromUrl(url: string): ResourceFormat | undefined {\n  const lower = url.toLowerCase();\n  if (lower.endsWith('.svg') || lower.includes('.svg?')) return 'svg';\n  if (\n    lower.endsWith('.png') ||\n    lower.endsWith('.jpg') ||\n    lower.endsWith('.jpeg') ||\n    lower.endsWith('.webp') ||\n    lower.endsWith('.gif')\n  ) {\n    return 'image';\n  }\n  return undefined;\n}\n\nfunction parseRefResource(resource: string): ResourceConfig | null {\n  if (!resource.startsWith('ref:')) return null;\n  const rest = resource.slice(4);\n  const [source, ...restParts] = rest.split(':');\n  if (!source || restParts.length === 0) return null;\n\n  let format: string | undefined;\n  if (restParts.length > 1 && KNOWN_FORMATS.has(restParts[0].toLowerCase())) {\n    format = restParts.shift()?.toLowerCase();\n  }\n\n  const payload = restParts.join(':');\n  if (!payload) return null;\n\n  const normalizedSource = source === 'url' ? 'remote' : source;\n\n  if (normalizedSource === 'remote') {\n    return {\n      source: 'remote',\n      format: format || inferFormatFromUrl(payload) || undefined,\n      data: payload,\n    };\n  }\n\n  if (normalizedSource === 'search') {\n    return {\n      source: 'search',\n      format: format || 'svg',\n      data: payload,\n    };\n  }\n\n  if (normalizedSource === 'svg') {\n    return { source: 'inline', format: 'svg', data: payload, encoding: 'raw' };\n  }\n\n  return { source: 'custom', data: resource, format };\n}\n\nexport function parseResourceConfig(\n  config: string | ResourceConfig,\n): ResourceConfig | null {\n  if (!config) return null;\n  if (typeof config !== 'string') {\n    if ((config as ResourceConfig).source) return config as ResourceConfig;\n    const legacy = config as any;\n    if (legacy.type === 'image') {\n      return { source: 'inline', format: 'image', data: legacy.data };\n    }\n    if (legacy.type === 'svg') {\n      return {\n        source: 'inline',\n        format: 'svg',\n        encoding: 'raw',\n        data: legacy.data,\n      };\n    }\n    if (legacy.type === 'remote') {\n      return { source: 'remote', format: legacy.format, data: legacy.data };\n    }\n    if (legacy.type === 'search') {\n      return {\n        source: 'search',\n        format: legacy.format || 'svg',\n        data: legacy.data,\n      };\n    }\n    if (legacy.type === 'custom') {\n      return { source: 'custom', data: legacy.data };\n    }\n    return null;\n  }\n\n  const dataURIConfig = parseDataURI(config);\n  if (dataURIConfig) return dataURIConfig;\n\n  const refConfig = parseRefResource(config);\n  if (refConfig) return refConfig;\n\n  if (looksLikeSVG(config)) {\n    return { source: 'inline', format: 'svg', encoding: 'raw', data: config };\n  }\n\n  return { source: 'custom', data: config };\n}\n","import { getSimpleHash } from '../../utils';\nimport type { ResourceConfig } from '../types';\nimport { parseResourceConfig } from './parser';\n\nexport function getResourceId(config: string | ResourceConfig): string | null {\n  const cfg = typeof config === 'string' ? parseResourceConfig(config) : config;\n  if (!cfg) return null;\n  return 'rsc-' + getSimpleHash(JSON.stringify(cfg));\n}\n\nexport function getResourceHref(config: string | ResourceConfig) {\n  const id = getResourceId(config);\n  if (!id) return null;\n  return `#${id}`;\n}\n","import type { ItemDatum } from '../types';\nimport { getOrCreateDefs } from '../utils';\nimport { getSvgLoadPromise, trackSvgLoadPromise } from './load-tracker';\nimport {\n  loadImageBase64Resource,\n  loadRemoteResource,\n  loadSearchResource,\n  loadSVGResource,\n} from './loaders';\nimport { getCustomResourceLoader } from './registry';\nimport type { Resource, ResourceConfig, ResourceScene } from './types';\nimport { getResourceId, parseResourceConfig } from './utils';\n\nasync function getResource(\n  scene: ResourceScene,\n  config: string | ResourceConfig,\n  datum?: ItemDatum,\n): Promise<Resource | null> {\n  const cfg = parseResourceConfig(config);\n  if (!cfg) return null;\n  cfg.scene ||= scene;\n  const { source, data, format, encoding } = cfg;\n\n  let resource: Resource | null = null;\n  try {\n    if (source === 'inline') {\n      const isDataURI = data.startsWith('data:');\n      if (format === 'svg' && encoding === 'raw') {\n        resource = loadSVGResource(data);\n      } else if (format === 'svg' && isDataURI) {\n        resource = await loadImageBase64Resource(data);\n      } else if (isDataURI || format === 'image') {\n        resource = await loadImageBase64Resource(data);\n      } else {\n        resource = loadSVGResource(data);\n      }\n    } else if (source === 'remote') {\n      resource = await loadRemoteResource(data, format);\n    } else if (source === 'search') {\n      resource = await loadSearchResource(data, format);\n    } else {\n      const customLoader = getCustomResourceLoader();\n      if (customLoader) resource = await customLoader(cfg);\n    }\n  } catch {\n    resource = null;\n  }\n\n  if (resource) return resource;\n\n  return await loadSearchResource(getFallbackQuery(cfg, scene, datum), format);\n}\n\nconst RESOURCE_MAP = new Map<string, Resource>();\nconst RESOURCE_LOAD_MAP = new WeakMap<SVGSVGElement, Map<string, SVGElement>>();\n\n/**\n * load resource into svg defs\n * @returns resource ref id\n */\nexport async function loadResource(\n  svg: SVGSVGElement | null,\n  scene: ResourceScene,\n  config: string | ResourceConfig,\n  datum?: ItemDatum,\n): Promise<string | null> {\n  if (!svg) return null;\n  const cfg = parseResourceConfig(config);\n  if (!cfg) return null;\n  const id = getResourceId(cfg)!;\n  const promiseKey = `resource:${id}`;\n\n  const loadedMap = RESOURCE_LOAD_MAP.get(svg);\n  if (loadedMap?.has(id)) return id;\n\n  const existingPromise = getSvgLoadPromise<string | null>(svg, promiseKey);\n  if (existingPromise) return await existingPromise;\n\n  const loadPromise = (async () => {\n    const resource = RESOURCE_MAP.has(id)\n      ? RESOURCE_MAP.get(id) || null\n      : await getResource(scene, cfg, datum);\n\n    if (!resource) return null;\n\n    if (!RESOURCE_LOAD_MAP.has(svg)) RESOURCE_LOAD_MAP.set(svg, new Map());\n    const map = RESOURCE_LOAD_MAP.get(svg)!;\n    if (map.has(id)) return id;\n\n    const defs = getOrCreateDefs(svg);\n    resource.id = id;\n    defs.appendChild(resource);\n    map.set(id, resource);\n\n    return id;\n  })();\n  trackSvgLoadPromise(svg, promiseKey, loadPromise);\n\n  return await loadPromise;\n}\n\nexport { getSvgLoadPromises, waitForSvgLoads } from './load-tracker';\n\nfunction getFallbackQuery(\n  cfg: ResourceConfig,\n  scene: ResourceScene,\n  datum?: ItemDatum,\n): string {\n  const defaultQuery = scene === 'illus' ? 'illustration' : 'icon';\n  const datumQuery =\n    normalizeQuery(cfg.data) ||\n    normalizeQuery(datum?.label) ||\n    normalizeQuery(datum?.desc);\n  if (datumQuery) return datumQuery;\n\n  const data = normalizeQuery(cfg.data);\n  if (!data) return defaultQuery;\n  if (cfg.source === 'inline') return defaultQuery;\n  if (data.startsWith('data:')) return defaultQuery;\n  if (data.startsWith('<svg') || data.startsWith('<symbol'))\n    return defaultQuery;\n  return data;\n}\n\nfunction normalizeQuery(value?: string): string | null {\n  if (typeof value !== 'string') return null;\n  const trimmed = value.trim();\n  return trimmed ? trimmed : null;\n}\n","import { ParsedInfographicOptions } from '../../options';\nimport { loadResource, ResourceConfig } from '../../resource';\nimport type { DynamicAttributes } from '../../themes';\nimport type { IconAttributes, ItemDatum } from '../../types';\nimport { createIconElement, getAttributes } from '../../utils';\nimport { parseDynamicAttributes } from '../utils';\n\nexport function renderItemIcon(\n  svg: SVGSVGElement,\n  node: SVGElement,\n  datum: ItemDatum,\n  options: ParsedInfographicOptions,\n) {\n  const value = datum.icon;\n  if (!value) return null;\n  const { themeConfig } = options;\n  const dataAttrs = datum.attributes?.icon as Record<string, any> | undefined;\n  const attrs: DynamicAttributes<IconAttributes> = {\n    ...themeConfig.item?.icon,\n    ...dataAttrs,\n  };\n\n  const parsedAttrs = parseDynamicAttributes(node, attrs);\n  return createIcon(svg, node, value, parsedAttrs, datum);\n}\n\nfunction createIcon(\n  svg: SVGSVGElement,\n  node: SVGElement,\n  value: string | ResourceConfig,\n  attrs: IconAttributes,\n  datum?: ItemDatum,\n) {\n  // load async\n  loadResource(svg, 'icon', value, datum);\n\n  return createIconElement(value, {\n    ...getAttributes(node, [\n      'id',\n      'x',\n      'y',\n      'width',\n      'height',\n      'fill',\n      'stroke',\n      'data-element-type',\n      'data-indexes',\n    ]),\n    ...attrs,\n  });\n}\n","import {\n  getResourceHref,\n  getResourceId,\n  loadResource,\n  parseResourceConfig,\n  type ResourceConfig,\n} from '../../resource';\nimport type { IllusAttributes, IllusElement, ItemDatum } from '../../types';\nimport {\n  createElement,\n  getAttributes,\n  getOrCreateDefs,\n  removeAttributes,\n  setAttributes,\n  uuid,\n} from '../../utils';\nimport { ElementTypeEnum } from '../constants';\n\ntype IllusRenderAttributes = IllusAttributes & Record<string, any>;\n\nexport function renderIllus(\n  svg: SVGSVGElement,\n  node: SVGElement,\n  value: string | ResourceConfig | undefined,\n  datum?: ItemDatum,\n  attrs: Record<string, any> = {},\n): IllusElement | null {\n  if (!value) return null;\n  const config = parseResourceConfig(value);\n  if (!config) return null;\n\n  const id = getResourceId(config)!;\n  if (attrs && Object.keys(attrs).length > 0) {\n    setAttributes(node, attrs);\n  }\n  const clipPathId = createClipPath(svg, node, id);\n\n  loadResource(svg, 'illus', config, datum);\n\n  const { data, color } = config;\n  return createIllusElement(\n    id,\n    {\n      ...parseIllusBounds(node),\n      ...(color ? { color } : {}),\n      ...attrs,\n      'clip-path': `url(#${clipPathId})`,\n    },\n    data,\n  );\n}\n\nexport function renderItemIllus(\n  svg: SVGSVGElement,\n  node: SVGElement,\n  datum: ItemDatum,\n) {\n  const value = datum.illus;\n  const attrs = datum.attributes?.illus as Record<string, any> | undefined;\n  return renderIllus(svg, node, value, datum, attrs);\n}\n\nfunction createClipPath(\n  svg: SVGSVGElement,\n  node: SVGElement,\n  id: string,\n): string {\n  const clipPathId = `clip-${id}-${uuid()}`;\n\n  if (svg.querySelector(`#${clipPathId}`)) {\n    return clipPathId;\n  }\n\n  const defs = getOrCreateDefs(svg);\n  const clipPath = createElement('clipPath', {\n    id: clipPathId,\n  });\n\n  const clonedNode = node.cloneNode() as SVGElement;\n  removeAttributes(clonedNode, [\n    'id',\n    'data-illus-bounds',\n    'data-element-type',\n  ]);\n\n  clipPath.appendChild(clonedNode);\n  defs.appendChild(clipPath);\n  return clipPathId;\n}\n\nfunction createIllusElement(\n  id: string,\n  attrs: IllusRenderAttributes,\n  value: string,\n) {\n  const { 'clip-path': clipPath, ...restAttrs } = attrs;\n\n  const { x = '0', y = '0', width = '0', height = '0' } = restAttrs;\n  const bounds = createElement<SVGRectElement>('rect', {\n    id: `${id}-volume`,\n    'data-element-type': ElementTypeEnum.IllusVolume,\n    x,\n    y,\n    width,\n    height,\n    fill: 'transparent',\n  });\n\n  const g = createElement<IllusElement>('g', {\n    'data-element-type': ElementTypeEnum.IllusGroup,\n    'clip-path': clipPath,\n    id: `${id}-group`,\n  });\n\n  g.appendChild(bounds);\n\n  const use = createElement<SVGUseElement>('use', {\n    id,\n    fill: 'lightgray',\n    ...restAttrs,\n    href: getResourceHref(value),\n    'data-element-type': ElementTypeEnum.Illus,\n  });\n  g.appendChild(use);\n\n  return g;\n}\n\nfunction parseIllusBounds(node: SVGElement) {\n  const dataIllusBounds = node.getAttribute('data-illus-bounds');\n  if (!dataIllusBounds) {\n    return {\n      x: '0',\n      y: '0',\n      width: '0',\n      height: '0',\n      ...getAttributes(node, ['x', 'y', 'width', 'height']),\n    };\n  }\n  const [x, y, width, height] = dataIllusBounds.split(' ');\n  return { x, y, width, height };\n}\n","// This file is autogenerated. It's used to publish ESM to npm.\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nvar trimLeft = /^\\s+/;\nvar trimRight = /\\s+$/;\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n  var rgb = inputToRGB(color);\n  this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = Math.round(100 * this._a) / 100, this._format = opts.format || rgb.format;\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n  this._ok = rgb.ok;\n}\ntinycolor.prototype = {\n  isDark: function isDark() {\n    return this.getBrightness() < 128;\n  },\n  isLight: function isLight() {\n    return !this.isDark();\n  },\n  isValid: function isValid() {\n    return this._ok;\n  },\n  getOriginalInput: function getOriginalInput() {\n    return this._originalInput;\n  },\n  getFormat: function getFormat() {\n    return this._format;\n  },\n  getAlpha: function getAlpha() {\n    return this._a;\n  },\n  getBrightness: function getBrightness() {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function getLuminance() {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function setAlpha(value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function toHsv() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return {\n      h: hsv.h * 360,\n      s: hsv.s,\n      v: hsv.v,\n      a: this._a\n    };\n  },\n  toHsvString: function toHsvString() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function toHsl() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return {\n      h: hsl.h * 360,\n      s: hsl.s,\n      l: hsl.l,\n      a: this._a\n    };\n  },\n  toHslString: function toHslString() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function toHex(allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function toHexString(allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function toHex8(allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function toHex8String(allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function toRgb() {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a\n    };\n  },\n  toRgbString: function toRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \")\" : \"rgba(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \", \" + this._roundA + \")\";\n  },\n  toPercentageRgb: function toPercentageRgb() {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a\n    };\n  },\n  toPercentageRgbString: function toPercentageRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%)\" : \"rgba(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n  },\n  toName: function toName() {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n    if (this._a < 1) {\n      return false;\n    }\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function toFilter(secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n    return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n  },\n  toString: function toString(format) {\n    var formatSet = !!format;\n    format = format || this._format;\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n    return formattedString || this.toHexString();\n  },\n  clone: function clone() {\n    return tinycolor(this.toString());\n  },\n  _applyModification: function _applyModification(fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function lighten() {\n    return this._applyModification(_lighten, arguments);\n  },\n  brighten: function brighten() {\n    return this._applyModification(_brighten, arguments);\n  },\n  darken: function darken() {\n    return this._applyModification(_darken, arguments);\n  },\n  desaturate: function desaturate() {\n    return this._applyModification(_desaturate, arguments);\n  },\n  saturate: function saturate() {\n    return this._applyModification(_saturate, arguments);\n  },\n  greyscale: function greyscale() {\n    return this._applyModification(_greyscale, arguments);\n  },\n  spin: function spin() {\n    return this._applyModification(_spin, arguments);\n  },\n  _applyCombination: function _applyCombination(fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function analogous() {\n    return this._applyCombination(_analogous, arguments);\n  },\n  complement: function complement() {\n    return this._applyCombination(_complement, arguments);\n  },\n  monochromatic: function monochromatic() {\n    return this._applyCombination(_monochromatic, arguments);\n  },\n  splitcomplement: function splitcomplement() {\n    return this._applyCombination(_splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function triad() {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function tetrad() {\n    return this._applyCombination(polyad, [4]);\n  }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (_typeof(color) == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n  if (_typeof(color) == \"object\") {\n    if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n  a = boundAlpha(a);\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n\n  // Return a 3 character hex if possible\n  if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16)), pad2(convertDecimalToHex(a))];\n\n  // Return a 4 character hex if possible\n  if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [pad2(convertDecimalToHex(a)), pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random()\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction _desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\nfunction _lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\nfunction _brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\nfunction _darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction _spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction _complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({\n      h: (hsl.h + i * step) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }));\n  }\n  return result;\n}\nfunction _splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [tinycolor(color), tinycolor({\n    h: (h + 72) % 360,\n    s: hsl.s,\n    l: hsl.l\n  }), tinycolor({\n    h: (h + 216) % 360,\n    s: hsl.s,\n    l: hsl.l\n  })];\n}\nfunction _analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n  for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\nfunction _monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n  while (results--) {\n    ret.push(tinycolor({\n      h: h,\n      s: s,\n      v: v\n    }));\n    v = (v + modification) % 1;\n  }\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n  var p = amount / 100;\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a\n  };\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n  out = false;\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n  if (tinycolor.isReadable(baseColor, bestColor, {\n    level: level,\n    size: size\n  }) || !includeFallbackColors) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return n % max / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\nvar matchers = function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n  };\n}();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0,\n      format: \"name\"\n    };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if (match = matchers.rgb.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3]\n    };\n  }\n  if (match = matchers.rgba.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsl.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3]\n    };\n  }\n  if (match = matchers.hsla.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsv.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3]\n    };\n  }\n  if (match = matchers.hsva.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hex8.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex6.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  if (match = matchers.hex4.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex3.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  return false;\n}\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || {\n    level: \"AA\",\n    size: \"small\"\n  };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return {\n    level: level,\n    size: size\n  };\n}\n\nexport { tinycolor as default };\n","import tinycolor from 'tinycolor2';\nimport { createElement, getOrCreateDefs, hasColor } from '../../utils';\nimport type { GradientConfig } from '../types';\nimport { getSafetyId } from '../utils';\n\nexport function applyGradientStyle(\n  node: SVGElement,\n  svg: SVGSVGElement,\n  config: GradientConfig,\n  attr: 'fill' | 'stroke',\n) {\n  const currentColor = node.getAttribute(attr)!;\n\n  const actualConfig = inferGradientConfig(currentColor, config);\n\n  const { type, colors = [] } = actualConfig;\n\n  const size = colors.length - 1;\n  const stops = colors.map((color, index) => {\n    if (typeof color === 'string') {\n      return createElement('stop', {\n        offset: `${index / size}`,\n        'stop-color': color,\n      });\n    } else {\n      return createElement('stop', {\n        offset: `${color.offset}`,\n        'stop-color': color.color,\n      });\n    }\n  });\n\n  const id = getGradientId(actualConfig);\n\n  if (type === 'linear-gradient') {\n    const { angle = 0 } = actualConfig;\n    const [[x1, y1], [x2, y2]] = angleToUnitVector(angle);\n    const linearGradient = createElement('linearGradient', {\n      id,\n      x1,\n      y1,\n      x2,\n      y2,\n    });\n    stops.forEach((stop) => linearGradient.appendChild(stop));\n\n    upsertGradient(svg, id, linearGradient);\n  } else if (type === 'radial-gradient') {\n    const radialGradient = createElement('radialGradient', {\n      id,\n    });\n    stops.forEach((stop) => radialGradient.appendChild(stop));\n\n    upsertGradient(svg, id, radialGradient);\n  }\n\n  const fill = node.getAttribute('fill');\n  const stroke = node.getAttribute('stroke');\n\n  if (hasColor(fill)) node.setAttribute('fill', `url(#${id})`);\n  if (hasColor(stroke)) node.setAttribute('stroke', `url(#${id})`);\n}\n\nfunction upsertGradient(svg: SVGSVGElement, id: string, gradient: SVGElement) {\n  const defs = getOrCreateDefs(svg);\n  gradient.setAttribute('id', id);\n\n  const exist = defs.querySelector(`#${id}`);\n\n  if (exist) exist.replaceWith(gradient);\n  else defs.appendChild(gradient);\n}\n\nfunction inferGradientConfig(\n  currentColor: string,\n  config: GradientConfig,\n): GradientConfig {\n  if (config.colors?.length || !currentColor) return config;\n\n  const tc = tinycolor(currentColor);\n  const inferConfig = { ...config };\n\n  inferConfig.colors = tc.isDark()\n    ? [currentColor, tc.lighten(20).toHexString()]\n    : [tc.darken(20).toHexString(), currentColor];\n\n  if (!('angle' in config) && inferConfig.type === 'linear-gradient') {\n    inferConfig.angle = 225;\n  }\n\n  return inferConfig;\n}\n\nfunction getGradientId(config: GradientConfig) {\n  const { type, colors = [] } = config;\n\n  const colorId = getSafetyId(\n    colors\n      .map((color) => {\n        if (typeof color === 'string') return color;\n        return `${color.color}_${color.offset}`;\n      })\n      .join('-'),\n  );\n\n  if (type === 'linear-gradient') {\n    const { angle = 0 } = config;\n    return `${type}-${colorId}-${angle}`;\n  }\n\n  return `${type}-${colorId}`;\n}\n\n/**\n * \n * 0  x \n * 90  y \n *  x1,y1,x2,y2  <linearGradient> \n */\nfunction angleToUnitVector(\n  angle: number,\n): [[number, number], [number, number]] {\n  const radians = (Math.PI / 180) * angle;\n  const x = Math.cos(radians);\n  const y = Math.sin(radians);\n\n  return [\n    [0.5 - x / 2, 0.5 - y / 2], // \n    [0.5 + x / 2, 0.5 + y / 2], // \n  ];\n}\n","import { createElement } from '../../../utils';\nimport { PatternGenerator } from '../../types';\n\nexport const diamond: PatternGenerator = ({\n  scale = 0.5,\n  backgroundColor,\n  foregroundColor,\n}) => {\n  const pattern = createElement('pattern', {\n    id: 'pattern-diamond',\n    width: '20',\n    height: '20',\n    patternTransform: `scale(${scale})`,\n    patternUnits: 'userSpaceOnUse',\n  });\n  const rect = createElement('rect', {\n    width: '100%',\n    height: '100%',\n    fill: backgroundColor,\n  });\n  const path = createElement('path', {\n    d: 'M0,0 L20,20 M20,0 L0,20',\n    stroke: foregroundColor,\n    'stroke-width': '1',\n  });\n  pattern.appendChild(rect);\n  pattern.appendChild(path);\n  return pattern;\n};\n","import { createElement } from '../../../utils';\nimport { PatternGenerator } from '../../types';\n\nexport const dot: PatternGenerator = ({\n  scale = 1,\n  backgroundColor,\n  foregroundColor,\n}) => {\n  const pattern = createElement('pattern', {\n    id: 'pattern-dot',\n    width: '20',\n    height: '20',\n    patternTransform: `scale(${scale})`,\n    patternUnits: 'userSpaceOnUse',\n  });\n  const rect = createElement('rect', {\n    width: '100%',\n    height: '100%',\n    fill: backgroundColor,\n  });\n  const circle1 = createElement('circle', {\n    cx: '5',\n    cy: '5',\n    r: '3',\n    fill: foregroundColor,\n  });\n  const circle2 = createElement('circle', {\n    cx: '15',\n    cy: '15',\n    r: '3',\n    fill: foregroundColor,\n  });\n  pattern.appendChild(rect);\n  pattern.appendChild(circle1);\n  pattern.appendChild(circle2);\n  return pattern;\n};\n","import { createElement } from '../../../utils';\nimport { PatternGenerator } from '../../types';\n\nexport const hex: PatternGenerator = ({\n  scale = 0.3,\n  backgroundColor,\n  foregroundColor,\n}) => {\n  const pattern = createElement('pattern', {\n    id: 'pattern-hex',\n    width: '20',\n    height: '20',\n    patternTransform: `scale(${scale})`,\n    patternUnits: 'userSpaceOnUse',\n  });\n\n  const rect = createElement('rect', {\n    width: '100%',\n    height: '100%',\n    fill: backgroundColor,\n  });\n  const path = createElement('path', {\n    d: 'M10,0 L20,5 L20,15 L10,20 L0,15 L0,5 Z',\n    fill: foregroundColor,\n  });\n  pattern.appendChild(rect);\n  pattern.appendChild(path);\n  return pattern;\n};\n","import { createElement } from '../../../utils';\nimport { PatternGenerator } from '../../types';\nexport const line: PatternGenerator = ({\n  scale = 1,\n  backgroundColor,\n  foregroundColor,\n}) => {\n  const strokeWidth = 6;\n  const hSW = strokeWidth / 2;\n\n  const pattern = createElement('pattern', {\n    id: 'pattern-line',\n    width: '20',\n    height: '20',\n    patternTransform: `scale(${scale})`,\n    patternUnits: 'userSpaceOnUse',\n  });\n\n  const rect = createElement('rect', {\n    width: '100%',\n    height: '100%',\n    fill: backgroundColor,\n  });\n  const line1 = createElement('line', {\n    x1: `${10 - hSW}`,\n    y1: `${0 - hSW}`,\n    x2: `${20 + hSW}`,\n    y2: `${10 + hSW}`,\n    stroke: foregroundColor,\n    'stroke-width': strokeWidth,\n    'stroke-opacity': '0.5',\n  });\n  const line2 = createElement('line', {\n    x1: `${0 - hSW}`,\n    y1: `${10 - hSW}`,\n    x2: `${10 + hSW}`,\n    y2: `${20 + hSW}`,\n    stroke: foregroundColor,\n    'stroke-width': strokeWidth,\n    'stroke-opacity': '0.5',\n  });\n  pattern.appendChild(rect);\n  pattern.appendChild(line1);\n  pattern.appendChild(line2);\n  return pattern;\n};\n","import { createElement } from '../../../utils';\nimport { PatternGenerator } from '../../types';\nexport const mosaic: PatternGenerator = ({\n  scale = 1,\n  backgroundColor = '#ffffff',\n  foregroundColor = '#000000',\n}) => {\n  const patternSize = 20;\n  const tileSize = 5;\n  const rows = patternSize / tileSize;\n  const cols = patternSize / tileSize;\n\n  const pattern = createElement('pattern', {\n    id: 'pattern-mosaic',\n    width: patternSize,\n    height: patternSize,\n    patternUnits: 'userSpaceOnUse',\n    patternTransform: `scale(${scale})`,\n  });\n\n  // \n  const background = createElement('rect', {\n    width: '100%',\n    height: '100%',\n    fill: backgroundColor,\n  });\n  pattern.appendChild(background);\n\n  for (let y = 0; y < rows; y++) {\n    for (let x = 0; x < cols; x++) {\n      if ((x + y) % 2 === 0) {\n        const rect = createElement('rect', {\n          x: x * tileSize,\n          y: y * tileSize,\n          width: tileSize,\n          height: tileSize,\n          fill: foregroundColor,\n        });\n        pattern.appendChild(rect);\n      }\n    }\n  }\n\n  return pattern;\n};\n","import { createElement } from '../../../utils';\nimport { PatternGenerator } from '../../types';\n\nexport const square: PatternGenerator = ({\n  scale = 0.3,\n  backgroundColor,\n  foregroundColor,\n}) => {\n  const pattern = createElement('pattern', {\n    id: 'pattern-square',\n    width: '20',\n    height: '20',\n    patternTransform: `scale(${scale})`,\n    patternUnits: 'userSpaceOnUse',\n  });\n\n  const rect = createElement('rect', {\n    width: '100%',\n    height: '100%',\n    fill: backgroundColor,\n  });\n  const path = createElement('path', {\n    d: 'M0,0 L20,0 L20,20 L0,20 Z',\n    fill: foregroundColor,\n  });\n  pattern.appendChild(rect);\n  pattern.appendChild(path);\n  return pattern;\n};\n","import tinycolor from 'tinycolor2';\nimport { ParsedInfographicOptions } from '../../options';\nimport { getAttributes, getOrCreateDefs, hasColor } from '../../utils';\nimport type { PatternConfig, PatternGenerator } from '../types';\nimport { getSafetyId } from '../utils';\nimport * as builtInPatterns from './patterns';\n\nconst PATTERNS = new Map<string, PatternGenerator>();\n\nexport function registerPattern(name: string, generator: PatternGenerator) {\n  if (PATTERNS.has(name)) console.warn(`Pattern ${name} will be overwritten`);\n  PATTERNS.set(name, generator);\n}\n\nfor (const [name, generator] of Object.entries(builtInPatterns)) {\n  registerPattern(name, generator);\n}\n\nexport function applyPatternStyle(\n  node: SVGElement,\n  svg: SVGSVGElement,\n  options: ParsedInfographicOptions,\n) {\n  const config = options.themeConfig.stylize;\n  if (!config || config.type !== 'pattern') return;\n  const { pattern, ...restConfig } = config;\n\n  const generator = PATTERNS.get(pattern);\n  if (!generator) {\n    return console.warn(`Pattern ${pattern} not found`);\n  }\n\n  const { fill } = getAttributes(node, ['fill', 'stroke']);\n\n  const color = fill;\n  const style = {\n    backgroundColor: color\n      ? tinycolor(color).setAlpha(0.5).toRgbString()\n      : color,\n    foregroundColor: color,\n    ...restConfig,\n  };\n  const id = getPatternId({ ...config, ...style });\n  upsertPattern(svg, id, generator(style));\n\n  if (hasColor(fill)) {\n    node.setAttribute('fill', `url(#${id})`);\n    if (!node.getAttribute('stroke') && fill) {\n      node.setAttribute('stroke', fill);\n    }\n  }\n}\n\nfunction upsertPattern(svg: SVGSVGElement, id: string, pattern: SVGElement) {\n  const defs = getOrCreateDefs(svg);\n  pattern.setAttribute('id', id);\n\n  const exist = defs.querySelector(`pattern#${id}`);\n\n  if (exist) exist.replaceWith(pattern);\n  else defs.appendChild(pattern);\n}\n\nfunction getPatternId(config: PatternConfig) {\n  const {\n    pattern,\n    foregroundColor = 'unset',\n    backgroundColor = 'unset',\n    scale = 'unset',\n  } = config;\n  return getSafetyId(\n    `pattern-${pattern}-${foregroundColor}-${backgroundColor}-${scale}`,\n  );\n}\n","function t(t,e,s){if(t&&t.length){const[n,o]=e,a=Math.PI/180*s,h=Math.cos(a),r=Math.sin(a);for(const e of t){const[t,s]=e;e[0]=(t-n)*h-(s-o)*r+n,e[1]=(t-n)*r+(s-o)*h+o}}}function e(t,e){return t[0]===e[0]&&t[1]===e[1]}function s(s,n,o,a=1){const h=o,r=Math.max(n,.1),i=s[0]&&s[0][0]&&\"number\"==typeof s[0][0]?[s]:s,c=[0,0];if(h)for(const e of i)t(e,c,h);const l=function(t,s,n){const o=[];for(const s of t){const t=[...s];e(t[0],t[t.length-1])||t.push([t[0][0],t[0][1]]),t.length>2&&o.push(t)}const a=[];s=Math.max(s,.1);const h=[];for(const t of o)for(let e=0;e<t.length-1;e++){const s=t[e],n=t[e+1];if(s[1]!==n[1]){const t=Math.min(s[1],n[1]);h.push({ymin:t,ymax:Math.max(s[1],n[1]),x:t===s[1]?s[0]:n[0],islope:(n[0]-s[0])/(n[1]-s[1])})}}if(h.sort(((t,e)=>t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!h.length)return a;let r=[],i=h[0].ymin,c=0;for(;r.length||h.length;){if(h.length){let t=-1;for(let e=0;e<h.length&&!(h[e].ymin>i);e++)t=e;h.splice(0,t+1).forEach((t=>{r.push({s:i,edge:t})}))}if(r=r.filter((t=>!(t.edge.ymax<=i))),r.sort(((t,e)=>t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),(1!==n||c%s==0)&&r.length>1)for(let t=0;t<r.length;t+=2){const e=t+1;if(e>=r.length)break;const s=r[t].edge,n=r[e].edge;a.push([[Math.round(s.x),i],[Math.round(n.x),i]])}i+=n,r.forEach((t=>{t.edge.x=t.edge.x+n*t.edge.islope})),c++}return a}(i,r,a);if(h){for(const e of i)t(e,c,-h);!function(e,s,n){const o=[];e.forEach((t=>o.push(...t))),t(o,s,n)}(l,c,-h)}return l}function n(t,e){var n;const o=e.hachureAngle+90;let a=e.hachureGap;a<0&&(a=4*e.strokeWidth),a=Math.round(Math.max(a,.1));let h=1;return e.roughness>=1&&((null===(n=e.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(h=a),s(t,a,o,h||1)}class o{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const s=n(t,e);return{type:\"fillSketch\",ops:this.renderLines(s,e)}}renderLines(t,e){const s=[];for(const n of t)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e));return s}}function a(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}class h extends o{fillPolygons(t,e){let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const o=n(t,Object.assign({},e,{hachureGap:s})),h=Math.PI/180*e.hachureAngle,r=[],i=.5*s*Math.cos(h),c=.5*s*Math.sin(h);for(const[t,e]of o)a([t,e])&&r.push([[t[0]-i,t[1]+c],[...e]],[[t[0]+i,t[1]-c],[...e]]);return{type:\"fillSketch\",ops:this.renderLines(r,e)}}}class r extends o{fillPolygons(t,e){const s=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),o=this._fillPolygons(t,n);return s.ops=s.ops.concat(o.ops),s}}class i{constructor(t){this.helper=t}fillPolygons(t,e){const s=n(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(s,e)}dotsOnLines(t,e){const s=[];let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);let o=e.fillWeight;o<0&&(o=e.strokeWidth/2);const h=n/4;for(const r of t){const t=a(r),i=t/n,c=Math.ceil(i)-1,l=t-c*n,u=(r[0][0]+r[1][0])/2-n/4,p=Math.min(r[0][1],r[1][1]);for(let t=0;t<c;t++){const a=p+l+t*n,r=u-h+2*Math.random()*h,i=a-h+2*Math.random()*h,c=this.helper.ellipse(r,i,o,o,e);s.push(...c.ops)}}return{type:\"fillSketch\",ops:s}}}class c{constructor(t){this.helper=t}fillPolygons(t,e){const s=n(t,e);return{type:\"fillSketch\",ops:this.dashedLine(s,e)}}dashedLine(t,e){const s=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,n=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,o=[];return t.forEach((t=>{const h=a(t),r=Math.floor(h/(s+n)),i=(h+n-r*(s+n))/2;let c=t[0],l=t[1];c[0]>l[0]&&(c=t[1],l=t[0]);const u=Math.atan((l[1]-c[1])/(l[0]-c[0]));for(let t=0;t<r;t++){const a=t*(s+n),h=a+s,r=[c[0]+a*Math.cos(u)+i*Math.cos(u),c[1]+a*Math.sin(u)+i*Math.sin(u)],l=[c[0]+h*Math.cos(u)+i*Math.cos(u),c[1]+h*Math.sin(u)+i*Math.sin(u)];o.push(...this.helper.doubleLineOps(r[0],r[1],l[0],l[1],e))}})),o}}class l{constructor(t){this.helper=t}fillPolygons(t,e){const s=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,o=e.zigzagOffset<0?s:e.zigzagOffset,a=n(t,e=Object.assign({},e,{hachureGap:s+o}));return{type:\"fillSketch\",ops:this.zigzagLines(a,o,e)}}zigzagLines(t,e,s){const n=[];return t.forEach((t=>{const o=a(t),h=Math.round(o/(2*e));let r=t[0],i=t[1];r[0]>i[0]&&(r=t[1],i=t[0]);const c=Math.atan((i[1]-r[1])/(i[0]-r[0]));for(let t=0;t<h;t++){const o=2*t*e,a=2*(t+1)*e,h=Math.sqrt(2*Math.pow(e,2)),i=[r[0]+o*Math.cos(c),r[1]+o*Math.sin(c)],l=[r[0]+a*Math.cos(c),r[1]+a*Math.sin(c)],u=[i[0]+h*Math.cos(c+Math.PI/4),i[1]+h*Math.sin(c+Math.PI/4)];n.push(...this.helper.doubleLineOps(i[0],i[1],u[0],u[1],s),...this.helper.doubleLineOps(u[0],u[1],l[0],l[1],s))}})),n}}const u={};class p{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const f=0,d=1,g=2,M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(t,e){return t.type===e}function b(t){const e=[],s=function(t){const e=new Array;for(;\"\"!==t;)if(t.match(/^([ \\t\\r\\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:f,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:d,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:g,text:\"\"},e}(t);let n=\"BOD\",o=0,a=s[o];for(;!k(a,g);){let h=0;const r=[];if(\"BOD\"===n){if(\"M\"!==a.text&&\"m\"!==a.text)return b(\"M0,0\"+t);o++,h=M[a.text],n=a.text}else k(a,d)?h=M[n]:(o++,h=M[a.text],n=a.text);if(!(o+h<s.length))throw new Error(\"Path data ended short\");for(let t=o;t<o+h;t++){const e=s[t];if(!k(e,d))throw new Error(\"Param not a number: \"+n+\",\"+e.text);r[r.length]=+e.text}if(\"number\"!=typeof M[n])throw new Error(\"Bad segment: \"+n);{const t={key:n,data:r};e.push(t),o+=h,a=s[o],\"M\"===n&&(n=\"L\"),\"m\"===n&&(n=\"l\")}}return e}function y(t){let e=0,s=0,n=0,o=0;const a=[];for(const{key:h,data:r}of t)switch(h){case\"M\":a.push({key:\"M\",data:[...r]}),[e,s]=r,[n,o]=r;break;case\"m\":e+=r[0],s+=r[1],a.push({key:\"M\",data:[e,s]}),n=e,o=s;break;case\"L\":a.push({key:\"L\",data:[...r]}),[e,s]=r;break;case\"l\":e+=r[0],s+=r[1],a.push({key:\"L\",data:[e,s]});break;case\"C\":a.push({key:\"C\",data:[...r]}),e=r[4],s=r[5];break;case\"c\":{const t=r.map(((t,n)=>n%2?t+s:t+e));a.push({key:\"C\",data:t}),e=t[4],s=t[5];break}case\"Q\":a.push({key:\"Q\",data:[...r]}),e=r[2],s=r[3];break;case\"q\":{const t=r.map(((t,n)=>n%2?t+s:t+e));a.push({key:\"Q\",data:t}),e=t[2],s=t[3];break}case\"A\":a.push({key:\"A\",data:[...r]}),e=r[5],s=r[6];break;case\"a\":e+=r[5],s+=r[6],a.push({key:\"A\",data:[r[0],r[1],r[2],r[3],r[4],e,s]});break;case\"H\":a.push({key:\"H\",data:[...r]}),e=r[0];break;case\"h\":e+=r[0],a.push({key:\"H\",data:[e]});break;case\"V\":a.push({key:\"V\",data:[...r]}),s=r[0];break;case\"v\":s+=r[0],a.push({key:\"V\",data:[s]});break;case\"S\":a.push({key:\"S\",data:[...r]}),e=r[2],s=r[3];break;case\"s\":{const t=r.map(((t,n)=>n%2?t+s:t+e));a.push({key:\"S\",data:t}),e=t[2],s=t[3];break}case\"T\":a.push({key:\"T\",data:[...r]}),e=r[0],s=r[1];break;case\"t\":e+=r[0],s+=r[1],a.push({key:\"T\",data:[e,s]});break;case\"Z\":case\"z\":a.push({key:\"Z\",data:[]}),e=n,s=o}return a}function m(t){const e=[];let s=\"\",n=0,o=0,a=0,h=0,r=0,i=0;for(const{key:c,data:l}of t){switch(c){case\"M\":e.push({key:\"M\",data:[...l]}),[n,o]=l,[a,h]=l;break;case\"C\":e.push({key:\"C\",data:[...l]}),n=l[4],o=l[5],r=l[2],i=l[3];break;case\"L\":e.push({key:\"L\",data:[...l]}),[n,o]=l;break;case\"H\":n=l[0],e.push({key:\"L\",data:[n,o]});break;case\"V\":o=l[0],e.push({key:\"L\",data:[n,o]});break;case\"S\":{let t=0,a=0;\"C\"===s||\"S\"===s?(t=n+(n-r),a=o+(o-i)):(t=n,a=o),e.push({key:\"C\",data:[t,a,...l]}),r=l[0],i=l[1],n=l[2],o=l[3];break}case\"T\":{const[t,a]=l;let h=0,c=0;\"Q\"===s||\"T\"===s?(h=n+(n-r),c=o+(o-i)):(h=n,c=o);const u=n+2*(h-n)/3,p=o+2*(c-o)/3,f=t+2*(h-t)/3,d=a+2*(c-a)/3;e.push({key:\"C\",data:[u,p,f,d,t,a]}),r=h,i=c,n=t,o=a;break}case\"Q\":{const[t,s,a,h]=l,c=n+2*(t-n)/3,u=o+2*(s-o)/3,p=a+2*(t-a)/3,f=h+2*(s-h)/3;e.push({key:\"C\",data:[c,u,p,f,a,h]}),r=t,i=s,n=a,o=h;break}case\"A\":{const t=Math.abs(l[0]),s=Math.abs(l[1]),a=l[2],h=l[3],r=l[4],i=l[5],c=l[6];if(0===t||0===s)e.push({key:\"C\",data:[n,o,i,c,i,c]}),n=i,o=c;else if(n!==i||o!==c){x(n,o,i,c,t,s,a,h,r).forEach((function(t){e.push({key:\"C\",data:t})})),n=i,o=c}break}case\"Z\":e.push({key:\"Z\",data:[]}),n=a,o=h}s=c}return e}function w(t,e,s){return[t*Math.cos(s)-e*Math.sin(s),t*Math.sin(s)+e*Math.cos(s)]}function x(t,e,s,n,o,a,h,r,i,c){const l=(u=h,Math.PI*u/180);var u;let p=[],f=0,d=0,g=0,M=0;if(c)[f,d,g,M]=c;else{[t,e]=w(t,e,-l),[s,n]=w(s,n,-l);const h=(t-s)/2,c=(e-n)/2;let u=h*h/(o*o)+c*c/(a*a);u>1&&(u=Math.sqrt(u),o*=u,a*=u);const p=o*o,k=a*a,b=p*k-p*c*c-k*h*h,y=p*c*c+k*h*h,m=(r===i?-1:1)*Math.sqrt(Math.abs(b/y));g=m*o*c/a+(t+s)/2,M=m*-a*h/o+(e+n)/2,f=Math.asin(parseFloat(((e-M)/a).toFixed(9))),d=Math.asin(parseFloat(((n-M)/a).toFixed(9))),t<g&&(f=Math.PI-f),s<g&&(d=Math.PI-d),f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),i&&f>d&&(f-=2*Math.PI),!i&&d>f&&(d-=2*Math.PI)}let k=d-f;if(Math.abs(k)>120*Math.PI/180){const t=d,e=s,r=n;d=i&&d>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=x(s=g+o*Math.cos(d),n=M+a*Math.sin(d),e,r,o,a,h,0,i,[d,t,g,M])}k=d-f;const b=Math.cos(f),y=Math.sin(f),m=Math.cos(d),P=Math.sin(d),v=Math.tan(k/4),S=4/3*o*v,O=4/3*a*v,L=[t,e],T=[t+S*y,e-O*b],D=[s+S*P,n-O*m],A=[s,n];if(T[0]=2*L[0]-T[0],T[1]=2*L[1]-T[1],c)return[T,D,A].concat(p);{p=[T,D,A].concat(p);const t=[];for(let e=0;e<p.length;e+=3){const s=w(p[e][0],p[e][1],l),n=w(p[e+1][0],p[e+1][1],l),o=w(p[e+2][0],p[e+2][1],l);t.push([s[0],s[1],n[0],n[1],o[0],o[1]])}return t}}const P={randOffset:function(t,e){return G(t,e)},randOffsetWithRange:function(t,e,s){return E(t,e,s)},ellipse:function(t,e,s,n,o){const a=T(s,n,o);return D(t,e,o,a).opset},doubleLineOps:function(t,e,s,n,o){return $(t,e,s,n,o,!0)}};function v(t,e,s,n,o){return{type:\"path\",ops:$(t,e,s,n,o)}}function S(t,e,s){const n=(t||[]).length;if(n>2){const o=[];for(let e=0;e<n-1;e++)o.push(...$(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&&o.push(...$(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:\"path\",ops:o}}return 2===n?v(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:\"path\",ops:[]}}function O(t,e,s,n,o){return function(t,e){return S(t,!0,e)}([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],o)}function L(t,e){if(t.length){const s=\"number\"==typeof t[0][0]?[t]:t,n=j(s[0],1*(1+.2*e.roughness),e),o=e.disableMultiStroke?[]:j(s[0],1.5*(1+.22*e.roughness),z(e));for(let t=1;t<s.length;t++){const a=s[t];if(a.length){const t=j(a,1*(1+.2*e.roughness),e),s=e.disableMultiStroke?[]:j(a,1.5*(1+.22*e.roughness),z(e));for(const e of t)\"move\"!==e.op&&n.push(e);for(const t of s)\"move\"!==t.op&&o.push(t)}}return{type:\"path\",ops:n.concat(o)}}return{type:\"path\",ops:[]}}function T(t,e,s){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/o;let h=Math.abs(t/2),r=Math.abs(e/2);const i=1-s.curveFitting;return h+=G(h*i,s),r+=G(r*i,s),{increment:a,rx:h,ry:r}}function D(t,e,s,n){const[o,a]=F(n.increment,t,e,n.rx,n.ry,1,n.increment*E(.1,E(.4,1,s),s),s);let h=q(o,null,s);if(!s.disableMultiStroke&&0!==s.roughness){const[o]=F(n.increment,t,e,n.rx,n.ry,1.5,0,s),a=q(o,null,s);h=h.concat(a)}return{estimatedPoints:a,opset:{type:\"path\",ops:h}}}function A(t,e,s,n,o,a,h,r,i){const c=t,l=e;let u=Math.abs(s/2),p=Math.abs(n/2);u+=G(.01*u,i),p+=G(.01*p,i);let f=o,d=a;for(;f<0;)f+=2*Math.PI,d+=2*Math.PI;d-f>2*Math.PI&&(f=0,d=2*Math.PI);const g=2*Math.PI/i.curveStepCount,M=Math.min(g/2,(d-f)/2),k=V(M,c,l,u,p,f,d,1,i);if(!i.disableMultiStroke){const t=V(M,c,l,u,p,f,d,1.5,i);k.push(...t)}return h&&(r?k.push(...$(c,l,c+u*Math.cos(f),l+p*Math.sin(f),i),...$(c,l,c+u*Math.cos(d),l+p*Math.sin(d),i)):k.push({op:\"lineTo\",data:[c,l]},{op:\"lineTo\",data:[c+u*Math.cos(f),l+p*Math.sin(f)]})),{type:\"path\",ops:k}}function _(t,e){const s=m(y(b(t))),n=[];let o=[0,0],a=[0,0];for(const{key:t,data:h}of s)switch(t){case\"M\":a=[h[0],h[1]],o=[h[0],h[1]];break;case\"L\":n.push(...$(a[0],a[1],h[0],h[1],e)),a=[h[0],h[1]];break;case\"C\":{const[t,s,o,r,i,c]=h;n.push(...Z(t,s,o,r,i,c,a,e)),a=[i,c];break}case\"Z\":n.push(...$(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]]}return{type:\"path\",ops:n}}function I(t,e){const s=[];for(const n of t)if(n.length){const t=e.maxRandomnessOffset||0,o=n.length;if(o>2){s.push({op:\"move\",data:[n[0][0]+G(t,e),n[0][1]+G(t,e)]});for(let a=1;a<o;a++)s.push({op:\"lineTo\",data:[n[a][0]+G(t,e),n[a][1]+G(t,e)]})}}return{type:\"fillPath\",ops:s}}function C(t,e){return function(t,e){let s=t.fillStyle||\"hachure\";if(!u[s])switch(s){case\"zigzag\":u[s]||(u[s]=new h(e));break;case\"cross-hatch\":u[s]||(u[s]=new r(e));break;case\"dots\":u[s]||(u[s]=new i(e));break;case\"dashed\":u[s]||(u[s]=new c(e));break;case\"zigzag-line\":u[s]||(u[s]=new l(e));break;default:s=\"hachure\",u[s]||(u[s]=new o(e))}return u[s]}(e,P).fillPolygons(t,e)}function z(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function W(t){return t.randomizer||(t.randomizer=new p(t.seed||0)),t.randomizer.next()}function E(t,e,s,n=1){return s.roughness*n*(W(s)*(e-t)+t)}function G(t,e,s=1){return E(-t,t,e,s)}function $(t,e,s,n,o,a=!1){const h=a?o.disableMultiStrokeFill:o.disableMultiStroke,r=R(t,e,s,n,o,!0,!1);if(h)return r;const i=R(t,e,s,n,o,!0,!0);return r.concat(i)}function R(t,e,s,n,o,a,h){const r=Math.pow(t-s,2)+Math.pow(e-n,2),i=Math.sqrt(r);let c=1;c=i<200?1:i>500?.4:-.0016668*i+1.233334;let l=o.maxRandomnessOffset||0;l*l*100>r&&(l=i/10);const u=l/2,p=.2+.2*W(o);let f=o.bowing*o.maxRandomnessOffset*(n-e)/200,d=o.bowing*o.maxRandomnessOffset*(t-s)/200;f=G(f,o,c),d=G(d,o,c);const g=[],M=()=>G(u,o,c),k=()=>G(l,o,c),b=o.preserveVertices;return a&&(h?g.push({op:\"move\",data:[t+(b?0:M()),e+(b?0:M())]}):g.push({op:\"move\",data:[t+(b?0:G(l,o,c)),e+(b?0:G(l,o,c))]})),h?g.push({op:\"bcurveTo\",data:[f+t+(s-t)*p+M(),d+e+(n-e)*p+M(),f+t+2*(s-t)*p+M(),d+e+2*(n-e)*p+M(),s+(b?0:M()),n+(b?0:M())]}):g.push({op:\"bcurveTo\",data:[f+t+(s-t)*p+k(),d+e+(n-e)*p+k(),f+t+2*(s-t)*p+k(),d+e+2*(n-e)*p+k(),s+(b?0:k()),n+(b?0:k())]}),g}function j(t,e,s){if(!t.length)return[];const n=[];n.push([t[0][0]+G(e,s),t[0][1]+G(e,s)]),n.push([t[0][0]+G(e,s),t[0][1]+G(e,s)]);for(let o=1;o<t.length;o++)n.push([t[o][0]+G(e,s),t[o][1]+G(e,s)]),o===t.length-1&&n.push([t[o][0]+G(e,s),t[o][1]+G(e,s)]);return q(n,null,s)}function q(t,e,s){const n=t.length,o=[];if(n>3){const a=[],h=1-s.curveTightness;o.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let e=1;e+2<n;e++){const s=t[e];a[0]=[s[0],s[1]],a[1]=[s[0]+(h*t[e+1][0]-h*t[e-1][0])/6,s[1]+(h*t[e+1][1]-h*t[e-1][1])/6],a[2]=[t[e+1][0]+(h*t[e][0]-h*t[e+2][0])/6,t[e+1][1]+(h*t[e][1]-h*t[e+2][1])/6],a[3]=[t[e+1][0],t[e+1][1]],o.push({op:\"bcurveTo\",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;o.push({op:\"lineTo\",data:[e[0]+G(t,s),e[1]+G(t,s)]})}}else 3===n?(o.push({op:\"move\",data:[t[1][0],t[1][1]]}),o.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&o.push(...R(t[0][0],t[0][1],t[1][0],t[1][1],s,!0,!0));return o}function F(t,e,s,n,o,a,h,r){const i=[],c=[];if(0===r.roughness){t/=4,c.push([e+n*Math.cos(-t),s+o*Math.sin(-t)]);for(let a=0;a<=2*Math.PI;a+=t){const t=[e+n*Math.cos(a),s+o*Math.sin(a)];i.push(t),c.push(t)}c.push([e+n*Math.cos(0),s+o*Math.sin(0)]),c.push([e+n*Math.cos(t),s+o*Math.sin(t)])}else{const l=G(.5,r)-Math.PI/2;c.push([G(a,r)+e+.9*n*Math.cos(l-t),G(a,r)+s+.9*o*Math.sin(l-t)]);const u=2*Math.PI+l-.01;for(let h=l;h<u;h+=t){const t=[G(a,r)+e+n*Math.cos(h),G(a,r)+s+o*Math.sin(h)];i.push(t),c.push(t)}c.push([G(a,r)+e+n*Math.cos(l+2*Math.PI+.5*h),G(a,r)+s+o*Math.sin(l+2*Math.PI+.5*h)]),c.push([G(a,r)+e+.98*n*Math.cos(l+h),G(a,r)+s+.98*o*Math.sin(l+h)]),c.push([G(a,r)+e+.9*n*Math.cos(l+.5*h),G(a,r)+s+.9*o*Math.sin(l+.5*h)])}return[c,i]}function V(t,e,s,n,o,a,h,r,i){const c=a+G(.1,i),l=[];l.push([G(r,i)+e+.9*n*Math.cos(c-t),G(r,i)+s+.9*o*Math.sin(c-t)]);for(let a=c;a<=h;a+=t)l.push([G(r,i)+e+n*Math.cos(a),G(r,i)+s+o*Math.sin(a)]);return l.push([e+n*Math.cos(h),s+o*Math.sin(h)]),l.push([e+n*Math.cos(h),s+o*Math.sin(h)]),q(l,null,i)}function Z(t,e,s,n,o,a,h,r){const i=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let l=[0,0];const u=r.disableMultiStroke?1:2,p=r.preserveVertices;for(let f=0;f<u;f++)0===f?i.push({op:\"move\",data:[h[0],h[1]]}):i.push({op:\"move\",data:[h[0]+(p?0:G(c[0],r)),h[1]+(p?0:G(c[0],r))]}),l=p?[o,a]:[o+G(c[f],r),a+G(c[f],r)],i.push({op:\"bcurveTo\",data:[t+G(c[f],r),e+G(c[f],r),s+G(c[f],r),n+G(c[f],r),l[0],l[1]]});return i}function Q(t){return[...t]}function H(t,e=0){const s=t.length;if(s<3)throw new Error(\"A curve must have at least three points.\");const n=[];if(3===s)n.push(Q(t[0]),Q(t[1]),Q(t[2]),Q(t[2]));else{const s=[];s.push(t[0],t[0]);for(let e=1;e<t.length;e++)s.push(t[e]),e===t.length-1&&s.push(t[e]);const o=[],a=1-e;n.push(Q(s[0]));for(let t=1;t+2<s.length;t++){const e=s[t];o[0]=[e[0],e[1]],o[1]=[e[0]+(a*s[t+1][0]-a*s[t-1][0])/6,e[1]+(a*s[t+1][1]-a*s[t-1][1])/6],o[2]=[s[t+1][0]+(a*s[t][0]-a*s[t+2][0])/6,s[t+1][1]+(a*s[t][1]-a*s[t+2][1])/6],o[3]=[s[t+1][0],s[t+1][1]],n.push(o[1],o[2],o[3])}}return n}function N(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function B(t,e,s){const n=N(e,s);if(0===n)return N(t,e);let o=((t[0]-e[0])*(s[0]-e[0])+(t[1]-e[1])*(s[1]-e[1]))/n;return o=Math.max(0,Math.min(1,o)),N(t,J(e,s,o))}function J(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}function K(t,e,s,n){const o=n||[];if(function(t,e){const s=t[e+0],n=t[e+1],o=t[e+2],a=t[e+3];let h=3*n[0]-2*s[0]-a[0];h*=h;let r=3*n[1]-2*s[1]-a[1];r*=r;let i=3*o[0]-2*a[0]-s[0];i*=i;let c=3*o[1]-2*a[1]-s[1];return c*=c,h<i&&(h=i),r<c&&(r=c),h+r}(t,e)<s){const s=t[e+0];if(o.length){(a=o[o.length-1],h=s,Math.sqrt(N(a,h)))>1&&o.push(s)}else o.push(s);o.push(t[e+3])}else{const n=.5,a=t[e+0],h=t[e+1],r=t[e+2],i=t[e+3],c=J(a,h,n),l=J(h,r,n),u=J(r,i,n),p=J(c,l,n),f=J(l,u,n),d=J(p,f,n);K([a,c,p,d],0,s,o),K([d,f,u,i],0,s,o)}var a,h;return o}function U(t,e){return X(t,0,t.length,e)}function X(t,e,s,n,o){const a=o||[],h=t[e],r=t[s-1];let i=0,c=1;for(let n=e+1;n<s-1;++n){const e=B(t[n],h,r);e>i&&(i=e,c=n)}return Math.sqrt(i)>n?(X(t,e,c+1,n,a),X(t,c,s,n,a)):(a.length||a.push(h),a.push(r)),a}function Y(t,e=.15,s){const n=[],o=(t.length-1)/3;for(let s=0;s<o;s++){K(t,3*s,e,n)}return s&&s>0?X(n,0,n.length,s):n}const tt=\"none\";class et{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:\"#000\",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,n,o){const a=this._o(o);return this._d(\"line\",[v(t,e,s,n,a)],a)}rectangle(t,e,s,n,o){const a=this._o(o),h=[],r=O(t,e,s,n,a);if(a.fill){const o=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];\"solid\"===a.fillStyle?h.push(I([o],a)):h.push(C([o],a))}return a.stroke!==tt&&h.push(r),this._d(\"rectangle\",h,a)}ellipse(t,e,s,n,o){const a=this._o(o),h=[],r=T(s,n,a),i=D(t,e,a,r);if(a.fill)if(\"solid\"===a.fillStyle){const s=D(t,e,a,r).opset;s.type=\"fillPath\",h.push(s)}else h.push(C([i.estimatedPoints],a));return a.stroke!==tt&&h.push(i.opset),this._d(\"ellipse\",h,a)}circle(t,e,s,n){const o=this.ellipse(t,e,s,s,n);return o.shape=\"circle\",o}linearPath(t,e){const s=this._o(e);return this._d(\"linearPath\",[S(t,!1,s)],s)}arc(t,e,s,n,o,a,h=!1,r){const i=this._o(r),c=[],l=A(t,e,s,n,o,a,h,!0,i);if(h&&i.fill)if(\"solid\"===i.fillStyle){const h=Object.assign({},i);h.disableMultiStroke=!0;const r=A(t,e,s,n,o,a,!0,!1,h);r.type=\"fillPath\",c.push(r)}else c.push(function(t,e,s,n,o,a,h){const r=t,i=e;let c=Math.abs(s/2),l=Math.abs(n/2);c+=G(.01*c,h),l+=G(.01*l,h);let u=o,p=a;for(;u<0;)u+=2*Math.PI,p+=2*Math.PI;p-u>2*Math.PI&&(u=0,p=2*Math.PI);const f=(p-u)/h.curveStepCount,d=[];for(let t=u;t<=p;t+=f)d.push([r+c*Math.cos(t),i+l*Math.sin(t)]);return d.push([r+c*Math.cos(p),i+l*Math.sin(p)]),d.push([r,i]),C([d],h)}(t,e,s,n,o,a,i));return i.stroke!==tt&&c.push(l),this._d(\"arc\",c,i)}curve(t,e){const s=this._o(e),n=[],o=L(t,s);if(s.fill&&s.fill!==tt)if(\"solid\"===s.fillStyle){const e=L(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:\"fillPath\",ops:this._mergedShape(e.ops)})}else{const e=[],o=t;if(o.length){const t=\"number\"==typeof o[0][0]?[o]:o;for(const n of t)n.length<3?e.push(...n):3===n.length?e.push(...Y(H([n[0],n[0],n[1],n[2]]),10,(1+s.roughness)/2)):e.push(...Y(H(n),10,(1+s.roughness)/2))}e.length&&n.push(C([e],s))}return s.stroke!==tt&&n.push(o),this._d(\"curve\",n,s)}polygon(t,e){const s=this._o(e),n=[],o=S(t,!0,s);return s.fill&&(\"solid\"===s.fillStyle?n.push(I([t],s)):n.push(C([t],s))),s.stroke!==tt&&n.push(o),this._d(\"polygon\",n,s)}path(t,e){const s=this._o(e),n=[];if(!t)return this._d(\"path\",n,s);t=(t||\"\").replace(/\\n/g,\" \").replace(/(-\\s)/g,\"-\").replace(\"/(ss)/g\",\" \");const o=s.fill&&\"transparent\"!==s.fill&&s.fill!==tt,a=s.stroke!==tt,h=!!(s.simplification&&s.simplification<1),r=function(t,e,s){const n=m(y(b(t))),o=[];let a=[],h=[0,0],r=[];const i=()=>{r.length>=4&&a.push(...Y(r,e)),r=[]},c=()=>{i(),a.length&&(o.push(a),a=[])};for(const{key:t,data:e}of n)switch(t){case\"M\":c(),h=[e[0],e[1]],a.push(h);break;case\"L\":i(),a.push([e[0],e[1]]);break;case\"C\":if(!r.length){const t=a.length?a[a.length-1]:h;r.push([t[0],t[1]])}r.push([e[0],e[1]]),r.push([e[2],e[3]]),r.push([e[4],e[5]]);break;case\"Z\":i(),a.push([h[0],h[1]])}if(c(),!s)return o;const l=[];for(const t of o){const e=U(t,s);e.length&&l.push(e)}return l}(t,1,h?4-4*(s.simplification||1):(1+s.roughness)/2),i=_(t,s);if(o)if(\"solid\"===s.fillStyle)if(1===r.length){const e=_(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:\"fillPath\",ops:this._mergedShape(e.ops)})}else n.push(I(r,s));else n.push(C(r,s));return a&&(h?r.forEach((t=>{n.push(S(t,!1,s))})):n.push(i)),this._d(\"path\",n,s)}opsToPath(t,e){let s=\"\";for(const n of t.ops){const t=\"number\"==typeof e&&e>=0?n.data.map((t=>+t.toFixed(e))):n.data;switch(n.op){case\"move\":s+=`M${t[0]} ${t[1]} `;break;case\"bcurveTo\":s+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case\"lineTo\":s+=`L${t[0]} ${t[1]} `}}return s.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,n=[];for(const t of e){let e=null;switch(t.type){case\"path\":e={d:this.opsToPath(t),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:tt};break;case\"fillPath\":e={d:this.opsToPath(t),stroke:tt,strokeWidth:0,fill:s.fill||tt};break;case\"fillSketch\":e=this.fillSketch(t,s)}e&&n.push(e)}return n}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||tt,strokeWidth:s,fill:tt}}_mergedShape(t){return t.filter(((t,e)=>0===e||\"move\"!==t.op))}}class st{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext(\"2d\"),this.gen=new et(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const a of e)switch(a.type){case\"path\":n.save(),n.strokeStyle=\"none\"===s.stroke?\"transparent\":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,a,o),n.restore();break;case\"fillPath\":{n.save(),n.fillStyle=s.fill||\"\";const e=\"curve\"===t.shape||\"polygon\"===t.shape||\"path\"===t.shape?\"evenodd\":\"nonzero\";this._drawToContext(n,a,o,e),n.restore();break}case\"fillSketch\":this.fillSketch(n,a,s)}}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||\"\",t.lineWidth=n,this._drawToContext(t,e,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,s,n=\"nonzero\"){t.beginPath();for(const n of e.ops){const e=\"number\"==typeof s&&s>=0?n.data.map((t=>+t.toFixed(s))):n.data;switch(n.op){case\"move\":t.moveTo(e[0],e[1]);break;case\"bcurveTo\":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case\"lineTo\":t.lineTo(e[0],e[1])}}\"fillPath\"===e.type?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,n,o){const a=this.gen.line(t,e,s,n,o);return this.draw(a),a}rectangle(t,e,s,n,o){const a=this.gen.rectangle(t,e,s,n,o);return this.draw(a),a}ellipse(t,e,s,n,o){const a=this.gen.ellipse(t,e,s,n,o);return this.draw(a),a}circle(t,e,s,n){const o=this.gen.circle(t,e,s,n);return this.draw(o),o}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,n,o,a,h=!1,r){const i=this.gen.arc(t,e,s,n,o,a,h,r);return this.draw(i),i}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const nt=\"http://www.w3.org/2000/svg\";class ot{constructor(t,e){this.svg=t,this.gen=new et(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,o=n.createElementNS(nt,\"g\"),a=t.options.fixedDecimalPlaceDigits;for(const h of e){let e=null;switch(h.type){case\"path\":e=n.createElementNS(nt,\"path\"),e.setAttribute(\"d\",this.opsToPath(h,a)),e.setAttribute(\"stroke\",s.stroke),e.setAttribute(\"stroke-width\",s.strokeWidth+\"\"),e.setAttribute(\"fill\",\"none\"),s.strokeLineDash&&e.setAttribute(\"stroke-dasharray\",s.strokeLineDash.join(\" \").trim()),s.strokeLineDashOffset&&e.setAttribute(\"stroke-dashoffset\",`${s.strokeLineDashOffset}`);break;case\"fillPath\":e=n.createElementNS(nt,\"path\"),e.setAttribute(\"d\",this.opsToPath(h,a)),e.setAttribute(\"stroke\",\"none\"),e.setAttribute(\"stroke-width\",\"0\"),e.setAttribute(\"fill\",s.fill||\"\"),\"curve\"!==t.shape&&\"polygon\"!==t.shape||e.setAttribute(\"fill-rule\",\"evenodd\");break;case\"fillSketch\":e=this.fillSketch(n,h,s)}e&&o.appendChild(e)}return o}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const o=t.createElementNS(nt,\"path\");return o.setAttribute(\"d\",this.opsToPath(e,s.fixedDecimalPlaceDigits)),o.setAttribute(\"stroke\",s.fill||\"\"),o.setAttribute(\"stroke-width\",n+\"\"),o.setAttribute(\"fill\",\"none\"),s.fillLineDash&&o.setAttribute(\"stroke-dasharray\",s.fillLineDash.join(\" \").trim()),s.fillLineDashOffset&&o.setAttribute(\"stroke-dashoffset\",`${s.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,s,n,o){const a=this.gen.line(t,e,s,n,o);return this.draw(a)}rectangle(t,e,s,n,o){const a=this.gen.rectangle(t,e,s,n,o);return this.draw(a)}ellipse(t,e,s,n,o){const a=this.gen.ellipse(t,e,s,n,o);return this.draw(a)}circle(t,e,s,n){const o=this.gen.circle(t,e,s,n);return this.draw(o)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,n,o,a,h=!1,r){const i=this.gen.arc(t,e,s,n,o,a,h,r);return this.draw(i)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var at={canvas:(t,e)=>new st(t,e),svg:(t,e)=>new ot(t,e),generator:t=>new et(t),newSeed:()=>et.newSeed()};export{at as default};\n","import rough from 'roughjs';\nimport type { Options as RoughOptions } from 'roughjs/bin/core';\nimport { createElement, getAttributes, setAttributes } from '../../utils';\nimport type { RoughConfig } from '../types';\n\nexport function applyRoughStyle(\n  node: SVGElement,\n  svg: SVGSVGElement,\n  config: RoughConfig,\n) {\n  if (!node || !svg) {\n    console.warn('Invalid node or svg element');\n    return;\n  }\n\n  const rc = rough.svg(svg, {\n    options: {\n      seed: 1000,\n    },\n  });\n\n  const g = createElement('g');\n\n  if (node.hasAttribute('transform')) {\n    g.setAttribute('transform', node.getAttribute('transform') || '');\n  }\n\n  const volume = node.cloneNode() as SVGElement;\n  setAttributes(volume, {\n    opacity: 0.5,\n  });\n  if (volume.hasAttribute('transform')) {\n    volume.removeAttribute('transform');\n  }\n  volume.dataset.elementType = 'rough-volume';\n  g.appendChild(volume);\n\n  const result = createRoughShape(rc, node, config);\n  if (result) {\n    const { element, svgAttributes } = result;\n    element.dataset.elementType = 'rough-element';\n    element.style.pointerEvents = 'none';\n    applySVGAttributes(element, svgAttributes);\n    g.appendChild(element);\n  }\n\n  if (node.id) g.id = node.id;\n\n  const classList = Array.from(node.classList);\n  classList.forEach((cls) => {\n    if (!g.classList.contains(cls)) {\n      g.classList.add(cls);\n    }\n  });\n\n  Array.from(node.attributes).forEach((attr) => {\n    if (attr.name.startsWith('data-')) {\n      g.setAttribute(attr.name, attr.value);\n    }\n  });\n\n  if (g.childElementCount > 0) {\n    node.replaceWith(g);\n  } else {\n    node.remove();\n  }\n}\n\nfunction applySVGAttributes(\n  element: SVGElement,\n  attributes: Record<string, any>,\n) {\n  if (attributes.opacity !== undefined) {\n    element.setAttribute('opacity', String(attributes.opacity));\n  }\n  if (attributes.fillOpacity !== undefined) {\n    element.setAttribute('fill-opacity', String(attributes.fillOpacity));\n  }\n  if (attributes.strokeOpacity !== undefined) {\n    element.setAttribute('stroke-opacity', String(attributes.strokeOpacity));\n  }\n  if (attributes.strokeLinecap) {\n    element.setAttribute('stroke-linecap', attributes.strokeLinecap);\n  }\n  if (attributes.strokeLinejoin) {\n    element.setAttribute('stroke-linejoin', attributes.strokeLinejoin);\n  }\n  if (attributes.strokeDasharray) {\n    element.setAttribute('stroke-dasharray', attributes.strokeDasharray);\n  }\n  if (attributes.filter) {\n    element.setAttribute('filter', attributes.filter);\n  }\n  if (attributes.clipPath) {\n    element.setAttribute('clip-path', attributes.clipPath);\n  }\n  if (attributes.mask) {\n    element.setAttribute('mask', attributes.mask);\n  }\n}\n\ninterface RoughShapeResult {\n  element: SVGElement;\n  svgAttributes: Record<string, any>;\n}\n\nfunction createRoughShape(\n  rc: ReturnType<typeof rough.svg>,\n  node: SVGElement,\n  config: RoughConfig,\n): RoughShapeResult | null {\n  const shapeType = node.nodeName.toLowerCase();\n\n  /**\n   *  RoughJS  SVG \n   * @param node SVG \n   * @param attrs \n   * @returns RoughJSSVG\n   */\n  const getShapeAttrs = (\n    node: SVGElement,\n    attrs: string[],\n  ): [Record<string, any>, RoughOptions, Record<string, any>] => {\n    // \n    const allAttrs = getAttributes(\n      node,\n      [\n        ...attrs,\n        'fill',\n        'fill-opacity',\n        'stroke',\n        'stroke-opacity',\n        'stroke-width',\n        'stroke-dasharray',\n        'stroke-linecap',\n        'stroke-linejoin',\n        'opacity',\n        'filter',\n        'clip-path',\n        'mask',\n      ],\n      true,\n    );\n\n    // RoughJSSVG\n    const shapeAttrs: Record<string, any> = {};\n    const roughOptions: RoughOptions = { ...config };\n    const svgAttributes: Record<string, any> = {};\n\n    // \n    attrs.forEach((attr) => {\n      if (allAttrs[attr] !== undefined) {\n        shapeAttrs[attr] = allAttrs[attr];\n      }\n    });\n\n    // \n    const {\n      fill,\n      'fill-opacity': fillOpacity,\n      stroke,\n      'stroke-opacity': strokeOpacity,\n      'stroke-width': strokeWidth,\n      'stroke-dasharray': strokeDasharray,\n      'stroke-linecap': strokeLinecap,\n      'stroke-linejoin': strokeLinejoin,\n      opacity,\n      filter,\n      'clip-path': clipPath,\n      mask,\n    } = allAttrs;\n\n    // RoughJS \n    roughOptions.fill = fill || 'none';\n    roughOptions.stroke =\n      stroke || (fill && fill !== 'none' ? fill : 'currentColor');\n\n    if (strokeWidth) {\n      roughOptions.strokeWidth = parseFloat(strokeWidth);\n    }\n\n    // RoughJS \n    if (strokeDasharray && strokeDasharray !== 'none') {\n      const dashArray = strokeDasharray\n        .split(/[\\s,]+/)\n        .map((v) => parseFloat(v))\n        .filter((v) => !isNaN(v));\n      if (dashArray.length > 0) {\n        roughOptions.strokeLineDash = dashArray;\n      }\n    }\n\n    // SVG \n    if (fillOpacity) {\n      svgAttributes.fillOpacity = parseFloat(fillOpacity);\n    }\n    if (strokeOpacity) {\n      svgAttributes.strokeOpacity = parseFloat(strokeOpacity);\n    }\n    if (opacity) {\n      svgAttributes.opacity = parseFloat(opacity);\n    }\n    if (strokeLinecap) {\n      svgAttributes.strokeLinecap = strokeLinecap;\n    }\n    if (strokeLinejoin) {\n      svgAttributes.strokeLinejoin = strokeLinejoin;\n    }\n    if (strokeDasharray && strokeDasharray !== 'none') {\n      svgAttributes.strokeDasharray = strokeDasharray;\n    }\n    if (filter) {\n      svgAttributes.filter = filter;\n    }\n    if (clipPath) {\n      svgAttributes.clipPath = clipPath;\n    }\n    if (mask) {\n      svgAttributes.mask = mask;\n    }\n\n    return [shapeAttrs, roughOptions, svgAttributes];\n  };\n\n  try {\n    let element: SVGElement | null = null;\n    let svgAttributes: Record<string, any> = {};\n\n    switch (shapeType) {\n      case 'circle': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, [\n          'cx',\n          'cy',\n          'r',\n        ]);\n        const cx = parseFloat(attrs.cx as string) || 0;\n        const cy = parseFloat(attrs.cy as string) || 0;\n        const r = parseFloat(attrs.r as string) || 0;\n        element = rc.circle(cx, cy, r * 2, options);\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      case 'ellipse': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, [\n          'cx',\n          'cy',\n          'rx',\n          'ry',\n        ]);\n        const cx = parseFloat(attrs.cx as string) || 0;\n        const cy = parseFloat(attrs.cy as string) || 0;\n        const rx = parseFloat(attrs.rx as string) || 0;\n        const ry = parseFloat(attrs.ry as string) || 0;\n        element = rc.ellipse(cx, cy, rx * 2, ry * 2, options);\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      case 'line': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, [\n          'x1',\n          'y1',\n          'x2',\n          'y2',\n        ]);\n        const x1 = parseFloat(attrs.x1 as string) || 0;\n        const y1 = parseFloat(attrs.y1 as string) || 0;\n        const x2 = parseFloat(attrs.x2 as string) || 0;\n        const y2 = parseFloat(attrs.y2 as string) || 0;\n        element = rc.line(x1, y1, x2, y2, options);\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      case 'rect': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, [\n          'x',\n          'y',\n          'width',\n          'height',\n          'rx',\n          'ry',\n        ]);\n        const x = parseFloat(attrs.x as string) || 0;\n        const y = parseFloat(attrs.y as string) || 0;\n        const width = parseFloat(attrs.width as string) || 0;\n        const height = parseFloat(attrs.height as string) || 0;\n\n        // \n        const rx = parseFloat(attrs.rx as string) || 0;\n        const ry = parseFloat(attrs.ry as string) || 0;\n\n        if (rx > 0 || ry > 0) {\n          //  path \n          const effectiveRx = rx || ry;\n          const effectiveRy = ry || rx;\n          const path = createRoundedRectPath(\n            x,\n            y,\n            width,\n            height,\n            effectiveRx,\n            effectiveRy,\n          );\n          element = rc.path(path, options);\n        } else {\n          element = rc.rectangle(x, y, width, height, options);\n        }\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      case 'path': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, ['d']);\n        const d = (attrs.d as string) || '';\n        if (!d) {\n          console.warn('Path element has no d attribute');\n          return null;\n        }\n        element = rc.path(d, options);\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      case 'polygon': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, ['points']);\n        const points = parsePolygonPoints((attrs.points as string) || '');\n        if (points.length < 3) {\n          console.warn('Polygon needs at least 3 points');\n          return null;\n        }\n        element = rc.polygon(points, options);\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      case 'polyline': {\n        const [attrs, options, svgAttrs] = getShapeAttrs(node, ['points']);\n        const points = parsePolygonPoints((attrs.points as string) || '');\n        if (points.length < 2) {\n          console.warn('Polyline needs at least 2 points');\n          return null;\n        }\n        element = rc.linearPath(points, options);\n        svgAttributes = svgAttrs;\n        break;\n      }\n\n      default:\n        console.warn(`Unsupported shape type: ${shapeType}`);\n        return null;\n    }\n\n    if (element) {\n      return { element, svgAttributes };\n    }\n    return null;\n  } catch (error) {\n    console.error(`Error creating rough shape for ${shapeType}:`, error);\n    return null;\n  }\n}\n\n/**\n *  SVG \n */\nfunction createRoundedRectPath(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  rx: number,\n  ry: number,\n): string {\n  // \n  rx = Math.min(rx, width / 2);\n  ry = Math.min(ry, height / 2);\n\n  return `\n    M ${x + rx} ${y}\n    L ${x + width - rx} ${y}\n    A ${rx} ${ry} 0 0 1 ${x + width} ${y + ry}\n    L ${x + width} ${y + height - ry}\n    A ${rx} ${ry} 0 0 1 ${x + width - rx} ${y + height}\n    L ${x + rx} ${y + height}\n    A ${rx} ${ry} 0 0 1 ${x} ${y + height - ry}\n    L ${x} ${y + ry}\n    A ${rx} ${ry} 0 0 1 ${x + rx} ${y}\n    Z\n  `\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\n/**\n * /\n * @param points \n * @returns \n */\nfunction parsePolygonPoints(points: string): [number, number][] {\n  if (!points || typeof points !== 'string') {\n    return [];\n  }\n\n  try {\n    // \n    const normalized = points.trim().replace(/,/g, ' ').replace(/\\s+/g, ' ');\n\n    // \n    const coords = normalized.split(' ').filter(Boolean);\n    const result: [number, number][] = [];\n\n    for (let i = 0; i < coords.length - 1; i += 2) {\n      const x = parseFloat(coords[i]);\n      const y = parseFloat(coords[i + 1]);\n\n      if (isNaN(x) || isNaN(y)) {\n        console.warn(\n          `Invalid coordinate pair at index ${i}: \"${coords[i]}\", \"${coords[i + 1]}\"`,\n        );\n        continue;\n      }\n\n      result.push([x, y]);\n    }\n\n    // \n    if (coords.length % 2 !== 0) {\n      console.warn(\n        `Odd number of coordinates in points attribute, last value ignored: \"${coords[coords.length - 1]}\"`,\n      );\n    }\n\n    return result;\n  } catch (error) {\n    console.error('Failed to parse polygon points:', points, error);\n    return [];\n  }\n}\n","import type { ParsedInfographicOptions } from '../../options';\nimport { getAttributes, hasColor, setAttributes } from '../../utils';\nimport {\n  applyGradientStyle,\n  applyPatternStyle,\n  applyRoughStyle,\n} from '../stylize';\nimport { parseDynamicAttributes } from '../utils';\n\nexport function renderShape(\n  svg: SVGSVGElement,\n  node: SVGElement,\n  options: ParsedInfographicOptions,\n): SVGElement | null {\n  const { themeConfig } = options;\n  const attrs = Object.assign({}, themeConfig.base?.shape, themeConfig.shape);\n  const parsedAttrs = parseDynamicAttributes(node, attrs);\n\n  setAttributes(node, parsedAttrs);\n  stylizeShape(node, svg, options);\n\n  return node;\n}\n\nexport function renderStaticShape(\n  node: SVGElement,\n  options: ParsedInfographicOptions,\n) {\n  setAttributes(node, options.themeConfig.base?.shape || {});\n}\n\nfunction stylizeShape(\n  node: SVGElement,\n  svg: SVGSVGElement,\n  options: ParsedInfographicOptions,\n) {\n  const config = options.themeConfig.stylize;\n\n  if (!config) return node;\n  const { type } = config;\n\n  if (!type) return node;\n\n  if (type === 'rough') {\n    return applyRoughStyle(node, svg, config);\n  }\n  if (type === 'pattern') {\n    return applyPatternStyle(node, svg, options);\n  }\n  if (type === 'linear-gradient' || type === 'radial-gradient') {\n    const { fill, stroke } = getAttributes(node, ['fill', 'stroke']);\n\n    if (hasColor(fill)) {\n      applyGradientStyle(node, svg, config, 'fill');\n    }\n    if (hasColor(stroke)) {\n      applyGradientStyle(node, svg, config, 'stroke');\n    }\n    return;\n  }\n}\n","import type { ParsedInfographicOptions } from '../../options';\nimport { DEFAULT_FONT } from '../fonts';\n\nexport function renderSVG(\n  svg: SVGSVGElement,\n  options: ParsedInfographicOptions,\n) {\n  const { themeConfig } = options;\n  const { 'font-family': fontFamily = DEFAULT_FONT } =\n    themeConfig.base?.text || {};\n  svg.setAttribute('font-family', fontFamily);\n}\n","import { get, kebabCase } from 'lodash-es';\nimport { ParsedInfographicOptions } from '../../options';\nimport type { DynamicAttributes } from '../../themes';\nimport type { ItemDatum, TextAttributes } from '../../types';\nimport {\n  createTextElement,\n  encodeFontFamily,\n  getAttributes,\n  getDatumByIndexes,\n  getItemIndexes,\n  setAttributes,\n} from '../../utils';\nimport { parseDynamicAttributes } from '../utils';\n\nexport function renderText(\n  node: SVGElement,\n  text: string,\n  attrs: DynamicAttributes<TextAttributes> = {},\n) {\n  if (!text) return null;\n\n  const textElement = node as SVGTextElement;\n\n  const staticAttrs = parseDynamicAttributes(textElement, attrs);\n\n  setAttributes(textElement, staticAttrs);\n\n  const renderedText = layoutText(text, textElement);\n\n  for (const key in textElement.dataset) {\n    renderedText.setAttribute(\n      `data-${kebabCase(key)}`,\n      textElement.dataset[key]!,\n    );\n  }\n\n  return renderedText;\n}\n\nexport function renderItemText(\n  type: 'label' | 'desc' | 'value',\n  node: SVGElement,\n  options: ParsedInfographicOptions,\n) {\n  const textShape = node.nodeName === 'text' ? node : null;\n\n  if (!textShape) return null;\n  const { data, themeConfig } = options;\n  const indexes = getItemIndexes(node.dataset.indexes || '0');\n  const datum = getDatumByIndexes(data, indexes) as ItemDatum | undefined;\n  const text = String(get(datum, type, ''));\n  const dataAttrs = datum?.attributes?.[type] as\n    | Record<string, any>\n    | undefined;\n  const attrs = Object.assign(\n    {},\n    themeConfig.base?.text,\n    themeConfig.item?.[type],\n    dataAttrs,\n  );\n\n  const staticAttrs = parseDynamicAttributes(textShape, attrs);\n  return renderText(node, node.textContent || text, staticAttrs);\n}\n\nexport function renderStaticText(\n  text: SVGTextElement,\n  options: ParsedInfographicOptions,\n) {\n  const attrs = options.themeConfig.base?.text || {};\n  setAttributes(text, attrs);\n  if (attrs['font-family']) {\n    text.setAttribute('font-family', encodeFontFamily(attrs['font-family']));\n  }\n  text.style.userSelect = 'none';\n  text.style.pointerEvents = 'none';\n}\n\nconst norm = (value: any, defaultValue?: number) => {\n  if (!value) return defaultValue;\n  return parseFloat(value);\n};\n\nfunction layoutText(textContent: string, text: SVGTextElement): SVGElement {\n  const x = norm(text.dataset.x, 0);\n  const y = norm(text.dataset.y, 0);\n  const width = norm(text.getAttribute('width'));\n  const height = norm(text.getAttribute('height'));\n\n  const attributes = getTextAttributes(text);\n  Object.assign(attributes, {\n    x,\n    y,\n    width,\n    height,\n    'data-horizontal-align': text.dataset.horizontalAlign || 'LEFT',\n    'data-vertical-align': text.dataset.verticalAlign || 'TOP',\n  });\n\n  const element = createTextElement(textContent, attributes as any);\n  return element;\n}\n\nfunction getTextAttributes(textElement: SVGTextElement) {\n  const attrs: Record<string, any> = getAttributes(textElement, [\n    'font-family',\n    'font-size',\n    'font-weight',\n    'font-style',\n    'font-variant',\n    'letter-spacing',\n    'line-height',\n    'fill',\n    'stroke',\n    'stroke-width',\n  ]);\n\n  return attrs;\n}\n","import type { ParsedInfographicOptions } from '../options';\nimport {\n  getDatumByIndexes,\n  getItemIndexes,\n  isBtnsGroup,\n  isDesc,\n  isGroup,\n  isIllus,\n  isItemDesc,\n  isItemIcon,\n  isItemIllus,\n  isItemLabel,\n  isItemValue,\n  isNode,\n  isShape,\n  isShapesGroup,\n  isText,\n  isTitle,\n  parsePadding,\n  setAttributes,\n  setSVGPadding,\n} from '../utils';\nimport {\n  renderBackground,\n  renderBaseElement,\n  renderButtonsGroup,\n  renderIllus,\n  renderItemIcon,\n  renderItemIllus,\n  renderItemText,\n  renderShape,\n  renderStaticShape,\n  renderStaticText,\n  renderSVG,\n  renderText,\n} from './composites';\nimport { loadFonts } from './fonts';\nimport type { IRenderer } from './types';\n\nconst upsert = (original: SVGElement, modified: SVGElement | null) => {\n  if (original === modified) return;\n  if (!modified) original.remove();\n  else original.replaceWith(modified);\n};\n\nexport class Renderer implements IRenderer {\n  private rendered = false;\n\n  constructor(\n    private options: ParsedInfographicOptions,\n    private template: SVGSVGElement,\n  ) {}\n\n  public getOptions(): ParsedInfographicOptions {\n    return this.options;\n  }\n\n  public getSVG(): SVGSVGElement {\n    return this.template;\n  }\n\n  render(): SVGSVGElement {\n    const svg = this.getSVG();\n    if (this.rendered) return svg;\n\n    renderTemplate(svg, this.options);\n    svg.style.visibility = 'hidden';\n    const postRender = () => {\n      setView(this.template, this.options);\n      loadFonts(this.template);\n      svg.style.removeProperty('visibility');\n    };\n\n    if (isNode) {\n      postRender();\n    } else {\n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          mutation.addedNodes.forEach((node) => {\n            if (node === svg || node.contains(svg)) {\n              postRender();\n              observer.disconnect();\n            }\n          });\n        });\n      });\n\n      try {\n        observer.observe(document, {\n          childList: true,\n          subtree: true,\n        });\n      } catch (error) {\n        // Fallback for micro-app environments that proxy document.\n        postRender();\n        console.error(error);\n      }\n    }\n\n    this.rendered = true;\n    return svg;\n  }\n}\n\nfunction renderTemplate(svg: SVGSVGElement, options: ParsedInfographicOptions) {\n  fill(svg, options);\n\n  setSVG(svg, options);\n\n  renderBackground(svg, options);\n}\n\nfunction fill(svg: SVGSVGElement, options: ParsedInfographicOptions) {\n  const { themeConfig, data } = options;\n\n  renderBaseElement(svg, themeConfig.base?.global);\n\n  const elements = svg.querySelectorAll<SVGElement>(`[data-element-type]`);\n\n  elements.forEach((element) => {\n    const id = element.id || '';\n    if (isTitle(element)) {\n      const modified = renderText(\n        element,\n        data.title || '',\n        Object.assign(\n          {},\n          themeConfig.base?.text,\n          themeConfig.title,\n          data.attributes?.title,\n        ),\n      );\n      return upsert(element, modified);\n    }\n    if (isDesc(element)) {\n      const modified = renderText(\n        element,\n        data.desc || '',\n        Object.assign(\n          {},\n          themeConfig.base?.text,\n          themeConfig.desc,\n          data.attributes?.desc,\n        ),\n      );\n      return upsert(element, modified);\n    }\n    if (isIllus(element)) {\n      const modified = renderIllus(\n        svg,\n        element,\n        data.illus?.[id],\n        undefined,\n        data.attributes?.illus as Record<string, any>,\n      );\n      return upsert(element, modified);\n    }\n\n    if (isShapesGroup(element)) {\n      return Array.from(element.children).forEach((child) => {\n        renderShape(svg, child as SVGElement, options);\n      });\n    }\n\n    if (isShape(element)) {\n      const modified = renderShape(svg, element, options);\n      return upsert(element, modified);\n    }\n\n    if (isBtnsGroup(element)) {\n      return renderButtonsGroup(svg, element as SVGGElement);\n    }\n\n    if (element.dataset.elementType?.startsWith('item-')) {\n      const indexes = getItemIndexes(element.dataset.indexes || '0');\n      const itemType = element.dataset.elementType.replace('item-', '');\n      const datum = getDatumByIndexes(data, indexes);\n\n      if (isItemLabel(element) || isItemDesc(element) || isItemValue(element)) {\n        const modified = renderItemText(\n          itemType as 'label' | 'desc' | 'value',\n          element,\n          options,\n        );\n        return upsert(element, modified);\n      }\n      if (!datum) return;\n      if (isItemIllus(element)) {\n        const modified = renderItemIllus(svg, element, datum);\n        return upsert(element, modified);\n      }\n\n      if (isItemIcon(element)) {\n        const modified = renderItemIcon(svg, element, datum, options);\n        return upsert(element, modified);\n      }\n    }\n\n    if (isText(element)) {\n      return renderStaticText(element, options);\n    }\n\n    if (!isGroup(element)) {\n      return renderStaticShape(element, options);\n    }\n  });\n\n  renderSVG(svg, options);\n}\n\nfunction setSVG(svg: SVGSVGElement, options: ParsedInfographicOptions) {\n  const { width, height } = options;\n  const { style = {}, attributes = {}, id, className } = options.svg || {};\n  if (id) svg.id = id;\n  if (className) svg.classList.add(className);\n  if (width !== undefined) {\n    svg.setAttribute('width', typeof width === 'number' ? `${width}px` : width);\n  }\n  if (height !== undefined) {\n    svg.setAttribute(\n      'height',\n      typeof height === 'number' ? `${height}px` : height,\n    );\n  }\n  Object.assign(svg.style, style);\n  setAttributes(svg, attributes);\n}\n\nfunction setView(svg: SVGSVGElement, options: ParsedInfographicOptions) {\n  const { padding = 0, viewBox } = options;\n\n  if (viewBox) {\n    svg.setAttribute('viewBox', viewBox);\n  } else if (padding !== undefined) {\n    setSVGPadding(svg, parsePadding(padding));\n  }\n}\n","import { measureText as measure, registerFont } from 'measury';\nimport AlibabaPuHuiTi from 'measury/fonts/AlibabaPuHuiTi-Regular';\nimport { JSXNode, TextProps } from '../jsx';\nimport { DEFAULT_FONT } from '../renderer';\nimport { encodeFontFamily } from './font';\n\nlet FONT_EXTEND_FACTOR = 1.01;\n\nexport const setFontExtendFactor = (factor: number) => {\n  FONT_EXTEND_FACTOR = factor;\n};\n\nregisterFont(AlibabaPuHuiTi);\n\nlet canvasContext: CanvasRenderingContext2D | null | undefined = undefined;\nlet measureSpan: HTMLSpanElement | null = null;\n\nfunction getCanvasContext() {\n  if (typeof document === 'undefined') return null;\n  if (canvasContext !== undefined) return canvasContext;\n  const canvas = document.createElement('canvas');\n  canvasContext = canvas.getContext('2d');\n  return canvasContext;\n}\n\nfunction getMeasureSpan() {\n  if (typeof document === 'undefined') return null;\n  if (!document.body) return null;\n  if (measureSpan) return measureSpan;\n  measureSpan = document.createElement('span');\n  measureSpan.style.position = 'absolute';\n  measureSpan.style.top = '-10000px';\n  measureSpan.style.left = '-10000px';\n  measureSpan.style.visibility = 'hidden';\n  measureSpan.style.pointerEvents = 'none';\n  measureSpan.style.whiteSpace = 'pre';\n  measureSpan.style.display = 'inline-block';\n  measureSpan.style.padding = '0';\n  measureSpan.style.margin = '0';\n  document.body.appendChild(measureSpan);\n  return measureSpan;\n}\n\nfunction resolveLineHeight(\n  fontSize: number,\n  lineHeight: number | string | undefined,\n) {\n  if (lineHeight === undefined || lineHeight === null) {\n    return fontSize * 1.4;\n  }\n  if (typeof lineHeight === 'string') {\n    const trimmed = lineHeight.trim();\n    if (trimmed.endsWith('px')) {\n      const value = Number.parseFloat(trimmed);\n      return Number.isFinite(value) ? value : fontSize * 1.4;\n    }\n    lineHeight = Number(trimmed);\n  }\n  if (typeof lineHeight !== 'number' || !Number.isFinite(lineHeight)) {\n    return fontSize * 1.4;\n  }\n  return lineHeight > 4 ? lineHeight : lineHeight * fontSize;\n}\n\nfunction measureTextInBrowser(\n  content: string,\n  {\n    fontFamily,\n    fontSize,\n    fontWeight,\n    lineHeight,\n  }: {\n    fontFamily: string;\n    fontSize: number;\n    fontWeight: string | number;\n    lineHeight: number | string | undefined;\n  },\n) {\n  const lines = content.split(/\\r?\\n/);\n  const normalizedFamily = encodeFontFamily(fontFamily);\n  const normalizedWeight = fontWeight || 'normal';\n  const lineHeightPx = resolveLineHeight(fontSize, lineHeight);\n\n  const context = getCanvasContext();\n  if (context) {\n    context.font = `${normalizedWeight} ${fontSize}px ${normalizedFamily}`;\n    const width = lines.reduce((maxWidth, line) => {\n      const metrics = context.measureText(line);\n      return Math.max(maxWidth, metrics.width);\n    }, 0);\n    return { width, height: lineHeightPx * Math.max(lines.length, 1) };\n  }\n\n  const span = getMeasureSpan();\n  if (!span) return null;\n  span.style.fontFamily = normalizedFamily;\n  span.style.fontSize = `${fontSize}px`;\n  span.style.fontWeight = String(normalizedWeight);\n  span.style.lineHeight = `${lineHeightPx}px`;\n  span.textContent = content;\n  const rect = span.getBoundingClientRect();\n  if (content && rect.width <= 0 && rect.height <= 0) return null;\n  return { width: rect.width, height: rect.height };\n}\n\nexport function measureText(\n  text: JSXNode = '',\n  attrs: TextProps,\n): { width: number; height: number } {\n  if (attrs.width && attrs.height) {\n    return { width: attrs.width, height: attrs.height };\n  }\n  if (typeof text !== 'string' && typeof text !== 'number') {\n    return { width: 0, height: 0 };\n  }\n  const {\n    fontFamily = DEFAULT_FONT,\n    fontSize = 14,\n    fontWeight = 'normal',\n    lineHeight = 1.4,\n  } = attrs;\n\n  const content = text.toString();\n  const options = {\n    fontFamily,\n    fontSize: parseFloat(fontSize.toString()),\n    fontWeight,\n    lineHeight,\n  };\n  const fallback = () => measure(content, options);\n  const metrics = measureTextInBrowser(content, options) ?? fallback();\n\n  //  1% \n  return {\n    width: Math.ceil(metrics.width * FONT_EXTEND_FACTOR),\n    height: Math.ceil(metrics.height * FONT_EXTEND_FACTOR),\n  };\n}\n","export function createElement<T extends SVGElement = SVGElement>(\n  tagName: string,\n  attributes: Record<string, any> = {},\n) {\n  const element = document.createElementNS(\n    'http://www.w3.org/2000/svg',\n    tagName,\n  ) as T;\n\n  setAttributes(element, attributes);\n\n  return element;\n}\n\nexport function parseSVG<T extends SVGElement = SVGSVGElement>(\n  svg: string,\n): T | null {\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(svg, 'image/svg+xml');\n\n  const errorNode = doc.querySelector('parsererror');\n  if (errorNode) {\n    throw new Error('Invalid SVG string');\n  }\n\n  return doc.documentElement as unknown as T;\n}\n\nexport function setAttributes(element: SVGElement, attrs: Record<string, any>) {\n  Object.entries(attrs).forEach(([key, value]) => {\n    if (value === null || value === undefined) {\n      element.removeAttribute(key);\n    } else {\n      element.setAttribute(key, value);\n    }\n  });\n}\n\nexport function getAttributes(\n  element: SVGElement,\n  attrs: readonly string[],\n  ignoreEmpty = true,\n) {\n  return attrs.reduce(\n    (acc, attr) => {\n      const value = element.getAttribute(attr);\n      if (\n        !ignoreEmpty ||\n        (value !== null && value !== '' && value !== undefined)\n      ) {\n        acc[attr] = value;\n      }\n      return acc;\n    },\n    {} as Record<string, string | null>,\n  );\n}\n\nexport function removeAttributes(element: SVGElement, attrs: string[]) {\n  attrs.forEach((attr) => {\n    element.removeAttribute(attr);\n  });\n}\n\nexport function traverse(\n  node: SVGElement,\n  callback: <T extends SVGElement = SVGElement>(child: T) => boolean | void,\n) {\n  if (callback(node as SVGElement) === false) return;\n\n  const children = Array.from(node.children);\n  children.forEach((child) => {\n    traverse(child as SVGElement, callback);\n  });\n}\n\nexport function getOrCreateDefs(\n  svg: SVGSVGElement,\n  defsId: string = 'infographic-defs',\n): SVGDefsElement {\n  const selector = defsId ? `defs#${defsId}` : 'defs';\n  const defs = svg.querySelector<SVGDefsElement>(selector);\n\n  if (defs) return defs;\n  const newDefs = createElement<SVGDefsElement>('defs');\n  if (defsId) newDefs.id = defsId;\n  svg.prepend(newDefs);\n  return newDefs;\n}\n","import { camelCase } from 'lodash-es';\nimport { TextProps } from '../editor';\nimport type {\n  TextAttributes,\n  TextElement,\n  TextHorizontalAlign,\n  TextVerticalAlign,\n} from '../types';\nimport { decodeFontFamily, encodeFontFamily } from './font';\nimport { measureText } from './measure-text';\nimport { isForeignObjectElement } from './recognizer';\nimport { createElement, setAttributes } from './svg';\n\nexport function getTextEntity(text: SVGElement): HTMLSpanElement | null {\n  if (!isForeignObjectElement(text)) return null;\n  return text.querySelector('span');\n}\n\nexport function createTextElement(\n  textContent: string,\n  attributes: TextAttributes,\n): TextElement {\n  const entity = document.createElement('span');\n  // Set xmlns on the span element (HTML content)\n  entity.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n  const foreignObject = createElement<SVGForeignObjectElement>(\n    'foreignObject',\n    { overflow: 'visible' },\n  );\n  foreignObject.appendChild(entity);\n  updateTextElement(foreignObject, { textContent, attributes });\n  return foreignObject;\n}\n\nexport function updateTextElement(\n  text: TextElement,\n  props: Partial<TextProps>,\n) {\n  const { textContent, attributes } = props;\n  if (textContent !== undefined) {\n    setTextContent(text, textContent);\n  }\n  if (!attributes) return;\n\n  const entity = getTextEntity(text);\n  let { width, height } = attributes;\n\n  const textAttrs: TextAttributes = {};\n\n  if (entity) {\n    Object.assign(entity.style, getTextStyle(attributes));\n    if (!width || !height) {\n      const content = textContent ?? getTextContent(text);\n      const { fontFamily, fontSize, fontWeight, lineHeight } = entity.style;\n      const fSize = fontSize ? parseFloat(String(fontSize)) : 12;\n      const rect = measureText(content, {\n        fontFamily,\n        fontSize: fSize,\n        fontWeight,\n        lineHeight: lineHeight.endsWith('px')\n          ? parseFloat(lineHeight)\n          : (parseFloat(lineHeight) || 1.4) * fSize,\n      });\n\n      if (!width && !text.hasAttribute('width')) width = String(rect.width);\n      if (!height && !text.hasAttribute('height')) height = String(rect.height);\n    }\n\n    // \n    const {\n      'data-horizontal-align': horizontal,\n      'data-vertical-align': vertical,\n    } = attributes;\n    Object.assign(entity.style, alignToFlex(horizontal, vertical));\n  }\n\n  const { id, x, y } = attributes;\n  if (id) textAttrs.id = id;\n  if (x !== undefined) textAttrs.x = String(x);\n  if (y !== undefined) textAttrs.y = String(y);\n  if (width !== undefined) textAttrs.width = String(width);\n  if (height !== undefined) textAttrs.height = String(height);\n  setAttributes(text, textAttrs);\n}\n\nfunction alignToFlex(\n  horizontal: string | undefined,\n  vertical: string | undefined,\n) {\n  const style: Record<string, any> = {\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    flexWrap: 'wrap',\n    wordBreak: 'break-word',\n    whiteSpace: 'pre-wrap',\n  };\n  switch (horizontal) {\n    case 'LEFT':\n      style.textAlign = 'left';\n      style.justifyContent = 'flex-start';\n      break;\n    case 'CENTER':\n      style.textAlign = 'center';\n      style.justifyContent = 'center';\n      break;\n    case 'RIGHT':\n      style.textAlign = 'right';\n      style.justifyContent = 'flex-end';\n      break;\n  }\n\n  switch (vertical) {\n    case 'TOP':\n      style.alignContent = 'flex-start';\n      style.alignItems = 'flex-start';\n      break;\n    case 'MIDDLE':\n      style.alignContent = 'center';\n      style.alignItems = 'center';\n      break;\n    case 'BOTTOM':\n      style.alignContent = 'flex-end';\n      style.alignItems = 'flex-end';\n      break;\n  }\n\n  return style;\n}\n\nexport function getTextStyle(attributes: TextAttributes) {\n  const {\n    x,\n    y,\n    width,\n    height,\n    ['data-horizontal-align']: horizontalAlign, // omit\n    ['data-vertical-align']: verticalAlign, // omit\n    ['font-size']: fontSize,\n    ['letter-spacing']: letterSpacing,\n    ['line-height']: lineHeight,\n    fill,\n    ['stroke-width']: strokeWidth,\n    ['text-anchor']: textAnchor, // omit\n    ['dominant-baseline']: dominantBaseline, // omit\n    ['font-family']: fontFamily,\n    ...restAttrs\n  } = attributes;\n\n  const style: Record<string, any> = {\n    overflow: 'visible',\n    // userSelect: 'none',\n  };\n\n  if (fill) style.color = fill;\n\n  Object.entries(restAttrs).forEach(([key, value]) => {\n    style[camelCase(key)] = value;\n  });\n\n  if (fontSize) style.fontSize = `${fontSize}px`;\n  if (lineHeight)\n    style.lineHeight =\n      typeof lineHeight === 'string' && lineHeight.endsWith('px')\n        ? lineHeight\n        : +lineHeight;\n  if (letterSpacing) style.letterSpacing = `${letterSpacing}px`;\n  if (strokeWidth) style.strokeWidth = `${strokeWidth}px`;\n  if (fontFamily) style.fontFamily = encodeFontFamily(fontFamily);\n\n  return style;\n}\n\nexport function getTextContent(text: TextElement): string {\n  const entity = getTextEntity(text);\n  if (!entity) return '';\n  return entity.innerText || entity.textContent || '';\n}\n\nexport function setTextContent(text: TextElement, content: string): void {\n  const entity = getTextEntity(text);\n  if (entity) {\n    try {\n      entity.innerText = content;\n    } catch {\n      entity.textContent = content;\n    }\n  }\n}\n\nexport function getTextElementProps(text: TextElement): Partial<TextProps> {\n  const entity = getTextEntity(text);\n  if (!entity) return {};\n\n  const {\n    color,\n    fontSize,\n    fontFamily,\n    justifyContent,\n    alignContent,\n    fontWeight,\n  } = entity.style;\n\n  const [horizontal, vertical] = flexToAlign(justifyContent, alignContent);\n\n  const attrs: TextAttributes = {\n    'data-horizontal-align': horizontal,\n    'data-vertical-align': vertical,\n  };\n\n  if (fontFamily) attrs['font-family'] = decodeFontFamily(fontFamily);\n  if (fontWeight) attrs['font-weight'] = fontWeight;\n  if (fontSize) attrs['font-size'] = String(parseInt(fontSize));\n  if (color) attrs['fill'] = color;\n\n  return { attributes: attrs, textContent: getTextContent(text) };\n}\n\nfunction flexToAlign(\n  justifyContent: string | null | undefined,\n  alignContent: string | null | undefined,\n): [TextHorizontalAlign, TextVerticalAlign] {\n  let horizontal: TextHorizontalAlign = 'LEFT';\n  let vertical: TextVerticalAlign = 'TOP';\n\n  switch (justifyContent) {\n    case 'flex-start':\n      horizontal = 'LEFT';\n      break;\n    case 'center':\n      horizontal = 'CENTER';\n      break;\n    case 'flex-end':\n      horizontal = 'RIGHT';\n      break;\n  }\n\n  switch (alignContent) {\n    case 'flex-start':\n      vertical = 'TOP';\n      break;\n    case 'center':\n      vertical = 'MIDDLE';\n      break;\n    case 'flex-end':\n      vertical = 'BOTTOM';\n      break;\n  }\n\n  return [horizontal, vertical];\n}\n","import { COMPONENT_ROLE, ElementTypeEnum } from '../constants';\nimport { Element, GeometryElement, TextElement } from '../types';\nimport { getElementByRole, getElementRole } from './element';\nimport { getTextEntity } from './text';\n\nconst is = (element: SVGElement, role: string) => {\n  return element?.dataset?.elementType === role;\n};\nconst isTagName = (element: HTMLElement | SVGElement, tagName: string) => {\n  return element.tagName.toLowerCase() === tagName.toLowerCase();\n};\n\nexport const isSVG = (element: any): element is SVGSVGElement =>\n  element instanceof SVGElement && isTagName(element, 'svg');\nexport const isTitle = (element: SVGElement) => is(element, 'title');\nexport const isDesc = (element: SVGElement) => is(element, 'desc');\nexport const isShape = (element: SVGElement) => is(element, 'shape');\nexport const isShapesGroup = (element: SVGElement) =>\n  is(element, 'shapes-group');\nexport const isIllus = (element: SVGElement) => is(element, 'illus');\nexport const isText = (element: SVGElement): element is SVGTextElement =>\n  element instanceof SVGElement && isTagName(element, 'text');\nexport const isGroup = (element: SVGElement): element is SVGGElement =>\n  element instanceof SVGElement && isTagName(element, 'g');\nexport const isItemIcon = (element: SVGElement) => is(element, 'item-icon');\nexport const isItemIconGroup = (element: SVGElement) =>\n  is(element, 'item-icon-group');\nexport const isItemLabel = (element: SVGElement) => is(element, 'item-label');\nexport const isItemDesc = (element: SVGElement) => is(element, 'item-desc');\nexport const isItemValue = (element: SVGElement) => is(element, 'item-value');\nexport const isItemIllus = (element: SVGElement) => is(element, 'item-illus');\nexport const isEditArea = (element: SVGElement) => is(element, 'edit-area');\nexport const isBtnsGroup = (element: SVGElement) => is(element, 'btns-group');\nexport const isBtnAdd = (element: SVGElement) => is(element, 'btn-add');\nexport const isBtnRemove = (element: SVGElement) => is(element, 'btn-remove');\nexport const isRoughElement = (element: SVGElement) =>\n  is(element, 'rough-element');\nexport const isRoughVolume = (element: SVGElement) =>\n  is(element, 'rough-volume');\n\nexport function isForeignObjectElement(\n  element: any,\n): element is SVGForeignObjectElement {\n  return isTagName(element, 'foreignObject');\n}\n\nexport function isTextEntity(element: any): element is HTMLSpanElement {\n  return isTagName(element, 'SPAN');\n}\n\nexport function isEditableText(node: SVGElement): node is TextElement {\n  const role = getElementRole(node);\n  return [\n    ElementTypeEnum.Title,\n    ElementTypeEnum.Desc,\n    ElementTypeEnum.ItemLabel,\n    ElementTypeEnum.ItemDesc,\n  ].includes(role);\n}\n\nexport function isEditingText(element: SVGElement | null): boolean {\n  if (!element) return false;\n  if (!isEditableText(element)) return false;\n\n  const span = getTextEntity(element);\n  if (!span) return false;\n  return span.hasAttribute('contenteditable');\n}\n\nexport function isGeometryElement(\n  element: Element,\n): element is GeometryElement {\n  const tagName = element.tagName.toLowerCase();\n  return [\n    'rect',\n    'circle',\n    'ellipse',\n    'line',\n    'polygon',\n    'polyline',\n    'path',\n  ].includes(tagName);\n}\n\nexport function isIconElement(element: SVGElement): boolean {\n  return isItemIcon(element) || isItemIconGroup(element);\n}\n\n/**\n * DOM\n * \n */\nexport function isInfographicComponent(element: HTMLElement): boolean {\n  let current: HTMLElement | null = element;\n  while (current) {\n    if (getElementByRole(current, COMPONENT_ROLE)) {\n      return true;\n    }\n    current = current.parentElement;\n  }\n  return false;\n}\n","import { ElementTypeEnum } from '../constants';\nimport { isIconElement } from './recognizer';\n\nexport function setElementRole(\n  element: SVGElement | HTMLElement,\n  role: string,\n) {\n  element.setAttribute('data-element-type', role);\n}\n\nexport function getElementByRole(\n  element: SVGElement | HTMLElement,\n  role: string,\n) {\n  return element.querySelector(`[data-element-type=\"${role}\"]`);\n}\n\nexport function getElementRole(\n  element: SVGElement | HTMLElement,\n): ElementTypeEnum {\n  if (isIconElement(element as any)) return ElementTypeEnum.ItemIcon;\n  return (\n    (element.getAttribute('data-element-type') as ElementTypeEnum) ||\n    ElementTypeEnum.Unknown\n  );\n}\n","export default function (max) {\n\tvar num, curr, prev;\n\tvar limit = max || 1;\n\n\tfunction keep(key, value) {\n\t\tif (++num > limit) {\n\t\t\tprev = curr;\n\t\t\treset(1);\n\t\t\t++num;\n\t\t}\n\t\tcurr[key] = value;\n\t}\n\n\tfunction reset(isPartial) {\n\t\tnum = 0;\n\t\tcurr = Object.create(null);\n\t\tisPartial || (prev=Object.create(null));\n\t}\n\n\treset();\n\n\treturn {\n\t\tclear: reset,\n\t\thas: function (key) {\n\t\t\treturn curr[key] !== void 0 || prev[key] !== void 0;\n\t\t},\n\t\tget: function (key) {\n\t\t\tvar val = curr[key];\n\t\t\tif (val !== void 0) return val;\n\t\t\tif ((val=prev[key]) !== void 0) {\n\t\t\t\tkeep(key, val);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (curr[key] !== void 0) {\n\t\t\t\tcurr[key] = value;\n\t\t\t} else {\n\t\t\t\tkeep(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n","import flru from 'flru';\n\ntype FetchFunction = (\n  input: RequestInfo | URL,\n  init?: RequestInit,\n) => Promise<Response>;\n\ninterface CachedResponseEntry {\n  body: ArrayBuffer;\n  init: ResponseInit;\n}\n\nconst nativeFetch: FetchFunction = globalThis.fetch;\n\nconst CACHE_MAX_ENTRIES = 1024;\n\nconst responseCache = flru<CachedResponseEntry>(CACHE_MAX_ENTRIES);\nconst pendingRequests = new Map<string, Promise<CachedResponseEntry>>();\n\nfunction buildHeadersKey(request: Request) {\n  const entries = Array.from(request.headers.entries());\n  if (entries.length === 0) return '';\n\n  entries.sort(([nameA], [nameB]) =>\n    nameA.toLowerCase().localeCompare(nameB.toLowerCase()),\n  );\n\n  return entries\n    .map(([name, value]) => `${name.toLowerCase()}:${value}`)\n    .join('|');\n}\n\nfunction buildCacheKey(request: Request) {\n  const headersKey = buildHeadersKey(request);\n  return headersKey\n    ? `${request.method}:${request.url}:${headersKey}`\n    : `${request.method}:${request.url}`;\n}\n\nfunction buildResponse(entry: CachedResponseEntry) {\n  return new Response(entry.body.slice(0), entry.init);\n}\n\nasync function fetchAndCache(request: Request, key: string) {\n  try {\n    const response = await nativeFetch(request);\n    const body = await response.arrayBuffer();\n    const entry: CachedResponseEntry = {\n      body,\n      init: {\n        status: response.status,\n        statusText: response.statusText,\n        headers: Array.from(response.headers.entries()),\n      },\n    };\n\n    if (response.ok) {\n      responseCache.set(key, entry);\n    }\n\n    return entry;\n  } finally {\n    pendingRequests.delete(key);\n  }\n}\n\nexport async function fetchWithCache(\n  input: RequestInfo | URL,\n  init?: RequestInit,\n) {\n  const request = new Request(input, init);\n  if (request.method !== 'GET') {\n    return nativeFetch(request);\n  }\n\n  const key = buildCacheKey(request);\n\n  if (responseCache.has(key)) {\n    return buildResponse(responseCache.get(key)!);\n  }\n\n  let pending = pendingRequests.get(key);\n  if (!pending) {\n    pending = fetchAndCache(request, key);\n    pendingRequests.set(key, pending);\n  }\n\n  const entry = await pending;\n  return buildResponse(entry);\n}\n","/**\n *  TypeScript \n */\nexport function getTypes(\n  composites: { structure: string[]; items: string[][] },\n  commentsMap: Record<string, string> = {\n    title: '',\n    desc: '',\n    items: '',\n    label: '',\n    value: '',\n    icon: '',\n    illus: '',\n    children: '',\n  },\n): string {\n  const { structure, items } = composites;\n\n  const lines: string[] = [];\n  const indent = (level: number) => '  '.repeat(level);\n\n  function fieldLine(name: string, type: string, level: number) {\n    const comment = commentsMap[name];\n    return comment\n      ? `${indent(level)}/** ${comment} */\\n${indent(level)}${name}: ${type};`\n      : `${indent(level)}${name}: ${type};`;\n  }\n\n  function buildItemType(level: number, indentLevel: number): string {\n    const fields = items[level];\n    const fieldLines: string[] = [];\n\n    for (const field of fields) {\n      const type = field === 'value' ? 'number' : 'string';\n      fieldLines.push(fieldLine(field, type, indentLevel + 1));\n    }\n\n    if (items[level + 1]) {\n      fieldLines.push(\n        fieldLine(\n          'children',\n          `Array<${buildItemType(level + 1, indentLevel + 1)}>`,\n          indentLevel + 1,\n        ),\n      );\n    }\n\n    return `{\\n${fieldLines.join('\\n')}\\n${indent(indentLevel)}}`;\n  }\n\n  lines.push('type InfographicType = {');\n\n  // title / desc\n  if (structure.includes('title')) {\n    lines.push(fieldLine('title', 'string', 1));\n    lines.push(fieldLine('desc', 'string', 1));\n  }\n\n  // items\n  if (structure.includes('item') && items.length > 0) {\n    lines.push(fieldLine('items', `Array<${buildItemType(0, 1)}>`, 1));\n  }\n\n  lines.push('}');\n\n  return lines.join('\\n');\n}\n","export function getSimpleHash(str: string): string {\n  let hash = 0;\n  if (str.length === 0) return hash.toString();\n\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash;\n  }\n  return Math.abs(hash).toString();\n}\n","import { getResourceHref, ResourceConfig } from '../resource';\nimport type { IconAttributes, IconElement } from '../types';\nimport { createElement, getAttributes, setAttributes } from './svg';\n\nconst ICON_RESOURCE_CACHE = new WeakMap<IconElement, string | ResourceConfig>();\n\nexport function getIconResourceConfig(\n  icon: IconElement,\n): string | ResourceConfig | null {\n  return ICON_RESOURCE_CACHE.get(icon) || null;\n}\n\nexport function createIconElement(\n  value: string | ResourceConfig,\n  attrs: IconAttributes = {},\n): IconElement {\n  const icon = createElement<IconElement>('use', {\n    ...attrs,\n    href: getResourceHref(value),\n  });\n\n  applyIconColor(icon);\n\n  ICON_RESOURCE_CACHE.set(icon, value);\n\n  return icon;\n}\n\nexport function applyIconColor(icon: IconElement) {\n  const { stroke, fill } = getAttributes(icon, ['fill', 'stroke']);\n  icon.style.color = fill || stroke || 'currentColor';\n}\n\nexport function getIconEntity(icon: IconElement): SVGUseElement | null {\n  if (icon.tagName === 'use') {\n    return icon as SVGUseElement;\n  }\n  return icon.querySelector('use');\n}\n\nexport function getIconAttrs(icon: IconElement): IconAttributes {\n  const entity = getIconEntity(icon);\n  if (!entity) return {};\n  const attrs = getAttributes(entity, [\n    'width',\n    'height',\n    'x',\n    'y',\n    'width',\n    'height',\n    'fill',\n    'fill-opacity',\n    'stroke',\n    'opacity',\n  ]);\n\n  return attrs;\n}\n\nexport function updateIconElement(\n  icon: IconElement,\n  value?: string | ResourceConfig,\n  attrs?: IconAttributes,\n): void {\n  const entity = getIconEntity(icon);\n  if (!entity) return;\n\n  if (value) setAttributes(entity, { href: getResourceHref(value) });\n  if (attrs) setAttributes(entity, attrs);\n  applyIconColor(entity);\n}\n","/**\n * @see https://github.com/MatthewSH/npm-packages/blob/main/packages/is-node/src/index.ts\n */\nexport const isNode: boolean = !!(\n  typeof process !== 'undefined' &&\n  process.versions &&\n  process.versions.node\n);\n","// \nconst DEFAULT_SEPARATOR = ',';\n\n/**\n * 0\n * @param key -  '0,1,2'\n * @param separator -  ','\n * @example getIndexesFromItemKey('0,1,2') => [0, 1, 2]\n */\nexport const getIndexesFromItemKey = (\n  key: string,\n  separator: string = DEFAULT_SEPARATOR,\n): number[] => {\n  return key.split(separator).map((value) => parseInt(value, 10));\n};\n\n/**\n *  dataset.indexes \n * @example getItemIndexes('1,2,3') => [0, 1, 2]\n */\nexport const getItemIndexes = (indexesStr: string): number[] => {\n  return getIndexesFromItemKey(indexesStr);\n};\n","export function join(...paths: string[]): string {\n  return paths\n    .map((path) => path.replace(/^\\/+|\\/+$/g, ''))\n    .filter((path) => path.trim().length > 0)\n    .join('/');\n}\n","export function getViewBox(svg: SVGSVGElement) {\n  const viewBox = svg.getAttribute('viewBox');\n  if (viewBox) {\n    const [x, y, width, height] = viewBox.split(' ').map(Number);\n    return { x, y, width, height };\n  }\n  const widthStr = svg.getAttribute('width');\n  const heightStr = svg.getAttribute('height');\n  const width = Number(widthStr) || 0;\n  const height = Number(heightStr) || 0;\n  return { x: 0, y: 0, width, height };\n}\n\nexport function calculateZoomedViewBox(\n  current: { x: number; y: number; width: number; height: number },\n  factor: number,\n  pivot: { x: number; y: number },\n) {\n  const newWidth = current.width * factor;\n  const newHeight = current.height * factor;\n\n  const newX = pivot.x - (pivot.x - current.x) * factor;\n  const newY = pivot.y - (pivot.y - current.y) * factor;\n\n  return { x: newX, y: newY, width: newWidth, height: newHeight };\n}\n\nexport function viewBoxToString(box: {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}): string {\n  return `${box.x} ${box.y} ${box.width} ${box.height}`;\n}\n","import type { Padding, ParsedPadding } from '../types';\nimport { isNode } from './is-node';\nimport { setAttributes } from './svg';\nimport { getViewBox } from './viewbox';\n\nexport function parsePadding(padding: Padding | undefined): ParsedPadding {\n  if (!padding) return [0, 0, 0, 0];\n  if (typeof padding === 'number') {\n    return [padding, padding, padding, padding];\n  }\n  if (padding.length === 1) {\n    return [padding[0], padding[0], padding[0], padding[0]];\n  }\n  if (padding.length === 2) {\n    return [padding[0], padding[1], padding[0], padding[1]];\n  }\n  if (padding.length === 3) {\n    return [padding[0], padding[1], padding[2], padding[1]];\n  }\n  if (padding.length === 4) {\n    return [padding[0], padding[1], padding[2], padding[3]];\n  }\n  return [0, 0, 0, 0];\n}\n\nexport function setSVGPadding(svg: SVGSVGElement, padding: ParsedPadding) {\n  if (isNode) {\n    setSVGPaddingInNode(svg, padding);\n  } else {\n    if (document.contains(svg)) {\n      setSVGPaddingInBrowser(svg, padding);\n    } else {\n      try {\n        const observer = new MutationObserver((mutations) => {\n          mutations.forEach((mutation) => {\n            mutation.addedNodes.forEach((node) => {\n              if (node === svg || node.contains(svg)) {\n                waitForLayout(svg, () => {\n                  setSVGPaddingInBrowser(svg, padding);\n                });\n\n                observer.disconnect();\n              }\n            });\n          });\n        });\n\n        observer.observe(document, {\n          childList: true,\n          subtree: true,\n        });\n      } catch {\n        setSVGPaddingInNode(svg, padding);\n      }\n    }\n  }\n}\n\nfunction setSVGPaddingInNode(svg: SVGSVGElement, padding: ParsedPadding) {\n  const viewBox = getViewBox(svg);\n  const [top, right, bottom, left] = padding;\n\n  setAttributes(svg, {\n    viewBox: `${viewBox.x - left} ${viewBox.y - top} ${\n      viewBox.width + left + right\n    } ${viewBox.height + top + bottom}`,\n  });\n}\n\nexport function getBoundViewBox(\n  svg: SVGSVGElement,\n  padding: ParsedPadding,\n): string {\n  const bbox = svg.getBBox();\n  const clientRect = svg.getBoundingClientRect();\n  const scaleX = clientRect.width > 0 ? bbox.width / clientRect.width : 1;\n  const scaleY = clientRect.height > 0 ? bbox.height / clientRect.height : 1;\n\n  const [topPx, rightPx, bottomPx, leftPx] = padding;\n  const topSvg = topPx * scaleY;\n  const rightSvg = rightPx * scaleX;\n  const bottomSvg = bottomPx * scaleY;\n  const leftSvg = leftPx * scaleX;\n\n  const newX = bbox.x - leftSvg;\n  const newY = bbox.y - topSvg;\n  const newWidth = bbox.width + leftSvg + rightSvg;\n  const newHeight = bbox.height + topSvg + bottomSvg;\n\n  return `${newX} ${newY} ${newWidth} ${newHeight}`;\n}\n\nfunction setSVGPaddingInBrowser(svg: SVGSVGElement, padding: ParsedPadding) {\n  const viewBox = getBoundViewBox(svg, padding);\n  setAttributes(svg, {\n    viewBox,\n  });\n}\n\nfunction waitForLayout(element: SVGSVGElement, callback: () => void) {\n  requestAnimationFrame(() => {\n    const check = () => {\n      const rect = element.getBoundingClientRect();\n      if (rect.width > 0 && rect.height > 0) {\n        callback();\n      } else {\n        requestAnimationFrame(check);\n      }\n    };\n    check();\n  });\n}\n","export function injectStyleOnce(id: string, styles: string) {\n  if (document.getElementById(id)) return;\n\n  const style = document.createElement('style');\n  style.id = id;\n  style.textContent = styles;\n  document.head.appendChild(style);\n}\n","export function uuid() {\n  if (crypto && crypto.randomUUID) {\n    return crypto.randomUUID();\n  }\n\n  return 'xxxx-xxxx-4xxx-yxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n","import { measureText } from '../../utils';\nimport type { GroupProps, JSXElement, RectProps, TextProps } from '../types';\n\nexport function Text(props: TextProps): JSXElement {\n  const {\n    id,\n    x = 0,\n    y = 0,\n    width: w,\n    height: h,\n    alignHorizontal = 'left',\n    alignVertical = 'top',\n    children,\n    fontSize = 14,\n    fontFamily,\n    fontStyle,\n    fontWeight,\n    textDecoration,\n    letterSpacing,\n    wordSpacing,\n    opacity,\n    fill = 'black',\n    lineHeight,\n    wordWrap,\n    backgroundColor = 'none',\n    backgroundOpacity = 1,\n    backgroundRadius = 0,\n    ...restProps\n  } = props;\n\n  let width = w;\n  let height = h;\n  let textX = 0;\n  let textY = 0;\n  if (!width || !height) {\n    const metrics = measureText(children, props);\n    width ||= metrics.width;\n    height ||= metrics.height;\n  }\n\n  // \n  if (w) {\n    textX =\n      alignHorizontal === 'center'\n        ? width / 2\n        : alignHorizontal === 'right'\n          ? width\n          : 0;\n  }\n  if (h) {\n    textY =\n      alignVertical === 'middle'\n        ? height / 2\n        : alignVertical === 'bottom'\n          ? height\n          : 0;\n  }\n\n  const dataAttrs = Object.entries({\n    width,\n    height,\n    ...(lineHeight !== undefined && { 'line-height': lineHeight }),\n    ...(wordWrap !== undefined && { 'data-word-wrap': wordWrap }),\n  }).reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});\n\n  const textAnchor =\n    alignHorizontal === 'center'\n      ? 'middle'\n      : alignHorizontal === 'right'\n        ? 'end'\n        : 'start';\n\n  const dominantBaseline =\n    alignVertical === 'middle'\n      ? 'central'\n      : alignVertical === 'bottom'\n        ? 'baseline'\n        : 'hanging';\n\n  const textProps = {\n    'data-element-type': 'text',\n    width,\n    height,\n    x: textX,\n    y: textY,\n    'data-x': 0,\n    'data-y': 0,\n    fill,\n    fontSize,\n    textAnchor,\n    dominantBaseline,\n    'data-horizontal-align': alignHorizontal.toUpperCase(),\n    'data-vertical-align': alignVertical.toUpperCase(),\n    children,\n    ...dataAttrs,\n    ...restProps,\n    ...(fontFamily && { fontFamily }),\n    ...(fontStyle && { fontStyle }),\n    ...(fontWeight && { fontWeight }),\n    ...(textDecoration && textDecoration !== 'none' && { textDecoration }),\n    ...(letterSpacing && { letterSpacing }),\n    ...(wordSpacing && { wordSpacing }),\n    ...(opacity !== undefined && opacity !== 1 && { opacity }),\n  };\n\n  const containerProps: GroupProps = {\n    ...(x !== 0 || y !== 0 ? { x, y, transform: `translate(${x}, ${y})` } : {}),\n    width,\n    height,\n    ...(id && { id }),\n  };\n\n  const hasBackground = backgroundColor && backgroundColor !== 'none';\n\n  const rectProps: RectProps | undefined = hasBackground\n    ? {\n        'data-element-type': 'shape',\n        x: 0,\n        y: 0,\n        width,\n        height,\n        fill: backgroundColor,\n        fillOpacity: backgroundOpacity,\n        rx: backgroundRadius,\n        ry: backgroundRadius,\n      }\n    : undefined;\n\n  return {\n    type: 'g',\n    props: {\n      ...containerProps,\n      children: [\n        ...(rectProps ? [{ type: 'rect', props: rectProps }] : []),\n        { type: 'text', props: textProps },\n      ],\n    },\n  };\n}\n","import type { FragmentProps, JSXElement, JSXNode } from './types';\n\nexport const Fragment = Symbol.for('@antv/infographic/Fragment');\n\nexport function jsx(\n  type: string | symbol | ((props?: any) => JSXNode),\n  props: Record<string, any> = {},\n): JSXElement {\n  return { type, props };\n}\n\nexport function createFragment(props: FragmentProps = {}): JSXElement {\n  return jsx(Fragment, props);\n}\n\nexport const jsxs = jsx;\nexport const jsxDEV = jsx;\n","import { Fragment } from '../jsx-runtime';\nimport { JSXNode } from '../types';\n\nexport function isFragment(\n  node: JSXNode,\n): node is { type: typeof Fragment; props: { children: JSXNode } } {\n  if (!node || typeof node !== 'object' || Array.isArray(node)) return false;\n  return node.type === Fragment;\n}\n","import { JSXElement, JSXNode } from '../types';\n\nexport function isJSXElement(element: JSXNode): element is JSXElement {\n  return (\n    element !== null &&\n    typeof element === 'object' &&\n    !Array.isArray(element) &&\n    'type' in element\n  );\n}\n","import { JSXElement, JSXNode, RenderableNode } from '../types';\nimport { isFragment } from './is-fragment';\nimport { isJSXElement } from './is-jsx-element';\n\nexport function nodeToElements(node: JSXNode): JSXElement[] {\n  return nodeToRenderableNodes(node).filter(isJSXElement);\n}\n\nexport function nodeToRenderableNodes(\n  node: JSXNode,\n  result: RenderableNode[] = [],\n): RenderableNode[] {\n  if (!node || typeof node === 'boolean') {\n    return result;\n  }\n\n  if (Array.isArray(node)) {\n    node.forEach((child) => nodeToRenderableNodes(child, result));\n  } else {\n    if (isFragment(node)) {\n      const children = node.props?.children;\n      (Array.isArray(children) ? children : [children])\n        .filter(Boolean)\n        .forEach((child) => {\n          nodeToRenderableNodes(child, result);\n        });\n    } else if (typeof node === 'object') result.push(node);\n    else result.push(node);\n  }\n  return result;\n}\n","export function isNumber(value: any): value is number {\n  return (\n    typeof value === 'number' && !Number.isNaN(value) && Number.isFinite(value)\n  );\n}\n","import { isLayoutComponent, performLayout } from '../layout';\nimport type { Bounds, JSXElement, JSXNode } from '../types';\nimport { nodeToElements } from './element';\nimport { isJSXElement } from './is-jsx-element';\nimport { isNumber } from './is-number';\n\nconst zero = (): Bounds => ({ x: 0, y: 0, width: 0, height: 0 });\n\nexport function getCombinedBounds(list?: Bounds[] | null): Bounds {\n  if (!list || list.length === 0) return zero();\n\n  let minX = Infinity;\n  let minY = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n\n  for (const bounds of list) {\n    const { x, y, width, height } = bounds;\n    const x2 = x + width;\n    const y2 = y + height;\n    if (x < minX) minX = x;\n    if (y < minY) minY = y;\n    if (x2 > maxX) maxX = x2;\n    if (y2 > maxY) maxY = y2;\n  }\n\n  if (\n    minX === Infinity ||\n    minY === Infinity ||\n    maxX === -Infinity ||\n    maxY === -Infinity\n  ) {\n    return { x: 0, y: 0, width: 0, height: 0 };\n  }\n\n  return {\n    x: minX,\n    y: minY,\n    width: Math.max(0, maxX - minX),\n    height: Math.max(0, maxY - minY),\n  };\n}\n\nexport function getElementBounds(node?: JSXNode): Bounds {\n  if (!node) return zero();\n\n  if (Array.isArray(node)) {\n    const elements = nodeToElements(node);\n    return getElementsBounds(elements);\n  }\n\n  if (typeof node !== 'object') return zero();\n\n  const { type, props = {} } = node;\n\n  if (isLayoutComponent(node)) {\n    const layoutResult = performLayout(node);\n    return getElementBounds(layoutResult);\n  }\n\n  if (typeof type === 'function') {\n    const externalX = props.x ?? 0;\n    const externalY = props.y ?? 0;\n    const externalWidth = props.width;\n    const externalHeight = props.height;\n\n    if (isNumber(externalWidth) && isNumber(externalHeight)) {\n      return {\n        x: externalX,\n        y: externalY,\n        width: externalWidth,\n        height: externalHeight,\n      };\n    }\n\n    const renderedResult = type(props) as JSXNode;\n\n    if (!renderedResult) {\n      return {\n        x: externalX,\n        y: externalY,\n        width: externalWidth ?? 0,\n        height: externalHeight ?? 0,\n      };\n    }\n\n    if (Array.isArray(renderedResult)) {\n      const elements = nodeToElements(renderedResult);\n      const innerBounds = getElementsBounds(elements);\n\n      // \n      if (isNumber(externalWidth) && isNumber(externalHeight)) {\n        return {\n          x: externalX,\n          y: externalY,\n          width: externalWidth,\n          height: externalHeight,\n        };\n      }\n\n      const width =\n        innerBounds.width !== 0 ? innerBounds.width : (externalWidth ?? 0);\n      const height =\n        innerBounds.height !== 0 ? innerBounds.height : (externalHeight ?? 0);\n\n      return {\n        x: externalX + innerBounds.x,\n        y: externalY + innerBounds.y,\n        width,\n        height,\n      };\n    }\n\n    if (isJSXElement(renderedResult)) {\n      const innerElement = renderedResult;\n      const innerBounds = getElementBounds(innerElement);\n\n      if (isPassthrough(innerElement, props)) {\n        return innerBounds;\n      }\n\n      const innerHasExplicitSize =\n        innerElement.props &&\n        isNumber(innerElement.props.width) &&\n        isNumber(innerElement.props.height);\n\n      const children = getChildrenFromElement(innerElement);\n      const jsxChildren = children.flatMap((child) => nodeToElements(child));\n      const innerHasChildren = jsxChildren.length > 0;\n\n      const innerHasSamePosition =\n        innerElement.props &&\n        innerElement.props.x === props.x &&\n        innerElement.props.y === props.y;\n\n      if (innerHasExplicitSize) {\n        return {\n          x: innerHasSamePosition ? innerBounds.x : externalX + innerBounds.x,\n          y: innerHasSamePosition ? innerBounds.y : externalY + innerBounds.y,\n          width: innerBounds.width,\n          height: innerBounds.height,\n        };\n      }\n\n      if (isNumber(externalWidth) && isNumber(externalHeight)) {\n        if (innerHasChildren) {\n          return {\n            x: innerHasSamePosition ? innerBounds.x : externalX,\n            y: innerHasSamePosition ? innerBounds.y : externalY,\n            width: externalWidth,\n            height: externalHeight,\n          };\n        } else {\n          return {\n            x: innerHasSamePosition ? innerBounds.x : externalX + innerBounds.x,\n            y: innerHasSamePosition ? innerBounds.y : externalY + innerBounds.y,\n            width: externalWidth,\n            height: externalHeight,\n          };\n        }\n      }\n\n      const width =\n        innerBounds.width !== 0 ? innerBounds.width : (externalWidth ?? 0);\n      const height =\n        innerBounds.height !== 0 ? innerBounds.height : (externalHeight ?? 0);\n\n      return {\n        x: innerHasSamePosition ? innerBounds.x : externalX + innerBounds.x,\n        y: innerHasSamePosition ? innerBounds.y : externalY + innerBounds.y,\n        width,\n        height,\n      };\n    }\n\n    return {\n      x: externalX,\n      y: externalY,\n      width: externalWidth ?? 0,\n      height: externalHeight ?? 0,\n    };\n  }\n\n  const x = props.x ?? 0;\n  const y = props.y ?? 0;\n  const width = isNumber(props.width) ? props.width : undefined;\n  const height = isNumber(props.height) ? props.height : undefined;\n\n  if (isNumber(width) && isNumber(height)) {\n    return { x, y, width, height };\n  }\n\n  // \n  const children = getChildrenFromElement(node);\n  const jsxChildren = children.flatMap((child) => nodeToElements(child));\n\n  if (jsxChildren.length > 0) {\n    const innerBounds = getElementsBounds(jsxChildren);\n\n    return {\n      x: x + innerBounds.x,\n      y: y + innerBounds.y,\n      width: isNumber(width) ? width : innerBounds.width,\n      height: isNumber(height) ? height : innerBounds.height,\n    };\n  }\n\n  // \n  return {\n    x,\n    y,\n    width: width ?? 0,\n    height: height ?? 0,\n  };\n}\n\nexport function getElementsBounds(elements: JSXNode): Bounds {\n  if (!elements || !Array.isArray(elements) || elements.length === 0) {\n    return zero();\n  }\n\n  const list: Bounds[] = [];\n\n  for (const element of elements) {\n    const validElements = nodeToElements(element);\n\n    for (const validElement of validElements) {\n      const bounds = getElementBounds(validElement);\n      if (bounds) {\n        list.push(bounds);\n      }\n    }\n  }\n\n  return getCombinedBounds(list);\n}\n\nfunction isPassthrough(\n  innerElement: JSXElement,\n  externalProps: Record<string, any>,\n): boolean {\n  if (!innerElement?.props || !externalProps) {\n    return false;\n  }\n\n  const inner = innerElement.props;\n\n  // \n  if (\n    isNumber(inner.x) &&\n    isNumber(inner.y) &&\n    isNumber(externalProps.x) &&\n    isNumber(externalProps.y)\n  ) {\n    if (inner.x === externalProps.x && inner.y === externalProps.y) {\n      // \n      const innerHasSize = isNumber(inner.width) && isNumber(inner.height);\n      const externalHasSize =\n        isNumber(externalProps.width) && isNumber(externalProps.height);\n\n      if (!innerHasSize && !externalHasSize) {\n        return true;\n      }\n    }\n  }\n\n  // \n  if (\n    isNumber(inner.x) &&\n    isNumber(inner.y) &&\n    isNumber(inner.width) &&\n    isNumber(inner.height) &&\n    isNumber(externalProps.x) &&\n    isNumber(externalProps.y) &&\n    isNumber(externalProps.width) &&\n    isNumber(externalProps.height)\n  ) {\n    return (\n      inner.x === externalProps.x &&\n      inner.y === externalProps.y &&\n      inner.width === externalProps.width &&\n      inner.height === externalProps.height\n    );\n  }\n\n  return false;\n}\n\nfunction getChildrenFromElement(element: JSXElement): JSXNode[] {\n  // React  props.children \n  const children = element.props?.children;\n\n  if (!children) {\n    return [];\n  }\n\n  // \n  return Array.isArray(children) ? children : [children];\n}\n","import type { JSXNode, RenderableNode } from '../types';\nimport { nodeToRenderableNodes } from './element';\n\nexport function getRenderableChildrenOf(element: JSXNode): RenderableNode[] {\n  if (\n    element === null ||\n    element === undefined ||\n    typeof element === 'boolean'\n  ) {\n    return [];\n  }\n\n  if (Array.isArray(element)) return nodeToRenderableNodes(element);\n\n  if (typeof element === 'object') {\n    return nodeToRenderableNodes(element.props?.children);\n  }\n\n  return [element];\n}\n","import type { JSXElement } from '../types';\n\nexport const cloneElement = (element: JSXElement, props?: any): JSXElement => {\n  const { type, props: originalProps, ...rest } = element;\n  return { type, props: { ...originalProps, ...props }, ...rest };\n};\n","import type { RenderContext } from '../types';\n\nexport const createDefaultContext = (): RenderContext => ({\n  defs: new Map(),\n});\n","export function escapeHtml(str: string): string {\n  const htmlEscapes: Record<string, string> = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n  };\n  return String(str).replace(/[&<>\"']/g, (s) => htmlEscapes[s]);\n}\n","const SPECIFIC_ATTRS_MAP: Record<string, string> = {\n  className: 'class',\n\n  // svg\n  viewBox: 'viewBox',\n  preserveAspectRatio: 'preserveAspectRatio',\n\n  // Gradient\n  gradientUnits: 'gradientUnits',\n  gradientTransform: 'gradientTransform',\n\n  // Pattern\n  patternUnits: 'patternUnits',\n  patternContentUnits: 'patternContentUnits',\n  patternTransform: 'patternTransform',\n\n  // Mask / Clip\n  maskUnits: 'maskUnits',\n  maskContentUnits: 'maskContentUnits',\n  clipPathUnits: 'clipPathUnits',\n\n  // Filter\n  primitiveUnits: 'primitiveUnits',\n  filterUnits: 'filterUnits',\n\n  // Marker\n  markerUnits: 'markerUnits',\n  markerWidth: 'markerWidth',\n  markerHeight: 'markerHeight',\n  refX: 'refX',\n  refY: 'refY',\n\n  // XML\n  xmlLang: 'xml:lang',\n  xmlSpace: 'xml:space',\n  xmlnsXlink: 'xmlns:xlink',\n\n  // XLink\n  xlinkHref: 'href',\n  xlinkTitle: 'xlink:title',\n  xlinkShow: 'xlink:show',\n  xlinkActuate: 'xlink:actuate',\n\n  // Text\n  textLength: 'textLength',\n  lengthAdjust: 'lengthAdjust',\n\n  // Animation\n  attributeName: 'attributeName',\n  attributeType: 'attributeType',\n  repeatCount: 'repeatCount',\n  repeatDur: 'repeatDur',\n  calcMode: 'calcMode',\n  keyTimes: 'keyTimes',\n  keySplines: 'keySplines',\n  keyPoints: 'keyPoints',\n\n  // filter\n  stdDeviation: 'stdDeviation',\n  baseFrequency: 'baseFrequency',\n  numOctaves: 'numOctaves',\n\n  // path\n  pathLength: 'pathLength',\n\n  // others\n  systemLanguage: 'systemLanguage',\n  requiredFeatures: 'requiredFeatures',\n  requiredExtensions: 'requiredExtensions',\n};\n\nexport function toSVGAttr(name: string) {\n  if (SPECIFIC_ATTRS_MAP[name]) {\n    return SPECIFIC_ATTRS_MAP[name];\n  }\n\n  return name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n","import type {\n  ComponentType,\n  JSXElement,\n  JSXNode,\n  RenderContext,\n  WithChildren,\n} from './types';\nimport { createDefaultContext, getRenderableChildrenOf } from './utils';\n\ntype LayoutComponent = JSXElement & { type: symbol };\n\ntype LayoutFunction<T = {}> = (\n  children: JSXElement[],\n  props: WithChildren<T>,\n  context: RenderContext,\n) => JSXElement;\n\nconst LAYOUT_FN_MAP = new Map<symbol, LayoutFunction<any>>();\n\nexport function createLayout<T = {}>(fn: LayoutFunction<T>): ComponentType<T> {\n  const type = Symbol('layout');\n  LAYOUT_FN_MAP.set(type, fn);\n  const LayoutComponent: ComponentType<T> = (props) => ({ type, props });\n  return LayoutComponent;\n}\n\nexport function isLayoutComponent(\n  element: JSXNode,\n): element is LayoutComponent {\n  return (\n    element != null &&\n    typeof element === 'object' &&\n    !Array.isArray(element) &&\n    typeof element.type === 'symbol' &&\n    LAYOUT_FN_MAP.has(element.type)\n  );\n}\n\nexport function performLayout(\n  element: LayoutComponent,\n  context: RenderContext = createDefaultContext(),\n): JSXElement {\n  const layoutFn = LAYOUT_FN_MAP.get(element.type);\n  if (!layoutFn) {\n    console.warn('Layout function not found for symbol:', element.type);\n    return element;\n  }\n\n  const children = getRenderableChildrenOf(element).filter((child) => {\n    // ignore text nodes\n    return typeof child === 'object';\n  }) as JSXElement[];\n\n  return layoutFn(children, element.props, context);\n}\n","import { DefsSymbol } from './components';\nimport { Fragment } from './jsx-runtime';\nimport { isLayoutComponent, performLayout } from './layout';\nimport type { JSXNode, RenderableNode, RenderContext, SVGProps } from './types';\nimport {\n  cloneElement,\n  createDefaultContext,\n  escapeHtml,\n  getElementBounds,\n  getRenderableChildrenOf,\n  toSVGAttr,\n} from './utils';\n\n/**\n * pre-process the element tree, expanding all components and layouts\n */\nfunction processElement(element: JSXNode, context: RenderContext): JSXNode {\n  if (element == null || typeof element === 'boolean') return null;\n  if (typeof element === 'string' || typeof element === 'number') {\n    return element;\n  }\n  if (Array.isArray(element)) {\n    return element\n      .map((child) => processElement(child, context))\n      .filter(Boolean);\n  }\n\n  // layout component\n  if (isLayoutComponent(element)) {\n    const layoutResult = performLayout(element, context);\n    return processElement(layoutResult, context);\n  }\n\n  // expand function components\n  if (typeof element.type === 'function') {\n    const rendered = element.type(element.props);\n    return processElement(rendered, context);\n  }\n\n  // process children\n  const children = getRenderableChildrenOf(element)\n    .map((child) => processElement(child, context))\n    .filter(Boolean) as RenderableNode[];\n\n  // process Fragment\n  if (element.type === Fragment) {\n    return children;\n  }\n\n  // process Defs, collect defs content\n  if (element.type === DefsSymbol) {\n    children.forEach((child) => {\n      if (typeof child === 'object' && child.props.id) {\n        context.defs.set(child.props.id, child);\n      }\n    });\n    return null;\n  }\n\n  if (children.length) {\n    return cloneElement(element, { children });\n  }\n\n  return element;\n}\n\n/**\n * render a single element to string\n */\nexport function render(\n  element: RenderableNode,\n  context: RenderContext,\n): string {\n  if (element == null) return '';\n  if (typeof element === 'string') return escapeHtml(element);\n  if (typeof element === 'number') return String(element);\n\n  const { type, props } = element;\n  if (!type) return '';\n\n  const children = getRenderableChildrenOf(element);\n\n  if (type === Fragment) {\n    return children\n      .map((child) => render(child, context))\n      .filter(Boolean)\n      .join('');\n  }\n\n  if (type === DefsSymbol) {\n    return '';\n  }\n\n  // function components and layout components should have been expanded\n  if (typeof type === 'function' || isLayoutComponent(element)) {\n    console.warn('Unexpected unprocessed component in render:', element);\n    return '';\n  }\n\n  const attrs = renderAttrs(props);\n  const childrenContent = children\n    .map((child) => render(child, context))\n    .filter(Boolean)\n    .join('');\n\n  const tagName = String(type);\n\n  if (!childrenContent) return `<${tagName}${attrs} />`;\n  return `<${tagName}${attrs}>${childrenContent}</${tagName}>`;\n}\n\n/**\n * render element to svg string\n */\nexport function renderSVG(element: JSXNode, props: SVGProps = {}): string {\n  const context: RenderContext = createDefaultContext();\n\n  const processed = processElement(element, context);\n  if (!processed) return '';\n\n  const content = Array.isArray(processed)\n    ? processed.map((el) => render(el as RenderableNode, context)).join('')\n    : render(processed as RenderableNode, context);\n\n  const { x, y, width, height, style, ...rest } = props;\n  const finalProps = {\n    ...rest,\n    xmlns: 'http://www.w3.org/2000/svg',\n  };\n\n  if (!finalProps.viewBox) {\n    if (width && height) {\n      finalProps.viewBox = `${x ?? 0} ${y ?? 0} ${width ?? 0} ${height ?? 0}`;\n    } else {\n      const bounds = getElementBounds(processed);\n      if (bounds) {\n        const { x, y, width, height } = bounds;\n        finalProps.viewBox = `${x} ${y} ${width} ${height}`;\n      }\n    }\n  }\n\n  const attrs = renderAttrs(finalProps);\n  const styleStr = renderStyle(style);\n\n  const defsContent = context.defs.size\n    ? `<defs>${Array.from(context.defs.values())\n        .map((def) => render(def, context))\n        .join('')}</defs>`\n    : '';\n  return `<svg${attrs}${styleStr}>${defsContent}${content}</svg>`;\n}\n\n/**\n * render attributes to string\n */\nfunction renderAttrs(props: Record<string, any>): string {\n  if (!props) return '';\n  const { children, ...attributes } = props;\n\n  return Object.entries(attributes)\n    .filter(([, value]) => value !== undefined && value !== null)\n    .map(([key, value]) => {\n      const attrName = toSVGAttr(key);\n      const attrValue =\n        typeof value === 'string' ? escapeHtml(String(value)) : String(value);\n      return ` ${attrName}=\"${attrValue}\"`;\n    })\n    .join('');\n}\n\nfunction renderStyle(style?: Record<string, any>): string {\n  if (!style || Object.keys(style).length === 0) return '';\n  const styleString = Object.entries(style)\n    .map(([key, value]) => {\n      const cssKey = key.replace(\n        /[A-Z]/g,\n        (match) => `-${match.toLowerCase()}`,\n      );\n      return `${cssKey}: ${value};`;\n    })\n    .join('');\n\n  return ` style=\"${escapeHtml(styleString)}\"`;\n}\n","import { ElementTypeEnum } from '../../constants';\nimport type { RectProps } from '../../jsx';\nimport { Rect } from '../../jsx';\n\nexport interface BtnProps extends RectProps {\n  indexes: number[];\n}\n\nexport const BtnAdd = (props: BtnProps) => {\n  const { indexes, ...restProps } = props;\n  const defaultProps: RectProps = {\n    fill: '#B9EBCA',\n    fillOpacity: 0.3,\n    width: 20,\n    height: 20,\n    'data-indexes': indexes,\n    'data-element-type': ElementTypeEnum.BtnAdd,\n  };\n  return <Rect {...defaultProps} {...restProps} />;\n};\n\nexport const BtnRemove = (props: BtnProps) => {\n  const { indexes, ...restProps } = props;\n  const defaultProps: RectProps = {\n    fill: '#F9C0C0',\n    fillOpacity: 0.3,\n    width: 20,\n    height: 20,\n    'data-indexes': indexes,\n    'data-element-type': ElementTypeEnum.BtnRemove,\n  };\n  return <Rect {...defaultProps} {...restProps} />;\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { GroupProps } from '../../jsx';\nimport { Group } from '../../jsx';\n\nexport interface BtnsGroupProps extends GroupProps {}\n\nexport const BtnsGroup = (props: BtnsGroupProps) => {\n  return (\n    <Group\n      data-element-type={ElementTypeEnum.BtnsGroup}\n      width={0}\n      height={0}\n      {...props}\n      display=\"none\"\n    />\n  );\n};\n","export interface GapProps {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n}\n\n/**\n * \n * @description\n *   <Gap />  const gap = <Gap /> \n */\nexport const Gap = () => {\n  return <></>;\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { RectProps } from '../../jsx';\nimport { Rect } from '../../jsx';\n\nexport interface IllusProps extends RectProps {\n  indexes?: number[];\n}\n\nexport const Illus = ({ indexes, ...props }: IllusProps) => {\n  const defaultProps: RectProps = {\n    fill: 'lightgray',\n  };\n  const finalProps = { ...defaultProps, ...props };\n\n  if (indexes) {\n    finalProps['data-indexes'] = indexes;\n    finalProps['data-element-type'] = ElementTypeEnum.ItemIllus;\n  } else {\n    finalProps['data-element-type'] = ElementTypeEnum.Illus;\n  }\n\n  return <Rect {...finalProps} />;\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { TextProps } from '../../jsx';\nimport { Text } from '../../jsx';\n\nexport interface ItemDescProps extends TextProps {\n  indexes: number[];\n  lineNumber?: number;\n}\n\nexport const ItemDesc = ({\n  indexes,\n  lineNumber = 2,\n  children,\n  ...props\n}: ItemDescProps) => {\n  if (!children) return null;\n\n  const finalProps: TextProps = {\n    fontSize: 14,\n    fill: '#666',\n    wordWrap: true,\n    lineHeight: 1.4,\n    children,\n    ...props,\n  };\n\n  finalProps.height ??= Math.ceil(\n    lineNumber * +finalProps.lineHeight! * +finalProps.fontSize!,\n  );\n\n  return (\n    <Text\n      {...finalProps}\n      data-indexes={indexes}\n      data-element-type={ElementTypeEnum.ItemDesc}\n    />\n  );\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { RectProps } from '../../jsx';\nimport { Ellipse, Group, Rect } from '../../jsx';\n\nexport interface ItemIconProps extends RectProps {\n  indexes: number[];\n  size?: number;\n}\n\nexport const ItemIcon = (props: ItemIconProps) => {\n  const { indexes, size = 32, ...restProps } = props;\n  const finalProps: RectProps = {\n    fill: 'lightgray',\n    width: size,\n    height: size,\n    ...restProps,\n  };\n  return (\n    <Rect\n      {...finalProps}\n      data-indexes={indexes}\n      data-element-type=\"item-icon\"\n    />\n  );\n};\n\nexport const ItemIconCircle = (props: ItemIconProps & { colorBg?: string }) => {\n  const { indexes, size = 50, fill, colorBg = 'white', ...restProps } = props;\n\n  //  =  / 2\n  const innerSize = (size / Math.SQRT2) * 0.9;\n  const offset = (size - innerSize) / 2;\n\n  const iconProps: RectProps = {\n    fill: colorBg,\n    ...restProps,\n    x: offset,\n    y: offset,\n    width: innerSize,\n    height: innerSize,\n  };\n\n  return (\n    <Group\n      {...restProps}\n      width={size}\n      height={size}\n      data-element-type={ElementTypeEnum.ItemIconGroup}\n    >\n      <Ellipse\n        width={size}\n        height={size}\n        fill={fill}\n        data-element-type=\"shape\"\n      />\n      <Rect\n        {...iconProps}\n        data-indexes={indexes}\n        data-element-type={ElementTypeEnum.ItemIcon}\n      />\n    </Group>\n  );\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { TextProps } from '../../jsx';\nimport { Text } from '../../jsx';\n\nexport interface ItemLabelProps extends TextProps {\n  indexes: number[];\n}\n\nexport const ItemLabel = ({ indexes, children, ...props }: ItemLabelProps) => {\n  const finalProps: TextProps = {\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: '#252525',\n    lineHeight: 1.4,\n    children,\n    ...props,\n  };\n\n  finalProps.height ??= Math.ceil(\n    +finalProps.lineHeight! * +finalProps.fontSize!,\n  );\n\n  return (\n    <Text\n      {...finalProps}\n      data-indexes={indexes}\n      data-element-type={ElementTypeEnum.ItemLabel}\n    />\n  );\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { GroupProps } from '../../jsx';\nimport { Group } from '../../jsx';\n\nexport interface ItemsGroupProps extends GroupProps {}\n\nexport const ItemsGroup = (props: ItemsGroupProps) => {\n  return <Group data-element-type={ElementTypeEnum.ItemsGroup} {...props} />;\n};\n","import { ElementTypeEnum } from '../../constants';\nimport type { TextProps } from '../../jsx';\nimport { Text } from '../../jsx';\n\nexport interface ItemValueProps extends TextProps {\n  indexes: number[];\n  value: number;\n  formatter?: (value: number) => string | number;\n}\n\nexport const ItemValue = ({\n  indexes,\n  value,\n  formatter = (v) => String(v),\n  ...props\n}: ItemValueProps) => {\n  const finalProps: TextProps = {\n    fontSize: 14,\n    fill: '#666',\n    wordWrap: true,\n    lineHeight: 1.4,\n    children: formatter(value),\n    'data-value': value,\n    ...props,\n  };\n\n  finalProps.height ??= Math.ceil(\n    +finalProps.lineHeight! * +finalProps.fontSize!,\n  );\n\n  return (\n    <Text\n      {...finalProps}\n      data-indexes={indexes}\n      data-element-type={ElementTypeEnum.ItemValue}\n    />\n  );\n};\n","import type { GroupProps } from '../../jsx';\nimport { Group } from '../../jsx';\n\nexport interface ShapesGroupProps extends GroupProps {}\n\nexport const ShapesGroup = (props: ShapesGroupProps) => {\n  return <Group data-element-type=\"shapes-group\" {...props} />;\n};\n","import {\n  cloneElement,\n  createLayout,\n  getElementBounds,\n  getElementsBounds,\n  Group,\n  type GroupProps,\n} from '../../jsx';\n\nexport interface AlignLayoutProps extends GroupProps {\n  /**  */\n  horizontal?: 'left' | 'center' | 'right';\n  /**  */\n  vertical?: 'top' | 'middle' | 'bottom';\n}\n\nexport const AlignLayout = createLayout<AlignLayoutProps>(\n  (children, { horizontal, vertical, ...props }) => {\n    if (!children || children.length === 0) {\n      return <Group {...props} />;\n    }\n\n    const childBounds = children.map((child) => getElementBounds(child));\n    const childrenBounds = getElementsBounds(children);\n\n    // \n    const containerX = props.x ?? childrenBounds.x;\n    const containerY = props.y ?? childrenBounds.y;\n    const containerWidth = props.width ?? childrenBounds.width;\n    const containerHeight = props.height ?? childrenBounds.height;\n\n    // \n    const positionedChildren = children.map((child, index) => {\n      const bounds = childBounds[index];\n      const childProps = { ...child.props };\n\n      // \n      if (horizontal !== undefined) {\n        switch (horizontal) {\n          case 'left':\n            childProps.x = -bounds.x; // \n            break;\n          case 'center':\n            childProps.x = (containerWidth - bounds.width) / 2 - bounds.x;\n            break;\n          case 'right':\n            childProps.x = containerWidth - bounds.width - bounds.x;\n            break;\n        }\n      } else if (childProps.x === undefined) {\n        // \n        childProps.x = bounds.x - containerX;\n      }\n\n      // \n      if (vertical !== undefined) {\n        switch (vertical) {\n          case 'top':\n            childProps.y = -bounds.y;\n            break;\n          case 'middle':\n            childProps.y = (containerHeight - bounds.height) / 2 - bounds.y;\n            break;\n          case 'bottom':\n            childProps.y = containerHeight - bounds.height - bounds.y;\n            break;\n        }\n      } else if (childProps.y === undefined) {\n        // \n        childProps.y = bounds.y - containerY;\n      }\n\n      return cloneElement(child, childProps);\n    });\n\n    const containerProps = {\n      ...props,\n      x: containerX,\n      y: containerY,\n      width: containerWidth,\n      height: containerHeight,\n    };\n\n    return <Group {...containerProps}>{positionedChildren}</Group>;\n  },\n);\n","import {\n  cloneElement,\n  createLayout,\n  getElementBounds,\n  getElementsBounds,\n  Group,\n  type Bounds,\n  type GroupProps,\n  type JSXElement,\n} from '../../jsx';\n\nexport interface FlexLayoutProps extends GroupProps {\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse';\n  justifyContent?: 'flex-start' | 'flex-end' | 'center' | 'space-between';\n  alignItems?: 'flex-start' | 'flex-end' | 'center';\n  alignContent?: 'flex-start' | 'flex-end' | 'center' | 'space-between';\n  flexWrap?: 'wrap' | 'nowrap';\n  gap?: number;\n}\n\nexport const FlexLayout = createLayout<FlexLayoutProps>(\n  (\n    children,\n    {\n      flexDirection = 'row',\n      justifyContent = 'flex-start',\n      alignItems = 'flex-start',\n      alignContent = 'flex-start',\n      flexWrap = 'nowrap',\n      gap = 0,\n      ...props\n    },\n  ) => {\n    if (!children || children.length === 0) {\n      return <Group {...props} />;\n    }\n\n    const isRow = flexDirection === 'row' || flexDirection === 'row-reverse';\n    const isReverse =\n      flexDirection === 'row-reverse' || flexDirection === 'column-reverse';\n\n    const childBounds = children.map((child) => getElementBounds(child));\n    const childrenBounds = getElementsBounds(children);\n\n    const containerWidth = props.width ?? childrenBounds.width;\n    const containerHeight = props.height ?? childrenBounds.height;\n    const hasContainerSize =\n      props.width !== undefined && props.height !== undefined;\n\n    const lines: Array<{ children: JSXElement[]; bounds: Bounds[] }> = [];\n\n    if (flexWrap === 'wrap' && hasContainerSize) {\n      let currentLine: JSXElement[] = [];\n      let currentLineBounds: Bounds[] = [];\n      let currentLineSize = 0;\n\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        const bounds = childBounds[i];\n        const childSize = isRow ? bounds.width : bounds.height;\n        const maxSize = isRow ? containerWidth : containerHeight;\n\n        if (\n          currentLine.length === 0 ||\n          currentLineSize + gap + childSize <= maxSize\n        ) {\n          currentLine.push(child);\n          currentLineBounds.push(bounds);\n          currentLineSize += (currentLine.length > 1 ? gap : 0) + childSize;\n        } else {\n          lines.push({ children: currentLine, bounds: currentLineBounds });\n          currentLine = [child];\n          currentLineBounds = [bounds];\n          currentLineSize = childSize;\n        }\n      }\n\n      if (currentLine.length > 0) {\n        lines.push({ children: currentLine, bounds: currentLineBounds });\n      }\n    } else {\n      lines.push({ children, bounds: childBounds });\n    }\n\n    const layoutChildren: JSXElement[] = [];\n    let currentCrossPos = 0;\n    const crossSizes: number[] = [];\n\n    lines.forEach((line) => {\n      const { children: lineChildren, bounds: lineBounds } = line;\n\n      const totalMainSize = lineBounds.reduce((sum, bounds, index) => {\n        const childMainSize = isRow ? bounds.width : bounds.height;\n        return sum + childMainSize + (index > 0 ? gap : 0);\n      }, 0);\n\n      const maxCrossSize = Math.max(\n        ...lineBounds.map((bounds) => (isRow ? bounds.height : bounds.width)),\n      );\n\n      crossSizes.push(maxCrossSize);\n\n      let mainStart = 0;\n      const availableMainSpace =\n        (isRow ? containerWidth : containerHeight) - totalMainSize;\n\n      if (hasContainerSize) {\n        switch (justifyContent) {\n          case 'flex-end':\n            mainStart = availableMainSpace;\n            break;\n          case 'center':\n            mainStart = availableMainSpace / 2;\n            break;\n          case 'space-between':\n            mainStart = 0;\n            break;\n          default:\n            mainStart = 0;\n            break;\n        }\n      }\n\n      let itemSpacing = gap;\n      if (\n        hasContainerSize &&\n        justifyContent === 'space-between' &&\n        lineChildren.length > 1\n      ) {\n        itemSpacing = availableMainSpace / (lineChildren.length - 1) + gap;\n      }\n\n      let currentMainPos = mainStart;\n\n      lineChildren.forEach((child, childIndex) => {\n        const bounds = lineBounds[childIndex];\n        const childMainSize = isRow ? bounds.width : bounds.height;\n        const childCrossSize = isRow ? bounds.height : bounds.width;\n        const mainOffset = isRow ? bounds.x : bounds.y;\n        const crossOffset = isRow ? bounds.y : bounds.x;\n\n        let crossPos = currentCrossPos;\n        if (hasContainerSize) {\n          switch (alignItems) {\n            case 'flex-end':\n              crossPos = currentCrossPos + maxCrossSize - childCrossSize;\n              break;\n            case 'center':\n              crossPos = currentCrossPos + (maxCrossSize - childCrossSize) / 2;\n              break;\n            default:\n              crossPos = currentCrossPos;\n              break;\n          }\n        }\n\n        let x: number, y: number;\n        if (isRow) {\n          x = isReverse\n            ? containerWidth - currentMainPos - childMainSize - mainOffset\n            : currentMainPos - mainOffset;\n          y = crossPos - crossOffset;\n        } else {\n          x = crossPos - crossOffset;\n          y = isReverse\n            ? containerHeight - currentMainPos - childMainSize - mainOffset\n            : currentMainPos - mainOffset;\n        }\n\n        const clonedChild = cloneElement(child, { x, y });\n        layoutChildren.push(clonedChild);\n\n        currentMainPos += childMainSize + itemSpacing;\n      });\n\n      currentCrossPos += maxCrossSize + gap;\n    });\n\n    if (lines.length > 1 && hasContainerSize) {\n      const totalCrossSize =\n        crossSizes.reduce((sum, size) => sum + size, 0) +\n        (lines.length - 1) * gap;\n      const availableCrossSpace =\n        (isRow ? containerHeight : containerWidth) - totalCrossSize;\n\n      let crossOffset = 0;\n      switch (alignContent) {\n        case 'flex-end':\n          crossOffset = availableCrossSpace;\n          break;\n        case 'center':\n          crossOffset = availableCrossSpace / 2;\n          break;\n        case 'space-between':\n          if (lines.length > 1) {\n            const lineSpacing = availableCrossSpace / (lines.length - 1);\n            let currentOffset = 0;\n\n            lines.forEach((line, lineIndex) => {\n              const lineStartIndex = lines\n                .slice(0, lineIndex)\n                .reduce((sum, l) => sum + l.children.length, 0);\n              const lineEndIndex = lineStartIndex + line.children.length;\n\n              for (let i = lineStartIndex; i < lineEndIndex; i++) {\n                const child = layoutChildren[i];\n                const newProps = { ...child.props };\n                if (isRow) {\n                  newProps.y = (newProps.y || 0) + currentOffset;\n                } else {\n                  newProps.x = (newProps.x || 0) + currentOffset;\n                }\n                layoutChildren[i] = cloneElement(child, newProps);\n              }\n\n              currentOffset +=\n                crossSizes[lineIndex] +\n                gap +\n                (lineIndex < lines.length - 1 ? lineSpacing : 0);\n            });\n            break;\n          }\n          break;\n        default:\n          crossOffset = 0;\n          break;\n      }\n\n      if (crossOffset !== 0 && alignContent !== 'space-between') {\n        layoutChildren.forEach((child, index) => {\n          const newProps = { ...child.props };\n          if (isRow) {\n            newProps.y = (newProps.y || 0) + crossOffset;\n          } else {\n            newProps.x = (newProps.x || 0) + crossOffset;\n          }\n          layoutChildren[index] = cloneElement(child, newProps);\n        });\n      }\n    }\n\n    if (!hasContainerSize) {\n      if (alignItems === 'center') {\n        if (isRow) {\n          const maxHeight = Math.max(...childBounds.map((b) => b.height));\n          layoutChildren.forEach((child, index) => {\n            const bounds = childBounds[index];\n            const centerOffset = (maxHeight - bounds.height) / 2;\n            const newProps = { ...child.props };\n            newProps.y = (newProps.y || 0) + centerOffset;\n            layoutChildren[index] = cloneElement(child, newProps);\n          });\n        } else {\n          const maxWidth = Math.max(...childBounds.map((b) => b.width));\n          layoutChildren.forEach((child, index) => {\n            const bounds = childBounds[index];\n            const centerOffset = (maxWidth - bounds.width) / 2;\n            const newProps = { ...child.props };\n            newProps.x = (newProps.x || 0) + centerOffset;\n            layoutChildren[index] = cloneElement(child, newProps);\n          });\n        }\n      }\n    }\n\n    const finalBounds = getElementsBounds(layoutChildren);\n    const containerProps = {\n      ...props,\n      x: props.x ?? childrenBounds.x,\n      y: props.y ?? childrenBounds.y,\n      width: props.width ?? finalBounds.width,\n      height: props.height ?? finalBounds.height,\n    };\n\n    return <Group {...containerProps}>{layoutChildren}</Group>;\n  },\n);\n","import { Text, type BaseGeometryProps, type TextProps } from '../../jsx';\nimport type { ThemeColors } from '../../themes';\nimport { FlexLayout } from '../layouts';\n\nexport interface TitleProps extends BaseGeometryProps {\n  alignHorizontal?: 'left' | 'center' | 'right';\n  title?: string;\n  desc?: string;\n  descLineNumber?: number;\n\n  themeColors: ThemeColors;\n}\n\nexport const Title = (props: TitleProps) => {\n  const {\n    x = 0,\n    y = 0,\n    alignHorizontal = 'center',\n    title,\n    desc,\n    descLineNumber: subTitleLineNumber = 2,\n    themeColors,\n  } = props;\n  const MainTitle = (props: TextProps) => {\n    const defaultProps: TextProps = {\n      fontSize: 24,\n      fill: themeColors.colorPrimaryText,\n      lineHeight: 1.4,\n      alignHorizontal,\n    };\n    return (\n      <Text {...defaultProps} {...props} data-element-type=\"title\">\n        {title}\n      </Text>\n    );\n  };\n\n  const Desc = (props: TextProps) => {\n    const defaultProps: TextProps = {\n      fontSize: 16,\n      fill: themeColors.colorTextSecondary,\n      alignHorizontal,\n      lineHeight: 1.4,\n      height: subTitleLineNumber * 24,\n    };\n    return (\n      <Text {...defaultProps} {...props} data-element-type=\"desc\">\n        {desc}\n      </Text>\n    );\n  };\n\n  if (!title && !desc) return null;\n\n  return (\n    <FlexLayout\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      x={x}\n      y={y}\n      gap={8}\n    >\n      {title && <MainTitle />}\n      {desc && <Desc />}\n    </FlexLayout>\n  );\n};\n","import type { ThemeConfig } from './types';\n\nconst THEME_REGISTRY = new Map<string, ThemeConfig>();\n\nexport function registerTheme(name: string, theme: ThemeConfig) {\n  THEME_REGISTRY.set(name, theme);\n}\n\nexport function getTheme(name: string): ThemeConfig | undefined {\n  return THEME_REGISTRY.get(name);\n}\n\nexport function getThemes(): string[] {\n  return Array.from(THEME_REGISTRY.keys());\n}\n","import { registerTheme } from './registry';\n\nregisterTheme('dark', {\n  colorBg: '#1F1F1F',\n  base: {\n    text: {\n      fill: '#fff',\n    },\n  },\n});\n\nregisterTheme('hand-drawn', {\n  base: {\n    text: {\n      'font-family': '851tegakizatsu',\n    },\n  },\n  stylize: {\n    type: 'rough',\n  },\n});\n","import {\n  formatHex,\n  formatHex8,\n  modeOklch,\n  oklch,\n  parse,\n  useMode,\n  wcagContrast,\n  type Color,\n} from 'culori';\nimport { ThemeColors, ThemeSeed } from './types';\n\nuseMode(modeOklch);\n\nexport const generateThemeColors = ({\n  colorPrimary,\n  colorBg = '#ffffff',\n  isDarkMode = false,\n}: ThemeSeed): ThemeColors => {\n  const pc = parse(colorPrimary)!;\n  const bg = parse(colorBg)!;\n  const baseTheme = createBaseTheme({ primaryColor: pc, bgColor: bg });\n\n  return addDerivedColors(baseTheme, {\n    primaryColor: pc,\n    bgColor: bg,\n    isDarkMode,\n  });\n};\n\nconst generatePrimaryBg = (\n  primaryColor: Color,\n  isDarkMode: boolean,\n): string => {\n  return (\n    formatHex8({ ...primaryColor, alpha: isDarkMode ? 0.2 : 0.1 }) || '#ffffff'\n  );\n};\n\nconst generateTextColor = (bgColor: Color, isDarkMode: boolean): string => {\n  if (isDarkMode) {\n    return '#ffffff';\n  }\n  const darkText = parse('#262626')!;\n  const contrast = wcagContrast(darkText, bgColor);\n  return contrast >= 7 ? formatHex(darkText) : '#000000';\n};\n\nconst generateSecondaryTextColor = (colorText: string): string => {\n  const parsed = oklch(parse(colorText)!);\n  const lighter = { ...parsed, l: Math.min(1, parsed.l + 0.2) };\n  return formatHex(lighter);\n};\n\nconst generatePrimaryTextColor = (\n  colorPrimaryBg: string,\n  isDarkMode: boolean,\n): string => {\n  const bg = parse(colorPrimaryBg)!;\n  const darkText = parse('#262626')!;\n  const lightText = parse('#ffffff')!;\n\n  const darkContrast = wcagContrast(darkText, bg);\n  const lightContrast = wcagContrast(lightText, bg);\n\n  // For primary color backgrounds, prefer light text if contrast is reasonable\n  if (lightContrast >= 3.0) {\n    return formatHex(lightText);\n  }\n\n  // Fall back to dark text only if light text contrast is too low\n  if (darkContrast >= 4.5) {\n    return formatHex(darkText);\n  }\n\n  // Default fallback\n  return isDarkMode ? '#ffffff' : '#ffffff';\n};\n\nconst generateElevatedBg = (bgColor: Color, isDarkMode: boolean): string => {\n  const parsed = oklch(bgColor);\n\n  if (isDarkMode) {\n    const lightened = { ...parsed, l: Math.min(1, parsed.l + 0.1) };\n    return safeFormatHex(lightened, '#1f1f1f');\n  } else {\n    if (parsed.l > 0.95) {\n      return '#ffffff';\n    } else {\n      const lightened = { ...parsed, l: Math.min(1, parsed.l + 0.05) };\n      return safeFormatHex(lightened, '#ffffff');\n    }\n  }\n};\n\nconst createBaseTheme = ({\n  primaryColor,\n  bgColor,\n}: {\n  primaryColor: Color;\n  bgColor: Color;\n}) => ({\n  colorPrimary: safeFormatHex(primaryColor, '#FF356A'),\n  colorBg: safeFormatHex(bgColor, '#ffffff'),\n  colorWhite: '#ffffff',\n});\n\nconst addDerivedColors = (\n  baseTheme: ReturnType<typeof createBaseTheme>,\n  {\n    primaryColor,\n    bgColor,\n    isDarkMode,\n  }: { primaryColor: Color; bgColor: Color; isDarkMode: boolean },\n): ThemeColors => {\n  const textColor = generateTextColor(bgColor, isDarkMode);\n  const colorPrimaryBg = generatePrimaryBg(primaryColor, isDarkMode);\n  return {\n    ...baseTheme,\n    isDarkMode,\n    colorPrimaryBg,\n    colorText: textColor,\n    colorTextSecondary: generateSecondaryTextColor(textColor),\n    colorPrimaryText: generatePrimaryTextColor(colorPrimaryBg, isDarkMode),\n    colorBgElevated: generateElevatedBg(bgColor, isDarkMode),\n  };\n};\n\nfunction safeFormatHex(color: Color, fallback = '#000000'): string {\n  return formatHex(color) ?? fallback;\n}\n","import type { ParsedInfographicOptions } from '../../options';\nimport { getPaletteColor as _getPaletteColor } from '../../renderer';\nimport { generateThemeColors } from '../../themes';\nimport { isDarkColor } from '../../utils';\n\nconst DEFAULT_COLOR = '#FF356A';\n\nexport function getColorPrimary(options: ParsedInfographicOptions) {\n  return options?.themeConfig?.colorPrimary || DEFAULT_COLOR;\n}\n\nexport function getPaletteColors(options: ParsedInfographicOptions): string[] {\n  const { themeConfig = {}, data } = options;\n  const { colorPrimary, palette } = themeConfig;\n\n  if (!palette || palette.length === 0) {\n    return Array(data?.items?.length || 1).fill(colorPrimary || DEFAULT_COLOR);\n  }\n\n  return data.items.map(\n    (_, i) =>\n      _getPaletteColor(palette, [i], data.items.length) || DEFAULT_COLOR,\n  );\n}\n\nexport function getPaletteColor(\n  options: ParsedInfographicOptions,\n  indexes: number[],\n): string | undefined {\n  return _getPaletteColor(\n    options?.themeConfig?.palette,\n    indexes,\n    options.data?.items?.length,\n  );\n}\n\nexport function getThemeColors(\n  colors: {\n    colorPrimary?: string;\n    colorBg?: string;\n  },\n  options?: ParsedInfographicOptions,\n) {\n  const {\n    colorBg = options?.themeConfig?.colorBg || 'white',\n    colorPrimary = options ? getColorPrimary(options) : 'black',\n  } = colors;\n  return generateThemeColors({\n    colorPrimary: colorPrimary,\n    isDarkMode: isDarkColor(colorBg),\n    colorBg: colorBg,\n  });\n}\n","/**\n * \n */\nexport type HierarchyColorMode =\n  | 'level'\n  | 'branch'\n  | 'node'\n  | 'node-flat'\n  | 'group';\n\n/**\n * \n */\nexport interface HierarchyNode {\n  /**  0  */\n  depth: number;\n  /**  [0, 1, 2] 23 */\n  originalIndexes: number[];\n  /**  node-flat  */\n  flatIndex?: number;\n}\n\n/**\n * \n *\n * @param node - \n * @param mode - \n * @returns \n *\n * @example\n * ```typescript\n * // \n * const indexes = getHierarchyColorIndexes({ depth: 2, originalIndexes: [0, 1, 2] }, 'level');\n * //  [2]3\n *\n * // \n * const indexes = getHierarchyColorIndexes({ depth: 3, originalIndexes: [0, 1, 2, 0] }, 'branch');\n * //  [2]2\n *\n * // \n * const indexes = getHierarchyColorIndexes({ depth: 2, originalIndexes: [0, 1, 2] }, 'node');\n * //  [0, 1, 2]\n *\n * // \n * const indexes = getHierarchyColorIndexes({ depth: 2, originalIndexes: [0, 1, 2], flatIndex: 5 }, 'node-flat');\n * //  [5]\n * ```\n */\nexport function getHierarchyColorIndexes(\n  node: HierarchyNode,\n  mode: HierarchyColorMode,\n): number[] {\n  const { depth, originalIndexes, flatIndex } = node;\n\n  switch (mode) {\n    case 'level':\n      // \n      //  0  [0]\n      //  1  [1]\n      //  2  [2]\n      // ...\n      return [depth];\n\n    case 'branch':\n      // \n      // - 0[0]\n      // - 1\n      //   1  [1]\n      //   2  [2]\n      //   3  [3]\n      //   ...\n      if (depth === 0) {\n        //  0\n        return [0];\n      } else if (depth === 1) {\n        //  + 1\n        return [originalIndexes[1] + 1];\n      } else {\n        // \n        // originalIndexes[1] \n        return [originalIndexes[1] + 1];\n      }\n\n    case 'node':\n      // \n      // \n      // \n      return originalIndexes;\n\n    case 'node-flat':\n      // \n      //  flatIndex\n      // \n      if (flatIndex !== undefined) {\n        return [flatIndex];\n      }\n      //  flatIndex\n      console.warn(\n        'node-flat mode requires flatIndex in HierarchyNode, falling back to originalIndexes',\n      );\n      return originalIndexes;\n\n    default:\n      // \n      return [0];\n  }\n}\n\n/**\n *  d3 hierarchy \n *\n * @param d3Node - d3.hierarchy \n * @returns \n *\n * @example\n * ```typescript\n * const root = d3.hierarchy(data);\n * const nodes = root.descendants();\n *\n * nodes.forEach(node => {\n *   const hierarchyNode = extractHierarchyNode(node);\n *   const colorIndexes = getHierarchyColorIndexes(hierarchyNode, 'branch');\n *   const color = getPaletteColor(options, colorIndexes);\n * });\n * ```\n */\nexport function extractHierarchyNode(d3Node: any): HierarchyNode {\n  return {\n    depth: d3Node.depth,\n    originalIndexes: d3Node.data._originalIndex || [],\n  };\n}\n","import type { BaseItemProps } from '../items/types';\nimport { BaseStructureProps } from '../structures';\n\n/**\n * \n * @param props\n * @param extKeys\n * @returns\n */\nexport function getItemProps<T extends BaseItemProps>(\n  props: T,\n  extKeys: string[] = [],\n) {\n  const restProps: Record<string, any> = { ...props };\n  const extProps: T = {} as any;\n\n  const keys = [\n    'indexes',\n    'data',\n    'datum',\n    'positionH',\n    'positionV',\n    'themeColors',\n    'valueFormatter',\n    ...extKeys,\n  ];\n\n  keys.forEach((key) => {\n    if (key in restProps) {\n      extProps[key as keyof T] = restProps[key];\n      delete restProps[key];\n    }\n  });\n\n  // keep x, y, width, height in rest\n  ['x', 'y', 'width', 'height'].forEach((key) => {\n    if (key in props) {\n      restProps[key] = props[key];\n    }\n  });\n\n  return [extProps, restProps] as const;\n}\n\n/**\n * \n */\nexport function getItemComponent(\n  Items: BaseStructureProps['Items'],\n  level?: number,\n) {\n  if (Items.length === 0) return () => null;\n  if (level === undefined) return Items[0];\n  return Items[level] ?? Items[0];\n}\n","/**\n * \n *\n * \n * - \"2%\"  \"2.5%\"  2  2.5\n * - 2  2.5 ()  2  2.5\n *\n * @param value -  \"%\" \n * @returns \n *\n * @example\n * ```typescript\n * normalizePercent(\"2%\");   //  2\n * normalizePercent(\"2.5%\"); //  2.5\n * normalizePercent(2);      //  2\n * normalizePercent(2.5);    //  2.5\n * ```\n */\nexport function normalizePercent(value: number | string | undefined): number {\n  if (value === undefined || value === null) return 0;\n\n  //  ( \"2%\"  \"2.5%\")\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    //  '%' \n    const numStr = trimmed.endsWith('%') ? trimmed.slice(0, -1) : trimmed;\n    const num = parseFloat(numStr);\n    return isNaN(num) ? 0 : num;\n  }\n\n  // \n  return value;\n}\n","import type { Item } from './types';\n\nconst ITEM_REGISTRY = new Map<string, Item>();\n\nexport function registerItem(type: string, item: Item) {\n  ITEM_REGISTRY.set(type, item);\n}\n\nexport function getItem(type: string): Item | undefined {\n  return ITEM_REGISTRY.get(type);\n}\n\nexport function getItems(): string[] {\n  return Array.from(ITEM_REGISTRY.keys());\n}\n","import tinycolor from 'tinycolor2';\nimport { ComponentType, Defs, Ellipse, Group, Rect } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel, ItemValue } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface BadgeCardProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  badgeSize?: number;\n  gap?: number;\n}\n\nexport const BadgeCard: ComponentType<BadgeCardProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 200,\n      height = 80,\n      iconSize = 24,\n      badgeSize = 32,\n      gap = 8,\n      positionH = 'normal',\n      themeColors,\n      valueFormatter,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'iconSize', 'badgeSize', 'gap']);\n  const value = datum.value;\n  const hasValue = value !== undefined;\n  const hasDesc = !!datum.desc;\n  const hasIcon = !!datum.icon;\n  const gradientId = `${themeColors.colorPrimary}-badge`;\n\n  const badgeX = positionH === 'flipped' ? width - gap - badgeSize : gap;\n  const contentStartX = hasIcon\n    ? positionH === 'flipped'\n      ? gap\n      : badgeSize + 2 * gap\n    : gap; // \n  const fullWidth = width - gap * 2;\n  const contentWidth = hasIcon ? width - badgeSize - 3 * gap : fullWidth;\n\n  // label + value \n  const descY = gap + 14 + 18 + 8; // label(14) + value(18) + gap(8)\n  const contentAreaHeight = descY - gap; // label  value \n\n  //  desc \n  const badgeY = !hasDesc ? (height - badgeSize) / 2 : gap;\n  //  value label  value \n  const contentY = !hasValue && !hasDesc ? (height - 14) / 2 : gap;\n\n  const textAlign =\n    !hasIcon && positionH === 'center'\n      ? 'center'\n      : positionH === 'flipped'\n        ? 'right'\n        : 'left';\n\n  return (\n    <Group {...restProps} width={width} height={height}>\n      <Defs>\n        <radialGradient id={gradientId} cx=\"50%\" cy=\"50%\" r=\"50%\">\n          <stop offset=\"0%\" stopColor={themeColors.colorPrimary} />\n          <stop\n            offset=\"100%\"\n            stopColor={tinycolor(themeColors.colorPrimary)\n              .darken(20)\n              .toHexString()}\n          />\n        </radialGradient>\n      </Defs>\n\n      {/*  */}\n      <Rect\n        data-element-type=\"shape\"\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={themeColors.colorPrimaryBg}\n        rx={8}\n        ry={8}\n      />\n\n      {hasIcon && (\n        <>\n          {/*  */}\n          <Ellipse\n            x={badgeX}\n            y={badgeY}\n            width={badgeSize}\n            height={badgeSize}\n            fill={`url(#${gradientId})`}\n          />\n\n          {/*  */}\n          <ItemIcon\n            indexes={indexes}\n            x={badgeX + (badgeSize - iconSize) / 2}\n            y={badgeY + (badgeSize - iconSize) / 2}\n            size={iconSize}\n            fill={themeColors.colorWhite}\n          />\n        </>\n      )}\n\n      {/* label  value */}\n      <FlexLayout\n        flexDirection=\"column\"\n        x={contentStartX}\n        y={contentY}\n        width={contentWidth}\n        height={!hasValue && !hasDesc ? undefined : contentAreaHeight}\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        {/*  */}\n        <ItemLabel\n          indexes={indexes}\n          width={contentWidth}\n          alignHorizontal={textAlign}\n          alignVertical=\"middle\"\n          fontSize={14}\n          fill={themeColors.colorText}\n        >\n          {datum.label}\n        </ItemLabel>\n\n        {/*  */}\n        {hasValue && (\n          <ItemValue\n            indexes={indexes}\n            width={contentWidth}\n            alignHorizontal={positionH === 'flipped' ? 'right' : 'left'}\n            alignVertical=\"middle\"\n            fontSize={18}\n            lineHeight={1}\n            fontWeight=\"bold\"\n            fill={themeColors.colorPrimary}\n            value={value}\n            formatter={valueFormatter}\n          />\n        )}\n      </FlexLayout>\n\n      {/*  value */}\n      {hasDesc && (\n        <ItemDesc\n          indexes={indexes}\n          x={gap}\n          y={descY}\n          width={fullWidth}\n          alignHorizontal={textAlign}\n          fontSize={11}\n          fill={themeColors.colorTextSecondary}\n          lineNumber={2}\n          lineHeight={1.2}\n          wordWrap={true}\n        >\n          {datum.desc}\n        </ItemDesc>\n      )}\n    </Group>\n  );\n};\n\nregisterItem('badge-card', {\n  component: BadgeCard,\n  composites: ['icon', 'label', 'value', 'desc'],\n});\n","import type { ComponentType } from '../../jsx';\nimport { Group, Path } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface CandyCardLiteProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n}\n\nexport const CandyCardLite: ComponentType<CandyCardLiteProps> = (props) => {\n  const [\n    { indexes, datum, width = 280, height = 140, themeColors },\n    restProps,\n  ] = getItemProps(props, ['width', 'height']);\n\n  return (\n    <Group {...restProps}>\n      {/*  */}\n      <rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        rx={22}\n        ry={22}\n        fill={themeColors.colorPrimaryBg}\n        stroke={themeColors.colorPrimary}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <Path\n        x={width - 85}\n        y={0.5}\n        width={85}\n        height={65}\n        d=\"M0 0H62.4495C74.9557 0 85.4549 10.8574 84.4557 23.1875V60.1875L77.8772 62.5839C64.3776 67.6876 48.51 64.6893 37.8662 53.7441L10.2361 25.3312C4.91402 19.8571 1.65356 13.1736 0.435652 6.21819L0 0Z\"\n        fill={themeColors.colorBg}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <ItemLabel\n        indexes={indexes}\n        x={20}\n        y={24}\n        width={200}\n        alignHorizontal=\"left\"\n        alignVertical=\"middle\"\n        fill={themeColors.colorText}\n      >\n        {datum.label}\n      </ItemLabel>\n\n      {/*  */}\n      <ItemDesc\n        indexes={indexes}\n        x={20}\n        y={58}\n        width={220}\n        height={70}\n        fill={themeColors.colorTextSecondary}\n        alignHorizontal=\"left\"\n        alignVertical=\"top\"\n      >\n        {datum.desc}\n      </ItemDesc>\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={width - 48}\n        y={12}\n        width={32}\n        height={32}\n        fill={themeColors.colorPrimary}\n      />\n    </Group>\n  );\n};\n\nregisterItem('candy-card-lite', {\n  component: CandyCardLite,\n  composites: ['icon', 'label', 'desc'],\n});\n","interface DropShadowProps {\n  id?: string;\n  x?: string;\n  y?: string;\n  width?: string;\n  height?: string;\n  color?: string;\n  opacity?: number;\n}\n\nexport const DropShadow = (props: DropShadowProps) => {\n  const { color = 'black', opacity = 0.8, ...restProps } = props;\n  return (\n    <filter\n      id=\"drop-shadow\"\n      x=\"-25%\"\n      y=\"-25%\"\n      width=\"200%\"\n      height=\"200%\"\n      {...restProps}\n    >\n      <feDropShadow\n        dx=\"4\"\n        dy=\"4\"\n        stdDeviation=\"4\"\n        flood-color={color}\n        flood-opacity={opacity}\n      />\n    </filter>\n  );\n};\n","export interface LinearGradientProps {\n  id?: string;\n  startColor?: string;\n  stopColor?: string;\n  direction?: 'left-right' | 'right-left' | 'top-bottom' | 'bottom-top';\n}\n\nexport const LinearGradient = (props: LinearGradientProps) => {\n  const {\n    id = 'linear-gradient',\n    startColor = 'black',\n    stopColor = 'white',\n    direction = 'left-right',\n  } = props;\n\n  const directionMap = {\n    'left-right': { x1: '0%', y1: '0%', x2: '100%', y2: '0%' },\n    'right-left': { x1: '100%', y1: '0%', x2: '0%', y2: '0%' },\n    'top-bottom': { x1: '0%', y1: '0%', x2: '0%', y2: '100%' },\n    'bottom-top': { x1: '0%', y1: '100%', x2: '0%', y2: '0%' },\n  };\n\n  return (\n    <linearGradient id={id} {...directionMap[direction]}>\n      <stop offset=\"0%\" stopColor={startColor} />\n      <stop offset=\"100%\" stopColor={stopColor} />\n    </linearGradient>\n  );\n};\n","import {\n  ComponentType,\n  Defs,\n  Ellipse,\n  getElementBounds,\n  Group,\n  Rect,\n} from '../../jsx';\nimport { ItemDesc, ItemIconCircle, ItemLabel } from '../components';\nimport { DropShadow } from '../defs';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface CapsuleItemProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  gap?: number;\n  iconPadding?: number;\n}\n\nexport const CapsuleItem: ComponentType<CapsuleItemProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 300,\n      height = 80,\n      gap = 12,\n      positionH = 'normal',\n      iconPadding = height / 10,\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'gap', 'iconPadding']);\n\n  // Capsule border radius and icon size (icon with some padding inside)\n  const borderRadius = height / 2;\n  const iconSize = height - iconPadding * 2; // Icon diameter with padding\n\n  // Calculate positions based on positionH and icon presence\n  const isFlipped = positionH === 'flipped';\n  const hasIcon = !!datum.icon;\n\n  // Calculate text area dimensions\n  const textWidth = hasIcon ? width - height - gap : width - gap * 2;\n  const textX = hasIcon ? (isFlipped ? gap : height) : gap;\n  const textAlign = hasIcon ? (isFlipped ? 'right' : 'left') : 'center';\n\n  const labelProps = {\n    indexes,\n    width: textWidth,\n    alignHorizontal: textAlign,\n    alignVertical: 'middle',\n    fontSize: 16,\n    fontWeight: '600',\n    fill: themeColors.colorWhite,\n  } as const;\n  // Get label bounds to calculate layout\n  const labelBounds = getElementBounds(\n    <ItemLabel {...labelProps}>{datum.label}</ItemLabel>,\n  );\n\n  const descProps = {\n    indexes,\n    width: textWidth,\n    alignHorizontal: textAlign,\n    alignVertical: 'top',\n    fontSize: 12,\n    lineNumber: 1,\n    fill: themeColors.colorWhite,\n  } as const;\n  // Get desc bounds to calculate layout\n  const descBounds = getElementBounds(\n    datum.desc ? <ItemDesc {...descProps}>{datum.desc}</ItemDesc> : null,\n  );\n\n  // Calculate vertical positions for text elements\n  const textGap = 4;\n  const totalTextHeight = labelBounds.height + textGap + descBounds.height;\n  const textStartY = (height - totalTextHeight) / 2;\n  const labelY = textStartY;\n  const descY = labelY + labelBounds.height + textGap;\n\n  // Calculate icon position (centered in the circle area with padding)\n  const iconX = isFlipped ? width - height + iconPadding : iconPadding;\n  const iconY = iconPadding;\n\n  return (\n    <Group {...restProps}>\n      <Defs>\n        <DropShadow />\n      </Defs>\n      {/* Capsule background */}\n      <Rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={themeColors.colorPrimary}\n        rx={borderRadius}\n        ry={borderRadius}\n        data-element-type=\"shape\"\n      />\n\n      {/* Icon - white background with primary color icon */}\n      {datum.icon && (\n        <>\n          <Ellipse\n            x={iconX}\n            y={iconY}\n            width={iconSize}\n            height={iconSize}\n            fillOpacity={0.5}\n            fill={themeColors.colorBg}\n            filter=\"url(#drop-shadow)\"\n          />\n          <ItemIconCircle\n            indexes={indexes}\n            x={iconX}\n            y={iconY}\n            size={iconSize}\n            fill={themeColors.colorBg}\n            colorBg={themeColors.colorPrimary}\n          />\n        </>\n      )}\n\n      {/* Label */}\n      {datum.label && (\n        <ItemLabel x={textX} y={labelY} {...labelProps}>\n          {datum.label}\n        </ItemLabel>\n      )}\n\n      {/* Description */}\n      {datum.desc && (\n        <ItemDesc x={textX} y={descY} {...descProps}>\n          {datum.desc}\n        </ItemDesc>\n      )}\n    </Group>\n  );\n};\n\nregisterItem('capsule-item', {\n  component: CapsuleItem,\n  composites: ['icon', 'label', 'desc'],\n});\n","import tinycolor from 'tinycolor2';\nimport type { ComponentType } from '../../jsx';\nimport { Defs, Ellipse, Group } from '../../jsx';\nimport { ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface CircleNodeProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n}\n\nexport const CircleNode: ComponentType<CircleNodeProps> = (props) => {\n  const [\n    {\n      indexes,\n      datum,\n      themeColors,\n      positionH = 'normal',\n      width = 240,\n      height = width,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height']);\n\n  const size = Math.min(width, height);\n  const innerCircleSize = size * 0.7;\n  const innerCircleOffset = (size - innerCircleSize) / 2;\n  const labelSize = (innerCircleSize * Math.sqrt(2)) / 2;\n  const labelOffset = (size - labelSize) / 2;\n\n  const base = tinycolor(themeColors.colorPrimary);\n\n  const colorOuterStart = fadeWithWhite(base, 80, 0.2);\n  const colorOuterEnd = fadeWithWhite(base, 20, 0.8);\n\n  const colorInnerStart = fadeWithWhite(base, 75, 0.32);\n  const colorInnerEnd = fadeWithWhite(base, 45, 0.4);\n\n  const colorText = base.clone().darken(5).toRgbString();\n\n  const outerGradientId = `${themeColors.colorPrimary}-${positionH}-outer`;\n  const innerGradientId = `${themeColors.colorPrimary}-${positionH}-inner`;\n\n  const gradientDirection =\n    positionH === 'flipped'\n      ? { x1: '0%', y1: '0%', x2: '100%', y2: '0%' }\n      : { x1: '100%', y1: '0%', x2: '0%', y2: '0%' };\n\n  return (\n    <Group {...restProps}>\n      <Defs>\n        <linearGradient id={outerGradientId} {...gradientDirection}>\n          <stop offset=\"0%\" stopColor={colorOuterStart} />\n          <stop offset=\"100%\" stopColor={colorOuterEnd} />\n        </linearGradient>\n\n        <linearGradient id={innerGradientId} {...gradientDirection}>\n          <stop offset=\"0%\" stopColor={colorInnerStart} />\n          <stop offset=\"100%\" stopColor={colorInnerEnd} />\n        </linearGradient>\n      </Defs>\n\n      <Ellipse\n        width={size}\n        height={size}\n        fill={`url(#${outerGradientId})`}\n        data-element-type=\"shape\"\n      />\n\n      <Ellipse\n        x={innerCircleOffset}\n        y={innerCircleOffset}\n        width={innerCircleSize}\n        height={innerCircleSize}\n        fill={`url(#${innerGradientId})`}\n        stroke=\"#FFFFFF\"\n        strokeWidth={1}\n        data-element-type=\"shape\"\n      />\n\n      <ItemLabel\n        indexes={indexes}\n        x={labelOffset}\n        y={labelOffset}\n        width={labelSize}\n        height={labelSize}\n        lineHeight={1.1}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fill={colorText}\n        fontWeight=\"500\"\n      >\n        {datum.label}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nregisterItem('circle-node', {\n  component: CircleNode,\n  composites: ['label'],\n});\n\nfunction fadeWithWhite(\n  color: tinycolor.Instance,\n  mixPct: number,\n  alpha: number,\n) {\n  return tinycolor.mix(color, '#ffffff', mixPct).setAlpha(alpha).toRgbString();\n}\n","import { ComponentType, Ellipse, Group, Path, Rect } from '../../jsx';\nimport { ItemLabel, ItemValue } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface CircularProgressProps extends BaseItemProps {\n  size?: number;\n  strokeWidth?: number;\n  gap?: number;\n}\n\nexport const CircularProgress: ComponentType<CircularProgressProps> = (\n  props,\n) => {\n  const [\n    {\n      datum,\n      indexes,\n      size = 120,\n      strokeWidth = 12,\n      gap = 8,\n      themeColors,\n      valueFormatter = (value: any) => `${Math.round(value)}%`,\n    },\n    restProps,\n  ] = getItemProps(props, ['size', 'strokeWidth', 'gap']);\n\n  const value = datum.value ?? 0;\n  const maxValue = 100;\n  const percentage = Math.min(Math.max(value / maxValue, 0), 1);\n\n  const radius = (size - strokeWidth) / 2;\n\n  const center = size / 2;\n  const start = strokeWidth / 2;\n  const d = size - strokeWidth;\n\n  const isFullCircle = percentage >= 1;\n  const angle = percentage * 360;\n  const pathData = describeArc(center, center, radius, 0, angle);\n\n  const bounds = { x: start, y: start, width: d, height: d };\n  return (\n    <Group {...restProps} width={size} height={size + gap + 20}>\n      {/*  getBBox  */}\n      <Rect width={size} height={size} fill=\"none\" />\n      {/*  - 100% */}\n      <Ellipse\n        {...bounds}\n        fill=\"none\"\n        stroke=\"#f0f0f0\"\n        strokeWidth={strokeWidth}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      {isFullCircle ? (\n        <Ellipse\n          {...bounds}\n          fill=\"none\"\n          stroke={themeColors.colorPrimary}\n          strokeWidth={strokeWidth}\n          data-element-type=\"shape\"\n        />\n      ) : (\n        <Path\n          d={pathData}\n          fill=\"none\"\n          stroke={themeColors.colorPrimary}\n          strokeWidth={strokeWidth}\n          strokeLinecap=\"round\"\n          data-element-type=\"shape\"\n        />\n      )}\n\n      {/*  */}\n      <ItemValue\n        indexes={indexes}\n        x={strokeWidth}\n        y={strokeWidth}\n        width={d - strokeWidth}\n        height={d - strokeWidth}\n        fontSize={24}\n        fontWeight=\"bold\"\n        fill={themeColors.colorPrimary}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        value={value}\n        formatter={valueFormatter}\n      />\n\n      {/*  */}\n      <ItemLabel\n        indexes={indexes}\n        x={0}\n        y={size + gap}\n        width={size}\n        alignHorizontal=\"center\"\n        fontSize={12}\n        fill={themeColors.colorTextSecondary}\n      >\n        {datum.label}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nfunction describeArc(\n  x: number,\n  y: number,\n  radius: number,\n  startAngle: number,\n  endAngle: number,\n) {\n  const start = polarToCartesian(x, y, radius, endAngle);\n  const end = polarToCartesian(x, y, radius, startAngle);\n  const largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\n\n  return `M ${start.x} ${start.y} A ${radius} ${radius} 0 ${largeArcFlag} 0 ${end.x} ${end.y}`;\n}\n\nfunction polarToCartesian(\n  cx: number,\n  cy: number,\n  radius: number,\n  angleInDegrees: number,\n) {\n  const rad = ((angleInDegrees - 90) * Math.PI) / 180;\n  return {\n    x: cx + radius * Math.cos(rad),\n    y: cy + radius * Math.sin(rad),\n  };\n}\n\nregisterItem('circular-progress', {\n  component: CircularProgress,\n  composites: ['label', 'value'],\n});\n","import { ComponentType, Defs, Group, Rect } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel, ItemValue } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface CompactCardProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  gap?: number;\n}\n\nexport const CompactCard: ComponentType<CompactCardProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 200,\n      height = 60,\n      iconSize = 20,\n      gap = 8,\n      positionH = 'normal',\n      themeColors,\n      valueFormatter,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'iconSize', 'gap']);\n\n  const value = datum.value;\n  const hasValue = value !== undefined && value !== null;\n  const shadowId = 'compact-shadow';\n\n  const iconX = positionH === 'flipped' ? width - gap - iconSize : gap;\n  const textStartX = positionH === 'flipped' ? gap : iconSize + 2 * gap;\n  const textWidth = width - iconSize - 3 * gap;\n\n  //  Label  Value \n  const labelWidth = hasValue ? textWidth * 0.8 : textWidth;\n  const valueWidth = hasValue ? textWidth * 0.2 : 0;\n\n  return (\n    <Group {...restProps}>\n      <Defs>\n        <filter id={shadowId}>\n          <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"2\" floodOpacity=\"0.15\" />\n        </filter>\n      </Defs>\n\n      {/*  */}\n      <Rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={themeColors.colorBgElevated}\n        stroke={themeColors.colorBgElevated}\n        strokeWidth={1}\n        rx={6}\n        ry={6}\n        filter={`url(#${shadowId})`}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <Rect\n        x={positionH === 'flipped' ? width - 3 : 0}\n        y={0}\n        width={3}\n        height={height}\n        fill={themeColors.colorPrimary}\n        rx={1.5}\n        ry={1.5}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={iconX}\n        y={(height - iconSize) / 2}\n        size={iconSize}\n        fill={themeColors.colorPrimary}\n      />\n\n      <FlexLayout\n        x={textStartX}\n        y={gap}\n        width={textWidth}\n        height={height - gap * 2}\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"flex-start\"\n      >\n        {/*  */}\n        <FlexLayout\n          width={textWidth}\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          {/*  -  */}\n          <ItemLabel\n            indexes={indexes}\n            width={labelWidth}\n            alignHorizontal=\"left\"\n            fontSize={12}\n            fill={themeColors.colorText}\n          >\n            {datum.label}\n          </ItemLabel>\n          {/*  -  */}\n          {hasValue && (\n            <ItemValue\n              indexes={indexes}\n              width={valueWidth}\n              alignHorizontal=\"right\"\n              fontSize={12}\n              fontWeight=\"bold\"\n              fill={themeColors.colorPrimary}\n              value={value}\n              formatter={valueFormatter}\n            />\n          )}\n        </FlexLayout>\n        {/*  -  */}\n        <ItemDesc\n          indexes={indexes}\n          width={textWidth}\n          alignHorizontal=\"left\"\n          alignVertical=\"middle\"\n          fontSize={10}\n          fill={themeColors.colorTextSecondary}\n          lineNumber={2}\n          wordWrap={true}\n        >\n          {datum.desc}\n        </ItemDesc>\n      </FlexLayout>\n    </Group>\n  );\n};\n\nregisterItem('compact-card', {\n  component: CompactCard,\n  composites: ['icon', 'label', 'value', 'desc'],\n});\n","import { ComponentType, Group, Path } from '../../jsx';\nimport { ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface DoneListProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  gap?: number;\n}\n\nexport const DoneList: ComponentType<DoneListProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 300,\n      height = 30,\n      iconSize = 30,\n      gap = 5,\n      positionH = 'normal',\n      positionV = 'middle',\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'iconSize', 'gap']);\n\n  const textWidth = width - iconSize - gap;\n\n  const shapeY =\n    positionV === 'middle'\n      ? (height - iconSize) / 2\n      : positionV === 'flipped'\n        ? height - iconSize\n        : 0;\n  return (\n    <Group {...restProps}>\n      <Path\n        data-element-type=\"shape\"\n        x={positionH === 'flipped' ? textWidth + gap : 0}\n        y={shapeY}\n        fill={themeColors.colorPrimary}\n        width={iconSize}\n        height={iconSize}\n        d=\"M14.7273 30C6.54538 30 0 22.9077 0 14.7269C0 6.54617 6.54538 0 14.7273 0C22.9092 0 30 6.54617 30 14.7269C30 22.9077 22.9092 30 14.7273 30ZM24.5454 10.9077C22.9092 9.27307 22.9092 9.27307 22.9092 9.27307C22.3638 8.72692 22.3638 8.7269 21.8181 8.7269C21.2727 8.7269 21.2727 8.72692 20.7273 9.27307C13.0908 16.9077 13.0908 16.9077 13.0908 16.9077C8.72731 12.5461 8.72731 12.5462 8.72731 12.5462C8.18193 12.5462 8.18193 12 7.63654 12L7.09077 12.5462C4.90923 14.1808 4.90923 14.1808 4.90923 14.1808C4.90923 14.7269 4.90923 14.7269 4.90923 15.2731C4.90923 15.8192 4.90923 15.8192 4.90923 16.3654C12 23.4539 12 23.4538 12 23.4538C12.5454 23.4538 12.5454 23.4538 13.0908 23.4538C13.6365 23.4538 13.6365 23.4538 14.1819 23.4538C24.5454 12.5461 24.5454 12.5462 24.5454 12.5462L25.0908 12C25.0908 11.4538 24.5454 10.9077 24.5454 10.9077Z\"\n      />\n      <ItemLabel\n        indexes={indexes}\n        x={positionH === 'flipped' ? 0 : iconSize + gap}\n        width={textWidth}\n        height={height}\n        fontWeight=\"normal\"\n        alignVertical=\"middle\"\n        wordWrap={false}\n        fill=\"#666\"\n      >\n        {datum.label || datum.desc}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nregisterItem('done-list', {\n  component: DoneList,\n  composites: ['label'],\n});\n","import {\n  Bounds,\n  ComponentType,\n  Ellipse,\n  getElementBounds,\n  Group,\n  Path,\n  Polygon,\n  Text,\n} from '../../jsx';\nimport {\n  Gap,\n  ItemDesc,\n  ItemIconCircle,\n  ItemLabel,\n  ShapesGroup,\n} from '../components';\nimport { AlignLayout, FlexLayout } from '../layouts';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface HorizontalIconArrowProps extends BaseItemProps {\n  width?: number;\n}\n\nexport const HorizontalIconArrow: ComponentType<HorizontalIconArrowProps> = (\n  props,\n) => {\n  const [\n    { indexes, datum, width = 140, themeColors, positionV = 'normal' },\n    restProps,\n  ] = getItemProps(props, ['width']);\n\n  const isVNormal = positionV !== 'flipped';\n  const textAlignVertical = positionV === 'normal' ? 'bottom' : 'top';\n  const label = (\n    <ItemLabel\n      indexes={indexes}\n      width={width}\n      fill={themeColors.colorText}\n      alignHorizontal=\"center\"\n      alignVertical={textAlignVertical}\n      fontSize={14}\n    >\n      {datum.label}\n    </ItemLabel>\n  );\n  const desc = (\n    <ItemDesc\n      indexes={indexes}\n      width={width}\n      fill={themeColors.colorTextSecondary}\n      alignHorizontal=\"center\"\n      alignVertical={textAlignVertical}\n    >\n      {datum.desc}\n    </ItemDesc>\n  );\n  const icon = (\n    <ItemIconCircle\n      indexes={indexes}\n      fill={themeColors.colorPrimary}\n      colorBg={themeColors.colorWhite}\n    />\n  );\n  const dotLine = (\n    <DotLine\n      width={8}\n      height={30}\n      fill={themeColors.colorPrimary}\n      positionV={positionV}\n    />\n  );\n\n  const dotLineGap = 5;\n  const iconGap = 25;\n  const arrowHeight = 30;\n  const labelBounds = getElementBounds(label);\n  const descBounds = getElementBounds(desc);\n  const iconBounds = getElementBounds(icon);\n  const dotLineBounds = getElementBounds(dotLine);\n  const fixedGap =\n    labelBounds.height +\n    descBounds.height +\n    dotLineGap +\n    dotLineBounds.height -\n    iconBounds.height -\n    iconGap;\n\n  const totalHeight =\n    iconBounds.height +\n    iconGap +\n    arrowHeight +\n    dotLineBounds.height +\n    dotLineGap +\n    labelBounds.height +\n    descBounds.height;\n\n  return (\n    <Group width={width} height={totalHeight} {...restProps}>\n      <FlexLayout flexDirection=\"column\" alignItems=\"center\">\n        {isVNormal ? (\n          <>\n            {desc}\n            {label}\n            <Gap height={dotLineGap} />\n            {dotLine}\n          </>\n        ) : (\n          <>\n            <Gap height={fixedGap} />\n            {icon}\n            <Gap height={iconGap} />\n          </>\n        )}\n        <AlignLayout\n          horizontal=\"center\"\n          vertical=\"middle\"\n          width={width}\n          height={arrowHeight}\n        >\n          <HorizontalArrow\n            width={width}\n            height={arrowHeight}\n            fill={themeColors.colorPrimary}\n          />\n          <Text\n            width={width}\n            height={arrowHeight}\n            alignHorizontal=\"center\"\n            alignVertical=\"middle\"\n            fill={themeColors.colorWhite}\n            fontWeight=\"bold\"\n            fontSize={16}\n          >\n            {datum.time\n              ? datum.time\n              : String(indexes[0] + 1)\n                  .padStart(2, '0')\n                  .slice(-2)}\n          </Text>\n        </AlignLayout>\n        {!isVNormal ? (\n          <>\n            {dotLine}\n            <Gap height={dotLineGap} />\n            {label}\n            {desc}\n          </>\n        ) : (\n          <>\n            <Gap height={iconGap} />\n            {icon}\n          </>\n        )}\n      </FlexLayout>\n    </Group>\n  );\n};\n\nconst HorizontalArrow = (\n  props: Partial<Bounds> & { fill: string; size?: number },\n) => {\n  const {\n    x = 0,\n    y = 0,\n    width = 100,\n    height = 40,\n    fill = '#FF356A',\n    size = 10,\n  } = props;\n  return (\n    <Polygon\n      width={width}\n      height={height}\n      points={[\n        { x, y },\n        { x: x + width - size, y },\n        { x: x + width, y: y + height / 2 },\n        { x: x + width - size, y: y + height },\n        { x, y: y + height },\n        { x: x + size, y: y + height / 2 },\n      ]}\n      fill={fill}\n      data-element-type=\"shape\"\n    />\n  );\n};\n\nconst DotLine = (props: {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n  fill: string;\n  positionV?: 'normal' | 'middle' | 'flipped';\n}) => {\n  const {\n    x = 0,\n    y = 0,\n    width = 10,\n    height = 50,\n    fill,\n    positionV = 'top',\n  } = props;\n  const r = width / 2;\n  const lineLength = height - r;\n  const strokeWidth = 2;\n  const lineX = r;\n  return (\n    <ShapesGroup x={x} y={y} width={width} height={height}>\n      <Ellipse\n        width={width}\n        height={width}\n        fill={fill}\n        y={positionV === 'top' ? 0 : lineLength - r}\n      />\n      <Path\n        d={\n          positionV === 'top'\n            ? `M${lineX},${r} L${lineX},${r + lineLength}`\n            : `M${lineX},0 L${lineX},${lineLength - r}`\n        }\n        strokeWidth={strokeWidth}\n        stroke={fill}\n      />\n    </ShapesGroup>\n  );\n};\n\nregisterItem('horizontal-icon-arrow', {\n  component: HorizontalIconArrow,\n  composites: ['icon', 'label', 'desc', 'time'],\n});\n","import {\n  ComponentType,\n  Ellipse,\n  getElementBounds,\n  Rect,\n  Text,\n} from '../../jsx';\nimport { Gap, ItemDesc, ItemIconCircle, ItemLabel } from '../components';\nimport { AlignLayout, FlexLayout } from '../layouts';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface HorizontalIconLineProps extends BaseItemProps {\n  width?: number;\n}\n\nexport const HorizontalIconLine: ComponentType<HorizontalIconLineProps> = (\n  props,\n) => {\n  const [\n    {\n      indexes,\n      datum,\n      width = 160,\n      themeColors,\n      positionH = 'center',\n      positionV = 'normal',\n    },\n    restProps,\n  ] = getItemProps(props, ['width']);\n\n  const textAlignHorizontal =\n    positionH === 'normal'\n      ? 'left'\n      : positionH === 'flipped'\n        ? 'right'\n        : 'center';\n\n  const label = (\n    <ItemLabel\n      indexes={indexes}\n      width={width}\n      alignHorizontal={textAlignHorizontal}\n      fill={themeColors.colorPrimary}\n    >\n      {datum.label}\n    </ItemLabel>\n  );\n  const labelBounds = getElementBounds(label);\n\n  const desc = datum.desc ? (\n    <ItemDesc\n      indexes={indexes}\n      width={width}\n      fill={themeColors.colorTextSecondary}\n      alignHorizontal={textAlignHorizontal}\n      alignVertical={positionV === 'flipped' ? 'top' : 'bottom'}\n    >\n      {datum.desc}\n    </ItemDesc>\n  ) : null;\n  const descBounds = getElementBounds(desc);\n\n  const iconSize = 45;\n  const icon = datum.icon ? (\n    <ItemIconCircle\n      size={iconSize}\n      indexes={indexes}\n      colorBg={themeColors.colorBg}\n      fill={themeColors.colorPrimary}\n    />\n  ) : null;\n  const iconBounds = getElementBounds(icon);\n\n  const time = datum.time ? (\n    <Text\n      width={width}\n      height={30}\n      alignHorizontal=\"center\"\n      alignVertical=\"middle\"\n      fill={themeColors.colorPrimary}\n      fontSize={18}\n      fontWeight=\"bold\"\n    >\n      {datum.time}\n    </Text>\n  ) : null;\n  const timeBounds = getElementBounds(time);\n  const lineHeight = 18;\n  const line = (\n    <AlignLayout\n      horizontal=\"center\"\n      vertical=\"middle\"\n      width={width}\n      height={lineHeight}\n    >\n      <Rect\n        width={width}\n        height={lineHeight}\n        fill={themeColors.colorPrimary}\n        data-element-type=\"shape\"\n      />\n      <Ellipse\n        width={lineHeight + 6}\n        height={lineHeight + 6}\n        fill={themeColors.colorBg}\n        fillOpacity={0.5}\n        data-element-type=\"shape\"\n      />\n      <Ellipse width={12} height={12} fill=\"white\" data-element-type=\"shape\" />\n    </AlignLayout>\n  );\n\n  const textSideHeight = labelBounds.height + descBounds.height;\n  const iconSideHeight = iconBounds.height + timeBounds.height + 5;\n  // line line \n  const heightDiff = Math.abs(iconSideHeight - textSideHeight);\n  const topBalance = iconSideHeight > textSideHeight ? heightDiff : 0;\n  const bottomBalance = textSideHeight > iconSideHeight ? heightDiff : 0;\n\n  if (positionV === 'flipped') {\n    return (\n      <FlexLayout {...restProps} flexDirection=\"column\" alignItems=\"center\">\n        <Gap height={bottomBalance} />\n        {time}\n        {icon}\n        <Gap height={5} />\n        {line}\n        {label}\n        {desc}\n        <Gap height={topBalance} />\n      </FlexLayout>\n    );\n  }\n  return (\n    <FlexLayout {...restProps} flexDirection=\"column\" alignItems=\"center\">\n      <Gap height={topBalance} />\n      {label}\n      {desc}\n      {line}\n      <Gap height={5} />\n      {icon}\n      {time}\n      <Gap height={bottomBalance} />\n    </FlexLayout>\n  );\n};\n\nregisterItem('horizontal-icon-line', {\n  component: HorizontalIconLine,\n  composites: ['icon', 'label', 'desc'],\n});\n","import tinycolor from 'tinycolor2';\nimport { ComponentType, Defs, Ellipse, Group, Text } from '../../jsx';\nimport { ItemIcon, ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface IconBadgeProps extends BaseItemProps {\n  size?: number;\n  iconSize?: number;\n  badgeSize?: number;\n  gap?: number;\n}\n\nexport const IconBadge: ComponentType<IconBadgeProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      size = 80,\n      iconSize = 28,\n      badgeSize = 24,\n      gap = 8,\n      themeColors,\n      width = 84,\n      height = 105,\n    },\n    restProps,\n  ] = getItemProps(props, ['size', 'iconSize', 'badgeSize', 'gap']);\n\n  const value = datum.value ?? 0;\n  const gradientId = `${themeColors.colorPrimary}-icon`;\n  const badgeGradientId = '#ff6b6b-badge';\n\n  return (\n    <Group {...restProps} width={width} height={height}>\n      <Defs>\n        <radialGradient id={gradientId} cx=\"50%\" cy=\"30%\" r=\"70%\">\n          <stop\n            offset=\"0%\"\n            stopColor={tinycolor(themeColors.colorPrimary)\n              .lighten(30)\n              .toHexString()}\n          />\n          <stop offset=\"100%\" stopColor={themeColors.colorPrimary} />\n        </radialGradient>\n        <linearGradient\n          id={badgeGradientId}\n          x1=\"0%\"\n          y1=\"0%\"\n          x2=\"100%\"\n          y2=\"100%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#ff6b6b\" />\n          <stop offset=\"100%\" stopColor=\"#ee5a52\" />\n        </linearGradient>\n      </Defs>\n\n      {/*  */}\n      <Ellipse\n        x={0}\n        y={0}\n        width={size}\n        height={size}\n        fill={`url(#${gradientId})`}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={(size - iconSize) / 2}\n        y={(size - iconSize) / 2}\n        size={iconSize}\n        fill={themeColors.colorPrimaryText}\n      />\n\n      {/*  */}\n      <Ellipse\n        x={size - badgeSize + 4}\n        width={badgeSize}\n        height={badgeSize}\n        fill={`url(#${badgeGradientId})`}\n      />\n\n      {/*  */}\n      <Text\n        x={size - badgeSize + 4}\n        width={badgeSize}\n        height={badgeSize}\n        fontSize={10}\n        fontWeight=\"bold\"\n        fill={themeColors.colorWhite}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n      >\n        {value > 99 ? '99+' : Math.round(value)}\n      </Text>\n\n      {/*  */}\n      <ItemLabel\n        indexes={indexes}\n        x={0}\n        y={size + gap}\n        width={size}\n        alignHorizontal=\"center\"\n        fontSize={12}\n        fill={themeColors.colorText}\n      >\n        {datum.label}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nregisterItem('icon-badge', {\n  component: IconBadge,\n  composites: ['icon', 'label'],\n});\n","import { ComponentType, getElementBounds, Group } from '../../jsx';\n\n// \nimport { Rect, Text } from '../../jsx';\n\n// \nimport { ItemDesc, ItemLabel } from '../components';\n\nimport tinycolor from 'tinycolor2';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\n// -----------------------------------------------------------------------------------\n// 1. Props \n// -----------------------------------------------------------------------------------\n\nexport interface IndexedCardProps extends BaseItemProps {\n  /**  */\n  width?: number;\n  /**  */\n  borderRadius?: number;\n  /**  */\n  padding?: number;\n  /**  */\n  separatorHeight?: number;\n  /**  */\n  indexFontSize?: number;\n  /**  */\n  labelFontSize?: number;\n  /**  */\n  gap?: number;\n}\n\n// -----------------------------------------------------------------------------------\n// 2. \n// -----------------------------------------------------------------------------------\n\nexport const IndexedCard: ComponentType<IndexedCardProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 200,\n      borderRadius = 12,\n      padding = 16,\n      separatorHeight = 2,\n      indexFontSize = 20,\n      labelFontSize = 16,\n      gap = 8,\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'height',\n    'borderRadius',\n    'padding',\n    'separatorHeight',\n    'indexFontSize',\n    'labelFontSize',\n    'gap',\n  ]);\n\n  // 1. \n  const indexNumber = indexes[0] + 1;\n  const indexStr = String(indexNumber).padStart(2, '0');\n  const showLabel = datum.label !== undefined;\n  const showDesc = datum.desc !== undefined;\n\n  // 2. \n  const separatorColor = tinycolor\n    .mix(themeColors.colorPrimary, themeColors.colorWhite, 40)\n    .toHexString();\n  const cardBgColor = themeColors.colorBgElevated || themeColors.colorWhite;\n\n  // 3. \n  const contentWidth = width - 2 * padding;\n\n  // 3.1 \n  const indexBounds = getElementBounds(\n    <Text fontSize={indexFontSize} fontWeight=\"bold\">\n      {indexStr}\n    </Text>,\n  );\n\n  // 3.2 \n  const labelAvailableWidth = contentWidth - indexBounds.width - gap;\n  const labelBounds = showLabel\n    ? getElementBounds(\n        <ItemLabel\n          indexes={indexes}\n          width={labelAvailableWidth}\n          fontSize={labelFontSize}\n          fontWeight=\"bold\"\n          x={indexFontSize}\n        >\n          {datum.label}\n        </ItemLabel>,\n      )\n    : { width: 0, height: 0 };\n\n  // 3.3 \n  const descBounds = showDesc\n    ? getElementBounds(\n        <ItemDesc\n          indexes={indexes}\n          width={contentWidth}\n          fontSize={14}\n          lineHeight={1.5}\n          wordWrap={true}\n        >\n          {datum.desc}\n        </ItemDesc>,\n      )\n    : { width: 0, height: 0 };\n\n  // 3.4 \n  const titleRowHeight = Math.max(indexBounds.height, labelBounds.height);\n  const contentHeight =\n    padding * 2 + // \n    titleRowHeight + // \n    (showLabel || showDesc ? gap : 0) + // \n    separatorHeight + // \n    (showDesc ? gap : 0) + // \n    descBounds.height; // \n\n  // 4. \n  return (\n    <Group {...restProps} width={width} height={contentHeight}>\n      {/* 4.1  */}\n      <Rect\n        x={0}\n        y={0}\n        width={width}\n        height={contentHeight}\n        rx={borderRadius}\n        ry={borderRadius}\n        fill={cardBgColor}\n        stroke={tinycolor(cardBgColor).darken(5).toHexString()}\n        strokeWidth={0.5}\n        data-element-type=\"shape\"\n      />\n\n      {/* 4.2  */}\n      <Group x={padding} y={padding}>\n        {/*  */}\n        <Group x={0} y={0}>\n          {/*  */}\n          <Text\n            x={0}\n            y={0}\n            fontSize={indexFontSize}\n            fontWeight=\"bold\"\n            fill={themeColors.colorPrimary}\n            alignVertical=\"top\"\n          >\n            {indexStr}\n          </Text>\n\n          {/*  */}\n          {showLabel && (\n            <ItemLabel\n              indexes={indexes}\n              x={indexFontSize + gap}\n              y={0}\n              width={labelAvailableWidth}\n              fontSize={labelFontSize}\n              fontWeight=\"bold\"\n              fill={themeColors.colorTextSecondary}\n              alignVertical=\"top\"\n            >\n              {datum.label}\n            </ItemLabel>\n          )}\n        </Group>\n\n        {/*  */}\n        <Rect\n          x={0}\n          y={titleRowHeight + gap}\n          width={contentWidth}\n          height={separatorHeight}\n          fill={separatorColor}\n          data-element-type=\"shape\"\n        />\n\n        {/*  */}\n        {showDesc && (\n          <ItemDesc\n            indexes={indexes}\n            x={0}\n            y={titleRowHeight + gap + separatorHeight + gap}\n            width={contentWidth}\n            fontSize={14}\n            lineHeight={1.5}\n            wordWrap={true}\n            fill={themeColors.colorTextSecondary}\n          >\n            {datum.desc}\n          </ItemDesc>\n        )}\n      </Group>\n    </Group>\n  );\n};\n\nregisterItem('indexed-card', {\n  component: IndexedCard,\n  composites: ['label', 'desc'],\n});\n","import { ComponentType, Group, Path, Polygon } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface LCornerCardProps extends BaseItemProps {\n  width?: number;\n  iconSize?: number;\n}\n\nexport const LCornerCard: ComponentType<LCornerCardProps> = (props) => {\n  const [\n    { indexes, datum, width = 140, iconSize = 24, themeColors },\n    restProps,\n  ] = getItemProps(props, ['width', 'iconSize']);\n\n  const { label, desc } = datum;\n  const lStroke = 8;\n  const arrowSize = 16;\n  const arrowGap = 12;\n\n  const descX = arrowSize + arrowGap;\n  const descWidth = width - descX;\n  const descHeight = 60;\n\n  const verticalLen = iconSize + 44;\n\n  const arrowX1 = arrowSize;\n  const arrowY1 = descHeight + arrowGap;\n  const arrowY2 = descHeight + arrowSize + arrowGap;\n  const arrowVertices = [\n    { x: 0, y: arrowY2 },\n    { x: arrowX1, y: arrowY1 },\n    { x: arrowX1, y: arrowY2 },\n  ];\n\n  const innerWidth = width - arrowX1 - arrowGap;\n  const lx1 = arrowX1 + arrowGap;\n  const lx2 = lx1 + innerWidth;\n  const ly1 = arrowY1 + lStroke / 2;\n  const ly2 = ly1 + verticalLen;\n  const d = `M ${lx1} ${ly2} L ${lx1} ${ly1} L ${lx2} ${ly1}`;\n\n  const halfStroke = lStroke / 2;\n  const x1 = lx1 + halfStroke;\n  const y1 = ly1 + halfStroke;\n  const gap = 8;\n\n  return (\n    <Group {...restProps}>\n      <ItemDesc\n        indexes={indexes}\n        x={descX}\n        width={descWidth}\n        height={descHeight}\n        fontSize={12}\n        alignHorizontal=\"left\"\n        alignVertical=\"bottom\"\n        fill={themeColors.colorTextSecondary}\n      >\n        {desc}\n      </ItemDesc>\n\n      <Polygon\n        points={arrowVertices}\n        fill={themeColors.colorPrimary}\n        opacity={0.9}\n        width={arrowSize}\n        height={arrowSize}\n        data-element-type=\"shape\"\n      />\n\n      <Path\n        d={d}\n        stroke={themeColors.colorPrimary}\n        strokeWidth={lStroke}\n        fill=\"none\"\n        data-element-type=\"shape\"\n      />\n\n      <ItemIcon\n        indexes={indexes}\n        x={x1 + innerWidth / 2 - iconSize / 2}\n        y={y1 + gap}\n        size={iconSize}\n        fill={themeColors.colorPrimary}\n      />\n\n      <ItemLabel\n        indexes={indexes}\n        x={x1}\n        y={y1 + iconSize + gap * 2}\n        width={innerWidth}\n        fontSize={14}\n        fontWeight=\"bold\"\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fill={themeColors.colorText}\n      >\n        {label}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nregisterItem('l-corner-card', {\n  component: LCornerCard,\n  composites: ['icon', 'label', 'desc'],\n});\n","import tinycolor from 'tinycolor2';\nimport { ComponentType, Defs, Group, Rect } from '../../jsx';\nimport { ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface LetterCardProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  showStripe?: boolean;\n  showGradient?: boolean;\n  showBottomShade?: boolean;\n}\n\n/**\n * \n * \n * \n */\nexport const LetterCard: ComponentType<LetterCardProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 280,\n      height = 160,\n      showStripe = true,\n      showGradient = true,\n      showBottomShade = true,\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'height',\n    'showStripe',\n    'showGradient',\n    'showBottomShade',\n  ]);\n\n  const displayLetter = datum.label?.[0].toUpperCase();\n  const displayTitle = datum.label?.toUpperCase();\n\n  const baseColor = themeColors.colorPrimary;\n  const base = tinycolor(baseColor);\n\n  const stripeWidth = 4;\n  const gapWidth = 6;\n  const rotationDeg = 45;\n  const bottomShadeHeight = 40;\n  const gradientLighten = 12;\n  const gradientDarken = 4;\n\n  const gradStart = base.clone().darken(gradientDarken).toHexString();\n  const gradEnd = base.clone().lighten(gradientLighten).toHexString();\n\n  const lightStripe = 'rgba(255, 255, 255, 0)';\n  const darkStripe = 'rgba(0, 0, 0, 0.03)';\n\n  const uniqueId = `letter-card-${indexes.join('-')}`;\n  const gradientId = `${uniqueId}-gradient`;\n  const patternId = `${uniqueId}-pattern`;\n  const shadeId = `${uniqueId}-shade`;\n  const tile = stripeWidth + gapWidth;\n\n  const ratio = 1;\n  const letterFontSize = 96;\n  const letterHeight = letterFontSize * ratio;\n  const titleFontSize = 16;\n  const titleHeight = titleFontSize * ratio;\n  const textGap = height / 16;\n  const textTotalHeight = letterHeight + textGap + titleHeight;\n  const letterY = (height - textTotalHeight) / 2;\n  const titleY = letterY + letterHeight + textGap;\n\n  return (\n    <Group {...restProps} width={width} height={height}>\n      <Defs>\n        {showGradient && (\n          <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor={gradStart} />\n            <stop offset=\"100%\" stopColor={gradEnd} />\n          </linearGradient>\n        )}\n\n        {showStripe && (\n          <pattern\n            id={patternId}\n            patternUnits=\"userSpaceOnUse\"\n            width={tile}\n            height={tile}\n            patternTransform={`rotate(${rotationDeg})`}\n          >\n            <rect x=\"0\" y=\"0\" width={tile} height={tile} fill={lightStripe} />\n            <rect\n              x=\"0\"\n              y=\"0\"\n              width={stripeWidth}\n              height={tile}\n              fill={darkStripe}\n            />\n          </pattern>\n        )}\n\n        {showBottomShade && (\n          <linearGradient id={shadeId} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"rgba(0,0,0,0)\" />\n            <stop offset=\"100%\" stopColor=\"rgba(0,0,0,0.16)\" />\n          </linearGradient>\n        )}\n      </Defs>\n\n      <Rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={showGradient ? `url(#${gradientId})` : baseColor}\n        rx={0}\n        ry={0}\n        data-element-type=\"shape\"\n      />\n\n      {showStripe && (\n        <Rect\n          x={0}\n          y={0}\n          width={width}\n          height={height}\n          fill={`url(#${patternId})`}\n          rx={0}\n          ry={0}\n        />\n      )}\n\n      {showBottomShade && (\n        <Rect\n          x={0}\n          y={height - bottomShadeHeight}\n          width={width}\n          height={bottomShadeHeight}\n          fill={`url(#${shadeId})`}\n          rx={0}\n          ry={0}\n        />\n      )}\n\n      {displayLetter && (\n        <ItemLabel\n          indexes={indexes}\n          x={0}\n          y={letterY}\n          width={width}\n          fontSize={letterFontSize}\n          fontWeight=\"bold\"\n          fill=\"#FFFFFF\"\n          alignHorizontal=\"center\"\n          alignVertical=\"top\"\n          lineHeight={1}\n        >\n          {displayLetter}\n        </ItemLabel>\n      )}\n\n      <ItemLabel\n        indexes={indexes}\n        x={0}\n        y={titleY}\n        width={width}\n        fontSize={titleFontSize}\n        fontWeight=\"bold\"\n        fill=\"#FFFFFF\"\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        lineHeight={1}\n      >\n        {displayTitle}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nregisterItem('letter-card', {\n  component: LetterCard,\n  composites: ['label'],\n});\n","import { ComponentType, Group, Path, getElementBounds } from '../../jsx';\nimport { ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface LinedTextProps extends BaseItemProps {\n  width?: number;\n  formatter?: (text?: string) => string;\n  usePaletteColor?: boolean;\n  showUnderline?: boolean;\n  underlineGap?: number;\n  underlineExtend?: number;\n  underlineThickness?: number;\n}\n\nexport const LinedText: ComponentType<LinedTextProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width,\n      themeColors,\n      positionH = 'normal',\n      positionV = 'center',\n      formatter = (text?: string) => text || '',\n      usePaletteColor = false,\n      showUnderline = false,\n      underlineGap = 6,\n      underlineExtend = 8,\n      underlineThickness = 2,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'formatter',\n    'usePaletteColor',\n    'showUnderline',\n    'underlineGap',\n    'underlineExtend',\n    'underlineThickness',\n  ]);\n\n  const content = formatter(datum.label ?? datum.desc ?? '');\n  const alignH =\n    positionH === 'flipped'\n      ? 'right'\n      : positionH === 'center'\n        ? 'center'\n        : 'left';\n\n  const measuredLabel = getElementBounds(\n    <ItemLabel indexes={indexes} width={width}>\n      {content}\n    </ItemLabel>,\n  );\n  const contentWidth = width ?? measuredLabel.width;\n  const labelHeight = measuredLabel.height;\n  const underlineWidth = showUnderline ? contentWidth + underlineExtend * 2 : 0;\n  const totalHeight =\n    labelHeight + (showUnderline ? underlineGap + underlineThickness : 0);\n  const finalWidth = showUnderline\n    ? Math.max(contentWidth, underlineWidth)\n    : contentWidth;\n  const finalHeight = (restProps.height as number | undefined) ?? totalHeight;\n  const offsetY =\n    positionV === 'middle'\n      ? (finalHeight - totalHeight) / 2\n      : positionV === 'flipped'\n        ? finalHeight - totalHeight\n        : 0;\n\n  const labelX =\n    alignH === 'right'\n      ? finalWidth - contentWidth\n      : alignH === 'center'\n        ? (finalWidth - contentWidth) / 2\n        : 0;\n  const labelY = offsetY;\n  const underlineX =\n    alignH === 'right'\n      ? finalWidth - underlineWidth\n      : alignH === 'center'\n        ? (finalWidth - underlineWidth) / 2\n        : 0;\n  const underlineY = finalHeight;\n\n  return (\n    <Group {...restProps} width={finalWidth} height={finalHeight}>\n      <ItemLabel\n        indexes={indexes}\n        x={labelX}\n        y={labelY}\n        width={contentWidth}\n        height={labelHeight}\n        alignHorizontal={alignH}\n        alignVertical={\n          positionV === 'flipped'\n            ? 'bottom'\n            : positionV === 'center'\n              ? 'middle'\n              : 'top'\n        }\n        fill={\n          usePaletteColor ? themeColors.colorPrimary : themeColors.colorText\n        }\n      >\n        {content}\n      </ItemLabel>\n      {showUnderline && (\n        <Path\n          d={`M 0 ${underlineThickness / 2} L ${underlineWidth} ${underlineThickness / 2}`}\n          x={underlineX}\n          y={underlineY - underlineThickness / 2}\n          width={underlineWidth}\n          height={underlineThickness}\n          stroke={themeColors.colorPrimary}\n          strokeWidth={underlineThickness}\n          fill=\"none\"\n          strokeLinecap=\"round\"\n          data-element-type=\"shape\"\n        />\n      )}\n    </Group>\n  );\n};\n\nregisterItem('lined-text', {\n  component: LinedText,\n  composites: ['label'],\n});\n","import { ComponentType, Defs, Group, Rect } from '../../jsx';\nimport { ItemDesc, ItemLabel } from '../components';\nimport { DropShadow, LinearGradient } from '../defs';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface PillBadgeProps extends BaseItemProps {\n  width?: number;\n  pillWidth?: number;\n  pillHeight?: number;\n  gap?: number;\n}\n\nexport const PillBadge: ComponentType<PillBadgeProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 300,\n      pillWidth = 120,\n      pillHeight = 36,\n      gap = 16,\n      positionH = 'normal',\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'pillWidth', 'pillHeight', 'gap']);\n\n  // Optimize: when no description, use pillWidth as component width\n  const hasDesc = !!datum.desc;\n  const componentWidth = hasDesc ? width : pillWidth;\n\n  // Calculate pill position based on alignment\n  const pillX = hasDesc\n    ? positionH === 'center'\n      ? (componentWidth - pillWidth) / 2\n      : positionH === 'flipped'\n        ? componentWidth - pillWidth\n        : 0\n    : 0; // Always 0 when no description\n\n  const pillY = 0;\n\n  // Calculate content position (only needed when hasDesc is true)\n  const contentX = hasDesc\n    ? positionH === 'center'\n      ? 0\n      : positionH === 'flipped'\n        ? 0\n        : 0\n    : 0;\n  const contentY = pillHeight + gap;\n  const contentWidth = componentWidth;\n\n  const dropShadowId = `drop-shadow-${themeColors.colorPrimary}`;\n  const linearGradientId = `linear-gradient-white-top-bottom`;\n  return (\n    <Group {...restProps}>\n      <Defs>\n        <DropShadow id={dropShadowId} color={themeColors.colorPrimary} />\n        <LinearGradient\n          id={linearGradientId}\n          startColor=\"#fff\"\n          stopColor=\"#ffffff33\"\n          direction=\"top-bottom\"\n        />\n      </Defs>\n      {/* Pill-shaped badge */}\n      <Rect\n        x={pillX}\n        y={pillY}\n        width={pillWidth}\n        height={pillHeight}\n        fill={themeColors.colorPrimaryBg}\n        stroke={themeColors.colorPrimary}\n        rx={pillHeight / 2}\n        ry={pillHeight / 2}\n        filter={`url(#${dropShadowId})`}\n        data-element-type=\"shape\"\n      />\n      <Rect\n        x={pillX}\n        y={pillY}\n        width={pillWidth}\n        height={pillHeight}\n        fill={`url(#${linearGradientId})`}\n        opacity={themeColors.isDarkMode ? 0.4 : 0.7}\n        rx={pillHeight / 2}\n        ry={pillHeight / 2}\n      />\n\n      {/* Pill label */}\n      <ItemLabel\n        indexes={indexes}\n        x={pillX}\n        y={pillY}\n        width={pillWidth}\n        height={pillHeight}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={14}\n        fontWeight=\"500\"\n        fill={themeColors.colorText}\n      >\n        {datum.label}\n      </ItemLabel>\n\n      {/* Description below */}\n      {datum.desc && (\n        <ItemDesc\n          indexes={indexes}\n          x={contentX}\n          y={contentY}\n          width={contentWidth}\n          alignHorizontal={\n            positionH === 'center'\n              ? 'center'\n              : positionH === 'flipped'\n                ? 'right'\n                : 'left'\n          }\n          fontSize={12}\n          fill={themeColors.colorTextSecondary}\n          lineNumber={2}\n          wordWrap={true}\n        >\n          {datum.desc}\n        </ItemDesc>\n      )}\n    </Group>\n  );\n};\n\nregisterItem('pill-badge', {\n  component: PillBadge,\n  composites: ['label', 'desc'],\n});\n","import { ComponentType } from '../../jsx';\nimport { ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface LabelTextProps extends BaseItemProps {\n  width?: number;\n  formatter?: (text?: string) => string;\n  usePaletteColor?: boolean;\n  lineNumber?: number;\n}\n\nexport const LabelText: ComponentType<LabelTextProps> = (props) => {\n  const [\n    {\n      indexes,\n      datum,\n      width = 120,\n      themeColors,\n      positionH = 'normal',\n      positionV = 'center',\n      formatter = (text?: string) => text || '',\n      usePaletteColor = false,\n      lineNumber = 1,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'formatter',\n    'usePaletteColor',\n    'lineNumber',\n  ]);\n\n  const fontSize = 14;\n  const lineHeight = 1.4;\n  const height =\n    (restProps.height as number | undefined) ??\n    Math.ceil(lineNumber * lineHeight * fontSize);\n\n  return (\n    <ItemLabel\n      {...restProps}\n      indexes={indexes}\n      width={width}\n      height={height}\n      lineHeight={lineHeight}\n      fill={usePaletteColor ? themeColors.colorPrimary : themeColors.colorText}\n      fontSize={fontSize}\n      fontWeight=\"regular\"\n      alignHorizontal={\n        positionH === 'flipped'\n          ? 'right'\n          : positionH === 'center'\n            ? 'center'\n            : 'left'\n      }\n      alignVertical={\n        positionV === 'flipped'\n          ? 'bottom'\n          : positionV === 'center'\n            ? 'middle'\n            : 'top'\n      }\n    >\n      {formatter(datum.label || datum.desc)}\n    </ItemLabel>\n  );\n};\n\nregisterItem('plain-text', {\n  component: LabelText,\n  composites: ['label'],\n});\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if (!isFinite(x) || x === 0) return null; // NaN, Infinity, 0\n  var i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\"), coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return prefixExponent = undefined, x.toPrecision(p);\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier, options) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = (options && options.prefix !== undefined ? options.prefix : \"\") + (symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\"),\n        suffix = (symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\") + (options && options.suffix !== undefined ? options.suffix : \"\");\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" && !isNaN(value) && prefixExponent !== undefined ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier), {suffix: prefixes[8 + e / 3]});\n    return function(value) {\n      return f(k * value);\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, its probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import { scaleLinear } from 'd3';\nimport tinycolor from 'tinycolor2';\nimport { ComponentType, Defs, getElementBounds, Group, Rect } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel, ItemValue } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface ProgressCardProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  gap?: number;\n  progressHeight?: number;\n  borderRadius?: number;\n}\n\nexport const ProgressCard: ComponentType<ProgressCardProps> = (props) => {\n  const [\n    {\n      datum,\n      data,\n      indexes,\n      width = 280,\n      height = 120,\n      iconSize = 32,\n      gap = 12,\n      progressHeight = 8,\n      borderRadius = 12,\n      positionH = 'normal',\n      themeColors,\n      valueFormatter = (v: any) => `${v}%`,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'height',\n    'iconSize',\n    'gap',\n    'progressHeight',\n    'borderRadius',\n  ]);\n\n  const value = datum.value;\n  const displayValue = value ?? 0;\n  const maxValue = Math.max(...data.items.map((item) => item.value ?? 0), 100);\n  const progressWidth = width - 2 * gap;\n\n  // \n  const progressScale = scaleLinear()\n    .domain([0, maxValue])\n    .range([0, progressWidth]);\n  const progressFillWidth = progressScale(displayValue);\n\n  // ID\n  const gradientId = `${themeColors.colorPrimary}-progress`;\n  const progressBgId = `${themeColors.colorPrimaryBg}-progress-bg`;\n\n  // \n  const labelBounds = getElementBounds(<ItemLabel indexes={indexes} />);\n\n  // \n  const contentY = gap;\n  const iconX = positionH === 'flipped' ? width - gap - iconSize : gap;\n  const iconY = contentY;\n\n  const textStartX = positionH === 'flipped' ? gap : iconSize + 2 * gap;\n  const textWidth = width - iconSize - 3 * gap;\n  const textY = iconY;\n  const progressY = height - gap - progressHeight;\n  const hasValue = value !== undefined;\n\n  return (\n    <Group {...restProps}>\n      {/*  */}\n      <Defs>\n        <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor={themeColors.colorPrimary} />\n          <stop\n            offset=\"100%\"\n            stopColor={tinycolor\n              .mix(themeColors.colorPrimary, '#fff', 20)\n              .toHexString()}\n          />\n        </linearGradient>\n        <linearGradient id={progressBgId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor={themeColors.colorPrimaryBg} />\n          <stop offset=\"100%\" stopColor={themeColors.colorBg} />\n        </linearGradient>\n      </Defs>\n\n      {/*  */}\n      <Rect\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={themeColors.colorBgElevated}\n        stroke={themeColors.colorPrimaryBg}\n        strokeWidth={1}\n        rx={borderRadius}\n        ry={borderRadius}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={iconX}\n        y={iconY}\n        size={iconSize}\n        fill={themeColors.colorPrimary}\n      />\n\n      {/*  */}\n      <ItemLabel\n        indexes={indexes}\n        x={textStartX}\n        y={textY}\n        width={textWidth}\n        alignHorizontal={positionH === 'flipped' ? 'right' : 'left'}\n        alignVertical=\"top\"\n        fontSize={16}\n        fontWeight=\"medium\"\n        fill={themeColors.colorText}\n      >\n        {datum.label}\n      </ItemLabel>\n\n      {/*  */}\n      {hasValue && (\n        <ItemValue\n          indexes={indexes}\n          x={textStartX}\n          y={textY + labelBounds.height}\n          width={textWidth}\n          alignHorizontal={positionH === 'flipped' ? 'right' : 'left'}\n          alignVertical=\"top\"\n          lineHeight={1}\n          fontSize={24}\n          fontWeight=\"bold\"\n          fill={themeColors.colorPrimary}\n          value={displayValue}\n          formatter={valueFormatter}\n        />\n      )}\n\n      {/*  */}\n      <ItemDesc\n        indexes={indexes}\n        x={textStartX}\n        y={textY + labelBounds.height + (hasValue ? 27 : 4)}\n        width={textWidth}\n        alignHorizontal={positionH === 'flipped' ? 'right' : 'left'}\n        alignVertical=\"top\"\n        fontSize={11}\n        fill={themeColors.colorTextSecondary}\n        lineNumber={hasValue ? 2 : 3}\n        wordWrap={true}\n      >\n        {datum.desc}\n      </ItemDesc>\n\n      {/*  */}\n      <Rect\n        x={gap}\n        y={progressY}\n        width={progressWidth}\n        height={progressHeight}\n        fill={`url(#${progressBgId})`}\n        rx={progressHeight / 2}\n        ry={progressHeight / 2}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <Rect\n        x={gap}\n        y={progressY}\n        width={progressFillWidth}\n        height={progressHeight}\n        fill={`url(#${gradientId})`}\n        rx={progressHeight / 2}\n        ry={progressHeight / 2}\n        data-element-type=\"shape\"\n      />\n    </Group>\n  );\n};\n\nregisterItem('progress-card', {\n  component: ProgressCard,\n  composites: ['icon', 'label', 'value', 'desc'],\n});\n","import {\n  ComponentType,\n  Ellipse,\n  getElementBounds,\n  Group,\n  Path,\n  Text,\n} from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel, ShapesGroup } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface QuarterCircularProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  circleRadius?: number;\n}\n\nexport const QuarterCircular: ComponentType<QuarterCircularProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 280,\n      height = 120,\n      iconSize = 30,\n      circleRadius = 80,\n      positionH = 'normal',\n      positionV = 'normal',\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'iconSize', 'circleRadius']);\n\n  // \n  const CIRCLE_MASS = (4 * circleRadius) / (3 * Math.PI);\n\n  // \n  const LINE_WIDTH = 2;\n  const DOT_RADIUS = 4;\n  const VALUE_SIZE = 28;\n  const CARD_Y = 20;\n  const CARD_CONTENT_Y = CARD_Y + 20;\n  const LABEL_Y = CARD_Y;\n  const DESC_Y_OFFSET = 8;\n  const DECORATION_VERTICAL_SPACING = 35;\n  const DECORATION_HORIZONTAL_SPACING = 40;\n  const DECORATION_END_SPACING = 30;\n\n  //  indexes  + 1\n  const indexStr = String(indexes[0] + 1).padStart(2, '0');\n\n  //  positionH \n  const isFlipped = positionH === 'flipped';\n\n  //  positionV \n  const isVFlipped = positionV === 'flipped';\n\n  // \n  const getDecorationCoords = () => {\n    if (isFlipped) {\n      // \n      return {\n        diagonalStartX: width - DOT_RADIUS,\n        diagonalStartY: isVFlipped\n          ? height - DECORATION_VERTICAL_SPACING\n          : DECORATION_VERTICAL_SPACING,\n        diagonalEndX: width - DECORATION_HORIZONTAL_SPACING,\n        diagonalEndY: isVFlipped ? height - DOT_RADIUS : DOT_RADIUS,\n        topLineStartX: width - DECORATION_HORIZONTAL_SPACING,\n        topLineEndX: CIRCLE_MASS,\n        topLineY: isVFlipped ? height - DOT_RADIUS : DOT_RADIUS,\n      };\n    } else {\n      // \n      return {\n        diagonalStartX: DOT_RADIUS,\n        diagonalStartY: isVFlipped\n          ? height - DECORATION_VERTICAL_SPACING\n          : DECORATION_VERTICAL_SPACING,\n        diagonalEndX: DECORATION_HORIZONTAL_SPACING,\n        diagonalEndY: isVFlipped ? height - DOT_RADIUS : DOT_RADIUS,\n        topLineStartX: DECORATION_HORIZONTAL_SPACING,\n        topLineEndX: width - CIRCLE_MASS,\n        topLineY: isVFlipped ? height - DOT_RADIUS : DOT_RADIUS,\n      };\n    }\n  };\n\n  // \n  const getContentCoords = () => {\n    if (isFlipped) {\n      // \n      const contentX = circleRadius + 10;\n      const contentWidth = width - contentX - DECORATION_HORIZONTAL_SPACING;\n      return {\n        valueX: width - DECORATION_END_SPACING,\n        contentX,\n        contentWidth,\n        circleX: 0,\n        circleY: isVFlipped ? 0 : height,\n        iconX: CIRCLE_MASS - iconSize / 2,\n      };\n    } else {\n      // \n      return {\n        valueX: 0,\n        contentX: DECORATION_HORIZONTAL_SPACING,\n        contentWidth: width - DECORATION_HORIZONTAL_SPACING - circleRadius - 10,\n        circleX: width,\n        circleY: isVFlipped ? 0 : height,\n        iconX: width - CIRCLE_MASS - iconSize / 2,\n      };\n    }\n  };\n\n  // \n  const decorationCoords = getDecorationCoords();\n  const contentCoords = getContentCoords();\n\n  // Y\n  const iconY = isVFlipped\n    ? CIRCLE_MASS - iconSize / 2\n    : height - CIRCLE_MASS - iconSize / 2;\n\n  // \n  const labelBounds = getElementBounds(\n    <ItemLabel indexes={indexes} width={contentCoords.contentWidth}>\n      {datum.label}\n    </ItemLabel>,\n  );\n\n  const descY = LABEL_Y + labelBounds.height + DESC_Y_OFFSET;\n\n  // 1/4\n  const getQuarterCirclePath = () => {\n    const { circleX, circleY } = contentCoords;\n\n    if (isFlipped) {\n      return isVFlipped\n        ? `M ${circleX} ${circleY} L ${circleX} ${circleY + circleRadius} A ${circleRadius} ${circleRadius} 0 0 0 ${circleX + circleRadius} ${circleY} Z`\n        : `M ${circleX} ${circleY} L ${circleX} ${circleY - circleRadius} A ${circleRadius} ${circleRadius} 0 0 1 ${circleX + circleRadius} ${circleY} Z`;\n    } else {\n      return isVFlipped\n        ? `M ${circleX} ${circleY} L ${circleX} ${circleY + circleRadius} A ${circleRadius} ${circleRadius} 0 0 1 ${circleX - circleRadius} ${circleY} Z`\n        : `M ${circleX} ${circleY} L ${circleX} ${circleY - circleRadius} A ${circleRadius} ${circleRadius} 0 0 0 ${circleX - circleRadius} ${circleY} Z`;\n    }\n  };\n\n  return (\n    <Group {...restProps} width={width} height={height}>\n      {/*  */}\n      <ShapesGroup>\n        {/*  */}\n        <Path\n          d={`M ${decorationCoords.diagonalStartX} ${decorationCoords.diagonalStartY} L ${decorationCoords.diagonalEndX} ${decorationCoords.diagonalEndY}`}\n          stroke={themeColors.colorPrimary}\n          strokeWidth={LINE_WIDTH}\n          fill=\"none\"\n        />\n\n        {/*  */}\n        <Path\n          d={`M ${decorationCoords.topLineStartX} ${decorationCoords.topLineY} L ${decorationCoords.topLineEndX} ${decorationCoords.topLineY}`}\n          stroke={themeColors.colorPrimary}\n          strokeWidth={LINE_WIDTH}\n          fill=\"none\"\n        />\n\n        {/*  */}\n        <Ellipse\n          x={decorationCoords.diagonalStartX - DOT_RADIUS}\n          y={decorationCoords.diagonalStartY - DOT_RADIUS}\n          width={DOT_RADIUS * 2}\n          height={DOT_RADIUS * 2}\n          fill={themeColors.colorPrimary}\n        />\n\n        {/*  */}\n        <Ellipse\n          x={decorationCoords.topLineEndX - DOT_RADIUS}\n          y={decorationCoords.topLineY - DOT_RADIUS}\n          width={DOT_RADIUS * 2}\n          height={DOT_RADIUS * 2}\n          fill={themeColors.colorPrimary}\n        />\n      </ShapesGroup>\n\n      {/*  */}\n      <Group>\n        {/*  */}\n        <Text\n          x={contentCoords.valueX}\n          y={CARD_CONTENT_Y}\n          fontSize={VALUE_SIZE}\n          fontWeight=\"bold\"\n          fill={themeColors.colorPrimary}\n        >\n          {indexStr}\n        </Text>\n\n        {/* 1/4  */}\n        <Path\n          d={getQuarterCirclePath()}\n          fill={themeColors.colorPrimary}\n          data-element-type=\"shape\"\n        />\n\n        {/*  */}\n        {datum.icon && (\n          <ItemIcon\n            indexes={indexes}\n            x={contentCoords.iconX}\n            y={iconY}\n            size={iconSize}\n            fill={themeColors.colorWhite}\n          />\n        )}\n\n        {/*  */}\n        {datum.label && (\n          <ItemLabel\n            indexes={indexes}\n            x={contentCoords.contentX}\n            y={LABEL_Y}\n            width={contentCoords.contentWidth}\n            fontWeight=\"bold\"\n            fill={themeColors.colorText}\n            alignHorizontal={isFlipped ? 'right' : 'left'}\n          >\n            {datum.label}\n          </ItemLabel>\n        )}\n\n        {/*  */}\n        {datum.desc && (\n          <ItemDesc\n            indexes={indexes}\n            x={contentCoords.contentX}\n            y={descY}\n            width={contentCoords.contentWidth}\n            fill={themeColors.colorTextSecondary}\n            alignHorizontal={isFlipped ? 'right' : 'left'}\n          >\n            {datum.desc}\n          </ItemDesc>\n        )}\n      </Group>\n    </Group>\n  );\n};\n\nregisterItem('quarter-circular', {\n  component: QuarterCircular,\n  composites: ['icon', 'label', 'desc'],\n});\n","import { ComponentType, Group, Path, getElementBounds } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface QuarterSimpleCardProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  padding?: number;\n  borderRadius?: number;\n}\n\nexport const QuarterSimpleCard: ComponentType<QuarterSimpleCardProps> = (\n  props,\n) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 150,\n      height = 150,\n      iconSize = 30,\n      padding = 20,\n      borderRadius = 16,\n      positionH = 'center',\n      positionV = 'middle',\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'height',\n    'iconSize',\n    'padding',\n    'borderRadius',\n  ]);\n\n  // \n  const contentWidth = width - padding * 2;\n  const contentX = padding;\n  const contentY = padding;\n\n  // \n  const iconX =\n    positionH === 'flipped'\n      ? width - padding - iconSize\n      : positionH === 'center'\n        ? (width - iconSize) / 2\n        : contentX;\n\n  const iconY = contentY;\n\n  // \n  const labelY = iconY + iconSize + 8;\n  const labelBounds = getElementBounds(\n    <ItemLabel indexes={indexes} width={contentWidth}>\n      {datum.label}\n    </ItemLabel>,\n  );\n\n  const labelX =\n    positionH === 'flipped'\n      ? width - padding - contentWidth\n      : positionH === 'center'\n        ? padding\n        : contentX;\n\n  // \n  const descY = labelY + labelBounds.height + 4;\n  const descX = labelX;\n\n  //  positionH  positionV \n  const r = borderRadius;\n  let cardPath = '';\n\n  if (positionH === 'center' && positionV === 'middle') {\n    // \n    cardPath = `\n  M ${r} 0\n  L ${width - r} 0\n  Q ${width} 0 ${width} ${r}\n  L ${width} ${height - r}\n  Q ${width} ${height} ${width - r} ${height}\n  L ${r} ${height}\n  Q 0 ${height} 0 ${height - r}\n  L 0 ${r}\n  Q 0 0 ${r} 0\n  Z\n`;\n  } else if (positionH === 'flipped' && positionV === 'flipped') {\n    // \n    cardPath = `\n  M ${r} 0\n  L ${width - r} 0\n  Q ${width} 0 ${width} ${r}\n  L ${width} ${height - r}\n  Q ${width} ${height} ${width - r} ${height}\n  L ${r} ${height}\n  Q 0 ${height} 0 ${height - r}\n  L 0 0\n  L ${r} 0\n  Z\n`;\n  } else if (positionH === 'normal' && positionV === 'flipped') {\n    // \n    cardPath = `\n  M 0 0\n  L ${width} 0\n  L ${width} ${height - r}\n  Q ${width} ${height} ${width - r} ${height}\n  L ${r} ${height}\n  Q 0 ${height} 0 ${height - r}\n  L 0 ${r}\n  Q 0 0 ${r} 0\n  Z\n`;\n  } else if (positionH === 'flipped') {\n    // \n    cardPath = `\n  M ${r} 0\n  L ${width - r} 0\n  Q ${width} 0 ${width} ${r}\n  L ${width} ${height - r}\n  Q ${width} ${height} ${width - r} ${height}\n  L 0 ${height}\n  L 0 ${r}\n  Q 0 0 ${r} 0\n  Z\n`;\n  } else {\n    // \n    cardPath = `\n  M ${r} 0\n  L ${width - r} 0\n  Q ${width} 0 ${width} ${r}\n  L ${width} ${height}\n  L ${r} ${height}\n  Q 0 ${height} 0 ${height - r}\n  L 0 ${r}\n  Q 0 0 ${r} 0\n  Z\n`;\n  }\n\n  return (\n    <Group {...restProps}>\n      {/*  -  */}\n      <Path\n        d={cardPath}\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={themeColors.colorPrimary}\n        data-element-type=\"shape\"\n      />\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={iconX}\n        y={iconY}\n        size={iconSize}\n        fill={themeColors.colorBg}\n      />\n\n      {/*  */}\n      <ItemLabel\n        indexes={indexes}\n        x={labelX}\n        y={labelY}\n        width={contentWidth}\n        fontSize={14}\n        fontWeight=\"bold\"\n        fill={themeColors.colorBg}\n        alignHorizontal={positionH === 'flipped' ? 'right' : 'left'}\n      >\n        {datum.label}\n      </ItemLabel>\n\n      {/*  */}\n      {datum.desc && (\n        <ItemDesc\n          indexes={indexes}\n          x={descX}\n          y={descY}\n          width={contentWidth}\n          fontSize={11}\n          wordWrap={true}\n          fill={themeColors.colorBg}\n          alignHorizontal={positionH === 'flipped' ? 'right' : 'left'}\n        >\n          {datum.desc}\n        </ItemDesc>\n      )}\n    </Group>\n  );\n};\n\nregisterItem('quarter-simple-card', {\n  component: QuarterSimpleCard,\n  composites: ['icon', 'label', 'desc'],\n});\n","import tinycolor from 'tinycolor2';\nimport { ComponentType, Defs, Group, Path, Rect } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemLabel, ShapesGroup } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface RibbonCardProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  iconSize?: number;\n  gap?: number;\n  ribbonHeight?: number;\n}\n\nexport const RibbonCard: ComponentType<RibbonCardProps> = (props) => {\n  const [\n    {\n      datum,\n      indexes,\n      width = 240,\n      height = 140,\n      iconSize = 28,\n      gap = 12,\n      ribbonHeight = 32,\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'height',\n    'iconSize',\n    'gap',\n    'ribbonHeight',\n  ]);\n\n  const gradientId = `${themeColors.colorPrimary}-ribbon`;\n\n  return (\n    <Group {...restProps}>\n      <Defs>\n        <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor={themeColors.colorPrimary} />\n          <stop\n            offset=\"100%\"\n            stopColor={tinycolor(themeColors.colorPrimary)\n              .darken(15)\n              .toHexString()}\n          />\n        </linearGradient>\n      </Defs>\n\n      <ShapesGroup>\n        {/*  */}\n        <Rect\n          x={0}\n          y={0}\n          width={width}\n          height={height}\n          fill={themeColors.colorBgElevated}\n          stroke={themeColors.colorPrimaryBg}\n          strokeWidth={1}\n          rx={8}\n          ry={8}\n        />\n\n        {/*  */}\n        <Rect\n          x={0}\n          y={0}\n          width={width}\n          height={ribbonHeight}\n          fill={`url(#${gradientId})`}\n          rx={8}\n          ry={8}\n        />\n\n        {/*  */}\n        <Rect\n          x={0}\n          y={8}\n          width={width}\n          height={ribbonHeight - 8}\n          fill={`url(#${gradientId})`}\n        />\n\n        {/*  */}\n        <Path\n          x={width - 20}\n          y={ribbonHeight}\n          width={20}\n          height={8}\n          fill={tinycolor(themeColors.colorPrimary).darken(25).toHexString()}\n          d=\"M0,0 L20,0 L15,8 L5,8 Z\"\n        />\n      </ShapesGroup>\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={gap}\n        y={ribbonHeight + gap}\n        size={iconSize}\n        fill={themeColors.colorPrimary}\n      />\n\n      {/*  */}\n      <ItemLabel\n        indexes={indexes}\n        x={iconSize + 2 * gap}\n        y={ribbonHeight + gap}\n        width={width - iconSize - 3 * gap}\n        height={iconSize}\n        alignHorizontal=\"left\"\n        alignVertical=\"middle\"\n        lineHeight={1}\n        fontWeight=\"bold\"\n        fill={themeColors.colorText}\n      >\n        {datum.label}\n      </ItemLabel>\n\n      {/*  */}\n      <ItemDesc\n        indexes={indexes}\n        x={gap}\n        y={ribbonHeight + iconSize + gap + 5}\n        width={width - 2 * gap}\n        alignHorizontal=\"left\"\n        fill={themeColors.colorTextSecondary}\n        lineNumber={3}\n        wordWrap={true}\n      >\n        {datum.desc}\n      </ItemDesc>\n\n      {/*  */}\n      <ItemIcon\n        indexes={indexes}\n        x={width - gap - 8}\n        y={gap / 2}\n        size={16}\n        fill={themeColors.colorWhite}\n      />\n    </Group>\n  );\n};\n\nregisterItem('ribbon-card', {\n  component: RibbonCard,\n  composites: ['icon', 'label', 'desc'],\n});\n","import { ComponentType, Group, Rect } from '../../jsx';\nimport { ItemLabel } from '../components';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface RoundedRectNodeProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  padding?: number;\n}\n\nexport const RoundedRectNode: ComponentType<RoundedRectNodeProps> = (props) => {\n  const [\n    {\n      indexes,\n      datum,\n      themeColors,\n      width = 300,\n      height = 40,\n      padding = 4,\n      positionH = 'normal',\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'borderRadius', 'padding']);\n\n  const borderRadius = height / 2;\n\n  // Calculate text positioning\n  const textX = borderRadius;\n  const textY = padding;\n  const textWidth = width - borderRadius * 2;\n  const textHeight = height - padding * 2;\n\n  return (\n    <Group {...restProps}>\n      {/* Rounded rectangle background */}\n      <Rect\n        data-element-type=\"shape\"\n        width={width}\n        height={height}\n        rx={borderRadius}\n        ry={borderRadius}\n        fill={themeColors.colorPrimaryBg}\n        stroke={themeColors.colorPrimary}\n        strokeWidth={1}\n        opacity={0.8}\n      />\n\n      {/* Text label */}\n      <ItemLabel\n        indexes={indexes}\n        x={textX}\n        y={textY}\n        width={textWidth}\n        height={textHeight}\n        alignHorizontal={\n          positionH === 'flipped'\n            ? 'right'\n            : positionH === 'center'\n              ? 'center'\n              : 'left'\n        }\n        alignVertical=\"middle\"\n        fontSize={14}\n        fontWeight=\"500\"\n        fill={themeColors.colorText}\n      >\n        {datum.label}\n      </ItemLabel>\n    </Group>\n  );\n};\n\nregisterItem('rounded-rect-node', {\n  component: RoundedRectNode,\n  composites: ['label'],\n});\n","import type { ComponentType } from '../../jsx';\nimport { Ellipse, Group, Rect } from '../../jsx';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface SimpleCircleNodeProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  strokeWidth?: number;\n}\n\nexport const SimpleCircleNode: ComponentType<SimpleCircleNodeProps> = (\n  props,\n) => {\n  const [\n    { width = 24, height = width, strokeWidth = 2, themeColors, datum },\n    restProps,\n  ] = getItemProps(props, ['width', 'height']);\n\n  const size = Math.min(width, height) - strokeWidth;\n  const offset = strokeWidth / 2;\n\n  return (\n    <Group {...restProps} width={width} height={height}>\n      <Rect width={width} height={height} fill=\"none\" visibility=\"hidden\" />\n      <Ellipse\n        x={offset}\n        y={offset}\n        width={size}\n        height={size}\n        fill={themeColors.colorPrimary}\n        stroke={themeColors.isDarkMode ? '#FFF' : '#000'}\n        strokeWidth={strokeWidth}\n        data-element-type=\"shape\"\n      >\n        <title>{datum.label || datum.desc}</title>\n      </Ellipse>\n    </Group>\n  );\n};\n\nregisterItem('simple-circle-node', {\n  component: SimpleCircleNode,\n  composites: [],\n});\n","import {\n  Bounds,\n  ComponentType,\n  getElementBounds,\n  Group,\n  Polygon,\n  Text,\n} from '../../jsx';\nimport { Gap, ItemDesc, ItemLabel } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { AlignLayout } from '../layouts/Align';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface SimpleHorizontalArrowProps extends BaseItemProps {\n  width?: number;\n  /**  */\n  flipped?: boolean;\n}\n\nexport const SimpleHorizontalArrow: ComponentType<\n  SimpleHorizontalArrowProps\n> = (props) => {\n  const [\n    { indexes, datum, width = 140, themeColors, positionV = 'normal' },\n    restProps,\n  ] = getItemProps(props, ['width']);\n\n  const isVNormal = positionV !== 'flipped';\n\n  const textAlignVertical = isVNormal ? 'bottom' : 'top';\n  const label = (\n    <ItemLabel\n      indexes={indexes}\n      width={width}\n      fill={themeColors.colorText}\n      alignHorizontal=\"center\"\n      alignVertical={textAlignVertical}\n      fontSize={14}\n    >\n      {datum.label}\n    </ItemLabel>\n  );\n  const desc = (\n    <ItemDesc\n      indexes={indexes}\n      width={width}\n      fill={themeColors.colorTextSecondary}\n      alignHorizontal=\"center\"\n      alignVertical={textAlignVertical}\n    >\n      {datum.desc}\n    </ItemDesc>\n  );\n\n  const arrowHeight = 30;\n  const labelGap = 10;\n  const labelBounds = getElementBounds(label);\n  const descBounds = getElementBounds(desc);\n  const textHeight = labelBounds.height + descBounds.height;\n\n  const totalHeight =\n    textHeight + labelGap + arrowHeight + labelGap + textHeight;\n\n  return (\n    <Group width={width} height={totalHeight} {...restProps}>\n      <FlexLayout flexDirection=\"column\" alignItems=\"center\">\n        {isVNormal ? (\n          <>\n            {desc}\n            {label}\n            <Gap height={labelGap} />\n          </>\n        ) : (\n          <>\n            <Gap height={textHeight + labelGap} />\n          </>\n        )}\n        <AlignLayout horizontal=\"center\" vertical=\"middle\">\n          <HorizontalArrow\n            width={width}\n            height={arrowHeight}\n            fill={themeColors.colorPrimary}\n          />\n          <Text\n            width={width}\n            height={arrowHeight}\n            alignHorizontal=\"center\"\n            alignVertical=\"middle\"\n            fill={themeColors.colorWhite}\n            fontWeight=\"bold\"\n            fontSize={16}\n          >\n            {datum.time\n              ? datum.time\n              : String(indexes[0] + 1)\n                  .padStart(2, '0')\n                  .slice(-2)}\n          </Text>\n        </AlignLayout>\n        {!isVNormal ? (\n          <>\n            <Gap height={labelGap} />\n            {label}\n            {desc}\n          </>\n        ) : (\n          <>\n            <Gap height={textHeight + labelGap} />\n          </>\n        )}\n      </FlexLayout>\n    </Group>\n  );\n};\n\nconst HorizontalArrow = (\n  props: Partial<Bounds> & { fill: string; size?: number },\n) => {\n  const {\n    x = 0,\n    y = 0,\n    width = 100,\n    height = 40,\n    fill = '#FF356A',\n    size = 10,\n  } = props;\n  return (\n    <Polygon\n      width={width}\n      height={height}\n      points={[\n        { x, y },\n        { x: x + width - size, y },\n        { x: x + width, y: y + height / 2 },\n        { x: x + width - size, y: y + height },\n        { x, y: y + height },\n        { x: x + size, y: y + height / 2 },\n      ]}\n      fill={fill}\n      data-element-type=\"shape\"\n    />\n  );\n};\n\nregisterItem('simple-horizontal-arrow', {\n  component: SimpleHorizontalArrow,\n  composites: ['label', 'desc', 'time'],\n});\n","import { ComponentType, getElementBounds } from '../../jsx';\nimport { Illus, ItemDesc, ItemLabel } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface SimpleIllusItemProps extends BaseItemProps {\n  width?: number;\n  illusSize?: number;\n  gap?: number;\n  usePaletteColor?: boolean;\n}\n\nexport const SimpleIllusItem: ComponentType<SimpleIllusItemProps> = (props) => {\n  const [\n    {\n      indexes,\n      datum,\n      width = 180,\n      illusSize = width,\n      gap = 8,\n      themeColors,\n      usePaletteColor = false,\n    },\n    restProps,\n  ] = getItemProps(props, ['width', 'illusSize', 'gap', 'usePaletteColor']);\n\n  const { label, desc } = datum;\n\n  const labelColor = usePaletteColor\n    ? themeColors.colorPrimary\n    : themeColors.colorText;\n\n  const labelContent = (\n    <ItemLabel\n      indexes={indexes}\n      width={width}\n      alignHorizontal=\"center\"\n      alignVertical=\"middle\"\n      fill={labelColor}\n    >\n      {label}\n    </ItemLabel>\n  );\n  const labelBounds = getElementBounds(labelContent);\n\n  return (\n    <FlexLayout\n      {...restProps}\n      width={width}\n      height={illusSize + gap + labelBounds.height + gap + 48}\n      flexDirection=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      gap={gap}\n    >\n      <Illus indexes={indexes} width={illusSize} height={illusSize} />\n      {labelContent}\n      <ItemDesc\n        indexes={indexes}\n        width={width}\n        alignHorizontal=\"center\"\n        alignVertical=\"top\"\n        fill={themeColors.colorTextSecondary}\n        lineNumber={3}\n      >\n        {desc}\n      </ItemDesc>\n    </FlexLayout>\n  );\n};\n\nregisterItem('simple-illus', {\n  component: SimpleIllusItem,\n  composites: ['illus', 'label', 'desc'],\n});\n","import { ComponentType, getElementBounds, Group } from '../../jsx';\nimport { ItemDesc, ItemIcon, ItemIconCircle, ItemLabel } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface SimpleItemProps extends BaseItemProps {\n  width?: number;\n  height?: number;\n  gap?: number;\n  showIcon?: boolean;\n  iconSize?: number;\n  iconType?: 'default' | 'circle';\n  usePaletteColor?: boolean;\n}\n\nexport const SimpleItem: ComponentType<SimpleItemProps> = (props) => {\n  const [\n    {\n      indexes,\n      datum,\n      width = 200,\n      height,\n      gap = 4,\n      showIcon = true,\n      iconSize = 30,\n      iconType = 'default',\n      positionH = 'normal',\n      positionV = 'normal',\n      usePaletteColor = false,\n      themeColors,\n    },\n    restProps,\n  ] = getItemProps(props, [\n    'width',\n    'height',\n    'gap',\n    'showIcon',\n    'iconSize',\n    'iconType',\n    'usePaletteColor',\n  ]);\n\n  const { label, desc, icon } = datum;\n\n  const getTextAlign = (position: string) => {\n    return position === 'normal'\n      ? 'left'\n      : position === 'flipped'\n        ? 'right'\n        : 'center';\n  };\n\n  const textAlign = getTextAlign(positionH);\n  const labelColor = usePaletteColor\n    ? themeColors.colorPrimary\n    : themeColors.colorText;\n\n  // ItemDesc \n  const descFontSize = 14;\n  const descLineHeight = 1.4;\n\n  const labelContent = (\n    <ItemLabel\n      indexes={indexes}\n      width={width}\n      alignHorizontal=\"center\"\n      alignVertical=\"middle\"\n      fill={labelColor}\n    >\n      {label}\n    </ItemLabel>\n  );\n  const labelBounds = getElementBounds(labelContent);\n  const iconContent = showIcon ? (\n    iconType === 'circle' ? (\n      <ItemIconCircle\n        indexes={indexes}\n        size={iconSize}\n        fill={themeColors.colorPrimary}\n        colorBg={themeColors.colorBg}\n      />\n    ) : (\n      <ItemIcon\n        indexes={indexes}\n        size={iconSize}\n        fill={themeColors.colorTextSecondary}\n      />\n    )\n  ) : null;\n\n  if (!showIcon || !icon) {\n    //  desc \n    const descHeight = height\n      ? Math.max(0, height - labelBounds.height - gap)\n      : undefined;\n    const descLineNumber = descHeight\n      ? descHeight <= 60\n        ? 1\n        : Math.floor(descHeight / (descLineHeight * descFontSize))\n      : 2;\n\n    const labelY = height\n      ? positionV === 'middle'\n        ? (height - labelBounds.height - (descHeight || 0) - gap) / 2\n        : positionV === 'flipped'\n          ? height - labelBounds.height - (descHeight || 0) - gap\n          : 0\n      : 0;\n\n    return (\n      <Group {...restProps}>\n        <ItemLabel\n          indexes={indexes}\n          width={width}\n          y={labelY}\n          alignHorizontal={textAlign}\n          alignVertical=\"middle\"\n          fill={labelColor}\n        >\n          {label}\n        </ItemLabel>\n        <ItemDesc\n          indexes={indexes}\n          width={width}\n          height={descHeight}\n          y={labelY + labelBounds.height + gap}\n          alignHorizontal={textAlign}\n          alignVertical={getDescVerticalAlign(positionV, false)}\n          lineNumber={descLineNumber}\n          fill={themeColors.colorTextSecondary}\n        >\n          {desc}\n        </ItemDesc>\n      </Group>\n    );\n  }\n\n  if (positionH === 'center') {\n    //  desc \n    const iconHeight = showIcon && icon ? iconSize : 0;\n    const descHeight = height\n      ? Math.max(0, height - labelBounds.height - iconHeight - gap * 2)\n      : undefined;\n    const descLineNumber = descHeight\n      ? descHeight <= 60\n        ? 1\n        : Math.floor(descHeight / (descLineHeight * descFontSize))\n      : 2;\n\n    const contentHeight = labelBounds.height + (descHeight || 0) + gap;\n    const labelY = height\n      ? positionV === 'middle'\n        ? (height - contentHeight - iconHeight - gap) / 2\n        : positionV === 'flipped'\n          ? height - contentHeight - iconHeight - gap\n          : 0\n      : 0;\n\n    return (\n      <FlexLayout\n        {...restProps}\n        flexDirection=\"column\"\n        gap={gap}\n        alignItems=\"center\"\n      >\n        {positionV === 'flipped' ? (\n          <>\n            <Group>\n              <ItemLabel\n                indexes={indexes}\n                width={width}\n                y={labelY}\n                alignHorizontal=\"center\"\n                alignVertical=\"middle\"\n                fill={labelColor}\n              >\n                {label}\n              </ItemLabel>\n              <ItemDesc\n                indexes={indexes}\n                width={width}\n                height={descHeight}\n                y={labelY + labelBounds.height + gap}\n                alignHorizontal=\"center\"\n                alignVertical=\"bottom\"\n                lineNumber={descLineNumber}\n                fill={themeColors.colorTextSecondary}\n              >\n                {desc}\n              </ItemDesc>\n            </Group>\n            {iconContent}\n          </>\n        ) : (\n          <>\n            {iconContent}\n            <Group>\n              <ItemLabel\n                indexes={indexes}\n                width={width}\n                y={labelY}\n                alignHorizontal=\"center\"\n                alignVertical=\"middle\"\n                fill={labelColor}\n              >\n                {label}\n              </ItemLabel>\n              <ItemDesc\n                indexes={indexes}\n                width={width}\n                height={descHeight}\n                y={labelY + labelBounds.height + gap}\n                alignHorizontal=\"center\"\n                alignVertical=\"top\"\n                lineNumber={descLineNumber}\n                fill={themeColors.colorTextSecondary}\n              >\n                {desc}\n              </ItemDesc>\n            </Group>\n          </>\n        )}\n      </FlexLayout>\n    );\n  }\n\n  const iconBounds = getElementBounds(iconContent);\n  const textWidth = Math.max(width - iconBounds.width - gap, 0);\n\n  //  desc \n  const descHeight = height\n    ? Math.max(0, height - labelBounds.height - gap)\n    : undefined;\n  const descLineNumber = descHeight\n    ? descHeight <= 60\n      ? 1\n      : Math.floor(descHeight / (descLineHeight * descFontSize))\n    : 2;\n\n  const labelY = height\n    ? positionV === 'middle'\n      ? (height - labelBounds.height - (descHeight || 0) - gap) / 2\n      : positionV === 'flipped'\n        ? height - labelBounds.height - (descHeight || 0) - gap\n        : 0\n    : 0;\n\n  return (\n    <FlexLayout\n      {...restProps}\n      flexDirection=\"row\"\n      gap={gap}\n      alignItems={getIconVerticalAlign(positionV)}\n    >\n      {positionH === 'flipped' ? (\n        <>\n          <Group>\n            <ItemLabel\n              indexes={indexes}\n              width={textWidth}\n              y={labelY}\n              alignHorizontal=\"right\"\n              alignVertical=\"middle\"\n              fill={labelColor}\n            >\n              {label}\n            </ItemLabel>\n            <ItemDesc\n              indexes={indexes}\n              width={textWidth}\n              height={descHeight}\n              y={labelY + labelBounds.height + gap}\n              alignHorizontal=\"right\"\n              alignVertical={getDescVerticalAlign(positionV, true)}\n              lineNumber={descLineNumber}\n              fill={themeColors.colorTextSecondary}\n            >\n              {desc}\n            </ItemDesc>\n          </Group>\n          {iconContent}\n        </>\n      ) : (\n        <>\n          {iconContent}\n          <Group>\n            <ItemLabel\n              indexes={indexes}\n              width={textWidth}\n              y={labelY}\n              alignHorizontal=\"left\"\n              alignVertical=\"middle\"\n              fill={labelColor}\n            >\n              {label}\n            </ItemLabel>\n            <ItemDesc\n              indexes={indexes}\n              width={textWidth}\n              height={descHeight}\n              y={labelY + labelBounds.height + gap}\n              alignHorizontal=\"left\"\n              alignVertical={getDescVerticalAlign(positionV, true)}\n              lineNumber={descLineNumber}\n              fill={themeColors.colorTextSecondary}\n            >\n              {desc}\n            </ItemDesc>\n          </Group>\n        </>\n      )}\n    </FlexLayout>\n  );\n\n  function getDescVerticalAlign(positionV: string, hasIcon: boolean) {\n    return 'top';\n    // if (positionV === 'normal') return 'top';\n    // if (positionV === 'flipped') return 'bottom';\n\n    return hasIcon ? 'middle' : 'top';\n  }\n\n  function getIconVerticalAlign(positionV: string) {\n    if (positionV === 'normal') return 'flex-start';\n    if (positionV === 'flipped') return 'flex-end';\n    return 'center';\n  }\n};\n\nregisterItem('simple', {\n  component: SimpleItem,\n  composites: ['icon', 'label', 'desc'],\n});\n","import { Bounds, ComponentType, Group, Polygon, Text } from '../../jsx';\nimport { Gap, ItemDesc, ItemLabel } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { AlignLayout } from '../layouts/Align';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface SimpleVerticalArrowProps extends BaseItemProps {\n  height?: number;\n  /**  */\n  flipped?: boolean;\n}\n\nexport const SimpleVerticalArrow: ComponentType<SimpleVerticalArrowProps> = (\n  props,\n) => {\n  const [\n    { indexes, datum, height = 140, themeColors, positionH = 'normal' },\n    restProps,\n  ] = getItemProps(props, ['height']);\n\n  const textAlignHorizontal = positionH === 'normal' ? 'right' : 'left';\n  const label = (\n    <ItemLabel\n      indexes={indexes}\n      width={120}\n      fill={themeColors.colorText}\n      alignHorizontal={textAlignHorizontal}\n      alignVertical=\"middle\"\n      fontSize={14}\n    >\n      {datum.label}\n    </ItemLabel>\n  );\n  const desc = (\n    <ItemDesc\n      indexes={indexes}\n      width={120}\n      fill={themeColors.colorTextSecondary}\n      alignHorizontal={textAlignHorizontal}\n      alignVertical=\"top\"\n    >\n      {datum.desc}\n    </ItemDesc>\n  );\n\n  const isNormal = positionH !== 'flipped';\n  const labelGap = 15;\n  const arrowWidth = 30;\n  const textWidth = 120;\n\n  const totalWidth = textWidth + labelGap + arrowWidth + labelGap + textWidth;\n\n  return (\n    <Group width={totalWidth} height={height} {...restProps}>\n      <FlexLayout flexDirection=\"row\" alignItems=\"center\">\n        {isNormal ? (\n          <>\n            <FlexLayout flexDirection=\"column\" alignItems=\"flex-end\">\n              {label}\n              {desc}\n            </FlexLayout>\n            <Gap width={labelGap} />\n          </>\n        ) : (\n          <>\n            <Gap width={textWidth + labelGap} />\n          </>\n        )}\n        <AlignLayout horizontal=\"center\" vertical=\"middle\">\n          <VerticalArrow\n            width={arrowWidth}\n            height={height}\n            fill={themeColors.colorPrimary}\n          />\n          <Text\n            width={arrowWidth}\n            height={height}\n            alignHorizontal=\"center\"\n            alignVertical=\"middle\"\n            fill={themeColors.colorWhite}\n            fontWeight=\"bold\"\n            fontSize={16}\n          >\n            {String(indexes[0] + 1)\n              .padStart(2, '0')\n              .slice(-2)}\n          </Text>\n        </AlignLayout>\n        {!isNormal ? (\n          <>\n            <Gap width={labelGap} />\n            <FlexLayout flexDirection=\"column\" alignItems=\"flex-start\">\n              {label}\n              {desc}\n            </FlexLayout>\n          </>\n        ) : (\n          <>\n            <Gap width={textWidth + labelGap} />\n          </>\n        )}\n      </FlexLayout>\n    </Group>\n  );\n};\n\nconst VerticalArrow = (\n  props: Partial<Bounds> & { fill: string; size?: number },\n) => {\n  const {\n    x = 0,\n    y = 0,\n    width = 30,\n    height = 100,\n    fill = '#FF356A',\n    size = 10,\n  } = props;\n  return (\n    <Polygon\n      width={width}\n      height={height}\n      points={[\n        { x, y },\n        { x: x + width / 2, y: y + size },\n        { x: x + width, y },\n        { x: x + width, y: y + height - size },\n        { x: x + width / 2, y: y + height },\n        { x, y: y + height - size },\n      ]}\n      fill={fill}\n      data-element-type=\"shape\"\n    />\n  );\n};\n\nregisterItem('simple-vertical-arrow', {\n  component: SimpleVerticalArrow,\n  composites: ['label', 'desc'],\n});\n","import { ComponentType, Group, Rect, getElementBounds } from '../../jsx';\n\nimport { ItemDesc, ItemLabel } from '../components';\n\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface UnderlineTextProps extends BaseItemProps {\n  width?: number;\n  gap?: number;\n}\n\nconst underlineWidth = 80;\nconst underlineHeight = 3;\n\nexport const UnderlineText: ComponentType<UnderlineTextProps> = (props) => {\n  const [\n    { datum, indexes, width = 200, gap = 4, positionH = 'center', themeColors },\n    restProps,\n  ] = getItemProps(props, ['width', 'height', 'gap']);\n\n  // \n  const labelBounds = getElementBounds(\n    <ItemLabel indexes={indexes} fontSize={18} fontWeight=\"bold\" width={width}>\n      {datum.label}\n    </ItemLabel>,\n  );\n\n  const descBounds = datum.desc\n    ? getElementBounds(\n        <ItemDesc indexes={indexes} width={width} wordWrap={true}>\n          {datum.desc}\n        </ItemDesc>,\n      )\n    : { width: 0, height: 0 };\n\n  // \n  const contentHeight =\n    labelBounds.height +\n    gap +\n    underlineHeight +\n    (datum.desc ? gap * 2 + descBounds.height : 0);\n\n  // \n  const titleX = 0; //  alignHorizontal \n  const titleY = 0;\n\n  // \n  const alignHorizontal =\n    positionH === 'center'\n      ? 'center'\n      : positionH === 'flipped'\n        ? 'right'\n        : 'left';\n\n  //  positionH \n  const underlineX =\n    positionH === 'center'\n      ? (width - underlineWidth) / 2\n      : positionH === 'flipped'\n        ? width - underlineWidth\n        : 0;\n  const underlineY = titleY + labelBounds.height + gap;\n\n  // \n  const descX = 0; //  alignHorizontal \n  const descY = underlineY + underlineHeight + gap * 2;\n\n  return (\n    <Group width={width} height={contentHeight} {...restProps}>\n      {/*  */}\n      {datum.label && (\n        <ItemLabel\n          indexes={indexes}\n          x={titleX}\n          y={titleY}\n          width={width}\n          alignHorizontal={alignHorizontal}\n          fill={themeColors.colorPrimary}\n          fontSize={18}\n          fontWeight=\"bold\"\n        >\n          {datum.label}\n        </ItemLabel>\n      )}\n\n      {/*  */}\n      {datum.label && (\n        <Rect\n          x={underlineX}\n          y={underlineY}\n          width={underlineWidth}\n          height={underlineHeight}\n          fill={themeColors.colorPrimary}\n          data-element-type=\"shape\"\n        />\n      )}\n\n      {/*  */}\n      {datum.desc && (\n        <ItemDesc\n          indexes={indexes}\n          width={width}\n          x={descX}\n          y={descY}\n          alignHorizontal={alignHorizontal}\n          wordWrap={true}\n          fill={themeColors.colorText}\n        >\n          {datum.desc}\n        </ItemDesc>\n      )}\n    </Group>\n  );\n};\n\nregisterItem('underline-text', {\n  component: UnderlineText,\n  composites: ['label', 'desc'],\n});\n","import {\n  Bounds,\n  ComponentType,\n  Ellipse,\n  getElementBounds,\n  Group,\n  Path,\n  Polygon,\n  Text,\n} from '../../jsx';\nimport { Gap, ItemDesc, ItemIconCircle, ItemLabel } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { AlignLayout } from '../layouts/Align';\nimport { getItemProps } from '../utils';\nimport { registerItem } from './registry';\nimport type { BaseItemProps } from './types';\n\nexport interface VerticalIconArrowProps extends BaseItemProps {\n  height?: number;\n  /**  */\n  flipped?: boolean;\n}\n\nexport const VerticalIconArrow: ComponentType<VerticalIconArrowProps> = (\n  props,\n) => {\n  const [\n    { indexes, datum, height = 140, themeColors, positionH = 'normal' },\n    restProps,\n  ] = getItemProps(props, ['height']);\n\n  const isHNormal = positionH !== 'flipped';\n  const textAlignHorizontal = isHNormal ? 'right' : 'left';\n  const label = (\n    <ItemLabel\n      indexes={indexes}\n      width={120}\n      fill={themeColors.colorText}\n      alignHorizontal={textAlignHorizontal}\n      alignVertical=\"middle\"\n      fontSize={14}\n    >\n      {datum.label}\n    </ItemLabel>\n  );\n  const desc = (\n    <ItemDesc\n      indexes={indexes}\n      width={120}\n      fill={themeColors.colorTextSecondary}\n      alignHorizontal={textAlignHorizontal}\n      alignVertical=\"top\"\n    >\n      {datum.desc}\n    </ItemDesc>\n  );\n  const icon = (\n    <ItemIconCircle\n      indexes={indexes}\n      fill={themeColors.colorPrimary}\n      colorBg={themeColors.colorWhite}\n    />\n  );\n  const dotLine = (\n    <DotLine\n      width={30}\n      height={8}\n      fill={themeColors.colorPrimary}\n      positionH={positionH}\n    />\n  );\n\n  const isNormal = positionH !== 'flipped';\n  const dotLineGap = 5;\n  const iconGap = 25;\n  const arrowWidth = 30;\n  const labelBounds = getElementBounds(label);\n  const iconBounds = getElementBounds(icon);\n  const dotLineBounds = getElementBounds(dotLine);\n  const fixedGap =\n    labelBounds.width +\n    dotLineGap +\n    dotLineBounds.width -\n    iconBounds.width -\n    iconGap;\n\n  const totalWidth =\n    Math.max(\n      labelBounds.width + dotLineGap + dotLineBounds.width,\n      iconGap + iconBounds.width,\n    ) *\n      2 +\n    arrowWidth;\n\n  return (\n    <Group width={totalWidth} height={height} {...restProps}>\n      <FlexLayout flexDirection=\"row\" alignItems=\"center\">\n        {isNormal ? (\n          <>\n            <FlexLayout flexDirection=\"column\" alignItems=\"flex-end\">\n              {label}\n              {desc}\n            </FlexLayout>\n            <Gap width={dotLineGap} />\n            {dotLine}\n          </>\n        ) : (\n          <>\n            <Gap width={fixedGap} />\n            {icon}\n            <Gap width={iconGap} />\n          </>\n        )}\n        <AlignLayout horizontal=\"center\" vertical=\"middle\">\n          <VerticalArrow\n            width={arrowWidth}\n            height={height}\n            fill={themeColors.colorPrimary}\n          />\n          <Text\n            width={arrowWidth}\n            height={height}\n            alignHorizontal=\"center\"\n            alignVertical=\"middle\"\n            fill={themeColors.colorWhite}\n            fontWeight=\"bold\"\n            fontSize={16}\n          >\n            {String(indexes[0] + 1)\n              .padStart(2, '0')\n              .slice(-2)}\n          </Text>\n        </AlignLayout>\n        {!isNormal ? (\n          <>\n            {dotLine}\n            <Gap width={dotLineGap} />\n            <FlexLayout flexDirection=\"column\" alignItems=\"flex-start\">\n              {label}\n              {desc}\n            </FlexLayout>\n          </>\n        ) : (\n          <>\n            <Gap width={iconGap} />\n            {icon}\n          </>\n        )}\n      </FlexLayout>\n    </Group>\n  );\n};\n\nconst VerticalArrow = (\n  props: Partial<Bounds> & { fill: string; size?: number },\n) => {\n  const {\n    x = 0,\n    y = 0,\n    width = 30,\n    height = 100,\n    fill = '#FF356A',\n    size = 10,\n  } = props;\n  return (\n    <Polygon\n      width={width}\n      height={height}\n      points={[\n        { x, y },\n        { x: x + width / 2, y: y + size },\n        { x: x + width, y },\n        { x: x + width, y: y + height - size },\n        { x: x + width / 2, y: y + height },\n        { x, y: y + height - size },\n      ]}\n      fill={fill}\n      data-element-type=\"shape\"\n    />\n  );\n};\n\nconst DotLine = (props: {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n  fill: string;\n  positionH?: 'normal' | 'center' | 'flipped';\n}) => {\n  const {\n    x = 0,\n    y = 0,\n    width = 50,\n    height = 10,\n    fill,\n    positionH = 'normal',\n  } = props;\n  const r = height / 2;\n  const lineLength = width - r;\n  const strokeWidth = 2;\n  const lineY = r;\n  return (\n    <Group x={x} y={y} width={width} height={height}>\n      <Ellipse\n        width={height}\n        height={height}\n        fill={fill}\n        x={positionH === 'normal' ? 0 : lineLength - r}\n        data-element-type=\"shape\"\n      />\n      <Path\n        d={\n          positionH === 'normal'\n            ? `M${r},${lineY} L${r + lineLength},${lineY}`\n            : `M0,${lineY} L${lineLength - r},${lineY}`\n        }\n        strokeWidth={strokeWidth}\n        stroke={fill}\n        data-element-type=\"shape\"\n      />\n    </Group>\n  );\n};\n\nregisterItem('vertical-icon-arrow', {\n  component: VerticalIconArrow,\n  composites: ['icon', 'label', 'desc'],\n});\n","import type { Structure } from './types';\n\nconst STRUCTURE_REGISTRY = new Map<string, Structure>();\n\nexport function registerStructure(type: string, structure: Structure) {\n  STRUCTURE_REGISTRY.set(type, structure);\n}\n\nexport function getStructure(type: string): Structure | undefined {\n  return STRUCTURE_REGISTRY.get(type);\n}\n\nexport function getStructures(): string[] {\n  return Array.from(STRUCTURE_REGISTRY.keys());\n}\n","import { scaleLinear } from 'd3';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Path, Rect, Text } from '../../jsx';\nimport { ItemDatum, Padding } from '../../types';\nimport { parsePadding } from '../../utils';\nimport { ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ChartBarProps extends BaseStructureProps {\n  width?: number;\n  gap?: number;\n  barGap?: number;\n  barHeight?: number;\n  barAreaWidth?: number;\n  labelGap?: number;\n  padding?: Padding;\n  showValue?: boolean;\n  valueFormatter?: (value: number, datum: ItemDatum) => string;\n}\n\nexport const ChartBar: ComponentType<ChartBarProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    width,\n    gap,\n    barGap,\n    barHeight = 28,\n    barAreaWidth,\n    labelGap = 16,\n    padding = 24,\n    showValue = true,\n    options,\n    valueFormatter = (value) => value.toString(),\n  } = props;\n\n  const resolvedBarAreaWidth = barAreaWidth ?? width ?? 480;\n  const { title, desc, items = [], xTitle, yTitle } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n      </FlexLayout>\n    );\n  }\n\n  const [paddingTop, paddingRight, paddingBottom, paddingLeft] =\n    parsePadding(padding);\n\n  const sampleDatum = items[0] ?? { label: '', value: 0 };\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} datum={sampleDatum} data={data} />,\n  );\n\n  const labelWidth = itemBounds.width || 140;\n  const labelHeight = itemBounds.height || barHeight;\n  const rowHeight = Math.max(barHeight, labelHeight);\n  const gapByHeight = Math.max(12, rowHeight * 0.35);\n  const resolvedGap = barGap ?? gap ?? gapByHeight;\n\n  const values = items.map((item) => item.value ?? 0);\n  const maxValue = Math.max(...values, 0);\n  const minValue = Math.min(...values, 0);\n\n  const domainMin = minValue < 0 ? minValue * 1.1 : 0;\n  let domainMax = maxValue > 0 ? maxValue * 1.1 : 0;\n\n  if (domainMax === domainMin) {\n    domainMax = domainMin + 1;\n  }\n\n  const scale = scaleLinear()\n    .domain([domainMin, domainMax])\n    .range([0, resolvedBarAreaWidth]);\n\n  const zeroX = Math.min(Math.max(scale(0), 0), resolvedBarAreaWidth);\n  const minBarWidth = Math.max(2, resolvedBarAreaWidth * 0.02);\n\n  const chartHeight = items.length * (rowHeight + resolvedGap) - resolvedGap;\n  const yTitleSpace = yTitle ? 24 : 0;\n  const xTickSpace = 20;\n  const xTitleSpace = xTitle ? 24 : 0;\n  const yStart = paddingTop + yTitleSpace;\n  const barStartX = paddingLeft + labelWidth + labelGap;\n  const valueSpace = showValue ? 80 : 0;\n  const axisGap = Math.max(8, rowHeight * 0.2);\n  const totalWidth =\n    barStartX + resolvedBarAreaWidth + valueSpace + paddingRight;\n  const totalHeight =\n    yStart + chartHeight + axisGap + xTickSpace + xTitleSpace + paddingBottom;\n\n  const themeColors = getThemeColors(options.themeConfig);\n  const axisColor = themeColors.colorText || '#666';\n  const colorPrimary = getColorPrimary(options);\n\n  const barElements: JSXElement[] = [];\n  const valueElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const axisElements: JSXElement[] = [];\n  const tickElements: JSXElement[] = [];\n  const gridElements: JSXElement[] = [];\n  const titleElements: JSXElement[] = [];\n  const axisY = yStart + chartHeight + axisGap;\n\n  const formatTick = (value: number) =>\n    Number.isInteger(value) ? value.toString() : value.toFixed(1);\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const value = item.value ?? 0;\n    const rowY = yStart + index * (rowHeight + resolvedGap);\n    const barY = rowY + (rowHeight - barHeight) / 2;\n    const barX = value >= 0 ? barStartX + zeroX : barStartX + scale(value);\n    const barWidthRaw =\n      value >= 0 ? scale(value) - zeroX : zeroX - scale(value);\n    const barWidth = barWidthRaw === 0 ? minBarWidth : barWidthRaw;\n\n    const barColor =\n      getPaletteColor(options, [index]) || themeColors.colorPrimary;\n\n    barElements.push(\n      <Rect\n        x={barX}\n        y={barY}\n        width={barWidth}\n        height={barHeight}\n        fill={barColor}\n        rx={6}\n        ry={6}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    if (showValue) {\n      const valueX = value >= 0 ? barX + barWidth + 8 : barX - 8;\n      valueElements.push(\n        <Text\n          x={valueX}\n          y={barY + barHeight / 2}\n          alignHorizontal={value >= 0 ? 'left' : 'right'}\n          alignVertical=\"middle\"\n          fontSize={14}\n          fontWeight=\"bold\"\n          fill={barColor}\n        >\n          {valueFormatter(value, item)}\n        </Text>,\n      );\n    }\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={paddingLeft}\n        y={rowY + (rowHeight - labelHeight) / 2}\n        width={labelWidth}\n        height={labelHeight}\n        positionV=\"middle\"\n      />,\n    );\n  });\n\n  const tickCount = Math.max(\n    3,\n    Math.min(7, Math.floor(resolvedBarAreaWidth / 80)),\n  );\n  const ticks = scale.ticks(tickCount);\n  ticks.forEach((tick) => {\n    const tickX = barStartX + scale(tick);\n    gridElements.push(\n      <Path\n        d={`M${tickX} ${yStart} L${tickX} ${yStart + chartHeight}`}\n        stroke={axisColor}\n        strokeOpacity={0.08}\n        data-element-type=\"shape\"\n      />,\n    );\n    tickElements.push(\n      <Path\n        d={`M${tickX - 0.5} ${axisY} L${tickX - 0.5} ${axisY + 6}`}\n        stroke={axisColor}\n        data-element-type=\"shape\"\n      />,\n    );\n    tickElements.push(\n      <Text\n        x={tickX}\n        y={axisY + 14}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={12}\n        fill={axisColor}\n      >\n        {formatTick(tick)}\n      </Text>,\n    );\n  });\n\n  axisElements.push(\n    <Path\n      d={`M${barStartX} ${axisY} L${barStartX + resolvedBarAreaWidth} ${axisY}`}\n      stroke={axisColor}\n      data-element-type=\"shape\"\n    />,\n  );\n\n  if (domainMin < 0) {\n    axisElements.push(\n      <Rect\n        x={barStartX + zeroX - 0.5}\n        y={yStart}\n        width={1}\n        height={chartHeight}\n        fill={colorPrimary}\n        data-element-type=\"shape\"\n      />,\n    );\n  }\n\n  if (yTitle) {\n    titleElements.push(\n      <Text\n        x={paddingLeft + labelWidth / 2}\n        y={paddingTop + yTitleSpace / 2}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={14}\n        fontWeight=\"bold\"\n        fill={axisColor}\n      >\n        {yTitle}\n      </Text>,\n    );\n  }\n\n  if (xTitle) {\n    titleElements.push(\n      <Text\n        x={barStartX + resolvedBarAreaWidth / 2}\n        y={axisY + xTickSpace + xTitleSpace / 2}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={14}\n        fontWeight=\"bold\"\n        fill={axisColor}\n      >\n        {xTitle}\n      </Text>,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={totalWidth} height={totalHeight}>\n        <Group>{gridElements}</Group>\n        <Group>{barElements}</Group>\n        <Group>{valueElements}</Group>\n        <Group>{titleElements}</Group>\n        <Group>{[...axisElements, ...tickElements]}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('chart-bar', {\n  component: ChartBar,\n  composites: ['title', 'item', 'xTitle', 'yTitle'],\n});\n","import { scaleLinear } from 'd3';\nimport tinycolor from 'tinycolor2';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Group, Rect, Text } from '../../jsx';\nimport { ItemDatum, Padding } from '../../types';\nimport { parsePadding } from '../../utils';\nimport { ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ChartColumnProps extends BaseStructureProps {\n  columnGap?: number;\n  columnWidth?: number;\n  padding?: Padding;\n  showValue?: boolean;\n  valueFormatter?: (value: number, datum: ItemDatum) => string;\n}\n\nexport const ChartColumn: ComponentType<ChartColumnProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    columnGap = 60,\n    columnWidth = 50,\n    padding = 20,\n    showValue = true,\n    options,\n    valueFormatter = (value) => value.toString(),\n  } = props;\n\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n      </FlexLayout>\n    );\n  }\n\n  const themeColors = getThemeColors(options.themeConfig);\n\n  const values = items.map((item) => item.value ?? 0);\n  const sortedValues = [...values, 0].sort((a, b) => a - b);\n  const hasNegative = sortedValues[0] < 0;\n\n  const chartWidth =\n    items.length * columnWidth + (items.length - 1) * columnGap;\n  const chartHeight = 300;\n\n  const [paddingTop, paddingRight, paddingBottom, paddingLeft] =\n    parsePadding(padding);\n\n  // Add extra space for negative value labels if needed\n  const valueTextHeight = showValue ? 24 : 0; // Estimated height for value text\n  const itemGap = 10;\n  const extraBottomSpace =\n    hasNegative && showValue ? valueTextHeight + itemGap : itemGap;\n\n  const totalWidth = chartWidth + paddingLeft + paddingRight;\n  const totalHeight =\n    chartHeight + paddingTop + paddingBottom + extraBottomSpace;\n\n  const yScale = scaleLinear()\n    .domain([sortedValues[0], sortedValues[sortedValues.length - 1]])\n    .range([chartHeight, 0]);\n\n  const zeroY = yScale(0);\n\n  const columnElements: JSXElement[] = [];\n  const valueElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const gradientDefs: JSXElement[] = [];\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const value = item.value ?? 0;\n    const columnX = paddingLeft + index * (columnWidth + columnGap);\n    const columnY = value >= 0 ? yScale(value) : zeroY;\n    const columnHeight = Math.abs(yScale(value) - zeroY);\n\n    // Get color from palette for this item\n    const color = getPaletteColor(options, [index]) || themeColors.colorPrimary;\n    const gradientPositiveId = `${color}-column-positive-${index}`;\n    const gradientNegativeId = `${color}-column-negative-${index}`;\n\n    // Create gradient definition for this column\n    gradientDefs.push(\n      <linearGradient\n        id={value >= 0 ? gradientPositiveId : gradientNegativeId}\n        x1=\"0%\"\n        y1={value >= 0 ? '0%' : '100%'}\n        x2=\"0%\"\n        y2={value >= 0 ? '100%' : '0%'}\n      >\n        <stop offset=\"0%\" stopColor={color} />\n        <stop\n          offset=\"100%\"\n          stopColor={tinycolor.mix(color, '#fff', 40).toHexString()}\n        />\n      </linearGradient>,\n    );\n\n    // Column\n    columnElements.push(\n      <Rect\n        x={columnX}\n        y={paddingTop + columnY}\n        width={columnWidth}\n        height={columnHeight}\n        fill={`url(#${value >= 0 ? gradientPositiveId : gradientNegativeId})`}\n        rx={8}\n        ry={8}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // Value text\n    if (showValue) {\n      valueElements.push(\n        <Text\n          x={columnX + columnWidth / 2}\n          y={\n            value >= 0\n              ? paddingTop + columnY - 10\n              : paddingTop + columnY + columnHeight + 20\n          }\n          fontSize={16}\n          fontWeight=\"bold\"\n          alignHorizontal=\"center\"\n          alignVertical={value >= 0 ? 'bottom' : 'top'}\n          fill={color}\n        >\n          {valueFormatter(value, item)}\n        </Text>,\n      );\n    }\n\n    // Item (label)\n    const itemWidth = columnWidth + columnGap;\n    const itemY = paddingTop + chartHeight + extraBottomSpace;\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={columnX + columnWidth / 2 - itemWidth / 2}\n        y={itemY}\n        width={itemWidth}\n        positionH=\"center\"\n      />,\n    );\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={totalWidth} height={totalHeight}>\n        <Defs>{gradientDefs}</Defs>\n        <Group>{columnElements}</Group>\n        <Group>{valueElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('chart-column', {\n  component: ChartColumn,\n  composites: ['title', 'item'],\n});\n","import { scaleLinear } from 'd3';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Ellipse, getElementBounds, Group, Path, Text } from '../../jsx';\nimport { ItemDatum, Padding } from '../../types';\nimport { getSimpleHash, parsePadding } from '../../utils';\nimport { ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ChartLineProps extends BaseStructureProps {\n  width?: number;\n  height?: number;\n  gap?: number;\n  padding?: Padding;\n  showValue?: boolean;\n  valueFormatter?: (value: number, datum: ItemDatum) => string;\n}\n\nexport const ChartLine: ComponentType<ChartLineProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    width,\n    height = 260,\n    gap = 10,\n    padding = 24,\n    showValue = true,\n    options,\n    valueFormatter = (value) => value.toString(),\n  } = props;\n\n  const { title, desc, items = [], xTitle, yTitle } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n      </FlexLayout>\n    );\n  }\n\n  const [paddingTop, paddingRight, paddingBottom, paddingLeft] =\n    parsePadding(padding);\n\n  const itemProps = {\n    indexes: [0],\n    datum: items[0],\n    data,\n    positionH: 'center',\n    positionV: 'normal',\n  };\n  const sampleBounds = getElementBounds(<Item {...itemProps} />);\n  const labelWidth = sampleBounds.width;\n  const labelHeight = sampleBounds.height;\n  const xTickSpace = Math.max(28, labelHeight + 14);\n  const yTickSpace = 44;\n  const yTitleSpace = yTitle ? 26 : 0;\n  const xTitleSpace = xTitle ? 22 : 0;\n\n  const baseSpacing = labelWidth + gap;\n  const naturalChartWidth =\n    items.length > 0 ? (items.length - 1) * baseSpacing + labelWidth : 0;\n  const targetChartWidth =\n    width !== undefined ? width : Math.max(200, naturalChartWidth || 320);\n  const spacing =\n    items.length > 1\n      ? Math.max(\n          baseSpacing,\n          (targetChartWidth - labelWidth) / (items.length - 1),\n        )\n      : 0;\n  const derivedChartWidth =\n    items.length > 0\n      ? Math.max(labelWidth, (items.length - 1) * spacing + labelWidth)\n      : 0;\n\n  const chartOriginX = paddingLeft + yTickSpace + yTitleSpace;\n  const chartOriginY = paddingTop + yTitleSpace;\n\n  const totalWidth = chartOriginX + derivedChartWidth + paddingRight;\n  const totalHeight =\n    chartOriginY + height + xTickSpace + xTitleSpace + paddingBottom;\n\n  const values = items.map((item) => item.value ?? 0);\n  const maxValue = Math.max(...values, 0);\n  const minValue = Math.min(...values, 0);\n  const domainPadding = Math.max(Math.abs(maxValue), Math.abs(minValue)) * 0.1;\n  const domainMin = minValue < 0 ? minValue - domainPadding : 0;\n  let domainMax = maxValue > 0 ? maxValue + domainPadding : 1;\n\n  if (domainMax === domainMin) {\n    domainMax = domainMin + 1;\n  }\n\n  const scaleY = scaleLinear()\n    .domain([domainMin, domainMax])\n    .nice()\n    .range([height, 0]);\n\n  const zeroY = Math.max(0, Math.min(height, scaleY(0)));\n  const axisBaseY = domainMax <= 0 ? 0 : domainMin >= 0 ? height : zeroY;\n  const colorPrimary = getColorPrimary(options);\n  const themeColors = getThemeColors(options.themeConfig);\n  const axisColor = themeColors.colorText || '#666';\n\n  const gridElements: JSXElement[] = [];\n  const axisElements: JSXElement[] = [];\n  const lineElements: JSXElement[] = [];\n  const pointElements: JSXElement[] = [];\n  const valueElements: JSXElement[] = [];\n  const titleElements: JSXElement[] = [];\n  const tickElements: JSXElement[] = [];\n\n  const ticksY = scaleY.ticks(6);\n  ticksY.forEach((tick) => {\n    const yPos = chartOriginY + scaleY(tick);\n    gridElements.push(\n      <Path\n        d={`M ${chartOriginX} ${yPos} L ${\n          chartOriginX + derivedChartWidth\n        } ${yPos}`}\n        width={derivedChartWidth}\n        height={1}\n        stroke={axisColor}\n        strokeWidth={1}\n        data-element-type=\"shape\"\n        opacity={0.08}\n      />,\n    );\n    tickElements.push(\n      <Text\n        x={chartOriginX - 8}\n        y={yPos}\n        alignHorizontal=\"right\"\n        alignVertical=\"middle\"\n        fontSize={12}\n        fill={axisColor}\n      >\n        {Number.isInteger(tick) ? tick.toString() : tick.toFixed(1)}\n      </Text>,\n    );\n  });\n\n  const xLabels: JSXElement[] = [];\n  const pointPositions: { x: number; y: number; datum: ItemDatum }[] = [];\n  const colorStopsData: { x: number; color: string }[] = [];\n\n  const createSmoothPath = (points: { x: number; y: number }[]) => {\n    if (points.length === 0) return '';\n    if (points.length === 1) {\n      const p = points[0];\n      return `M ${p.x} ${p.y}`;\n    }\n\n    const segments: string[] = [];\n    segments.push(`M ${points[0].x} ${points[0].y}`);\n\n    for (let i = 0; i < points.length - 1; i++) {\n      const p0 = points[i - 1] || points[i];\n      const p1 = points[i];\n      const p2 = points[i + 1];\n      const p3 = points[i + 2] || p2;\n\n      const cp1x = p1.x + (p2.x - p0.x) / 6;\n      const cp1y = p1.y + (p2.y - p0.y) / 6;\n      const cp2x = p2.x - (p3.x - p1.x) / 6;\n      const cp2y = p2.y - (p3.y - p1.y) / 6;\n\n      segments.push(`C ${cp1x} ${cp1y} ${cp2x} ${cp2y} ${p2.x} ${p2.y}`);\n    }\n\n    return segments.join(' ');\n  };\n\n  items.forEach((item, index) => {\n    const x = chartOriginX + index * spacing + labelWidth / 2;\n    const y = chartOriginY + scaleY(item.value ?? 0);\n    pointPositions.push({ x, y, datum: item });\n    xLabels.push(\n      <Item\n        {...itemProps}\n        indexes={[index]}\n        datum={item}\n        x={x - labelWidth / 2}\n        y={chartOriginY + height + 4}\n      />,\n    );\n\n    const stopColor =\n      getPaletteColor(options, [index]) || themeColors.colorPrimary;\n    colorStopsData.push({ x, color: stopColor });\n  });\n\n  const minStopX =\n    colorStopsData.length > 0\n      ? Math.min(...colorStopsData.map((s) => s.x))\n      : chartOriginX;\n  const maxStopX =\n    colorStopsData.length > 0\n      ? Math.max(...colorStopsData.map((s) => s.x))\n      : chartOriginX + derivedChartWidth;\n  const stopSpan = Math.max(1, maxStopX - minStopX);\n\n  const gradientStops = colorStopsData.map((s) => (\n    <stop\n      offset={`${((s.x - minStopX) / stopSpan) * 100}%`}\n      stopColor={s.color}\n    />\n  ));\n\n  const areaStops = colorStopsData.map((s) => (\n    <stop\n      offset={`${((s.x - minStopX) / stopSpan) * 100}%`}\n      stopColor={s.color}\n      stopOpacity=\"0.18\"\n    />\n  ));\n\n  if (colorStopsData.length > 0) {\n    const lastColor = colorStopsData[colorStopsData.length - 1].color;\n    gradientStops.push(<stop offset=\"100%\" stopColor={lastColor} />);\n    areaStops.push(\n      <stop offset=\"100%\" stopColor={lastColor} stopOpacity=\"0.04\" />,\n    );\n  }\n\n  const gradientIdBase = `chart-line-${getSimpleHash(\n    [\n      derivedChartWidth,\n      height,\n      axisColor,\n      colorPrimary,\n      colorStopsData.map((s) => `${s.x.toFixed(2)}-${s.color}`).join(),\n    ].join(':'),\n  )}`;\n  const gradientStrokeId = `${gradientIdBase}-stroke`;\n  const gradientAreaId = `${gradientIdBase}-area`;\n\n  const smoothLinePath = createSmoothPath(pointPositions);\n\n  lineElements.push(\n    <Path\n      d={smoothLinePath}\n      width={derivedChartWidth}\n      height={height}\n      stroke={`url(#${gradientStrokeId})`}\n      strokeWidth={3}\n      fill=\"none\"\n      data-element-type=\"shape\"\n    />,\n  );\n\n  const areaCurveTail = smoothLinePath.includes('C')\n    ? smoothLinePath.slice(smoothLinePath.indexOf('C'))\n    : '';\n\n  const areaPath = [\n    `M ${pointPositions[0].x} ${chartOriginY + axisBaseY}`,\n    `L ${pointPositions[0].x} ${pointPositions[0].y}`,\n    areaCurveTail,\n    `L ${pointPositions[pointPositions.length - 1].x} ${\n      chartOriginY + axisBaseY\n    }`,\n    'Z',\n  ].join(' ');\n\n  lineElements.push(\n    <Path\n      d={areaPath}\n      width={derivedChartWidth}\n      height={height}\n      fill={`url(#${gradientAreaId})`}\n      stroke=\"none\"\n      data-element-type=\"shape\"\n    />,\n  );\n\n  pointPositions.forEach((pos, index) => {\n    const paletteColor =\n      getPaletteColor(options, [index]) || themeColors.colorPrimary;\n    pointElements.push(\n      <Ellipse\n        x={pos.x - 6}\n        y={pos.y - 6}\n        width={12}\n        height={12}\n        fill={paletteColor}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    if (showValue) {\n      valueElements.push(\n        <Text\n          x={pos.x}\n          y={pos.y - 12}\n          alignHorizontal=\"center\"\n          alignVertical=\"bottom\"\n          fontSize={12}\n          fontWeight=\"bold\"\n          fill={paletteColor}\n        >\n          {valueFormatter(pos.datum.value ?? 0, pos.datum)}\n        </Text>,\n      );\n    }\n  });\n\n  axisElements.push(\n    <Path\n      d={`M ${chartOriginX} ${chartOriginY + axisBaseY} L ${\n        chartOriginX + derivedChartWidth\n      } ${chartOriginY + axisBaseY}`}\n      width={derivedChartWidth}\n      height={1}\n      stroke={axisColor}\n      strokeWidth={1}\n      data-element-type=\"shape\"\n    />,\n  );\n\n  axisElements.push(\n    <Path\n      d={`M ${chartOriginX} ${chartOriginY} L ${chartOriginX} ${\n        chartOriginY + height\n      }`}\n      width={1}\n      height={height}\n      stroke={axisColor}\n      strokeWidth={1}\n      data-element-type=\"shape\"\n    />,\n  );\n\n  if (xTitle) {\n    titleElements.push(\n      <Text\n        x={chartOriginX + derivedChartWidth / 2}\n        y={chartOriginY + height + xTickSpace + xTitleSpace / 2}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={14}\n        fontWeight=\"bold\"\n        fill={axisColor}\n      >\n        {xTitle}\n      </Text>,\n    );\n  }\n\n  if (yTitle) {\n    titleElements.push(\n      <Text\n        x={paddingLeft + yTitleSpace / 2}\n        y={chartOriginY + height / 2}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={14}\n        fontWeight=\"bold\"\n        fill={axisColor}\n      >\n        {yTitle}\n      </Text>,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={totalWidth} height={totalHeight}>\n        <Defs>\n          <linearGradient\n            id={gradientStrokeId}\n            x1=\"0%\"\n            y1=\"0%\"\n            x2=\"100%\"\n            y2=\"0%\"\n          >\n            {gradientStops}\n          </linearGradient>\n          <linearGradient id={gradientAreaId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            {areaStops}\n            <stop offset=\"100%\" stopColor={colorPrimary} stopOpacity=\"0.04\" />\n          </linearGradient>\n        </Defs>\n        <Group>{gridElements}</Group>\n        <Group>{[...axisElements, ...tickElements]}</Group>\n        <Group>{lineElements}</Group>\n        <Group>{pointElements}</Group>\n        <Group>{valueElements}</Group>\n        <Group>{titleElements}</Group>\n        <ItemsGroup>{xLabels}</ItemsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('chart-line', {\n  component: ChartLine,\n  composites: ['title', 'item', 'xTitle', 'yTitle'],\n});\n","import { arc, pie, type PieArcDatum } from 'd3';\nimport { ElementTypeEnum } from '../../constants';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Path, Text } from '../../jsx';\nimport { ItemDatum } from '../../types';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport {\n  getColorPrimary,\n  getPaletteColor,\n  getThemeColors,\n  normalizePercent,\n} from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\n// ===  ===\n/**  */\nconst EXTENSION_FACTOR = 1.35;\n/**  */\nconst TEXT_GAP = 8;\n/**  Y  X  */\nconst SMOOTH_FACTOR = 0.3;\n/**  */\nconst MAX_EXPECTED_SHIFT_FACTOR = 0.2;\n/**  */\nconst FIXED_TEXT_RADIUS_GAP = 20;\n/**  */\nconst ELBOW_RADIUS_FACTOR = 1.15;\n/**  (0.5 = ) */\nconst PERCENT_TEXT_POSITION = 0.5;\n/**  */\nconst DELETE_BUTTON_RADIUS_FACTOR = 0.85;\n/**  */\nconst ADD_BUTTON_RADIUS_FACTOR = 1.0;\n/**  */\nconst CONNECTOR_STROKE_OPACITY = 0.45;\n/**  */\nconst CONNECTOR_STROKE_WIDTH = 2;\n\nexport interface ChartPieProps extends BaseStructureProps {\n  radius?: number;\n  innerRadius?: number;\n  padding?: number;\n  showPercentage?: boolean;\n  avoidLabelOverlap?: boolean;\n  minShowLabelPercent?: number | string;\n}\n\nexport const ChartPie: ComponentType<ChartPieProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    radius = 140,\n    innerRadius = 0,\n    padding = 30,\n    showPercentage = true,\n    avoidLabelOverlap = false,\n    minShowLabelPercent: rawMinShowLabelPercent = 0,\n    options,\n  } = props;\n\n  // \n  const minShowLabelPercent = normalizePercent(rawMinShowLabelPercent);\n\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  //  Item \n  const sampleDatum: ItemDatum = items[0] ?? { label: '', value: 0 };\n  const itemBounds = getElementBounds(\n    <Item\n      indexes={[0]}\n      datum={sampleDatum}\n      data={data}\n      positionH=\"center\"\n      positionV=\"middle\"\n    />,\n  );\n\n  const labelWidth = itemBounds.width || 140;\n  const labelHeight = itemBounds.height || 32;\n\n  // \n  const outerRadius = Math.max(radius, 60);\n\n  // \n  //  *  +  +  + padding\n  const maxHorizontalDistance =\n    outerRadius * EXTENSION_FACTOR + TEXT_GAP + labelWidth;\n  const maxVerticalDistance = outerRadius;\n\n  const centerX = padding + maxHorizontalDistance;\n  const centerY = padding + maxVerticalDistance;\n\n  const totalWidth = centerX * 2;\n  const totalHeight = centerY * 2;\n\n  // \n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group width={totalWidth} height={totalHeight}>\n          <BtnsGroup>\n            <BtnAdd\n              indexes={[0]}\n              x={centerX - btnBounds.width / 2}\n              y={centerY - btnBounds.height / 2}\n            />\n          </BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const totalValue = items.reduce(\n    (sum, item) => sum + Math.max(item.value ?? 0, 0),\n    0,\n  );\n  const colorPrimary = getColorPrimary(options);\n  const themeColors = getThemeColors(options.themeConfig);\n\n  // 1. \n  const pieGenerator = pie<ItemDatum>()\n    .value((item) => Math.max(item.value ?? 0, 0))\n    .sort(null)\n    .startAngle(0)\n    .endAngle(Math.PI * 2);\n\n  const arcData = pieGenerator(items);\n\n  // 2. \n  const arcGenerator = arc<PieArcDatum<ItemDatum>>()\n    .innerRadius(innerRadius)\n    .outerRadius(outerRadius)\n    .cornerRadius(2);\n\n  // \n  const innerArc = arc<PieArcDatum<ItemDatum>>()\n    .innerRadius(outerRadius)\n    .outerRadius(outerRadius);\n\n  // \n  const outerArc = arc<PieArcDatum<ItemDatum>>()\n    .innerRadius(outerRadius * ELBOW_RADIUS_FACTOR)\n    .outerRadius(outerRadius * ELBOW_RADIUS_FACTOR);\n\n  const percentTextRadius =\n    innerRadius + (outerRadius - innerRadius) * PERCENT_TEXT_POSITION;\n  const percentageArc = arc<PieArcDatum<ItemDatum>>()\n    .innerRadius(percentTextRadius)\n    .outerRadius(percentTextRadius);\n\n  // \n  const deleteButtonArc = arc<PieArcDatum<ItemDatum>>()\n    .innerRadius(outerRadius * DELETE_BUTTON_RADIUS_FACTOR)\n    .outerRadius(outerRadius * DELETE_BUTTON_RADIUS_FACTOR);\n\n  const sliceElements: JSXElement[] = [];\n  const percentElements: JSXElement[] = [];\n  const connectorElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n  const labelItems: LabelItem[] = [];\n\n  // 3. \n  arcData.forEach((arcDatum) => {\n    const originalIndex = arcDatum.index;\n\n    const color =\n      getPaletteColor(options, [originalIndex]) ||\n      themeColors.colorPrimary ||\n      colorPrimary;\n\n    // ---  ---\n    const pathD = arcGenerator(arcDatum) || '';\n    sliceElements.push(\n      <Path\n        d={pathD}\n        fill={color}\n        stroke={themeColors.colorBg}\n        strokeWidth={1}\n        data-element-type=\"shape\"\n        width={outerRadius * 2}\n        height={outerRadius * 2}\n      />,\n    );\n\n    // ---  ---\n    const midAngle =\n      arcDatum.startAngle + (arcDatum.endAngle - arcDatum.startAngle) / 2;\n\n    const normalizedAngle = midAngle < 0 ? midAngle + Math.PI * 2 : midAngle;\n    const isRight = normalizedAngle < Math.PI;\n\n    //  minShowLabelPercent \n    const slicePercent =\n      totalValue > 0 ? (arcDatum.value / totalValue) * 100 : 0;\n    if (slicePercent < minShowLabelPercent) {\n      return;\n    }\n\n    const centroid = outerArc.centroid(arcDatum);\n\n    labelItems.push({\n      arcDatum,\n      originalIndex,\n      x: centroid[0],\n      y: centroid[1], //  Y \n      height: labelHeight,\n      isRight,\n      color,\n    });\n  });\n  let finalLabels: LabelItem[] = labelItems;\n\n  if (avoidLabelOverlap) {\n    // \n    const labelMinY = -maxVerticalDistance * EXTENSION_FACTOR;\n    const labelMaxY = maxVerticalDistance * EXTENSION_FACTOR;\n\n    const leftItems = labelItems.filter((item) => !item.isRight);\n    const rightItems = labelItems.filter((item) => item.isRight);\n\n    const labelSpacing = labelHeight;\n\n    const adjustedRight = distributeLabels(\n      rightItems,\n      labelSpacing,\n      labelMinY,\n      labelMaxY,\n    );\n    const adjustedLeft = distributeLabels(\n      leftItems,\n      labelSpacing,\n      labelMinY,\n      labelMaxY,\n    );\n\n    finalLabels = [...adjustedLeft, ...adjustedRight];\n  }\n\n  finalLabels.forEach((item) => {\n    const { arcDatum, originalIndex, isRight, color, y: adjustedY } = item;\n\n    // 1. P0:  ()\n    const p0 = innerArc.centroid(arcDatum);\n\n    // 2. P1:  ()\n    const p1 = outerArc.centroid(arcDatum);\n\n    //  Y \n    // adjustedY \n    const labelCenterY = adjustedY;\n    const deltaY = Math.abs(labelCenterY - p1[1]);\n\n    // ---  (Dynamic Compensation) ---\n    //  Y  X \n    const dynamicShift = deltaY * SMOOTH_FACTOR;\n\n    // \n    const baseElbowRadius = outerRadius * EXTENSION_FACTOR;\n\n    //  ( + )\n    const currentElbowRadius = baseElbowRadius + dynamicShift;\n\n    // \n    const maxExpectedShift = outerRadius * MAX_EXPECTED_SHIFT_FACTOR;\n    const fixedTextRadius =\n      baseElbowRadius + maxExpectedShift + FIXED_TEXT_RADIUS_GAP;\n\n    //  P2 X  ()\n    //  Elbow X \n    const elbowRadiusClamped = Math.min(currentElbowRadius, fixedTextRadius);\n    const elbowX = elbowRadiusClamped * (isRight ? 1 : -1);\n\n    //  X  ()\n    const textX = fixedTextRadius * (isRight ? 1 : -1);\n\n    // 3. P2:  ( Elbow )\n    // \n    const p2 = [elbowX, labelCenterY];\n\n    // 4. P3:  ()\n    const p3 = [textX, labelCenterY];\n\n    // ---  ---\n    connectorElements.push(\n      <Path\n        d={`M${centerX + p0[0]} ${centerY + p0[1]} \n        L${centerX + p1[0]} ${centerY + p1[1]} \n        L${centerX + p2[0]} ${centerY + p2[1]}\n        L${centerX + p3[0]} ${centerY + p3[1]}\n        `}\n        stroke={color}\n        strokeOpacity={CONNECTOR_STROKE_OPACITY}\n        strokeWidth={CONNECTOR_STROKE_WIDTH}\n        fill=\"none\"\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // ---  Item ---\n    const itemX =\n      centerX + p3[0] + (isRight ? TEXT_GAP : -TEXT_GAP - labelWidth);\n    const itemY = centerY + adjustedY - labelHeight / 2; // \n\n    itemElements.push(\n      <Item\n        indexes={[originalIndex]}\n        datum={arcDatum.data}\n        data={data}\n        x={itemX}\n        y={itemY}\n        width={labelWidth}\n        height={labelHeight}\n        positionH={isRight ? 'normal' : 'flipped'}\n        positionV=\"middle\"\n        themeColors={getThemeColors({ colorPrimary: color }, options)}\n      />,\n    );\n\n    // ---  ---\n    if (showPercentage && totalValue > 0) {\n      const percentPos = percentageArc.centroid(arcDatum);\n      const value = Math.max(arcDatum.value, 0);\n      const percentText = ((value * 100) / totalValue).toFixed(1);\n\n      // \n      const textWidth = 50;\n      const textHeight = 20;\n\n      percentElements.push(\n        <Text\n          x={centerX + percentPos[0] - textWidth / 2}\n          y={centerY + percentPos[1] - textHeight / 2}\n          width={textWidth}\n          height={textHeight}\n          alignHorizontal=\"center\"\n          alignVertical=\"middle\"\n          fontSize={12}\n          fontWeight=\"bold\"\n          fill=\"#ffffff\"\n          data-value={value}\n          data-indexes={[originalIndex]}\n          data-element-type={ElementTypeEnum.ItemValue}\n        >\n          {`${percentText}%`}\n        </Text>,\n      );\n    }\n\n    // ---  ---\n    const deletePos = deleteButtonArc.centroid(arcDatum);\n    btnElements.push(\n      <BtnRemove\n        indexes={[originalIndex]}\n        x={centerX + deletePos[0] - btnBounds.width / 2}\n        y={centerY + deletePos[1] - btnBounds.height / 2}\n      />,\n    );\n  });\n\n  // ---  ---\n  arcData.forEach((arcDatum, index) => {\n    const nextIndex = (index + 1) % arcData.length;\n    const currentEnd = arcDatum.endAngle;\n    const nextStart =\n      arcData[nextIndex].startAngle + (nextIndex === 0 ? Math.PI * 2 : 0);\n    const midAngle = (currentEnd + nextStart) / 2;\n\n    const btnR = outerRadius * ADD_BUTTON_RADIUS_FACTOR;\n    const btnX = Math.sin(midAngle) * btnR;\n    const btnY = -Math.cos(midAngle) * btnR;\n\n    btnElements.push(\n      <BtnAdd\n        indexes={[index + 1]}\n        x={centerX + btnX - btnBounds.width / 2}\n        y={centerY + btnY - btnBounds.height / 2}\n      />,\n    );\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      gap={30}\n    >\n      {titleContent}\n      <Group width={totalWidth} height={totalHeight}>\n        <Group x={centerX} y={centerY}>\n          {sliceElements}\n        </Group>\n        <Group>{connectorElements}</Group>\n        <Group>{percentElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('chart-pie', {\n  component: ChartPie,\n  composites: ['title', 'item'],\n});\n\nexport interface LabelItem {\n  arcDatum: PieArcDatum<ItemDatum>;\n  originalIndex: number;\n  /**  Y  */\n  y: number;\n  x: number;\n  height: number;\n  isRight: boolean;\n  color: string;\n}\n\n/**\n *  (Spider Leg Layout)\n *\n * y \n *\n * @param items y \n * @param spacing \n * @param minY \n * @param maxY \n */\nexport function distributeLabels(\n  items: LabelItem[],\n  spacing: number,\n  minY: number,\n  maxY: number,\n): LabelItem[] {\n  // \n  if (items.length <= 1) return items.map((item) => ({ ...item }));\n\n  //  Y  ()\n  const sorted = items.map((item) => ({ ...item })).sort((a, b) => a.y - b.y);\n\n  // ===  ===\n  // \n  const hasOverlap = sorted.some((item, i) => {\n    if (i === 0) return false;\n    const prev = sorted[i - 1];\n    //  <   \n    return item.y - prev.y < (prev.height + item.height) / 2;\n  });\n\n  const firstItem = sorted[0];\n  const lastItem = sorted[sorted.length - 1];\n  const isOutOfBounds =\n    firstItem.y - firstItem.height / 2 < minY ||\n    lastItem.y + lastItem.height / 2 > maxY;\n\n  // \n  if (!hasOverlap && !isOutOfBounds) {\n    return sorted;\n  }\n\n  // ===  ===\n  const totalLabelsHeight = sorted.reduce((sum, item) => sum + item.height, 0);\n  const availableSpace = maxY - minY;\n  const requiredSpaceWithIdealSpacing =\n    totalLabelsHeight + spacing * (sorted.length - 1);\n\n  // 0\n  let actualSpacing = spacing;\n  if (requiredSpaceWithIdealSpacing > availableSpace) {\n    const excessSpace = availableSpace - totalLabelsHeight;\n    actualSpacing = Math.max(0, excessSpace / (sorted.length - 1));\n  }\n\n  // ===  (Downwards push) ===\n  // y \n  //   >=  +  + \n  for (let i = 1; i < sorted.length; i++) {\n    const prev = sorted[i - 1];\n    const curr = sorted[i];\n\n    const minAllowedY =\n      prev.y + (prev.height + curr.height) / 2 + actualSpacing;\n    if (curr.y < minAllowedY) {\n      curr.y = minAllowedY;\n    }\n  }\n\n  // ===  +  (Upwards push) ===\n  // \n  const lastIdx = sorted.length - 1;\n  const last = sorted[lastIdx];\n  if (last.y + last.height / 2 > maxY) {\n    //  =  - \n    last.y = maxY - last.height / 2;\n\n    // \n    for (let i = lastIdx - 1; i >= 0; i--) {\n      const next = sorted[i + 1];\n      const curr = sorted[i];\n\n      const maxAllowedY =\n        next.y - (next.height + curr.height) / 2 - actualSpacing;\n      if (curr.y > maxAllowedY) {\n        curr.y = maxAllowedY;\n      }\n    }\n  }\n\n  // ===  ===\n  // \n  const first = sorted[0];\n  if (first.y - first.height / 2 < minY) {\n    const shift = minY - (first.y - first.height / 2);\n    sorted.forEach((item) => (item.y += shift));\n  }\n\n  return sorted;\n}\n","import { ElementTypeEnum } from '../../constants';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Text } from '../../jsx';\nimport { ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\ninterface WordCandidate {\n  label: string;\n  value?: number;\n  color: string;\n  fontSize: number;\n  width: number;\n  height: number;\n}\n\ninterface PlacedWord extends WordCandidate {\n  angle: number;\n  centerX: number;\n  centerY: number;\n  box: { x: number; y: number; width: number; height: number };\n}\n\nconst DEFAULT_ROTATE_ANGLES = [0, 30, -30, 60, -60];\nconst GOLDEN_ANGLE = Math.PI * (3 - Math.sqrt(5));\n\nfunction getRotatedSize(width: number, height: number, angle: number) {\n  const rad = (Math.PI / 180) * angle;\n  const cos = Math.cos(rad);\n  const sin = Math.sin(rad);\n  return {\n    width: Math.abs(width * cos) + Math.abs(height * sin),\n    height: Math.abs(width * sin) + Math.abs(height * cos),\n  };\n}\n\nfunction hasCollision(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  placed: PlacedWord[],\n  padding: number,\n) {\n  const left = x - padding;\n  const right = x + width + padding;\n  const top = y - padding;\n  const bottom = y + height + padding;\n\n  return placed.some((word) => {\n    const wLeft = word.box.x - padding;\n    const wRight = word.box.x + word.box.width + padding;\n    const wTop = word.box.y - padding;\n    const wBottom = word.box.y + word.box.height + padding;\n    return !(\n      right <= wLeft ||\n      left >= wRight ||\n      bottom <= wTop ||\n      top >= wBottom\n    );\n  });\n}\n\nfunction placeWords(\n  words: WordCandidate[],\n  enableRotate: boolean,\n  padding: number,\n  spiralStep: number,\n  radiusStep: number,\n): PlacedWord[] {\n  const placed: PlacedWord[] = [];\n  const rotationAngles = enableRotate ? DEFAULT_ROTATE_ANGLES : [0];\n  const maxAttempts = Math.max(1600, words.length * 28);\n\n  words.forEach((word, wordIndex) => {\n    const sizeBias = Math.max(word.width, word.height);\n    const angleOffset = wordIndex * GOLDEN_ANGLE;\n    let extraRadius = 0;\n    let placedWord: PlacedWord | null = null;\n\n    for (let attempt = 0; attempt < maxAttempts && !placedWord; attempt++) {\n      if (attempt === Math.floor(maxAttempts * 0.6)) {\n        // Gradually expand the search radius for dense layouts\n        extraRadius = sizeBias;\n      }\n\n      const theta = angleOffset + attempt * spiralStep;\n      const radius =\n        radiusStep * Math.sqrt(attempt + 1) + extraRadius + sizeBias * 0.25;\n      const centerX = radius * Math.cos(theta);\n      const centerY = radius * Math.sin(theta);\n\n      for (const angle of rotationAngles) {\n        const rotated = getRotatedSize(word.width, word.height, angle);\n        const x = centerX - rotated.width / 2;\n        const y = centerY - rotated.height / 2;\n        if (\n          !hasCollision(x, y, rotated.width, rotated.height, placed, padding)\n        ) {\n          placedWord = {\n            ...word,\n            angle,\n            centerX,\n            centerY,\n            box: { x, y, width: rotated.width, height: rotated.height },\n          };\n          break;\n        }\n      }\n    }\n\n    if (!placedWord) {\n      const fallbackAngle = rotationAngles[wordIndex % rotationAngles.length];\n      const farRadius = radiusStep * Math.sqrt(maxAttempts + 1) + sizeBias;\n      const theta = angleOffset;\n      const centerX = farRadius * Math.cos(theta);\n      const centerY = farRadius * Math.sin(theta);\n      const rotated = getRotatedSize(word.width, word.height, fallbackAngle);\n      placedWord = {\n        ...word,\n        angle: fallbackAngle,\n        centerX,\n        centerY,\n        box: {\n          x: centerX - rotated.width / 2,\n          y: centerY - rotated.height / 2,\n          width: rotated.width,\n          height: rotated.height,\n        },\n      };\n    }\n\n    placed.push(placedWord);\n  });\n\n  return placed;\n}\n\nexport interface ChartWordCloudProps extends BaseStructureProps {\n  minFontSize?: number;\n  maxFontSize?: number;\n  enableRotate?: boolean;\n  padding?: number;\n  spiralStep?: number;\n  radiusStep?: number;\n}\n\nexport const ChartWordCloud: ComponentType<ChartWordCloudProps> = (props) => {\n  const {\n    data,\n    options,\n    minFontSize = 16,\n    maxFontSize = 48,\n    enableRotate = true,\n    padding = 6,\n    spiralStep = 0.45,\n    radiusStep = 10,\n  } = props;\n  const { items = [] } = data;\n\n  const validItems = items\n    .map((datum, index) => ({ datum, index }))\n    .filter(({ datum }) => datum.label);\n\n  if (validItems.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Group>\n          <ItemsGroup />\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const values = validItems\n    .map(({ datum }) => datum.value)\n    .filter((v): v is number => typeof v === 'number');\n  const hasValues = values.length > 0;\n  const minValue = hasValues ? Math.min(...values) : 0;\n  const maxValue = hasValues ? Math.max(...values) : 0;\n  const sameValue = hasValues && minValue === maxValue;\n  const uniformSize = (minFontSize + maxFontSize) / 2;\n\n  const mapFontSize = (value?: number) => {\n    if (!hasValues || sameValue) return uniformSize;\n    if (value == null) return minFontSize;\n    const ratio = (value - minValue) / (maxValue - minValue || 1);\n    return minFontSize + ratio * (maxFontSize - minFontSize);\n  };\n\n  const words: WordCandidate[] = validItems\n    .map(({ datum, index }) => {\n      const fontSize = mapFontSize(datum.value);\n      const measured = getElementBounds(\n        <Text fontSize={fontSize} fontWeight=\"bold\">\n          {datum.label}\n        </Text>,\n      );\n      const color =\n        getPaletteColor(options, [index]) ||\n        getColorPrimary(options) ||\n        '#333333';\n      return {\n        label: datum.label as string,\n        value: datum.value,\n        color,\n        fontSize,\n        width: measured.width * 1.05,\n        height: measured.height,\n      };\n    })\n    .sort((a, b) => b.fontSize - a.fontSize);\n\n  const placedWords = placeWords(\n    words,\n    enableRotate,\n    padding,\n    spiralStep,\n    radiusStep,\n  );\n\n  const minX = Math.min(...placedWords.map((w) => w.box.x));\n  const minY = Math.min(...placedWords.map((w) => w.box.y));\n  const maxX = Math.max(...placedWords.map((w) => w.box.x + w.box.width));\n  const maxY = Math.max(...placedWords.map((w) => w.box.y + w.box.height));\n  const offsetX = -minX + padding;\n  const offsetY = -minY + padding;\n  const containerWidth = maxX - minX + padding * 2;\n  const containerHeight = maxY - minY + padding * 2;\n\n  const wordElements: JSXElement[] = placedWords.map((word, index) => {\n    const translateX = word.centerX - word.width / 2 + offsetX;\n    const translateY = word.centerY - word.height / 2 + offsetY;\n    const rotationOriginX = word.width / 2;\n    const rotationOriginY = word.height / 2;\n    const transform = `translate(${translateX}, ${translateY}) rotate(${word.angle}, ${rotationOriginX}, ${rotationOriginY})`;\n\n    return (\n      <Group transform={transform}>\n        <Text\n          width={word.width}\n          height={word.height}\n          fontSize={word.fontSize}\n          fontWeight=\"bold\"\n          alignHorizontal=\"center\"\n          alignVertical=\"middle\"\n          fill={word.color}\n          data-indexes={index}\n          data-element-type={ElementTypeEnum.ItemLabel}\n        >\n          {word.label}\n        </Text>\n      </Group>\n    );\n  });\n\n  return (\n    <ItemsGroup\n      id=\"infographic-container\"\n      width={containerWidth}\n      height={containerHeight}\n    >\n      {wordElements}\n    </ItemsGroup>\n  );\n};\n\nregisterStructure('chart-wordcloud', {\n  component: ChartWordCloud,\n  composites: [],\n});\n","import type { ComponentType } from '../../../../jsx';\n\nexport interface DividerProps {\n  x: number;\n  y: number;\n  colorPrimary: string;\n  colorPositive: string;\n  colorNegative: string;\n  colorBg: string;\n}\n\nconst dividerRegistry = new Map<string, ComponentType<DividerProps>>();\n\nexport const registerDivider = (\n  type: string,\n  component: ComponentType<DividerProps>,\n) => {\n  dividerRegistry.set(type, component);\n};\n\nexport const getDividerComponent = (\n  type?: string,\n): ComponentType<DividerProps> | null => {\n  if (!type) return null;\n  return dividerRegistry.get(type) ?? null;\n};\n","import type { ComponentType, TextProps } from '../../../../jsx';\nimport { Group, Text } from '../../../../jsx';\nimport { ShapesGroup } from '../../../components';\nimport { registerDivider, type DividerProps } from './types';\n\nexport const ProsConsArrow: ComponentType<DividerProps> = (props) => {\n  const { x, y, colorPositive, colorNegative, colorBg } = props;\n\n  const width = 200;\n  const height = 141;\n\n  const textAttrs: TextProps = {\n    width: 90,\n    height: 40,\n    fontSize: 22,\n    alignHorizontal: 'center',\n    alignVertical: 'middle',\n    fontWeight: 'bold',\n    fill: colorBg,\n  };\n\n  return (\n    <Group x={x} y={y} width={width} height={height}>\n      <ShapesGroup>\n        <path\n          d=\"M137 54C137 54.2903 137 54.5806 136.706 54.7742L108.614 86.0323H64.7619C64.4071 86.0204 64.0557 86.1043 63.7453 86.2747C63.4349 86.4452 63.1773 86.6959 63 87C63.0037 86.7447 63.1092 86.5012 63.2936 86.3226L91.3862 55.0645H135.238C135.593 55.0763 135.944 54.9925 136.255 54.822C136.565 54.6516 136.823 54.4009 137 54.0968V54Z\"\n          fill=\"#D9D9D9\"\n        />\n        <path\n          d=\"M39.3272 0.484649C39.6146 0.234929 39.9662 0.0736935 40.3407 0.0198929C40.7152 -0.0339076 41.0971 0.0219605 41.4414 0.180925C41.7857 0.33989 42.0783 0.595358 42.2846 0.917314C42.491 1.23927 42.6026 1.61434 42.6063 1.99848V14.8156H136.013C136.54 14.8156 137.045 15.0282 137.418 15.4068C137.791 15.7853 138 16.2987 138 16.834V53.166C138 53.7013 137.791 54.2147 137.418 54.5932C137.045 54.9718 136.54 55.1844 136.013 55.1844H42.6063V68.0015C42.6026 68.3857 42.491 68.7607 42.2846 69.0827C42.0783 69.4046 41.7857 69.6601 41.4414 69.8191C41.0971 69.9781 40.7152 70.0339 40.3407 69.9801C39.9662 69.9263 39.6146 69.7651 39.3272 69.5154L0.672847 36.5138C0.461378 36.3244 0.292014 36.0915 0.176005 35.8305C0.0599968 35.5695 0 35.2864 0 35C0 34.7136 0.0599968 34.4306 0.176005 34.1696C0.292014 33.9085 0.461378 33.6756 0.672847 33.4862L39.4265 0.484649H39.3272Z\"\n          fill={colorPositive}\n        />\n        <path\n          d=\"M157.394 73.0007C157.397 72.6162 157.509 72.2407 157.715 71.9183C157.922 71.596 158.214 71.3403 158.559 71.1811C158.903 71.022 159.285 70.9661 159.659 71.0199C160.034 71.0738 160.385 71.2352 160.673 71.4852L199.327 104.524C199.539 104.714 199.708 104.947 199.824 105.208C199.94 105.47 200 105.753 200 106.04C200 106.326 199.94 106.61 199.824 106.871C199.708 107.132 199.539 107.366 199.327 107.555L160.573 140.594C160.285 140.815 159.943 140.951 159.584 140.989C159.225 141.027 158.862 140.965 158.535 140.809C158.208 140.653 157.929 140.41 157.728 140.105C157.527 139.8 157.411 139.445 157.394 139.078V126.247H63.9874C63.4603 126.247 62.9548 126.034 62.5821 125.655C62.2094 125.276 62 124.762 62 124.226V87.8531C62 87.3172 62.2094 86.8032 62.5821 86.4242C62.9548 86.0453 63.4603 85.8324 63.9874 85.8324H157.394V73.0007Z\"\n          fill={colorNegative}\n        />\n      </ShapesGroup>\n      <Text x={40} y={15} {...textAttrs}>\n        Pros\n      </Text>\n      <Text x={70} y={85} {...textAttrs}>\n        Cons\n      </Text>\n    </Group>\n  );\n};\n\nregisterDivider('pros-cons-arrow', ProsConsArrow);\n","import type { ComponentType } from '../../../../jsx';\nimport { Group, Text, TextProps } from '../../../../jsx';\nimport { ShapesGroup } from '../../../components';\nimport { registerDivider, type DividerProps } from './types';\n\nexport const ProsConsFold: ComponentType<DividerProps> = (props) => {\n  const { x, y, colorPositive, colorNegative, colorBg } = props;\n\n  const width = 240;\n  const height = 300;\n\n  const textAttrs: TextProps = {\n    width: 85,\n    height: 30,\n    fontSize: 20,\n    alignHorizontal: 'center',\n    alignVertical: 'middle',\n    fontWeight: 'bold',\n    fill: colorBg,\n  };\n\n  return (\n    <Group x={x} y={y} width={width} height={height}>\n      <ShapesGroup>\n        <path\n          d=\"M136.914 38.7755C137.303 38.7733 137.683 38.6617 138.011 38.4534C138.339 38.2451 138.602 37.9485 138.77 37.5977C138.937 37.247 139.002 36.8561 138.957 36.4701C138.913 36.084 138.76 35.7183 138.517 35.415L110.741 0.982313C110.548 0.735138 110.301 0.535238 110.018 0.397762C109.736 0.260286 109.426 0.188841 109.112 0.188841C108.798 0.188841 108.488 0.260286 108.206 0.397762C107.924 0.535238 107.676 0.735138 107.483 0.982313L79.7069 35.415C79.4639 35.7183 79.3113 36.084 79.2667 36.4701C79.222 36.8561 79.2871 37.247 79.4545 37.5977C79.6219 37.9485 79.8847 38.2451 80.213 38.4534C80.5412 38.6617 80.9216 38.7733 81.3104 38.7755H92.8965C93.0517 57.1293 97.5517 64.9878 105.259 73.7252C107.017 75.7932 108.983 77.8612 111.103 80.1361C113.276 82.4626 122.121 88.9252 131.069 95.181C129.362 88.7701 128.172 81.2218 127.293 73.7252C125.224 55.9918 125.017 38.7755 125.017 38.7755H136.914Z\"\n          fill={colorPositive}\n          fillOpacity={0.4}\n        />\n        <path\n          d=\"M237.931 109.967C238.48 109.967 239.006 109.749 239.394 109.362C239.782 108.974 240 108.448 240 107.899V75.7932C240 75.2447 239.782 74.7187 239.394 74.3309C239.006 73.9431 238.48 73.7252 237.931 73.7252H127.241C128.172 81.2218 129.362 88.7701 131.069 95.181C138.182 100.171 145.337 105.1 152.534 109.967H237.931Z\"\n          fill={colorPositive}\n        />\n        <path\n          d=\"M152.586 109.967C152.586 109.967 141.724 102.678 131.069 95.181C124.122 90.5838 117.455 85.5772 111.103 80.1878C109.034 77.8612 107.017 75.7415 105.259 73.7252H48.6207V56.6639C48.6091 56.2797 48.4905 55.9063 48.2784 55.5857C48.0662 55.2651 47.7689 55.0099 47.4197 54.8488C47.0705 54.6878 46.6833 54.6271 46.3016 54.6738C45.9199 54.7204 45.5587 54.8725 45.2586 55.1129L1.50002 90.2694C1.26208 90.4633 1.07029 90.7078 0.938585 90.985C0.80688 91.2622 0.738558 91.5652 0.738558 91.8721C0.738558 92.179 0.80688 92.482 0.938585 92.7592C1.07029 93.0365 1.26208 93.2809 1.50002 93.4748L45.2586 128.631C45.5621 128.874 45.928 129.027 46.3142 129.071C46.7005 129.116 47.0914 129.051 47.4424 128.884C47.7933 128.716 48.09 128.454 48.2984 128.125C48.5068 127.797 48.6185 127.417 48.6207 127.029V109.967H152.586Z\"\n          fill=\"#BFBFBF\"\n        />\n        <path\n          d=\"M36.1034 88.9252H28.9655V93.785H36.1034V101.85H41.4828V93.785H48.6207V88.8735H41.4828V81.1701H36.1034V88.9252Z\"\n          fill=\"#404040\"\n        />\n        <path\n          d=\"M103.086 261.224C102.697 261.227 102.317 261.338 101.989 261.547C101.661 261.755 101.398 262.051 101.23 262.402C101.063 262.753 100.998 263.144 101.043 263.53C101.087 263.916 101.24 264.282 101.483 264.585L129.259 299.018C129.452 299.265 129.699 299.465 129.982 299.602C130.264 299.74 130.574 299.811 130.888 299.811C131.202 299.811 131.512 299.74 131.794 299.602C132.076 299.465 132.324 299.265 132.517 299.018L160.293 264.585C160.536 264.282 160.689 263.916 160.733 263.53C160.778 263.144 160.713 262.753 160.546 262.402C160.378 262.051 160.115 261.755 159.787 261.547C159.459 261.338 159.078 261.227 158.69 261.224H147.103C146.948 242.871 142.448 235.012 134.741 226.275C132.983 224.207 131.017 222.139 128.897 219.864C126.724 217.537 117.879 211.075 108.931 204.819C110.677 211.877 111.938 219.045 112.707 226.275C114.776 244.008 114.983 261.224 114.983 261.224H103.086Z\"\n          fill={colorNegative}\n          fillOpacity={0.4}\n        />\n        <path\n          d=\"M2.06897 190.033C1.52025 190.033 0.993996 190.251 0.605989 190.638C0.217983 191.026 5.00679e-06 191.552 5.00679e-06 192.101V224.207C5.00679e-06 224.755 0.217983 225.281 0.605989 225.669C0.993996 226.057 1.52025 226.275 2.06897 226.275H112.759C111.828 218.778 110.638 211.23 108.931 204.819C99.9827 198.512 90.931 192.411 88.2414 190.55C87.7206 190.204 87.1077 190.024 86.4828 190.033H2.06897Z\"\n          fill={colorNegative}\n        />\n        <path\n          d=\"M87.4138 190.033C87.4138 190.033 98.2759 197.322 108.931 204.819C115.878 209.416 122.545 214.423 128.897 219.812C130.966 222.139 132.983 224.258 134.741 226.275H191.379V243.336C191.391 243.72 191.51 244.094 191.722 244.414C191.934 244.735 192.231 244.99 192.58 245.151C192.929 245.312 193.317 245.373 193.698 245.326C194.08 245.28 194.441 245.128 194.741 244.887L238.5 209.731C238.738 209.537 238.93 209.292 239.061 209.015C239.193 208.738 239.261 208.435 239.261 208.128C239.261 207.821 239.193 207.518 239.061 207.241C238.93 206.964 238.738 206.719 238.5 206.525L194.741 171.369C194.438 171.126 194.072 170.973 193.686 170.929C193.3 170.884 192.909 170.949 192.558 171.116C192.207 171.284 191.91 171.546 191.702 171.875C191.493 172.203 191.382 172.583 191.379 172.971V190.033H87.4138Z\"\n          fill=\"#BFBFBF\"\n        />\n        <path\n          d=\"M192.414 205.905V210.816H212.069V205.905H192.414Z\"\n          fill=\"#404040\"\n        />\n      </ShapesGroup>\n      <Text x={153} y={77} {...textAttrs}>\n        PROS\n      </Text>\n      <Text x={2} y={193} {...textAttrs}>\n        CONS\n      </Text>\n    </Group>\n  );\n};\n\nregisterDivider('pros-cons-fold', ProsConsFold);\n","import tinycolor from 'tinycolor2';\nimport type { ComponentType } from '../../../../jsx';\nimport { Defs, Ellipse, Group } from '../../../../jsx';\nimport { DropShadow } from '../../../defs';\nimport { registerDivider, type DividerProps } from './types';\n\nexport const VSDivider: ComponentType<DividerProps> = (props) => {\n  const { x, y, colorPrimary, colorBg } = props;\n\n  // \n  const width = 100;\n  const height = 100;\n\n  const lightColor = tinycolor(colorPrimary).lighten(20).toString();\n\n  return (\n    <Group x={x} y={y} width={width} height={height}>\n      <Defs>\n        <filter\n          id=\"vs-divider-glow-filter\"\n          x=\"-50%\"\n          y=\"-50%\"\n          width=\"200%\"\n          height=\"200%\"\n        >\n          <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"8\" result=\"blur\" />\n        </filter>\n        <DropShadow />\n      </Defs>\n      <Ellipse\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={lightColor}\n        filter=\"url(#vs-divider-glow-filter)\"\n        opacity={0.6}\n      />\n      <Ellipse\n        x={0}\n        y={0}\n        width={width}\n        height={height}\n        fill={colorPrimary}\n        data-element-type=\"shape\"\n      />\n      <text\n        x={width / 2}\n        y={height / 2}\n        fontSize={Math.min(width, height) / 1.5}\n        fontWeight=\"bold\"\n        fill={colorBg}\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        filter=\"url(#drop-shadow)\"\n      >\n        VS\n      </text>\n    </Group>\n  );\n};\n\nregisterDivider('vs', VSDivider);\n","import type { ComponentType, JSXElement } from '../../../jsx';\nimport { getElementBounds, Group } from '../../../jsx';\nimport type { HierarchyDatum } from '../../../types';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../../components';\nimport { FlexLayout } from '../../layouts';\nimport { getPaletteColor, getThemeColors } from '../../utils';\nimport { registerStructure } from '../registry';\nimport type { BaseStructureProps } from '../types';\nimport './dividers';\nimport { getDividerComponent } from './dividers';\n\nexport interface CompareBinaryHorizontalProps extends BaseStructureProps {\n  gap?: number;\n  groupGap?: number;\n  opposite?: boolean;\n  flipped?: boolean;\n  dividerType?: string;\n}\n\nexport const CompareBinaryHorizontal: ComponentType<\n  CompareBinaryHorizontalProps\n> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    gap = 20,\n    groupGap = 20,\n    opposite = true,\n    flipped = true,\n    dividerType = 'vs',\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>\n            <BtnAdd indexes={[0]} x={0} y={0} />\n          </BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const leftRoot: HierarchyDatum = items[0] || { children: [] };\n  const rightRoot: HierarchyDatum = items[1] || { children: [] };\n  const leftChildren = leftRoot.children || [];\n  const rightChildren = rightRoot.children || [];\n\n  const colors = getThemeColors(options.themeConfig);\n\n  const itemBounds = getElementBounds(\n    <Item indexes={[0, 0]} data={data} datum={leftChildren[0] || {}} />,\n  );\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const Divider = getDividerComponent(dividerType);\n  const dividerBounds = Divider\n    ? getElementBounds(\n        <Divider\n          x={0}\n          y={0}\n          colorPrimary={colors.colorPrimary}\n          colorBg={colors.colorBg}\n          colorPositive={colors.colorPrimary}\n          colorNegative={colors.colorPrimary}\n        />,\n      )\n    : { width: 0, height: 0 };\n\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n\n  const maxChildren = Math.max(leftChildren.length, rightChildren.length);\n  const itemsHeight =\n    maxChildren > 0 ? maxChildren * (itemBounds.height + gap) - gap : 0;\n\n  const btnSpacing = 5;\n  const topOffset =\n    maxChildren > 0 ? gap / 2 + btnBounds.height / 2 : btnBounds.height / 2;\n\n  const leftX = btnBounds.width + btnSpacing;\n\n  // groupGap  divider \n  //  = groupGap + divider + groupGap\n  const dividerX = leftX + itemBounds.width + groupGap;\n  const rightX = dividerX + dividerBounds.width + groupGap;\n\n  const leftPositionH = flipped ? 'flipped' : opposite ? 'normal' : 'normal';\n  const rightPositionH = flipped ? 'normal' : opposite ? 'flipped' : 'normal';\n\n  leftChildren.forEach((child, index) => {\n    const childY = topOffset + index * (itemBounds.height + gap);\n    const indexes = [0, index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={child}\n        data={data}\n        x={leftX}\n        y={childY}\n        positionH={leftPositionH}\n        positionV=\"middle\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={leftX - btnBounds.width - btnSpacing}\n        y={childY + (itemBounds.height - btnBounds.height) / 2}\n      />,\n    );\n\n    if (index < leftChildren.length - 1) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[0, index + 1]}\n          x={leftX + (itemBounds.width - btnBounds.width) / 2}\n          y={childY + itemBounds.height + gap / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n  });\n\n  if (leftChildren.length > 0) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[0, 0]}\n        x={leftX + (itemBounds.width - btnBounds.width) / 2}\n        y={topOffset - gap / 2 - btnBounds.height / 2}\n      />,\n    );\n    const lastChildY =\n      topOffset + (leftChildren.length - 1) * (itemBounds.height + gap);\n    btnElements.push(\n      <BtnAdd\n        indexes={[0, leftChildren.length]}\n        x={leftX + (itemBounds.width - btnBounds.width) / 2}\n        y={lastChildY + itemBounds.height + gap / 2 - btnBounds.height / 2}\n      />,\n    );\n  } else if (items.length >= 1) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[0, 0]}\n        x={leftX + (itemBounds.width - btnBounds.width) / 2}\n        y={topOffset - btnBounds.height / 2}\n      />,\n    );\n  }\n\n  rightChildren.forEach((child, index) => {\n    const childY = topOffset + index * (itemBounds.height + gap);\n    const indexes = [1, index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={child}\n        data={data}\n        x={rightX}\n        y={childY}\n        positionH={rightPositionH}\n        positionV=\"middle\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={rightX + itemBounds.width + btnSpacing}\n        y={childY + (itemBounds.height - btnBounds.height) / 2}\n      />,\n    );\n\n    if (index < rightChildren.length - 1) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[1, index + 1]}\n          x={rightX + (itemBounds.width - btnBounds.width) / 2}\n          y={childY + itemBounds.height + gap / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n  });\n\n  if (rightChildren.length > 0) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[1, 0]}\n        x={rightX + (itemBounds.width - btnBounds.width) / 2}\n        y={topOffset - gap / 2 - btnBounds.height / 2}\n      />,\n    );\n    const lastChildY =\n      topOffset + (rightChildren.length - 1) * (itemBounds.height + gap);\n    btnElements.push(\n      <BtnAdd\n        indexes={[1, rightChildren.length]}\n        x={rightX + (itemBounds.width - btnBounds.width) / 2}\n        y={lastChildY + itemBounds.height + gap / 2 - btnBounds.height / 2}\n      />,\n    );\n  } else if (items.length >= 2) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[1, 0]}\n        x={rightX + (itemBounds.width - btnBounds.width) / 2}\n        y={topOffset - btnBounds.height / 2}\n      />,\n    );\n  }\n\n  if (items.length < 2) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[1]}\n        x={rightX + (itemBounds.width - btnBounds.width) / 2}\n        y={topOffset + (itemsHeight - btnBounds.height) / 2}\n      />,\n    );\n  }\n\n  if (Divider) {\n    decorElements.push(\n      <Divider\n        x={dividerX}\n        y={topOffset + (itemsHeight - dividerBounds.height) / 2}\n        colorPrimary={colors.colorPrimary}\n        colorBg={colors.colorBg}\n        colorPositive={getPaletteColor(options, [0]) || colors.colorPrimary}\n        colorNegative={getPaletteColor(options, [1]) || colors.colorPrimary}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('compare-binary-horizontal', {\n  component: CompareBinaryHorizontal,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Ellipse, getElementBounds, Group, Rect } from '../../jsx';\nimport type { CompareData } from '../../types';\nimport { ItemsGroup, ShapesGroup } from '../components';\nimport { LinearGradient } from '../defs';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface CompareHierarchyLeftRightProps extends BaseStructureProps {\n  /**  */\n  gap?: number;\n  /**  */\n  groupGap?: number;\n  /**  */\n  surround?: boolean;\n  /**  */\n  decoration?: 'none' | 'dot-line' | 'arc-dot' | 'split-line';\n  /**  */\n  flipRoot?: boolean;\n  /**  */\n  flipLeaf?: boolean;\n}\n\nconst decorationWidthMap = {\n  none: 5,\n  'dot-line': 100,\n  'arc-dot': 20,\n  'split-line': 5,\n};\n\nexport const CompareHierarchyLeftRight: ComponentType<\n  CompareHierarchyLeftRightProps\n> = (props) => {\n  const {\n    Title,\n    Items,\n    data,\n    gap = 20,\n    groupGap = 0,\n    decoration = 'none',\n    surround = true,\n    flipRoot = false,\n    flipLeaf = false,\n    options,\n  } = props;\n  const [RootItem, Item] = Items;\n  const { title, desc, items = [] } = data as CompareData;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const rootItemContent = (\n    <RootItem\n      indexes={[0]}\n      data={data}\n      datum={data.items[0]}\n      themeColors={{} as any}\n    />\n  );\n  const itemContent = (\n    <Item\n      indexes={[0, 0]}\n      data={data}\n      datum={items[0]?.children?.[0] || items[2]}\n    />\n  );\n\n  const rootItemBounds = getElementBounds(rootItemContent);\n  const itemBounds = getElementBounds(itemContent);\n\n  const itemElements: JSXElement[] = [];\n  const decoElements: JSXElement[] = [];\n\n  const [leftRoot, rightRoot] = items;\n  const leftItems = leftRoot?.children || [];\n  const rightItems = rightRoot?.children || [];\n\n  const totalHeight = Math.max(\n    rootItemBounds.height,\n    leftItems.length * (itemBounds.height + gap) - gap,\n    rightItems.length * (itemBounds.height + gap) - gap,\n  );\n\n  const decorationWidth = decorationWidthMap[decoration] || 0;\n  // create root items\n  const leftRootX = itemBounds.width + decorationWidth;\n  const rightRootX = leftRootX + rootItemBounds.width + groupGap;\n  const rootY = (totalHeight - rootItemBounds.height) / 2;\n  if (leftRoot) {\n    itemElements.push(\n      <RootItem\n        indexes={[0]}\n        x={leftRootX}\n        y={rootY}\n        data={data}\n        datum={leftRoot}\n        positionH={flipRoot ? 'normal' : 'flipped'}\n      />,\n    );\n  }\n  if (rightRoot) {\n    itemElements.push(\n      <RootItem\n        indexes={[1]}\n        x={rightRootX}\n        y={rootY}\n        data={data}\n        datum={rightRoot}\n        positionH={flipRoot ? 'flipped' : 'normal'}\n      />,\n    );\n  }\n\n  const addDecoElement = (\n    side: 'left' | 'right',\n    pos: [number, number],\n    indexes: number[],\n  ) => {\n    if (decoration === 'none') return;\n    const [x, y] = pos;\n\n    const currentColor = getPaletteColor(options, indexes);\n    const props: DecorationProps = {\n      x,\n      y,\n      width: itemBounds.width,\n      height: itemBounds.height,\n      side,\n      color: currentColor || '#ccc',\n      colorBg: options.themeConfig.colorBg || '#fff',\n    };\n    if (decoration === 'split-line') {\n      decoElements.push(<SplitLine {...props} />);\n    } else if (decoration === 'dot-line') {\n      decoElements.push(<DotLine {...props} />);\n    }\n  };\n\n  if (surround) {\n    const diameter = 2 * rootItemBounds.width + groupGap + itemBounds.width;\n    const radius = diameter / 2 + decorationWidth;\n\n    const circleCenterX = leftRootX + rootItemBounds.width + groupGap / 2;\n    const circleCenterY = rootY + rootItemBounds.height / 2;\n\n    leftItems.forEach((item, index) => {\n      const leftItemsHeight =\n        leftItems.length * (itemBounds.height + gap) - gap;\n      const leftStartY = (totalHeight - leftItemsHeight) / 2;\n      const itemY = leftStartY + index * (itemBounds.height + gap);\n\n      const itemCenterY = itemY + itemBounds.height / 2;\n      const dy = itemCenterY - circleCenterY;\n\n      const dxSq = Math.max(0, radius * radius - dy * dy);\n      const xCenter = circleCenterX - Math.sqrt(dxSq);\n      const leftX = xCenter - itemBounds.width / 2;\n\n      itemElements.push(\n        <Item\n          indexes={[0, index]}\n          datum={item}\n          data={data}\n          x={leftX}\n          y={itemY}\n          positionH={flipLeaf ? 'flipped' : 'normal'}\n        />,\n      );\n      addDecoElement('left', [leftX, itemY], [0, index]);\n    });\n\n    rightItems.forEach((item, index) => {\n      const rightItemsHeight =\n        rightItems.length * (itemBounds.height + gap) - gap;\n      const rightStartY = (totalHeight - rightItemsHeight) / 2;\n      const itemY = rightStartY + index * (itemBounds.height + gap);\n\n      const itemCenterY = itemY + itemBounds.height / 2;\n      const dy = itemCenterY - circleCenterY;\n\n      const dxSq = Math.max(0, radius * radius - dy * dy);\n      const xCenter = circleCenterX + Math.sqrt(dxSq);\n      const rightX = xCenter - itemBounds.width / 2;\n\n      itemElements.push(\n        <Item\n          indexes={[1, index]}\n          datum={item}\n          data={data}\n          x={rightX}\n          y={itemY}\n          positionH={flipLeaf ? 'normal' : 'flipped'}\n        />,\n      );\n      addDecoElement('right', [rightX, itemY], [1, index]);\n    });\n  } else {\n    // create left items\n    leftItems.forEach((item, index) => {\n      const leftItemsHeight =\n        leftItems.length * (itemBounds.height + gap) - gap;\n      const leftStartY = (totalHeight - leftItemsHeight) / 2;\n      const itemY = leftStartY + index * (itemBounds.height + gap);\n      const indexes = [0, index];\n      const leftX = 0;\n      itemElements.push(\n        <Item\n          indexes={indexes}\n          datum={item}\n          data={data}\n          x={leftX}\n          y={itemY}\n          positionH={flipLeaf ? 'flipped' : 'normal'}\n        />,\n      );\n      addDecoElement('left', [leftX, itemY], indexes);\n    });\n\n    // create right items\n    rightItems.forEach((item, index) => {\n      const rightItemsHeight =\n        rightItems.length * (itemBounds.height + gap) - gap;\n      const rightStartY = (totalHeight - rightItemsHeight) / 2;\n      const itemY = rightStartY + index * (itemBounds.height + gap);\n      const indexes = [1, index];\n      const rightX = rightRootX + rootItemBounds.width + decorationWidth;\n      itemElements.push(\n        <Item\n          indexes={indexes}\n          datum={item}\n          data={data}\n          x={rightX}\n          y={itemY}\n          positionH={flipLeaf ? 'normal' : 'flipped'}\n        />,\n      );\n      addDecoElement('right', [rightX, itemY], indexes);\n    });\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <Group width={0} height={0}>\n          {decoElements}\n        </Group>\n      </Group>\n    </FlexLayout>\n  );\n};\n\ninterface DecorationProps {\n  x: number;\n  y: number;\n  side: 'left' | 'right';\n  width: number;\n  height: number;\n  color: string;\n  colorBg: string;\n}\n\nconst SplitLine = (props: DecorationProps) => {\n  const { x, y, width, height, color, colorBg, side } = props;\n  const lineY = y + height;\n  const linearGradientId = `split-line-linear-gradient-${side}`;\n\n  return (\n    <>\n      <Defs>\n        <LinearGradient\n          id={linearGradientId}\n          startColor={color}\n          stopColor={colorBg}\n          direction={side === 'left' ? 'left-right' : 'right-left'}\n        />\n      </Defs>\n      <Rect\n        x={x}\n        y={lineY}\n        width={width}\n        height={1}\n        fill={`url(#${linearGradientId})`}\n      />\n    </>\n  );\n};\n\nconst DotLine = (props: DecorationProps) => {\n  const { x, y, side, width, height, color, colorBg } = props;\n  const radius = 6;\n  const innerRadius = radius / 3;\n  const d = radius * 2;\n  const innerD = innerRadius * 2;\n\n  const gap = 5;\n\n  const cx = side === 'left' ? x + width + radius + gap : x - radius - gap;\n  const cy = y + height / 2;\n\n  const innerX = cx - innerRadius;\n  const innerY = cy - innerRadius;\n\n  const lineLength = 80;\n  const dx = side === 'left' ? lineLength : -lineLength;\n\n  const linearGradientId = `dot-line-linear-gradient-${side}`;\n\n  return (\n    <Group>\n      <Defs>\n        <LinearGradient\n          id={linearGradientId}\n          startColor={color}\n          stopColor={colorBg}\n          direction={side === 'left' ? 'left-right' : 'right-left'}\n        />\n      </Defs>\n      <ShapesGroup>\n        <Ellipse\n          x={cx - radius}\n          y={cy - radius}\n          width={d}\n          height={d}\n          fill=\"none\"\n          strokeWidth={1}\n          stroke={color}\n        />\n        <Ellipse\n          x={innerX}\n          y={innerY}\n          width={innerD}\n          height={innerD}\n          fill={color}\n        />\n      </ShapesGroup>\n\n      <Rect\n        x={side === 'left' ? cx : cx + dx}\n        y={cy - 0.5}\n        width={lineLength}\n        height={1}\n        fill={`url(#${linearGradientId})`}\n      />\n    </Group>\n  );\n};\n\nregisterStructure('compare-hierarchy-left-right', {\n  component: CompareHierarchyLeftRight,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Rect } from '../../jsx';\nimport { CompareData } from '../../types';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface CompareHierarchyRowProps extends BaseStructureProps {\n  gap?: number;\n  itemGap?: number;\n  columnWidth?: number;\n  itemPadding?: number;\n  showColumnBackground?: boolean;\n  columnBackgroundAlpha?: number;\n}\n\n/**\n * \n * \n * \n */\nexport const CompareHierarchyRow: ComponentType<CompareHierarchyRowProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Items,\n    data,\n    gap = 0,\n    itemGap = 20,\n    columnWidth = 280,\n    itemPadding = 5,\n    showColumnBackground = true,\n    columnBackgroundAlpha = 0.08,\n    options,\n  } = props;\n  const [RootItem, Item] = Items;\n  const { title, desc, items = [] } = data as CompareData;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const palette = getPaletteColors(options);\n\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n\n  const childItemWidth = columnWidth - itemPadding * 2;\n\n  const rootItemBounds = getElementBounds(\n    <RootItem indexes={[0]} data={data} datum={items[0]} width={columnWidth} />,\n  );\n  const childItemBounds = getElementBounds(\n    <Item\n      indexes={[0, 0]}\n      data={data}\n      datum={items[0]?.children?.[0] || {}}\n      width={childItemWidth}\n    />,\n  );\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const maxChildrenCount = Math.max(\n    ...items.map((item) => item.children?.length || 0),\n    0,\n  );\n\n  const columnHeight =\n    rootItemBounds.height +\n    itemGap +\n    maxChildrenCount * (childItemBounds.height + itemGap);\n\n  items.forEach((rootItem, rootIndex) => {\n    const { children = [] } = rootItem;\n\n    const columnX = rootIndex * (columnWidth + gap);\n    const rootX = columnX;\n    const rootY = 0;\n\n    if (showColumnBackground) {\n      const baseColor = palette[rootIndex % palette.length];\n      const bgColor = `${baseColor}${Math.round(columnBackgroundAlpha * 255)\n        .toString(16)\n        .padStart(2, '0')}`;\n\n      itemElements.push(\n        <Rect\n          x={columnX}\n          y={rootY}\n          width={columnWidth}\n          height={columnHeight}\n          fill={bgColor}\n          rx={0}\n          ry={0}\n          data-element-type=\"shape\"\n        />,\n      );\n    }\n\n    itemElements.push(\n      <RootItem\n        indexes={[rootIndex]}\n        datum={rootItem}\n        data={data}\n        x={rootX}\n        y={rootY}\n        width={columnWidth}\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={[rootIndex]}\n        x={rootX + rootItemBounds.width - btnBounds.width - 10}\n        y={rootY + 10}\n      />,\n    );\n\n    if (rootIndex === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[rootIndex]}\n          x={rootX + rootItemBounds.width / 2 - btnBounds.width / 2}\n          y={rootY - btnBounds.height - 5}\n        />,\n      );\n    }\n\n    const childStartY = rootY + rootItemBounds.height + itemGap;\n\n    children.forEach((child, childIndex) => {\n      const childY =\n        childStartY + childIndex * (childItemBounds.height + itemGap);\n      const childX = rootX + itemPadding;\n      const indexes = [rootIndex, childIndex];\n\n      itemElements.push(\n        <Item\n          indexes={indexes}\n          datum={child}\n          data={data}\n          x={childX}\n          y={childY}\n          width={childItemWidth}\n        />,\n      );\n\n      btnElements.push(\n        <BtnRemove\n          indexes={indexes}\n          x={childX + childItemBounds.width - btnBounds.width - 10}\n          y={childY + (childItemBounds.height - btnBounds.height) / 2}\n        />,\n      );\n\n      if (childIndex < children.length - 1) {\n        btnElements.push(\n          <BtnAdd\n            indexes={[rootIndex, childIndex + 1]}\n            x={childX + childItemBounds.width / 2 - btnBounds.width / 2}\n            y={childY + childItemBounds.height - btnBounds.height / 2}\n          />,\n        );\n      }\n    });\n\n    const childX = rootX + itemPadding;\n\n    if (children.length > 0) {\n      const lastChildY =\n        childStartY + children.length * (childItemBounds.height + itemGap);\n      btnElements.push(\n        <BtnAdd\n          indexes={[rootIndex, children.length]}\n          x={childX + childItemBounds.width / 2 - btnBounds.width / 2}\n          y={lastChildY - childItemBounds.height / 2 - btnBounds.height / 2}\n        />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={[rootIndex, 0]}\n          x={childX + childItemBounds.width / 2 - btnBounds.width / 2}\n          y={childStartY - itemGap / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n  });\n\n  if (items.length > 0) {\n    const lastColumnX = items.length * (columnWidth + gap);\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={lastColumnX - gap / 2 - btnBounds.width / 2}\n        y={-btnBounds.height - 5}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('compare-hierarchy-row', {\n  component: CompareHierarchyRow,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Path } from '../../jsx';\nimport { ItemsGroup, ShapesGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface QuadrantProps extends BaseStructureProps {\n  /**  */\n  quadrantWidth?: number;\n  /**  */\n  quadrantHeight?: number;\n  /**  */\n  showAxis?: boolean;\n  /** true */\n  dashedAxis?: boolean;\n}\n\n// \nconst QUADRANT_CONFIG = {\n  axisColor: '#D9D9D9',\n  axisArrowSize: 5,\n  strokeWidth: 1,\n  dashArray: '4,2', // 4px2px\n  defaultExtraSpacing: 20, // \n} as const;\n\nexport const Quadrant: ComponentType<QuadrantProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    quadrantWidth: userQuadrantWidth,\n    quadrantHeight: userQuadrantHeight,\n    showAxis = true,\n    dashedAxis = true,\n  } = props;\n\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  // 4\n  const quadrantItems = Array.from({ length: 4 }, (_, i) => items[i]);\n\n  //  - \n  const itemBounds = quadrantItems[0]\n    ? getElementBounds(\n        <Item indexes={[0]} data={data} datum={quadrantItems[0]} />,\n      )\n    : { width: 0, height: 0 };\n\n  //  Item \n  //  Item  Item \n  const quadrantWidth =\n    userQuadrantWidth ?? itemBounds.width + QUADRANT_CONFIG.defaultExtraSpacing;\n  const quadrantHeight =\n    userQuadrantHeight ??\n    itemBounds.height + QUADRANT_CONFIG.defaultExtraSpacing;\n\n  //  - \n  const quadrantPositions = calculateQuadrantPositions(\n    quadrantWidth,\n    quadrantHeight,\n    itemBounds,\n  );\n\n  // itemElements\n  const itemElements = quadrantItems\n    .map((item, index) => {\n      if (!item) return null;\n\n      const position = quadrantPositions[index];\n      return (\n        <Item\n          indexes={[index]}\n          datum={item}\n          data={data}\n          x={position.x}\n          y={position.y}\n          positionH={index % 2 ? 'flipped' : 'normal'}\n          positionV={index < 2 ? 'normal' : 'flipped'}\n        />\n      );\n    })\n    .filter(Boolean); //  null \n\n  // createAxisElements\n  const axisElements = createAxisElements(\n    quadrantWidth,\n    quadrantHeight,\n    showAxis,\n    dashedAxis,\n  );\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={quadrantWidth * 2} height={quadrantHeight * 2}>\n        {axisElements}\n        <ItemsGroup>{itemElements}</ItemsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\n// \nfunction createAxisElements(\n  quadrantWidth: number,\n  quadrantHeight: number,\n  showAxis: boolean,\n  dashedAxis: boolean,\n): JSXElement[] {\n  if (!showAxis) return [];\n\n  const { axisColor, axisArrowSize, strokeWidth, dashArray } = QUADRANT_CONFIG;\n  const centerX = quadrantWidth;\n  const centerY = quadrantHeight;\n  const maxX = quadrantWidth * 2;\n  const maxY = quadrantHeight * 2;\n  const strokeDasharray = dashedAxis ? dashArray : undefined;\n\n  return [\n    // X \n    <Path\n      d={`M 0 ${centerY} L ${maxX} ${centerY}`}\n      stroke={axisColor}\n      strokeWidth={strokeWidth}\n      strokeDasharray={strokeDasharray}\n      fill=\"none\"\n      data-element-type=\"shape\"\n    />,\n    // X \n    <ShapesGroup transform={`translate(${maxX}, ${centerY})`}>\n      <Path\n        d={`M 0 0 L ${-axisArrowSize} ${-axisArrowSize / 2}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n      <Path\n        d={`M 0 0 L ${-axisArrowSize} ${axisArrowSize / 2}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n    </ShapesGroup>,\n    // X \n    <ShapesGroup transform={`translate(0, ${centerY})`}>\n      <Path\n        d={`M 0 0 L ${axisArrowSize} ${-axisArrowSize / 2}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n      <Path\n        d={`M 0 0 L ${axisArrowSize} ${axisArrowSize / 2}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n    </ShapesGroup>,\n    // Y \n    <Path\n      d={`M ${centerX} 0 L ${centerX} ${maxY}`}\n      stroke={axisColor}\n      strokeWidth={strokeWidth}\n      strokeDasharray={strokeDasharray}\n      fill=\"none\"\n      data-element-type=\"shape\"\n    />,\n    // Y \n    <ShapesGroup transform={`translate(${centerX}, 0)`}>\n      <Path\n        d={`M 0 0 L ${-axisArrowSize / 2} ${axisArrowSize}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n      <Path\n        d={`M 0 0 L ${axisArrowSize / 2} ${axisArrowSize}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n    </ShapesGroup>,\n    // Y \n    <ShapesGroup transform={`translate(${centerX}, ${maxY})`}>\n      <Path\n        d={`M 0 0 L ${-axisArrowSize / 2} ${-axisArrowSize}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n      <Path\n        d={`M 0 0 L ${axisArrowSize / 2} ${-axisArrowSize}`}\n        stroke={axisColor}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n    </ShapesGroup>,\n  ];\n}\n\n//  - \nfunction calculateQuadrantPositions(\n  quadrantWidth: number,\n  quadrantHeight: number,\n  itemBounds: { width: number; height: number },\n): Array<{ x: number; y: number }> {\n  //  item \n  const centerX = quadrantWidth / 2;\n  const centerY = quadrantHeight / 2;\n\n  return [\n    {\n      x: centerX - itemBounds.width / 2,\n      y: centerY - itemBounds.height / 2,\n    }, //  ()\n    {\n      x: quadrantWidth + centerX - itemBounds.width / 2,\n      y: centerY - itemBounds.height / 2,\n    }, //  ()\n    {\n      x: centerX - itemBounds.width / 2,\n      y: quadrantHeight + centerY - itemBounds.height / 2,\n    }, //  ()\n    {\n      x: quadrantWidth + centerX - itemBounds.width / 2,\n      y: quadrantHeight + centerY - itemBounds.height / 2,\n    }, //  ()\n  ];\n}\n\nregisterStructure('quadrant', {\n  component: Quadrant,\n  composites: ['title', 'item'],\n});\n","function t(t,e,i,n=\"height\"){const h=t[n],r=e[n];return\"center\"===i?(h+r)/2:t.height}const e=Object.assign,i={getId:t=>t.id||t.name,getPreH:t=>t.preH||0,getPreV:t=>t.preV||0,getHGap:t=>t.hgap||18,getVGap:t=>t.vgap||18,getChildren:t=>t.children,getHeight:t=>t.height||36,getWidth(t){const e=t.label||\" \";return t.width||18*e.split(\"\").length}};class n{constructor(t,e){if(this.x=0,this.y=0,this.depth=0,this.children=[],this.hgap=0,this.vgap=0,t instanceof n||\"x\"in t&&\"y\"in t&&\"children\"in t){const e=t;return this.data=e.data,this.id=e.id,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.depth=e.depth,this.children=e.children,this.parent=e.parent,this.hgap=e.hgap,this.vgap=e.vgap,this.preH=e.preH,void(this.preV=e.preV)}this.data=t;const i=e.getHGap(t),h=e.getVGap(t);this.preH=e.getPreH(t),this.preV=e.getPreV(t),this.width=e.getWidth(t),this.height=e.getHeight(t),this.width+=this.preH,this.height+=this.preV,this.id=e.getId(t),this.addGap(i,h)}isRoot(){return 0===this.depth}isLeaf(){return 0===this.children.length}addGap(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e}eachNode(t){let e,i=[this];for(;e=i.shift();)t(e),i=e.children.concat(i)}DFTraverse(t){this.eachNode(t)}BFTraverse(t){let e,i=[this];for(;e=i.shift();)t(e),i=i.concat(e.children)}getBoundingBox(){const t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(e=>{t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t}translate(t=0,e=0){this.eachNode(i=>{i.x+=t,i.y+=e,i.x+=i.preH,i.y+=i.preV})}right2left(){const t=this.getBoundingBox();this.eachNode(e=>{e.x=e.x-2*(e.x-t.left)-e.width}),this.translate(t.width,0)}bottom2top(){const t=this.getBoundingBox();this.eachNode(e=>{e.y=e.y-2*(e.y-t.top)-e.height}),this.translate(0,t.height)}}function h(t,h={},r){h=e({},i,h);const o=new n(t,h),s=[o];let c;if(!r&&!t.collapsed)for(;c=s.shift();)if(!c.data.collapsed){const t=h.getChildren(c.data),e=t?t.length:0;if(c.children=new Array(e),t&&e)for(let i=0;i<e;i++){const e=new n(t[i],h);c.children[i]=e,s.push(e),e.parent=c,e.depth=c.depth+1}}return o}class r{constructor(t,e={}){this.options=e,this.rootNode=h(t,e)}execute(){throw new Error(\"please override this method\")}}let o=class t{constructor(t=0,e=0,i=0,n=[]){this.x=0,this.prelim=0,this.mod=0,this.shift=0,this.change=0,this.tl=null,this.tr=null,this.el=null,this.er=null,this.msel=0,this.mser=0,this.w=t||0,this.h=e||0,this.y=i||0,this.c=n||[],this.cs=n.length}static fromNode(e,i){if(!e)return null;const n=[];return e.children.forEach(e=>{const h=t.fromNode(e,i);h&&n.push(h)}),i?new t(e.height,e.width,e.x,n):new t(e.width,e.height,e.y,n)}};function s(t,e,i){i?t.y+=e:t.x+=e,t.children.forEach(t=>{s(t,e,i)})}function c(t,e){let i=e?t.y:t.x;return t.children.forEach(t=>{i=Math.min(c(t,e),i)}),i}function l(t,e){s(t,-c(t,e),e)}function a(t,e,i){i?e.y=t.x:e.x=t.x,t.c.forEach((t,n)=>{a(t,e.children[n],i)})}function d(t,e,i=0){e?(t.x=i,i+=t.width):(t.y=i,i+=t.height),t.children.forEach(t=>{d(t,e,i)})}function f(t,e={}){const i=e.isHorizontal;function n(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function h(t,e,i){let n=t.c[e-1],h=n.mod,o=t.c[e],l=o.mod;for(;null!==n&&null!==o;){i&&f(n)>i.low&&(i=i.nxt);const a=h+n.prelim+n.w-(l+o.prelim);a>0&&(l+=a,i&&r(t,e,i.index,a));const d=f(n),g=f(o);d<=g&&(n=c(n),null!==n&&(h+=n.mod)),d>=g&&(o=s(o),null!==o&&(l+=o.mod))}!n&&o?function(t,e,i,n){const h=t.c[0].el;h.tl=i;const r=n-i.mod-t.c[0].msel;h.mod+=r,h.prelim-=r,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,l):n&&!o&&function(t,e,i,n){const h=t.c[e].er;h.tr=i;const r=n-i.mod-t.c[e].mser;h.mod+=r,h.prelim-=r,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,n,h)}function r(t,e,i,n){t.c[e].mod+=n,t.c[e].msel+=n,t.c[e].mser+=n,function(t,e,i,n){if(i!==e-1){const h=e-i;t.c[i+1].shift+=n/h,t.c[e].shift-=n/h,t.c[e].change-=n-n/h}}(t,e,i,n)}function s(t){return 0===t.cs?t.tl:t.c[0]}function c(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function f(t){return t.y+t.h}function g(t,e,i){for(;null!==i&&t>=i.low;)i=i.nxt;return{low:t,index:e,nxt:i}}d(t,i);const u=o.fromNode(t,i);return u&&(!function t(e){if(0===e.cs)return void n(e);t(e.c[0]);let i=g(f(e.c[0].el),0,null);for(let n=1;n<e.cs;++n){t(e.c[n]);const r=f(e.c[n].er);h(e,n,i),i=g(r,n,i)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(e),n(e)}(u),function t(e,i){i+=e.mod,e.x=e.prelim+i,function(t){let e=0,i=0;for(let n=0;n<t.cs;n++)e+=t.c[n].shift,i+=e+t.c[n].change,t.c[n].mod+=i}(e);for(let n=0;n<e.cs;n++)t(e.c[n],i)}(u,0),a(u,t,i),l(t,i)),t}function g(t,e){const i=h(t.data,e,!0),n=h(t.data,e,!0),r=t.children.length,o=Math.round(r/2),s=e.getSide||function(t,e){return e<o?\"right\":\"left\"};for(let h=0;h<r;h++){const e=t.children[h];\"right\"===s(e,h)?n.children.push(e):i.children.push(e)}return i.eachNode(t=>{t.isRoot()||(t.side=\"left\")}),n.eachNode(t=>{t.isRoot()||(t.side=\"right\")}),{left:i,right:n}}const u=[\"LR\",\"RL\",\"TB\",\"BT\",\"H\",\"V\"],p=[\"LR\",\"RL\",\"H\"],x=u[0];function y(t,e,i){const n=e.direction||x;if(e.isHorizontal=(t=>p.indexOf(t)>-1)(n),n&&-1===u.indexOf(n))throw new TypeError(`Invalid direction: ${n}`);if(n===u[0])i(t,e);else if(n===u[1])i(t,e),t.right2left();else if(n===u[2])i(t,e);else if(n===u[3])i(t,e),t.bottom2top();else if(n===u[4]||n===u[5]){const{left:n,right:h}=g(t,e);i(n,e),i(h,e),e.isHorizontal?n.right2left():n.bottom2top(),h.translate(n.x-h.x,n.y-h.y),t.x=n.x,t.y=h.y;const r=t.getBoundingBox();e.isHorizontal?r.top<0&&t.translate(0,-r.top):r.left<0&&t.translate(-r.left,0)}let h=e.fixedRoot;return void 0===h&&(h=!0),h&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),function(t,e){if(e.radial){const[i,n]=e.isHorizontal?[\"x\",\"y\"]:[\"y\",\"x\"],h={x:1/0,y:1/0},r={x:-1/0,y:-1/0};let o=0;t.DFTraverse(t=>{o++;const{x:e,y:i}=t;h.x=Math.min(h.x,e),h.y=Math.min(h.y,i),r.x=Math.max(r.x,e),r.y=Math.max(r.y,i)});const s=r[n]-h[n];if(0===s)return;const c=2*Math.PI/o;t.DFTraverse(e=>{const r=e[n],o=h[n],l=e[i],a=t[i],d=(r-o)/s*(2*Math.PI-c)+c,f=l-a;e.x=Math.cos(d)*f,e.y=Math.sin(d)*f})}}(t,e),t}class m extends r{execute(){return y(this.rootNode,this.options,f)}}const w={};function H(t,i){const n=e({},w,i);return new m(t,n).execute()}class N{constructor(t=0,e=[]){this.x=0,this.y=0,this.leftChild=null,this.rightChild=null,this.isLeaf=!1,this.height=t,this.children=e}}const v={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function M(t,e,i){i?(e.x=t.x,e.y=t.y):(e.x=t.y,e.y=t.x),t.children.forEach((t,n)=>{M(t,e.children[n],i)})}function E(t,i={}){const n=e({},v,i);let h=0;let r=null;const o=function t(e){e.width=0,e.depth&&e.depth>h&&(h=e.depth);const i=e.children,n=i.length,r=new N(0,[]);return i.forEach((e,i)=>{const h=t(e);r.children.push(h),0===i&&(r.leftChild=h),i===n-1&&(r.rightChild=h)}),r.originNode=e,r.isLeaf=e.isLeaf(),r}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=h;else{const i=e.children.map(e=>t(e)),n=Math.min(...i);e.drawingDepth=n-1}return e.drawingDepth}(o),function t(e){e.x=e.drawingDepth*n.rankSep,e.isLeaf?(e.y=0,r&&(e.y=r.y+r.height+n.nodeSep,e.originNode.parent!==r.originNode.parent&&(e.y+=n.subTreeSep)),r=e):(e.children.forEach(e=>{t(e)}),e.y=(e.leftChild.y+e.rightChild.y)/2)}(o),M(o,t,n.isHorizontal),t}class B extends r{execute(){return this.rootNode.width=0,y(this.rootNode,this.options,E)}}const T={};function S(t,i){const n=e({},T,i);return new B(t,n).execute()}function b(e,i,n,h){let r=null;e.eachNode(e=>{!function(e,i,n,h,r){const o=(\"function\"==typeof n?n(e):n)*e.depth;if(!h)try{if(e.parent&&e.id===e.parent.children[0].id)return e.x+=o,void(e.y=i?i.y:0)}catch{}if(e.x+=o,i){if(e.y=i.y+t(i,e,r),i.parent&&e.parent&&e.parent.id!==i.parent.id){const n=i.parent,h=n.y+t(n,e,r);e.y=h>e.y?h:e.y}}else e.y=0}(e,r,i,n,h),r=e})}const L=[\"LR\",\"RL\",\"H\"],V=L[0];class R extends r{execute(){const t=this.options,e=this.rootNode;t.isHorizontal=!0;const{indent:i=20,dropCap:n=!0,direction:h=V,align:r}=t;if(h&&-1===L.indexOf(h))throw new TypeError(`Invalid direction: ${h}`);if(h===L[0])b(e,i,n,r);else if(h===L[1])b(e,i,n,r),e.right2left();else if(h===L[2]){const{left:h,right:o}=g(e,t);b(h,i,n,r),h.right2left(),b(o,i,n,r);const s=h.getBoundingBox();o.translate(s.width,0),e.x=o.x-e.width/2}return e}}const z={};function C(t,i){const n=e({},z,i);return new R(t,n).execute()}function D(t,e){let i=0;return t.children.length?t.children.forEach(t=>{i+=D(t,e)}):i=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,i)+2*t._subTreeSep,t.totalHeight}function Y(t){const e=t.children,i=e.length;if(i){e.forEach(t=>{Y(t)});const n=e[0],h=e[i-1],r=h.y-n.y+h.height;let o=0;if(e.forEach(t=>{o+=t.totalHeight}),r>t.height)t.y=n.y+r/2-t.height/2;else if(1!==e.length||t.height>o){const i=t.y+(t.height-r)/2-n.y;e.forEach(t=>{t.translate(0,i)})}else t.y=(n.y+n.height/2+h.y+h.height/2)/2-t.height/2}}const G={getSubTreeSep:()=>0};function I(t,i={}){return i=e({},G,i),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(t=>{t.x=t.parent.x+t.parent.width}),t.parent=void 0,D(t,i),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(t=>{const e=t.children,i=e.length;if(i){const n=e[0];if(n.startY=t.startY+t._subTreeSep,1===i)n.y=t.y+t.height/2-n.height/2;else{n.y=n.startY+n.totalHeight/2-n.height/2;for(let t=1;t<i;t++){const i=e[t];i.startY=e[t-1].startY+e[t-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}}),Y(t),t}class P extends r{execute(){return y(this.rootNode,this.options,I)}}const A={};function F(t,i){const n=e({},A,i);return new P(t,n).execute()}const _={compactBox:H,dendrogram:S,indented:C,mindmap:F},O=\"0.7.0\";export{H as compactBox,_ as default,S as dendrogram,C as indented,F as mindmap,O as version};\n//# sourceMappingURL=hierarchy.es.js.map\n","import type { HierarchyData, HierarchyNode } from '@antv/hierarchy';\nimport { mindmap } from '@antv/hierarchy';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Group, Path, getElementBounds } from '../../jsx';\nimport type { ItemDatum } from '../../types';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport type { HierarchyColorMode } from '../utils';\nimport {\n  getColorPrimary,\n  getHierarchyColorIndexes,\n  getItemComponent,\n  getPaletteColor,\n  getThemeColors,\n} from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\ntype AnnotatedItem = (ItemDatum & HierarchyData) & {\n  _indexes: number[];\n  _flatIndex?: number;\n  children?: AnnotatedItem[];\n};\n\ntype LayoutNode = HierarchyNode & {\n  data: AnnotatedItem;\n  children: LayoutNode[];\n  parent?: LayoutNode;\n};\n\ntype LayoutLink = {\n  parent: LayoutNode;\n  child: LayoutNode;\n};\n\ntype EdgeAlign = 'top' | 'center' | 'bottom' | number;\ntype EdgeType = 'curved' | 'straight';\ntype EdgeColorMode = 'solid' | 'gradient';\n\nexport interface HierarchyMindmapProps extends BaseStructureProps {\n  /**  */\n  levelGap?: number;\n  /**  */\n  nodeGap?: number;\n  /**  0-1  */\n  edgeAlign?: EdgeAlign;\n  /** / */\n  colorMode?: HierarchyColorMode;\n  /**  */\n  edgeColorMode?: EdgeColorMode;\n  /**  */\n  edgeType?: EdgeType;\n  /**  */\n  edgeWidth?: number;\n}\n\nconst DEFAULT_LEVEL_GAP = 60;\nconst DEFAULT_NODE_GAP = 14;\nconst LAYOUT_PADDING = 30;\nconst DEFAULT_EDGE_ALIGN: EdgeAlign = 'center';\nconst DEFAULT_EDGE_TYPE: EdgeType = 'curved';\nconst DEFAULT_EDGE_WIDTH = 2;\nconst DEFAULT_COLOR_MODE: HierarchyColorMode = 'node';\nconst DEFAULT_EDGE_COLOR_MODE: EdgeColorMode = 'solid';\n\nconst annotateTree = (\n  node: ItemDatum & HierarchyData,\n  parentIndexes: number[] = [],\n  index = 0,\n): AnnotatedItem => {\n  const indexes = [...parentIndexes, index];\n  return {\n    ...node,\n    _indexes: indexes,\n    children:\n      node.children?.map((child, childIndex) =>\n        annotateTree(child, indexes, childIndex),\n      ) ?? [],\n  };\n};\n\nconst collectNodes = (\n  node: LayoutNode,\n  nodes: LayoutNode[],\n  links: LayoutLink[],\n  parent?: LayoutNode,\n) => {\n  nodes.push(node);\n  node.data._flatIndex ??= nodes.length - 1;\n  if (parent) links.push({ parent, child: node });\n  const children = node.children as unknown as LayoutNode[];\n  children?.forEach((child) => collectNodes(child, nodes, links, node));\n};\n\nconst createCurvePath = (sx: number, sy: number, tx: number, ty: number) => {\n  const offsetX = Math.abs(tx - sx) / 2;\n  const ctrlX1 = tx > sx ? sx + offsetX : sx - offsetX;\n  const ctrlX2 = tx > sx ? tx - offsetX : tx + offsetX;\n  return `M ${sx} ${sy} C ${ctrlX1} ${sy} ${ctrlX2} ${ty} ${tx} ${ty}`;\n};\n\nconst createStraightPath = (sx: number, sy: number, tx: number, ty: number) =>\n  `M ${sx} ${sy} L ${tx} ${ty}`;\n\nconst getEdgeAnchors = (\n  parentLayout: { x: number; y: number; width: number; height: number },\n  childLayout: { x: number; y: number; width: number; height: number },\n  childSide?: 'left' | 'right',\n  align: EdgeAlign = DEFAULT_EDGE_ALIGN,\n) => {\n  const clampRatio = (val: number) => Math.max(0, Math.min(1, val));\n  const toRatio = (value: EdgeAlign) => {\n    if (value === 'top') return 0;\n    if (value === 'bottom') return 1;\n    if (value === 'center') return 0.5;\n    return clampRatio(value);\n  };\n  const ratio = toRatio(align);\n  const parentCy = parentLayout.y + parentLayout.height * ratio;\n  const childCy = childLayout.y + childLayout.height * ratio;\n  if (childSide === 'left') {\n    return {\n      sx: parentLayout.x,\n      sy: parentCy,\n      tx: childLayout.x + childLayout.width,\n      ty: childCy,\n    };\n  }\n  return {\n    sx: parentLayout.x + parentLayout.width,\n    sy: parentCy,\n    tx: childLayout.x,\n    ty: childCy,\n  };\n};\n\nexport const HierarchyMindmap: ComponentType<HierarchyMindmapProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Items,\n    data,\n    levelGap = DEFAULT_LEVEL_GAP,\n    nodeGap = DEFAULT_NODE_GAP,\n    edgeAlign = DEFAULT_EDGE_ALIGN,\n    colorMode = DEFAULT_COLOR_MODE,\n    edgeColorMode = DEFAULT_EDGE_COLOR_MODE,\n    edgeType = DEFAULT_EDGE_TYPE,\n    edgeWidth = DEFAULT_EDGE_WIDTH,\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const groupColorIndexMap = new Map<string, number>();\n  let nextGroupColorIndex = 0;\n\n  if (!items.length || !Items?.length) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnAdd indexes={[0]} x={0} y={0} />\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const root = annotateTree(items[0]);\n  const nodeSizeCache = new WeakMap<\n    AnnotatedItem,\n    { width: number; height: number }\n  >();\n  const colorCache = new WeakMap<AnnotatedItem, string>();\n  const themeCache = new WeakMap<AnnotatedItem, any>();\n\n  const getNodeColorIndexes = (datum: AnnotatedItem, depth: number) => {\n    if (colorMode === 'group') {\n      const groupKey = String((datum as { group?: unknown }).group ?? '');\n      let groupIndex = groupColorIndexMap.get(groupKey);\n      if (groupIndex == null) {\n        groupIndex = nextGroupColorIndex;\n        groupColorIndexMap.set(groupKey, groupIndex);\n        nextGroupColorIndex += 1;\n      }\n      return [groupIndex];\n    }\n    return getHierarchyColorIndexes(\n      {\n        depth,\n        originalIndexes: datum._indexes,\n        flatIndex: datum._flatIndex,\n      },\n      colorMode,\n    );\n  };\n\n  const getNodeThemeColors = (datum: AnnotatedItem, depth: number) => {\n    const cachedTheme = themeCache.get(datum);\n    if (cachedTheme) return cachedTheme;\n    const colorIndexes = getNodeColorIndexes(datum, depth);\n    const primary = getPaletteColor(options, colorIndexes);\n    const themeColors = getThemeColors({ colorPrimary: primary }, options);\n    themeCache.set(datum, themeColors);\n    colorCache.set(datum, primary!);\n    return themeColors;\n  };\n  const measureNode = (\n    datum: AnnotatedItem,\n  ): { width: number; height: number } => {\n    const cached = nodeSizeCache.get(datum);\n    if (cached) return cached;\n    const depth = Math.max(datum._indexes.length - 1, 0);\n    const Component = getItemComponent(Items, depth);\n    const bounds = getElementBounds(\n      <Component\n        indexes={datum._indexes}\n        data={data}\n        datum={datum}\n        positionH=\"center\"\n        positionV=\"middle\"\n        themeColors={getNodeThemeColors(datum, depth)}\n      />,\n    );\n    nodeSizeCache.set(datum, bounds);\n    return bounds;\n  };\n\n  const mindmapRoot = mindmap(root, {\n    direction: 'H',\n    getSide: (node: HierarchyNode, index: number) => {\n      if (!node.parent) return 'right';\n      const order = (node.parent.children || []).indexOf(node);\n      const rank = order >= 0 ? order : index;\n      return rank % 2 === 0 ? 'left' : 'right';\n    },\n    getWidth: (datum: AnnotatedItem) => measureNode(datum).width,\n    getHeight: (datum: AnnotatedItem) => measureNode(datum).height,\n    getHGap: () => levelGap,\n    getVGap: () => nodeGap,\n  }) as LayoutNode;\n\n  const layoutNodes: LayoutNode[] = [];\n  const nodeLinks: LayoutLink[] = [];\n  collectNodes(mindmapRoot, layoutNodes, nodeLinks);\n\n  const minX =\n    layoutNodes.length > 0 ? Math.min(...layoutNodes.map((node) => node.x)) : 0;\n  const minY =\n    layoutNodes.length > 0 ? Math.min(...layoutNodes.map((node) => node.y)) : 0;\n  const shiftX = LAYOUT_PADDING - minX;\n  const shiftY = LAYOUT_PADDING - minY;\n\n  const defsElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n  const layoutStore = new WeakMap<\n    LayoutNode,\n    {\n      x: number;\n      y: number;\n      width: number;\n      height: number;\n      centerX: number;\n      centerY: number;\n    }\n  >();\n\n  layoutNodes.forEach((node) => {\n    const datum = node.data;\n    const measured = measureNode(datum);\n    const displayX = node.x + shiftX + (node.hgap ?? 0);\n    const displayY = node.y + shiftY + (node.vgap ?? 0);\n    const Component = getItemComponent(Items, node.depth);\n    const positionH =\n      node.depth === 0 ? 'center' : node.side === 'left' ? 'flipped' : 'normal';\n    const themeColors = getNodeThemeColors(datum, node.depth);\n\n    itemElements.push(\n      <Component\n        indexes={datum._indexes}\n        data={data}\n        datum={datum}\n        x={displayX}\n        y={displayY}\n        positionH={positionH}\n        positionV=\"middle\"\n        themeColors={themeColors}\n      />,\n    );\n\n    layoutStore.set(node, {\n      x: displayX,\n      y: displayY,\n      width: measured.width,\n      height: measured.height,\n      centerX: displayX + measured.width / 2,\n      centerY: displayY + measured.height / 2,\n    });\n  });\n\n  nodeLinks.forEach((link) => {\n    const { parent, child } = link;\n    const childLayout = layoutStore.get(child);\n    const parentLayout = layoutStore.get(parent);\n    if (!childLayout || !parentLayout) {\n      return;\n    }\n    const childDatum = child.data;\n    const { sx, sy, tx, ty } = getEdgeAnchors(\n      parentLayout,\n      childLayout,\n      child.side,\n      edgeAlign,\n    );\n    const childColor =\n      colorCache.get(childDatum) ??\n      getPaletteColor(options, getNodeColorIndexes(childDatum, child.depth));\n    const parentColor =\n      colorCache.get(parent.data) ??\n      getPaletteColor(options, getNodeColorIndexes(parent.data, parent.depth));\n    const pathD =\n      edgeType === 'straight'\n        ? createStraightPath(sx, sy, tx, ty)\n        : createCurvePath(sx, sy, tx, ty);\n    const gradientId = `edge-gradient-${childDatum._indexes.join('-')}`;\n    decorElements.push(\n      <Path\n        d={pathD}\n        stroke={\n          edgeColorMode === 'gradient'\n            ? `url(#${gradientId})`\n            : (childColor ?? colorPrimary)\n        }\n        strokeWidth={edgeWidth}\n        fill=\"none\"\n      />,\n    );\n    if (edgeColorMode === 'gradient') {\n      defsElements.push(\n        <linearGradient\n          id={gradientId}\n          gradientUnits=\"userSpaceOnUse\"\n          x1={sx}\n          y1={sy}\n          x2={tx}\n          y2={ty}\n        >\n          <stop offset=\"0%\" stopColor={parentColor ?? colorPrimary} />\n          <stop offset=\"100%\" stopColor={childColor ?? colorPrimary} />\n        </linearGradient>,\n      );\n    }\n    const appendIndex = childDatum.children?.length ?? 0;\n    const addIndexes = [...childDatum._indexes, appendIndex];\n    const btnX = childLayout.x + (childLayout.width - btnBounds.width) / 2;\n    const removeY = childLayout.y + childLayout.height + 8;\n    const addY = removeY + btnBounds.height + 6;\n\n    if (child.depth > 0) {\n      btnElements.push(\n        <BtnRemove indexes={childDatum._indexes} x={btnX} y={removeY} />,\n      );\n    }\n    btnElements.push(<BtnAdd indexes={addIndexes} x={btnX} y={addY} />);\n  });\n\n  const rootLayout = layoutStore.get(mindmapRoot);\n  if (rootLayout) {\n    const rootDatum = mindmapRoot.data;\n    const appendIndex = rootDatum.children?.length ?? 0;\n    const addIndexes = [...rootDatum._indexes, appendIndex];\n    const btnX = rootLayout.x + (rootLayout.width - btnBounds.width) / 2;\n    const addY = rootLayout.y + rootLayout.height + 8 + btnBounds.height + 6;\n    btnElements.push(<BtnAdd indexes={addIndexes} x={btnX} y={addY} />);\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        {defsElements.length > 0 ? <Defs>{defsElements}</Defs> : null}\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('hierarchy-mindmap', {\n  component: HierarchyMindmap,\n  composites: ['title', 'item'],\n});\n","import { ElementTypeEnum } from '../../constants';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Rect, Text } from '../../jsx';\nimport type { HierarchyData } from '../../types';\nimport { ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nconst applyAlpha = (color: string, alpha: number) => {\n  if (!color || color[0] !== '#' || color.length !== 7) return color;\n  const clamped = Math.max(0, Math.min(1, alpha));\n  const alphaHex = Math.round(clamped * 255)\n    .toString(16)\n    .padStart(2, '0');\n  return `${color}${alphaHex}`;\n};\n\nconst normalizeLabel = (label?: string | number) =>\n  label == null ? '' : String(label);\n\nconst measureText = (\n  text: string,\n  fontSize: number,\n  fontWeight: 'normal' | 'bold',\n) =>\n  getElementBounds(\n    <Text fontSize={fontSize} fontWeight={fontWeight}>\n      {text}\n    </Text>,\n  );\n\nconst getMaxTextBounds = (\n  labels: string[],\n  fontSize: number,\n  fontWeight: 'normal' | 'bold',\n  fallbackText = ' ',\n) => {\n  const sampleBounds = measureText(fallbackText, fontSize, fontWeight);\n  let maxWidth = sampleBounds.width;\n  let maxHeight = sampleBounds.height;\n\n  labels.forEach((label) => {\n    const bounds = measureText(label || ' ', fontSize, fontWeight);\n    maxWidth = Math.max(maxWidth, bounds.width);\n    maxHeight = Math.max(maxHeight, bounds.height);\n  });\n\n  return { width: maxWidth, height: maxHeight };\n};\n\nconst getPillDimensions = (\n  labels: string[],\n  fontSize: number,\n  paddingX: number,\n  paddingY: number,\n) => {\n  const bounds = getMaxTextBounds(labels, fontSize, 'normal', 'Item');\n  return {\n    pillWidth: bounds.width + paddingX * 2,\n    pillHeight: bounds.height + paddingY * 2,\n  };\n};\n\nexport interface HierarchyStructureProps extends BaseStructureProps {\n  /** Vertical gap between rows. */\n  rowGap?: number;\n  /** Horizontal gap between left label and right content area. */\n  labelGap?: number;\n  /** Horizontal gap between groups inside a grouped row. */\n  groupGap?: number;\n  /** Horizontal/vertical gap between pills. */\n  pillGap?: number;\n  /** Columns per group (when grouped). */\n  pillColumns?: number;\n  /** Columns for flat rows (no groups). */\n  ungroupedColumns?: number;\n  /** Position of the layer label block. */\n  layerLabelPosition?: 'left' | 'right';\n  /** Padding inside right content container. */\n  rowPadding?: number;\n  /** Padding inside each group container. */\n  groupPadding?: number;\n  /** Left/right padding inside left label block. */\n  labelPaddingX?: number;\n  /** Top/bottom padding inside left label block. */\n  labelPaddingY?: number;\n  /** Left/right padding inside a pill. */\n  pillPaddingX?: number;\n  /** Top/bottom padding inside a pill. */\n  pillPaddingY?: number;\n  /** Font size for left layer labels. */\n  labelFontSize?: number;\n  /** Font size for group titles. */\n  groupTitleFontSize?: number;\n  /** Font size for pill text. */\n  pillFontSize?: number;\n  /** Gap between group title and its pill grid. */\n  groupTitleGap?: number;\n  /** Corner radius for row containers. */\n  rowRadius?: number;\n  /** Corner radius for group containers. */\n  groupRadius?: number;\n  /** Corner radius for pills. */\n  pillRadius?: number;\n}\n\nexport const HierarchyStructure: ComponentType<HierarchyStructureProps> = (\n  props,\n) => {\n  const {\n    Title,\n    data,\n    options,\n    rowGap = 20,\n    labelGap = 20,\n    groupGap = 20,\n    pillGap = 14,\n    pillColumns = 2,\n    ungroupedColumns = 6,\n    layerLabelPosition = 'left',\n    rowPadding = 20,\n    groupPadding = 16,\n    labelPaddingX = 28,\n    labelPaddingY = 16,\n    pillPaddingX = 18,\n    pillPaddingY = 10,\n    labelFontSize = 20,\n    groupTitleFontSize = 18,\n    pillFontSize = 16,\n    groupTitleGap = 10,\n    rowRadius = 12,\n    groupRadius = 10,\n    pillRadius = 12,\n  } = props;\n\n  const { title, desc, items = [] } = data as HierarchyData;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <ItemsGroup />\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const themeColors = getThemeColors(options.themeConfig);\n  const decorElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const isLabelOnRight = layerLabelPosition === 'right';\n\n  const rowBackgroundAlpha = 0.12;\n  const rowBorderAlpha = 0.55;\n  const groupBackgroundAlpha = 0.08;\n  const groupBorderAlpha = 0.4;\n  const pillBackgroundAlpha = 0.06;\n  const pillBorderAlpha = 0.35;\n\n  const rowInfos = items.map((layer) => {\n    const layerLabel = normalizeLabel(layer.label);\n    const labelBounds = measureText(layerLabel || ' ', labelFontSize, 'bold');\n    const labelWidth = labelBounds.width + labelPaddingX * 2;\n    const labelHeight = labelBounds.height + labelPaddingY * 2;\n\n    const children = layer.children || [];\n    const hasGroups = children.some(\n      (child) => (child.children?.length || 0) > 0,\n    );\n\n    if (hasGroups) {\n      const pillLabels: string[] = [];\n      children.forEach((child) => {\n        (child.children || []).forEach((pill) => {\n          pillLabels.push(normalizeLabel(pill.label));\n        });\n      });\n\n      const { pillWidth, pillHeight } = getPillDimensions(\n        pillLabels,\n        pillFontSize,\n        pillPaddingX,\n        pillPaddingY,\n      );\n\n      const groupMetrics = children.map((group) => {\n        const groupLabel = normalizeLabel(group.label);\n        const groupTitleBounds = measureText(\n          groupLabel || ' ',\n          groupTitleFontSize,\n          'bold',\n        );\n        const groupChildren = group.children || [];\n        const groupColumns =\n          groupChildren.length > 0\n            ? Math.min(pillColumns, groupChildren.length)\n            : 0;\n        const groupRows =\n          groupColumns > 0 ? Math.ceil(groupChildren.length / groupColumns) : 0;\n        const groupContentWidth =\n          groupColumns > 0\n            ? groupColumns * pillWidth + (groupColumns - 1) * pillGap\n            : 0;\n        const groupContentHeight =\n          groupRows > 0\n            ? groupRows * pillHeight + (groupRows - 1) * pillGap\n            : 0;\n        const innerWidth = Math.max(groupTitleBounds.width, groupContentWidth);\n        const groupWidth = innerWidth + groupPadding * 2;\n        const groupHeight =\n          groupPadding * 2 +\n          groupTitleBounds.height +\n          (groupRows > 0 ? groupTitleGap + groupContentHeight : 0);\n\n        return {\n          label: groupLabel,\n          children: groupChildren,\n          width: groupWidth,\n          height: groupHeight,\n          titleHeight: groupTitleBounds.height,\n          columns: groupColumns,\n          contentWidth: groupContentWidth,\n          pillWidth,\n          pillHeight,\n        };\n      });\n\n      const contentInnerWidth =\n        groupMetrics.reduce((sum, metric) => sum + metric.width, 0) +\n        (groupMetrics.length > 1 ? (groupMetrics.length - 1) * groupGap : 0);\n      const contentInnerHeight = groupMetrics.reduce(\n        (max, metric) => Math.max(max, metric.height),\n        0,\n      );\n\n      return {\n        label: layerLabel,\n        labelWidth,\n        labelHeight,\n        hasGroups: true,\n        children,\n        groupMetrics,\n        contentInnerWidth,\n        contentInnerHeight,\n      };\n    }\n\n    const pillLabels = children.map((child) => normalizeLabel(child.label));\n    const { pillWidth, pillHeight } = getPillDimensions(\n      pillLabels,\n      pillFontSize,\n      pillPaddingX,\n      pillPaddingY,\n    );\n    const columns =\n      children.length > 0 ? Math.min(ungroupedColumns, children.length) : 0;\n    const rows = columns > 0 ? Math.ceil(children.length / columns) : 0;\n    const contentInnerWidth =\n      columns > 0 ? columns * pillWidth + (columns - 1) * pillGap : 0;\n    const contentInnerHeight =\n      rows > 0 ? rows * pillHeight + (rows - 1) * pillGap : 0;\n\n    return {\n      label: layerLabel,\n      labelWidth,\n      labelHeight,\n      hasGroups: false,\n      children,\n      pillWidth,\n      pillHeight,\n      columns,\n      contentInnerWidth,\n      contentInnerHeight,\n    };\n  });\n\n  const maxLabelWidth = rowInfos.reduce(\n    (max, row) => Math.max(max, row.labelWidth),\n    0,\n  );\n  const targetContentInnerWidth = rowInfos.reduce(\n    (max, row) => Math.max(max, row.contentInnerWidth),\n    0,\n  );\n\n  const getRowColors = (layerIndex: number) => {\n    const rowColor =\n      getPaletteColor(options, [layerIndex]) ||\n      themeColors.colorPrimary ||\n      '#6c7dff';\n    return {\n      rowFill: applyAlpha(rowColor, rowBackgroundAlpha),\n      rowStroke: applyAlpha(rowColor, rowBorderAlpha),\n      groupFill: applyAlpha(rowColor, groupBackgroundAlpha),\n      groupStroke: applyAlpha(rowColor, groupBorderAlpha),\n      pillFill: applyAlpha(rowColor, pillBackgroundAlpha),\n      pillStroke: applyAlpha(rowColor, pillBorderAlpha),\n    };\n  };\n\n  const renderRowFrame = (\n    layerLabel: string,\n    layerIndexes: number[],\n    labelX: number,\n    labelY: number,\n    labelWidth: number,\n    labelHeight: number,\n    rowY: number,\n    rowHeight: number,\n    contentX: number,\n    contentY: number,\n    contentWidth: number,\n    contentHeight: number,\n    rowFill: string,\n    rowStroke: string,\n  ) => {\n    decorElements.push(\n      <Rect\n        x={labelX}\n        y={rowY}\n        width={labelWidth}\n        height={rowHeight}\n        fill={rowFill}\n        stroke={rowStroke}\n        rx={rowRadius}\n        ry={rowRadius}\n        data-element-type=\"shape\"\n      />,\n    );\n    decorElements.push(\n      <Rect\n        x={contentX}\n        y={contentY}\n        width={contentWidth}\n        height={contentHeight}\n        fill={rowFill}\n        stroke={rowStroke}\n        rx={rowRadius}\n        ry={rowRadius}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    itemElements.push(\n      <Text\n        x={labelX}\n        y={labelY}\n        width={labelWidth}\n        height={labelHeight}\n        fontSize={labelFontSize}\n        fontWeight=\"bold\"\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fill={themeColors.colorText}\n        data-element-type={ElementTypeEnum.ItemLabel}\n        data-indexes={layerIndexes}\n      >\n        {layerLabel}\n      </Text>,\n    );\n  };\n\n  const renderGroupedRow = (\n    rowInfo: (typeof rowInfos)[number],\n    layerIndex: number,\n    rowY: number,\n    rowColors: ReturnType<typeof getRowColors>,\n  ) => {\n    const groupMetrics = rowInfo.groupMetrics || [];\n    const layerLabel = rowInfo.label;\n    const layerIndexes = [layerIndex];\n    const labelWidth = maxLabelWidth;\n    const labelHeight = rowInfo.labelHeight;\n    const contentInnerHeight = rowInfo.contentInnerHeight;\n    const extraInnerWidth = Math.max(\n      0,\n      targetContentInnerWidth - rowInfo.contentInnerWidth,\n    );\n    const extraPerGroup =\n      groupMetrics.length > 0 ? extraInnerWidth / groupMetrics.length : 0;\n    const contentInnerWidth =\n      rowInfo.contentInnerWidth +\n      (groupMetrics.length > 0 ? extraInnerWidth : 0);\n    const contentWidth = contentInnerWidth + rowPadding * 2;\n    const contentHeight = contentInnerHeight + rowPadding * 2;\n    const rowHeight = Math.max(labelHeight, contentHeight);\n    const contentX = isLabelOnRight ? 0 : labelWidth + labelGap;\n    const labelX = isLabelOnRight ? contentX + contentWidth + labelGap : 0;\n    const labelY = rowY + (rowHeight - labelHeight) / 2;\n    const contentY = rowY + (rowHeight - contentHeight) / 2;\n\n    renderRowFrame(\n      layerLabel,\n      layerIndexes,\n      labelX,\n      labelY,\n      labelWidth,\n      labelHeight,\n      rowY,\n      rowHeight,\n      contentX,\n      contentY,\n      contentWidth,\n      contentHeight,\n      rowColors.rowFill,\n      rowColors.rowStroke,\n    );\n\n    let groupX = contentX + rowPadding;\n    groupMetrics.forEach((metric, groupIndex) => {\n      const groupIndexes = [...layerIndexes, groupIndex];\n      const groupWidth = metric.width + extraPerGroup;\n      const groupY =\n        contentY + rowPadding + (contentInnerHeight - metric.height) / 2;\n\n      decorElements.push(\n        <Rect\n          x={groupX}\n          y={groupY}\n          width={groupWidth}\n          height={metric.height}\n          fill={rowColors.groupFill}\n          stroke={rowColors.groupStroke}\n          rx={groupRadius}\n          ry={groupRadius}\n          data-element-type=\"shape\"\n        />,\n      );\n\n      const hasGroupChildren = metric.children.length > 0;\n      const titleY = hasGroupChildren ? groupY + groupPadding : groupY;\n      const titleHeight = hasGroupChildren ? metric.titleHeight : metric.height;\n      const titleAlignV = hasGroupChildren ? 'top' : 'middle';\n\n      itemElements.push(\n        <Text\n          x={groupX + groupPadding}\n          y={titleY}\n          width={groupWidth - groupPadding * 2}\n          height={titleHeight}\n          fontSize={groupTitleFontSize}\n          fontWeight=\"bold\"\n          alignHorizontal=\"center\"\n          alignVertical={titleAlignV}\n          fill={themeColors.colorText}\n          data-element-type={ElementTypeEnum.ItemLabel}\n          data-indexes={groupIndexes}\n        >\n          {metric.label}\n        </Text>,\n      );\n\n      if (metric.columns > 0) {\n        const innerWidth = groupWidth - groupPadding * 2;\n        const extraWidth = innerWidth - metric.contentWidth;\n        const columnExtra = extraWidth > 0 ? extraWidth / metric.columns : 0;\n        const pillWidth = metric.pillWidth + columnExtra;\n        const contentWidth =\n          metric.columns * pillWidth + (metric.columns - 1) * pillGap;\n        const contentOffsetX = (innerWidth - contentWidth) / 2;\n        const pillStartX = groupX + groupPadding + Math.max(0, contentOffsetX);\n        const pillStartY =\n          groupY + groupPadding + metric.titleHeight + groupTitleGap;\n\n        metric.children.forEach((pill, pillIndex) => {\n          const pillIndexes = [...groupIndexes, pillIndex];\n          const rowIndex = Math.floor(pillIndex / metric.columns);\n          const colIndex = pillIndex % metric.columns;\n          const pillX = pillStartX + colIndex * (pillWidth + pillGap);\n          const pillY = pillStartY + rowIndex * (metric.pillHeight + pillGap);\n          const pillRx = Math.min(pillRadius, metric.pillHeight / 2);\n\n          decorElements.push(\n            <Rect\n              x={pillX}\n              y={pillY}\n              width={pillWidth}\n              height={metric.pillHeight}\n              fill={rowColors.pillFill}\n              stroke={rowColors.pillStroke}\n              rx={pillRx}\n              ry={pillRx}\n              data-element-type=\"shape\"\n            />,\n          );\n\n          itemElements.push(\n            <Text\n              x={pillX}\n              y={pillY}\n              width={pillWidth}\n              height={metric.pillHeight}\n              fontSize={pillFontSize}\n              fontWeight=\"normal\"\n              alignHorizontal=\"center\"\n              alignVertical=\"middle\"\n              fill={themeColors.colorText}\n              data-element-type={ElementTypeEnum.ItemLabel}\n              data-indexes={pillIndexes}\n            >\n              {normalizeLabel(pill.label)}\n            </Text>,\n          );\n        });\n      }\n\n      groupX += groupWidth + groupGap;\n    });\n\n    const rowWidth = isLabelOnRight\n      ? labelX + labelWidth\n      : contentX + contentWidth;\n    return { rowWidth, rowHeight };\n  };\n\n  const renderUngroupedRow = (\n    rowInfo: (typeof rowInfos)[number],\n    layerIndex: number,\n    rowY: number,\n    rowColors: ReturnType<typeof getRowColors>,\n  ) => {\n    const layerLabel = rowInfo.label;\n    const layerIndexes = [layerIndex];\n    const labelWidth = maxLabelWidth;\n    const labelHeight = rowInfo.labelHeight;\n    const contentInnerHeight = rowInfo.contentInnerHeight;\n    const extraInnerWidth = Math.max(\n      0,\n      targetContentInnerWidth - rowInfo.contentInnerWidth,\n    );\n    const columns = rowInfo.columns || 0;\n    const pillWidthBase = rowInfo.pillWidth || 0;\n    const pillHeight = rowInfo.pillHeight || 0;\n    const extraPerColumn = columns > 0 ? extraInnerWidth / columns : 0;\n    const pillWidth = pillWidthBase + extraPerColumn;\n    const contentInnerWidth =\n      columns > 0 ? columns * pillWidth + (columns - 1) * pillGap : 0;\n    const contentWidth = contentInnerWidth + rowPadding * 2;\n    const contentHeight = contentInnerHeight + rowPadding * 2;\n    const rowHeight = Math.max(labelHeight, contentHeight);\n    const contentX = isLabelOnRight ? 0 : labelWidth + labelGap;\n    const labelX = isLabelOnRight ? contentX + contentWidth + labelGap : 0;\n    const labelY = rowY + (rowHeight - labelHeight) / 2;\n    const contentY = rowY + (rowHeight - contentHeight) / 2;\n\n    renderRowFrame(\n      layerLabel,\n      layerIndexes,\n      labelX,\n      labelY,\n      labelWidth,\n      labelHeight,\n      rowY,\n      rowHeight,\n      contentX,\n      contentY,\n      contentWidth,\n      contentHeight,\n      rowColors.rowFill,\n      rowColors.rowStroke,\n    );\n\n    if (columns > 0) {\n      const pillStartX = contentX + rowPadding;\n      const pillStartY = contentY + rowPadding;\n      const flatChildren = rowInfo.children || [];\n\n      flatChildren.forEach((child, pillIndex) => {\n        const pillIndexes = [...layerIndexes, pillIndex];\n        const rowIndex = Math.floor(pillIndex / columns);\n        const colIndex = pillIndex % columns;\n        const pillX = pillStartX + colIndex * (pillWidth + pillGap);\n        const pillY = pillStartY + rowIndex * (pillHeight + pillGap);\n        const pillRx = Math.min(pillRadius, pillHeight / 2);\n\n        decorElements.push(\n          <Rect\n            x={pillX}\n            y={pillY}\n            width={pillWidth}\n            height={pillHeight}\n            fill={rowColors.pillFill}\n            stroke={rowColors.pillStroke}\n            rx={pillRx}\n            ry={pillRx}\n            data-element-type=\"shape\"\n          />,\n        );\n\n        itemElements.push(\n          <Text\n            x={pillX}\n            y={pillY}\n            width={pillWidth}\n            height={pillHeight}\n            fontSize={pillFontSize}\n            fontWeight=\"normal\"\n            alignHorizontal=\"center\"\n            alignVertical=\"middle\"\n            fill={themeColors.colorText}\n            data-element-type={ElementTypeEnum.ItemLabel}\n            data-indexes={pillIndexes}\n          >\n            {normalizeLabel(child.label)}\n          </Text>,\n        );\n      });\n    }\n\n    const rowWidth = isLabelOnRight\n      ? labelX + labelWidth\n      : contentX + contentWidth;\n    return { rowWidth, rowHeight };\n  };\n\n  let currentY = 0;\n  let maxWidth = 0;\n\n  rowInfos.forEach((rowInfo, layerIndex) => {\n    const rowColors = getRowColors(layerIndex);\n    const { rowWidth, rowHeight } = rowInfo.hasGroups\n      ? renderGroupedRow(rowInfo, layerIndex, currentY, rowColors)\n      : renderUngroupedRow(rowInfo, layerIndex, currentY, rowColors);\n\n    maxWidth = Math.max(maxWidth, rowWidth);\n    currentY += rowHeight + rowGap;\n  });\n\n  const totalHeight = Math.max(currentY - rowGap, 0);\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={maxWidth} height={totalHeight}>\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('hierarchy-structure', {\n  component: HierarchyStructure,\n  composites: ['title'],\n});\n","import * as d3 from 'd3';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport {\n  Defs,\n  Ellipse,\n  getElementBounds,\n  Group,\n  Path,\n  Polygon,\n} from '../../jsx';\nimport { HierarchyDatum } from '../../types';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport type { HierarchyColorMode } from '../utils';\nimport {\n  getColorPrimary,\n  getHierarchyColorIndexes,\n  getItemComponent,\n  getPaletteColor,\n  getThemeColors,\n} from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface HierarchyTreeProps extends BaseStructureProps {\n  /**  80 */\n  levelGap?: number;\n  /**  60 */\n  nodeGap?: number;\n  /** 'top-bottom'  | 'bottom-top'  | 'left-right'  | 'right-left'  'top-bottom' */\n  orientation?: 'top-bottom' | 'bottom-top' | 'left-right' | 'right-left';\n\n  // ==========  ==========\n  /** 'straight'  | 'curved'  'curved' */\n  edgeType?: 'straight' | 'curved';\n  /** 'solid'  | 'gradient'  'gradient' */\n  edgeColorMode?: 'solid' | 'gradient';\n  /**  2 */\n  edgeWidth?: number;\n  /** 'solid'  | 'dashed'  'solid' */\n  edgeStyle?: 'solid' | 'dashed';\n  /**  edgeStyle  'dashed'  '5,5' */\n  edgeDashPattern?: string;\n  /**  edgeType  'straight'  0 */\n  edgeCornerRadius?: number;\n\n  // ==========  ==========\n  /**  0 */\n  edgeOffset?: number;\n  /** 'center'  | 'distributed'  'center' */\n  edgeOrigin?: 'center' | 'distributed';\n  /**  edgeOrigin  'distributed'  0 */\n  edgeOriginPadding?: number;\n\n  // ==========  ==========\n  /** 'none'  | 'dot'  | 'arrow'  'dot' */\n  edgeMarker?: 'none' | 'dot' | 'arrow';\n  /**  6 */\n  markerSize?: number;\n\n  // ==========  ==========\n  /**\n   * \n   * - 'level': \n   * - 'branch': \n   * - 'group': datum.group \n   * - 'node-flat': \n   *  'branch'\n   */\n  colorMode?: HierarchyColorMode;\n}\n\nconst distributedPadding = (rawPadding: number, size: number): number => {\n  const maxPadding = Math.max(0, size / 2 - 1);\n  return Math.min(rawPadding, maxPadding);\n};\n\nexport const HierarchyTree: ComponentType<HierarchyTreeProps> = (props) => {\n  const {\n    Title,\n    Items,\n    data,\n    // \n    levelGap = 80,\n    nodeGap = 60,\n    // \n    edgeType = 'straight',\n    edgeColorMode = 'gradient',\n    edgeWidth = 3,\n    edgeStyle = 'solid',\n    edgeDashPattern = '5,5',\n    edgeCornerRadius = 0,\n    // \n    edgeOffset = 0,\n    edgeOrigin = 'center',\n    edgeOriginPadding = 20,\n    // \n    edgeMarker = 'none',\n    markerSize = 12,\n    // \n    colorMode = 'branch',\n    // \n    orientation = 'top-bottom',\n    options,\n  } = props;\n  const isHorizontal =\n    orientation === 'left-right' || orientation === 'right-left';\n  const mainSign =\n    orientation === 'bottom-top' || orientation === 'right-left' ? -1 : 1;\n  const { title, desc } = data;\n  const colorPrimary = getColorPrimary(options);\n  const groupColorIndexMap = new Map<string, number>();\n  let nextGroupColorIndex = 0;\n\n  // \n  const normalizeItems = (items: HierarchyDatum[]) => {\n    const list = [...items];\n    if (!list[0]?.children) {\n      list[0] = { ...list[0], children: list.slice(1) };\n      list.splice(1);\n    }\n    return list;\n  };\n\n  // \n  const createRoundedPath = (\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    radius: number,\n    direction: 'vertical' | 'horizontal' = 'vertical',\n  ): string => {\n    const isVertical = direction === 'vertical';\n    const deltaMain = isVertical ? y2 - y1 : x2 - x1;\n    const deltaCross = isVertical ? x2 - x1 : y2 - y1;\n    const signMain = deltaMain === 0 ? 1 : Math.sign(deltaMain);\n    const signCross = deltaCross === 0 ? 1 : Math.sign(deltaCross);\n    const midMain = isVertical ? y1 + deltaMain / 2 : x1 + deltaMain / 2;\n    const effectiveRadius = Math.min(\n      radius,\n      Math.abs(deltaMain) / 2,\n      Math.abs(deltaCross) / 2,\n    );\n\n    if (effectiveRadius === 0) {\n      return isVertical\n        ? `M ${x1} ${y1} L ${x1} ${midMain} L ${x2} ${midMain} L ${x2} ${y2}`\n        : `M ${x1} ${y1} L ${midMain} ${y1} L ${midMain} ${y2} L ${x2} ${y2}`;\n    }\n\n    if (isVertical) {\n      return `M ${x1} ${y1}\n              L ${x1} ${midMain - signMain * effectiveRadius}\n              Q ${x1} ${midMain} ${x1 + signCross * effectiveRadius} ${midMain}\n              L ${x2 - signCross * effectiveRadius} ${midMain}\n              Q ${x2} ${midMain} ${x2} ${midMain + signMain * effectiveRadius}\n              L ${x2} ${y2}`;\n    }\n\n    return `M ${x1} ${y1}\n            L ${midMain - signMain * effectiveRadius} ${y1}\n            Q ${midMain} ${y1} ${midMain} ${y1 + signCross * effectiveRadius}\n            L ${midMain} ${y2 - signCross * effectiveRadius}\n            Q ${midMain} ${y2} ${midMain + signMain * effectiveRadius} ${y2}\n            L ${x2} ${y2}`;\n  };\n  const getLayoutPoint = (node: any) => {\n    const { x, y } = node;\n    return isHorizontal ? { x: y * mainSign, y: x } : { x, y: y * mainSign };\n  };\n  const getNodeRect = (\n    node: any,\n    bounds: any,\n    offsets: { x: number; y: number },\n  ) => {\n    const { x, y } = getLayoutPoint(node);\n    const centerX = x + offsets.x;\n    const top = y + offsets.y;\n    const centerY = top + bounds.height / 2;\n    return {\n      centerX,\n      centerY,\n      left: centerX - bounds.width / 2,\n      right: centerX + bounds.width / 2,\n      top,\n      bottom: top + bounds.height,\n    };\n  };\n\n  // \n  const buildHierarchyData = (list: any[]): any => {\n    if (!list.length) return null;\n\n    const rootItem = list[0];\n    const buildNode = (\n      node: any,\n      parentIndexes: number[] = [],\n      idx = 0,\n    ): any => {\n      const indexes = [...parentIndexes, idx];\n      return {\n        ...node,\n        _originalIndex: indexes,\n        _depth: indexes.length - 1,\n        children:\n          node.children?.map((c: any, i: number) => buildNode(c, indexes, i)) ??\n          [],\n      };\n    };\n\n    return rootItem.children?.length\n      ? buildNode(rootItem)\n      : {\n          ...rootItem,\n          _originalIndex: [0],\n          _depth: 0,\n          children: list.slice(1).map((child, i) => ({\n            ...child,\n            _originalIndex: [i + 1],\n            _depth: 1,\n          })),\n        };\n  };\n\n  // \n  const computeLevelBounds = (rootNode: d3.HierarchyNode<any>) => {\n    let maxWidth = 0,\n      maxHeight = 0;\n    const levelBounds = new Map<number, any>();\n    const sampleDatumByLevel = new Map<number, any>();\n\n    // \n    rootNode.each((node) => {\n      if (!sampleDatumByLevel.has(node.depth)) {\n        sampleDatumByLevel.set(node.depth, node.data);\n      }\n    });\n\n    for (let level = 0; level < rootNode.height + 1; level++) {\n      const ItemComponent = getItemComponent(Items, level);\n      const sampleDatum = sampleDatumByLevel.get(level) ?? {};\n      const indexes = sampleDatum._originalIndex ?? Array(level + 1).fill(0);\n      const bounds = getElementBounds(\n        <ItemComponent\n          indexes={indexes}\n          data={data}\n          datum={sampleDatum}\n          positionH=\"center\"\n        />,\n      );\n      levelBounds.set(level, bounds);\n      maxWidth = Math.max(maxWidth, bounds.width);\n      maxHeight = Math.max(maxHeight, bounds.height);\n    }\n\n    return { levelBounds, maxWidth, maxHeight };\n  };\n\n  const getNodeColorIndexes = (nodeData: any, depth: number) => {\n    if (colorMode === 'group') {\n      const groupKey = String(nodeData?.group ?? '');\n      let groupIndex = groupColorIndexMap.get(groupKey);\n      if (groupIndex == null) {\n        groupIndex = nextGroupColorIndex;\n        groupColorIndexMap.set(groupKey, groupIndex);\n        nextGroupColorIndex += 1;\n      }\n      return [groupIndex];\n    }\n    return getHierarchyColorIndexes(\n      {\n        depth,\n        originalIndexes: nodeData._originalIndex,\n        flatIndex: nodeData._flatIndex,\n      },\n      colorMode,\n    );\n  };\n\n  // \n  const renderNode = (\n    node: any,\n    levelBounds: Map<number, any>,\n    btnBounds: any,\n    offsets: { x: number; y: number },\n    gradientDefs: JSXElement[],\n    allNodes: any[],\n  ) => {\n    const { depth, data: nodeData, parent } = node;\n    const indexes = nodeData._originalIndex;\n    const NodeComponent = getItemComponent(Items, depth);\n    const bounds = levelBounds.get(depth)!;\n    const nodeRect = getNodeRect(node, bounds, offsets);\n    const nodeX = nodeRect.left;\n    const nodeY = nodeRect.top;\n\n    const elements = {\n      items: [] as JSXElement[],\n      btns: [] as JSXElement[],\n      deco: [] as JSXElement[],\n    };\n\n    // \n    const colorIndexes = getNodeColorIndexes(nodeData, depth);\n    const nodeColor = getPaletteColor(options, colorIndexes);\n    const nodeThemeColors = getThemeColors(\n      {\n        colorPrimary: nodeColor,\n      },\n      options,\n    );\n\n    // \n    elements.items.push(\n      <NodeComponent\n        indexes={indexes}\n        datum={nodeData}\n        data={data}\n        x={nodeX}\n        y={nodeY}\n        positionH=\"center\"\n        themeColors={nodeThemeColors}\n      />,\n    );\n\n    // \n    elements.btns.push(\n      <BtnRemove\n        indexes={indexes}\n        x={nodeX + (bounds.width - btnBounds.width) / 2}\n        y={nodeY + bounds.height + 5}\n      />,\n      <BtnAdd\n        indexes={[...indexes, 0]}\n        x={nodeX + (bounds.width - btnBounds.width) / 2}\n        y={nodeY + bounds.height + btnBounds.height + 10}\n      />,\n    );\n\n    // \n    if (parent) {\n      const parentBounds = levelBounds.get(parent.depth)!;\n      const parentRect = getNodeRect(parent, parentBounds, offsets);\n\n      // \n      const siblings = allNodes.filter((n) => n.parent === parent);\n      const siblingIndex = siblings.findIndex((s) => s === node);\n      const siblingCount = siblings.length;\n\n      // \n      let parentX: number;\n      let parentY: number;\n      if (edgeOrigin === 'distributed' && siblingCount > 1) {\n        // \n        if (isHorizontal) {\n          const padding = distributedPadding(\n            edgeOriginPadding,\n            parentBounds.height,\n          );\n          const startY = parentRect.top + padding;\n          const endY = parentRect.bottom - padding;\n          const segmentHeight = (endY - startY) / siblingCount;\n          parentY = startY + segmentHeight * siblingIndex + segmentHeight / 2;\n          parentX =\n            (mainSign > 0 ? parentRect.right : parentRect.left) +\n            edgeOffset * mainSign;\n        } else {\n          const padding = distributedPadding(\n            edgeOriginPadding,\n            parentBounds.width,\n          );\n          const startX = parentRect.left + padding;\n          const endX = parentRect.right - padding;\n          const segmentWidth = (endX - startX) / siblingCount;\n          parentX = startX + segmentWidth * siblingIndex + segmentWidth / 2;\n          parentY =\n            (mainSign > 0 ? parentRect.bottom : parentRect.top) +\n            edgeOffset * mainSign;\n        }\n      } else {\n        // \n        parentX = isHorizontal\n          ? (mainSign > 0 ? parentRect.right : parentRect.left) +\n            edgeOffset * mainSign\n          : parentRect.centerX;\n        parentY = isHorizontal\n          ? parentRect.centerY\n          : (mainSign > 0 ? parentRect.bottom : parentRect.top) +\n            edgeOffset * mainSign;\n      }\n\n      const baseChildX = isHorizontal\n        ? (mainSign > 0 ? nodeRect.left : nodeRect.right) -\n          edgeOffset * mainSign\n        : nodeRect.centerX;\n      const baseChildY = isHorizontal\n        ? nodeRect.centerY\n        : (mainSign > 0 ? nodeRect.top : nodeRect.bottom) -\n          edgeOffset * mainSign;\n      let childX = baseChildX;\n      let childY = baseChildY;\n\n      // \n      if (edgeMarker === 'arrow') {\n        if (isHorizontal) {\n          childX -= markerSize * mainSign;\n        } else {\n          childY -= markerSize * mainSign;\n        }\n      }\n\n      // \n      let pathD: string;\n      if (edgeType === 'curved') {\n        // \n        if (isHorizontal) {\n          const midX = parentX + (childX - parentX) / 2;\n          pathD = `M ${parentX} ${parentY} C ${midX} ${parentY}, ${midX} ${childY}, ${childX} ${childY}`;\n        } else {\n          const midY = parentY + (childY - parentY) / 2;\n          pathD = `M ${parentX} ${parentY} C ${parentX} ${midY}, ${childX} ${midY}, ${childX} ${childY}`;\n        }\n      } else if (edgeCornerRadius > 0) {\n        // \n        pathD = createRoundedPath(\n          parentX,\n          parentY,\n          childX,\n          childY,\n          edgeCornerRadius,\n          isHorizontal ? 'horizontal' : 'vertical',\n        );\n      } else {\n        // \n        if (isHorizontal) {\n          const midX = parentX + (childX - parentX) / 2;\n          pathD = `M ${parentX} ${parentY} L ${midX} ${parentY} L ${midX} ${childY} L ${childX} ${childY}`;\n        } else {\n          const midY = parentY + (childY - parentY) / 2;\n          pathD = `M ${parentX} ${parentY} L ${parentX} ${midY} L ${childX} ${midY} L ${childX} ${childY}`;\n        }\n      }\n\n      // \n      let strokeColor = colorPrimary;\n      if (edgeColorMode === 'gradient') {\n        // \n        const parentColorIndexes = getNodeColorIndexes(\n          parent.data,\n          parent.depth,\n        );\n        const childColorIndexes = getNodeColorIndexes(nodeData, depth);\n        const parentColor = getPaletteColor(options, parentColorIndexes);\n        const childColor = getPaletteColor(options, childColorIndexes);\n        const gradientId = `gradient-${parent.data._originalIndex.join('-')}-${indexes.join('-')}`;\n\n        gradientDefs.push(\n          <linearGradient\n            id={gradientId}\n            x1={parentX}\n            y1={parentY}\n            x2={childX}\n            y2={childY}\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset=\"0%\" stopColor={parentColor} />\n            <stop offset=\"100%\" stopColor={childColor} />\n          </linearGradient>,\n        );\n        strokeColor = `url(#${gradientId})`;\n      }\n      // \n      const dashArray = edgeStyle === 'dashed' ? edgeDashPattern : '';\n\n      // \n      elements.deco.push(\n        <Path\n          d={pathD}\n          stroke={strokeColor}\n          strokeWidth={edgeWidth}\n          strokeDasharray={dashArray}\n          fill=\"none\"\n        />,\n      );\n\n      // \n      if (edgeMarker === 'arrow') {\n        const arrowColor =\n          edgeColorMode === 'gradient'\n            ? getPaletteColor(options, colorIndexes)\n            : getColorPrimary(options);\n\n        // \n        const arrowPoints = isHorizontal\n          ? [\n              { x: baseChildX, y: baseChildY },\n              {\n                x: baseChildX - markerSize * mainSign,\n                y: baseChildY - markerSize / 2,\n              },\n              {\n                x: baseChildX - markerSize * mainSign,\n                y: baseChildY + markerSize / 2,\n              },\n            ]\n          : [\n              { x: baseChildX, y: baseChildY },\n              {\n                x: baseChildX - markerSize / 2,\n                y: baseChildY - markerSize * mainSign,\n              },\n              {\n                x: baseChildX + markerSize / 2,\n                y: baseChildY - markerSize * mainSign,\n              },\n            ];\n\n        elements.deco.push(\n          <Polygon\n            points={arrowPoints}\n            fill={arrowColor}\n            width={markerSize}\n            height={markerSize}\n          />,\n        );\n      }\n\n      // \n      if (edgeMarker === 'dot') {\n        const parentColorIndexes = getNodeColorIndexes(\n          parent.data,\n          parent.depth,\n        );\n        const parentDotColor =\n          edgeColorMode === 'gradient'\n            ? getPaletteColor(options, parentColorIndexes)\n            : getColorPrimary(options);\n\n        // \n        elements.deco.push(\n          <Ellipse\n            x={\n              (isHorizontal\n                ? mainSign > 0\n                  ? parentRect.right + edgeOffset\n                  : parentRect.left - edgeOffset\n                : parentX) - markerSize\n            }\n            y={\n              (isHorizontal\n                ? parentY\n                : mainSign > 0\n                  ? parentRect.bottom + edgeOffset\n                  : parentRect.top - edgeOffset) - markerSize\n            }\n            width={markerSize * 2}\n            height={markerSize * 2}\n            fill={parentDotColor}\n          />,\n        );\n        // \n        const childDotColor =\n          edgeColorMode === 'gradient'\n            ? getPaletteColor(options, colorIndexes)\n            : getColorPrimary(options);\n\n        elements.deco.push(\n          <Ellipse\n            x={baseChildX - markerSize}\n            y={baseChildY - markerSize}\n            width={markerSize * 2}\n            height={markerSize * 2}\n            fill={childDotColor}\n          />,\n        );\n      }\n    }\n\n    return elements;\n  };\n\n  // \n  const renderSiblingBtns = (\n    nodes: any[],\n    btnBounds: any,\n    offsets: { x: number; y: number },\n  ) => {\n    const nodesByParent = new Map<string, any[]>();\n\n    nodes.forEach((node) => {\n      const key = node.parent\n        ? node.parent.data._originalIndex.join('-')\n        : 'root';\n      (nodesByParent.get(key) ?? nodesByParent.set(key, []).get(key)!).push(\n        node,\n      );\n    });\n\n    const btns: JSXElement[] = [];\n    nodesByParent.forEach((siblings) => {\n      if (siblings.length <= 1) return;\n\n      const sorted = siblings\n        .slice()\n        .sort((a, b) =>\n          isHorizontal\n            ? getLayoutPoint(a).y - getLayoutPoint(b).y\n            : getLayoutPoint(a).x - getLayoutPoint(b).x,\n        );\n      if (sorted.length === 0) return;\n\n      for (let i = 0; i < sorted.length - 1; i++) {\n        const current = getLayoutPoint(sorted[i]);\n        const next = getLayoutPoint(sorted[i + 1]);\n        const parentIndexes = sorted[i].data._originalIndex.slice(0, -1);\n        const insertIndex = sorted[i].data._originalIndex.at(-1)! + 1;\n\n        if (isHorizontal) {\n          const btnX =\n            current.x +\n            offsets.x +\n            (mainSign > 0 ? -btnBounds.width - 5 : btnBounds.width + 5);\n          const btnY =\n            (current.y + next.y) / 2 + offsets.y - btnBounds.height / 2;\n          btns.push(\n            <BtnAdd\n              indexes={[...parentIndexes, insertIndex]}\n              x={btnX}\n              y={btnY}\n            />,\n          );\n        } else {\n          const siblingY = current.y + offsets.y - btnBounds.height - 5;\n          const btnX =\n            (current.x + next.x) / 2 + offsets.x - btnBounds.width / 2;\n          btns.push(\n            <BtnAdd\n              indexes={[...parentIndexes, insertIndex]}\n              x={btnX}\n              y={siblingY}\n            />,\n          );\n        }\n      }\n    });\n\n    return btns;\n  };\n\n  // \n  const items = normalizeItems(data.items);\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  // \n  if (!items.length) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>\n            <BtnAdd\n              indexes={[0]}\n              x={-btnBounds.width / 2}\n              y={-btnBounds.height / 2}\n            />\n          </BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  // \n  const hierarchyData = buildHierarchyData(items);\n  const root = d3.hierarchy(hierarchyData);\n  const { levelBounds, maxWidth, maxHeight } = computeLevelBounds(root);\n\n  const treeLayout = d3\n    .tree<any>()\n    .nodeSize(\n      isHorizontal\n        ? [maxHeight + nodeGap, maxWidth + levelGap]\n        : [maxWidth + nodeGap, maxHeight + levelGap],\n    )\n    .separation(() => 1);\n  const nodes = treeLayout(root).descendants();\n\n  // \n  const layoutPoints = nodes.map((d) => getLayoutPoint(d));\n  const minX = Math.min(...layoutPoints.map((d) => d.x));\n  const minY = Math.min(...layoutPoints.map((d) => d.y));\n  const offsets = {\n    x: Math.max(0, -minX + maxWidth / 2),\n    y: Math.max(0, -minY + btnBounds.height + 10),\n  };\n\n  // \n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n  const decoElements: JSXElement[] = [];\n  const gradientDefs: JSXElement[] = [];\n\n  //  node-flat \n  nodes.forEach((node, index) => {\n    //  node-flat \n    node.data._flatIndex = index;\n    const { x, y } = getLayoutPoint(node);\n    (node as any).__layout = { x, y };\n  });\n\n  nodes.forEach((node) => {\n    const { items, btns, deco } = renderNode(\n      node,\n      levelBounds,\n      btnBounds,\n      offsets,\n      gradientDefs,\n      nodes,\n    );\n    itemElements.push(...items);\n    btnElements.push(...btns);\n    decoElements.push(...deco);\n  });\n\n  btnElements.push(...renderSiblingBtns(nodes, btnBounds, offsets));\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        {gradientDefs.length > 0 && <Defs>{gradientDefs}</Defs>}\n        <ShapesGroup>{decoElements}</ShapesGroup>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('hierarchy-tree', {\n  component: HierarchyTree,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListColumnProps extends BaseStructureProps {\n  width?: number;\n  gap?: number;\n  zigzag?: boolean;\n}\n\nexport const ListColumn: ComponentType<ListColumnProps> = (props) => {\n  const { Title, Item, data, gap = 20, width: contentWidth, zigzag } = props;\n  const { title, desc, items = [] } = data;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} />,\n  );\n\n  const width: number = contentWidth || itemBounds.width;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n\n  const btnAddX = (width - btnBounds.width) / 2;\n  items.forEach((item, index) => {\n    const itemY = (itemBounds.height + gap) * index;\n    const indexes = [index];\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        y={itemY}\n        width={width}\n        positionV=\"middle\"\n        positionH={zigzag ? (index % 2 === 0 ? 'normal' : 'flipped') : 'normal'}\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={-btnBounds.width - 10}\n        y={itemY + (itemBounds.height - btnBounds.height) / 2}\n      />,\n    );\n\n    const btnAddY =\n      index === 0 ? -btnBounds.height : itemY - gap / 2 - btnBounds.height / 2;\n\n    btnElements.push(<BtnAdd indexes={indexes} x={btnAddX} y={btnAddY} />);\n  });\n\n  if (items.length > 0) {\n    const lastItemY = (itemBounds.height + gap) * (items.length - 1);\n    const extraAddBtnY = lastItemY + itemBounds.height;\n\n    btnElements.push(\n      <BtnAdd indexes={[items.length]} x={btnAddX} y={extraAddBtnY} />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('list-column', {\n  component: ListColumn,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListGridProps extends BaseStructureProps {\n  columns?: number;\n  gap?: number;\n  zigzag?: boolean;\n}\n\nexport const ListGrid: ComponentType<ListGridProps> = (props) => {\n  const { Title, Item, data, columns = 3, gap = 24, zigzag } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n\n  const rowHeight = itemBounds.height + gap;\n  const colWidth = itemBounds.width + gap;\n\n  // Track processed rows for left/right buttons\n  const processedRows = new Set<number>();\n\n  items.forEach((item, index) => {\n    const row = Math.floor(index / columns);\n    const col = index % columns;\n    const itemX = col * colWidth;\n    const itemY = row * rowHeight;\n    const indexes = [index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"center\"\n        positionV={zigzag && index % 2 === 0 ? 'normal' : 'flipped'}\n      />,\n    );\n\n    // Remove button - positioned below item\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={itemY + itemBounds.height}\n      />,\n    );\n\n    // Add horizontal buttons between items (vertically centered with items)\n    if (col < columns - 1) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[index + 1]}\n          x={itemX + itemBounds.width + (gap - btnBounds.width) / 2}\n          y={itemY + (itemBounds.height - btnBounds.height) / 2}\n        />,\n      );\n    }\n\n    // Add button at the left side of first item in each row\n    if (col === 0 && !processedRows.has(row)) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[index]}\n          x={itemX - gap / 2 - btnBounds.width / 2}\n          y={itemY + (itemBounds.height - btnBounds.height) / 2}\n        />,\n      );\n      processedRows.add(row);\n    }\n\n    // Add button at the right side of last item in each row\n    const isLastInRow = col === columns - 1 || index === items.length - 1;\n    if (isLastInRow) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[index + 1]}\n          x={itemX + itemBounds.width + gap / 2 - btnBounds.width / 2}\n          y={itemY + (itemBounds.height - btnBounds.height) / 2}\n        />,\n      );\n    }\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('list-grid', {\n  component: ListGrid,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListPyramidProps extends BaseStructureProps {\n  gap?: number;\n  levelGap?: number;\n}\n\nexport const ListPyramid: ComponentType<ListPyramidProps> = (props) => {\n  const { Title, Item, data, gap = 20, levelGap = 20 } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n\n  const levels = Math.ceil(Math.sqrt(items.length));\n  const levelSizes: number[] = [];\n  let remainingItems = items.length;\n\n  for (let level = 0; level < levels; level++) {\n    const itemsInLevel = Math.min(level + 1, remainingItems);\n    levelSizes.push(itemsInLevel);\n    remainingItems -= itemsInLevel;\n    if (remainingItems <= 0) break;\n  }\n\n  let itemIndex = 0;\n  const maxLevelSize = Math.max(...levelSizes);\n  const maxLevelWidth =\n    maxLevelSize * itemBounds.width + (maxLevelSize - 1) * gap;\n  const baseOffset = maxLevelWidth / 2;\n\n  levelSizes.forEach((levelSize, level) => {\n    const levelY = level * (itemBounds.height + levelGap);\n    const totalLevelWidth =\n      levelSize * itemBounds.width + (levelSize - 1) * gap;\n    const startX = baseOffset - totalLevelWidth / 2;\n\n    for (let i = 0; i < levelSize && itemIndex < items.length; i++) {\n      const itemX = startX + i * (itemBounds.width + gap);\n      const item = items[itemIndex];\n      const indexes = [itemIndex];\n\n      itemElements.push(\n        <Item\n          indexes={indexes}\n          datum={item}\n          data={data}\n          x={itemX}\n          y={levelY}\n          positionH=\"center\"\n        />,\n      );\n\n      // Remove button - positioned below item\n      btnElements.push(\n        <BtnRemove\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={levelY + itemBounds.height}\n        />,\n      );\n\n      // Add horizontal buttons between items (vertically centered with items)\n      if (i < levelSize - 1) {\n        btnElements.push(\n          <BtnAdd\n            indexes={[itemIndex + 1]}\n            x={itemX + itemBounds.width + (gap - btnBounds.width) / 2}\n            y={levelY + (itemBounds.height - btnBounds.height) / 2}\n          />,\n        );\n      }\n\n      // Add button at the left side of first item in each level\n      if (i === 0) {\n        btnElements.push(\n          <BtnAdd\n            indexes={[itemIndex]}\n            x={itemX - gap / 2 - btnBounds.width / 2}\n            y={levelY + (itemBounds.height - btnBounds.height) / 2}\n          />,\n        );\n      }\n\n      // Add button at the right side of last item in each level\n      if (i === levelSize - 1) {\n        btnElements.push(\n          <BtnAdd\n            indexes={[itemIndex + 1]}\n            x={itemX + itemBounds.width + gap / 2 - btnBounds.width / 2}\n            y={levelY + (itemBounds.height - btnBounds.height) / 2}\n          />,\n        );\n      }\n\n      itemIndex++;\n    }\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('list-pyramid', {\n  component: ListPyramid,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListRowProps extends BaseStructureProps {\n  gap?: number;\n  zigzag?: boolean;\n}\n\nexport const ListRow: ComponentType<ListRowProps> = (props) => {\n  const { Title, Item, data, gap = 20, zigzag } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n\n  const btnAddY = (itemBounds.height - btnBounds.height) / 2;\n  const btnRemoveY = itemBounds.height;\n\n  items.forEach((item, index) => {\n    const itemX = (itemBounds.width + gap) * index;\n    const indexes = [index];\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        positionH=\"center\"\n        positionV={zigzag && index % 2 === 0 ? 'normal' : 'flipped'}\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={btnRemoveY}\n      />,\n    );\n\n    const btnAddX =\n      index === 0\n        ? -(gap + btnBounds.width) / 2\n        : itemX - (gap + btnBounds.width) / 2;\n\n    btnElements.push(<BtnAdd indexes={indexes} x={btnAddX} y={btnAddY} />);\n  });\n\n  if (items.length > 0) {\n    const lastItemX = (itemBounds.width + gap) * (items.length - 1);\n    const extraAddBtnX =\n      lastItemX + itemBounds.width + (gap - btnBounds.width) / 2;\n\n    btnElements.push(\n      <BtnAdd indexes={[items.length]} x={extraAddBtnX} y={btnAddY} />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('list-row', {\n  component: ListRow,\n  composites: ['title', 'item'],\n});\n","import { ElementTypeEnum } from '../../constants';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Ellipse, getElementBounds, Group, Path, Text } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListSectorProps extends BaseStructureProps {\n  outerRadius?: number;\n  innerRadius?: number;\n  startAngle?: number;\n  endAngle?: number;\n  gapAngle?: number;\n}\n\nexport const ListSector: ComponentType<ListSectorProps> = (props) => {\n  const {\n    Item,\n    data,\n    outerRadius = 250,\n    innerRadius = 120,\n    startAngle = -90,\n    endAngle = 270,\n    gapAngle = 1,\n    options,\n  } = props;\n  const { title, items = [] } = data;\n\n  const themeColors = getThemeColors(options.themeConfig);\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const sectorElements: JSXElement[] = [];\n\n  const centerX = outerRadius + 100;\n  const centerY = outerRadius + 100;\n\n  const totalAngle = endAngle - startAngle;\n  const isFullCircle = Math.abs(totalAngle - 360) < 0.01;\n  // \n  const totalGapAngle =\n    items.length > 0\n      ? gapAngle * (isFullCircle ? items.length : items.length - 1)\n      : 0;\n  const totalUsableAngle = totalAngle - totalGapAngle;\n  const anglePerSector = items.length > 0 ? totalUsableAngle / items.length : 0;\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const currentStartAngle = startAngle + (anglePerSector + gapAngle) * index;\n    const currentEndAngle = currentStartAngle + anglePerSector;\n\n    // \n    // \n    const gapArcLength = (gapAngle * Math.PI * outerRadius) / 180;\n    const innerGapAngle = (gapArcLength / innerRadius) * (180 / Math.PI);\n    const outerGapAngle = gapAngle;\n\n    // \n    const outerStartAngleRad =\n      ((currentStartAngle + outerGapAngle / 2) * Math.PI) / 180;\n    const outerEndAngleRad =\n      ((currentEndAngle - outerGapAngle / 2) * Math.PI) / 180;\n\n    // \n    const innerStartAngleRad =\n      ((currentStartAngle + innerGapAngle / 2) * Math.PI) / 180;\n    const innerEndAngleRad =\n      ((currentEndAngle - innerGapAngle / 2) * Math.PI) / 180;\n\n    const outerStartX = centerX + outerRadius * Math.cos(outerStartAngleRad);\n    const outerStartY = centerY + outerRadius * Math.sin(outerStartAngleRad);\n    const outerEndX = centerX + outerRadius * Math.cos(outerEndAngleRad);\n    const outerEndY = centerY + outerRadius * Math.sin(outerEndAngleRad);\n\n    const innerStartX = centerX + innerRadius * Math.cos(innerStartAngleRad);\n    const innerStartY = centerY + innerRadius * Math.sin(innerStartAngleRad);\n    const innerEndX = centerX + innerRadius * Math.cos(innerEndAngleRad);\n    const innerEndY = centerY + innerRadius * Math.sin(innerEndAngleRad);\n\n    const largeArcFlag = anglePerSector > 180 ? 1 : 0;\n\n    const arcPath = `\n      M ${outerStartX} ${outerStartY}\n      A ${outerRadius} ${outerRadius} 0 ${largeArcFlag} 1 ${outerEndX} ${outerEndY}\n      L ${innerEndX} ${innerEndY}\n      A ${innerRadius} ${innerRadius} 0 ${largeArcFlag} 0 ${innerStartX} ${innerStartY}\n      Z\n    `.trim();\n\n    const color = getPaletteColor(options, indexes);\n\n    sectorElements.push(\n      <Path\n        id=\"shape-sector\"\n        d={arcPath}\n        fill={color}\n        width={outerRadius * 2 + 200}\n        height={outerRadius * 2 + 200}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    const midAngle = currentStartAngle + anglePerSector / 2;\n    const midAngleRad = (midAngle * Math.PI) / 180;\n\n    const midRadius = (outerRadius + innerRadius) / 2;\n\n    const arcThickness = outerRadius - innerRadius;\n    const midAngleRadian = (anglePerSector * Math.PI) / 180;\n    const arcLength = midRadius * midAngleRadian;\n\n    const maxWidth = Math.min(arcLength * 0.8, arcThickness * 0.9);\n    const maxHeight = Math.min(arcThickness * 0.9, arcLength * 0.8);\n\n    const itemBounds = getElementBounds(\n      <Item\n        indexes={[0]}\n        data={data}\n        datum={items[0]}\n        positionH=\"center\"\n        width={maxWidth}\n        height={maxHeight}\n      />,\n    );\n\n    const itemX =\n      centerX + midRadius * Math.cos(midAngleRad) - itemBounds.width / 2;\n    const itemY =\n      centerY + midRadius * Math.sin(midAngleRad) - itemBounds.height / 2;\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"center\"\n        width={maxWidth}\n        height={maxHeight}\n        themeColors={{\n          ...getThemeColors({\n            colorBg: getPaletteColor(options, indexes),\n            colorPrimary: options.themeConfig?.colorBg || 'white',\n          }),\n        }}\n      />,\n    );\n\n    const btnRemoveRadius = outerRadius + 10;\n    const btnRemoveX =\n      centerX + btnRemoveRadius * Math.cos(midAngleRad) - btnBounds.width / 2;\n    const btnRemoveY =\n      centerY + btnRemoveRadius * Math.sin(midAngleRad) - btnBounds.height / 2;\n\n    btnElements.push(\n      <BtnRemove indexes={indexes} x={btnRemoveX} y={btnRemoveY} />,\n    );\n\n    // \n    if (isFullCircle || index < items.length - 1) {\n      const gapMidAngle = currentEndAngle + gapAngle / 2;\n      const gapMidAngleRad = (gapMidAngle * Math.PI) / 180;\n      const btnAddRadius = midRadius;\n      const btnAddX =\n        centerX + btnAddRadius * Math.cos(gapMidAngleRad) - btnBounds.width / 2;\n      const btnAddY =\n        centerY +\n        btnAddRadius * Math.sin(gapMidAngleRad) -\n        btnBounds.height / 2;\n\n      btnElements.push(\n        <BtnAdd indexes={[index + 1]} x={btnAddX} y={btnAddY} />,\n      );\n    }\n  });\n\n  if (items.length > 0) {\n    const firstGapMidAngle = startAngle - gapAngle / 2;\n    const firstGapMidAngleRad = (firstGapMidAngle * Math.PI) / 180;\n    const midRadius = (outerRadius + innerRadius) / 2;\n    const btnAddX =\n      centerX + midRadius * Math.cos(firstGapMidAngleRad) - btnBounds.width / 2;\n    const btnAddY =\n      centerY +\n      midRadius * Math.sin(firstGapMidAngleRad) -\n      btnBounds.height / 2;\n\n    btnElements.push(<BtnAdd indexes={[0]} x={btnAddX} y={btnAddY} />);\n  }\n\n  const centerRadius = innerRadius * 0.9;\n\n  //  title title \n  let titleCenterX = centerX;\n  let titleCenterY = centerY;\n  let titleWidth = centerRadius * 1.4;\n  let titleHeight = centerRadius * 1.4;\n\n  if (!isFullCircle) {\n    // \n    const midAngle = (startAngle + endAngle) / 2;\n    const midAngleRad = (midAngle * Math.PI) / 180;\n    // title \n    const titleRadius = centerRadius * 0.5;\n    titleCenterX = centerX + titleRadius * Math.cos(midAngleRad);\n    titleCenterY = centerY + titleRadius * Math.sin(midAngleRad);\n\n    // \n    // \n    const arcLength = (totalAngle * Math.PI * titleRadius) / 180;\n    titleWidth = Math.min(arcLength * 0.8, centerRadius * 1.4);\n    titleHeight = Math.min(titleRadius * 1.5, centerRadius * 1.4);\n  }\n\n  // \n  let centerSectorPath = '';\n  if (isFullCircle) {\n    //  Ellipse\n    centerSectorPath = '';\n  } else {\n    // \n    const centerStartAngleRad = (startAngle * Math.PI) / 180;\n    const centerEndAngleRad = (endAngle * Math.PI) / 180;\n\n    const centerStartX = centerX + centerRadius * Math.cos(centerStartAngleRad);\n    const centerStartY = centerY + centerRadius * Math.sin(centerStartAngleRad);\n    const centerEndX = centerX + centerRadius * Math.cos(centerEndAngleRad);\n    const centerEndY = centerY + centerRadius * Math.sin(centerEndAngleRad);\n\n    const centerLargeArcFlag = totalAngle > 180 ? 1 : 0;\n\n    centerSectorPath = `\n      M ${centerX} ${centerY}\n      L ${centerStartX} ${centerStartY}\n      A ${centerRadius} ${centerRadius} 0 ${centerLargeArcFlag} 1 ${centerEndX} ${centerEndY}\n      Z\n    `.trim();\n  }\n\n  return (\n    <Group id=\"infographic-container\">\n      <Group>{sectorElements}</Group>\n      {isFullCircle ? (\n        <Ellipse\n          id=\"shape-center-circle\"\n          x={centerX - centerRadius}\n          y={centerY - centerRadius}\n          width={centerRadius * 2}\n          height={centerRadius * 2}\n          fill={themeColors.colorPrimaryBg}\n          fillOpacity={0.5}\n          data-element-type=\"shape\"\n        />\n      ) : (\n        <Path\n          id=\"shape-center-sector\"\n          d={centerSectorPath}\n          fill={themeColors.colorPrimaryBg}\n          fillOpacity={0.5}\n          width={outerRadius * 2 + 200}\n          height={outerRadius * 2 + 200}\n          data-element-type=\"shape\"\n        />\n      )}\n      <Text\n        x={titleCenterX - titleWidth / 2}\n        y={titleCenterY - titleHeight / 2}\n        width={titleWidth}\n        height={titleHeight}\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fontSize={24}\n        fontWeight=\"bold\"\n        fill={themeColors.colorText}\n        data-element-type={ElementTypeEnum.Title}\n      >\n        {title}\n      </Text>\n      <ItemsGroup>{itemElements}</ItemsGroup>\n      <BtnsGroup>{btnElements}</BtnsGroup>\n    </Group>\n  );\n};\n\nregisterStructure('list-sector', {\n  component: ListSector,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListWaterfallProps extends BaseStructureProps {\n  columns?: number;\n  gap?: number;\n  stepOffset?: number;\n}\n\nexport const ListWaterfall: ComponentType<ListWaterfallProps> = (props) => {\n  const { Title, Item, data, columns = 4, gap = 20, stepOffset = 40 } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n\n  const colWidth = itemBounds.width + gap;\n\n  items.forEach((item, index) => {\n    const col = index % columns;\n    const row = Math.floor(index / columns);\n\n    const itemX = col * colWidth;\n\n    const baseY = row * (itemBounds.height + gap);\n    const columnStepOffset = col * stepOffset;\n\n    const itemY = baseY + columnStepOffset;\n\n    const indexes = [index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"center\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={itemY + itemBounds.height + 5}\n      />,\n    );\n  });\n\n  items.forEach((item, index) => {\n    const col = index % columns;\n    const row = Math.floor(index / columns);\n\n    const itemX = col * colWidth;\n    const baseY = row * (itemBounds.height + gap);\n    const columnStepOffset = col * stepOffset;\n    const itemY = baseY + columnStepOffset;\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[0]}\n          x={itemX - gap / 2 - btnBounds.width / 2}\n          y={itemY + (itemBounds.height - btnBounds.height) / 2}\n        />,\n      );\n    }\n\n    if (col < columns - 1 && index < items.length - 1) {\n      const nextRow = Math.floor((index + 1) / columns);\n\n      if (row === nextRow) {\n        btnElements.push(\n          <BtnAdd\n            indexes={[index + 1]}\n            x={itemX + itemBounds.width + (gap - btnBounds.width) / 2}\n            y={itemY + (itemBounds.height - btnBounds.height) / 2}\n          />,\n        );\n      }\n    }\n\n    if (col === columns - 1 || index === items.length - 1) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[index + 1]}\n          x={itemX + itemBounds.width + (gap - btnBounds.width) / 2}\n          y={itemY + (itemBounds.height - btnBounds.height) / 2}\n        />,\n      );\n    }\n  });\n\n  if (items.length === 0) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[0]}\n        x={\n          ((columns - 1) * colWidth) / 2 +\n          (itemBounds.width - btnBounds.width) / 2\n        }\n        y={0}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('list-waterfall', {\n  component: ListWaterfall,\n  composites: ['title', 'item'],\n});\n","import tinycolor from 'tinycolor2';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface ListZigzagProps extends BaseStructureProps {\n  itemGap?: number;\n}\n\nexport interface ListZigzagDownProps extends ListZigzagProps {}\n\nexport interface ListZigzagUpProps extends ListZigzagProps {}\n\nconst MAX_ITEMS = 6;\nconst ARROW_WIDTH = 700;\nconst ARROW_HEIGHT_DOWN = 330;\nconst ARROW_HEIGHT_UP = 333;\n\ntype AnchorPosition =\n  | 'center'\n  | 'top'\n  | 'bottom'\n  | 'top-left'\n  | 'top-right'\n  | 'bottom-left'\n  | 'bottom-right';\n\ntype AnchorPoint = {\n  x: number;\n  y: number;\n  anchor?: AnchorPosition;\n};\n\ntype ZigzagArrowProps = {\n  colorPrimary?: string;\n  colorShadow?: string;\n};\n\ntype ZigzagConfig = {\n  arrowHeight: number;\n  presetRatios: Record<number, AnchorPoint[]>;\n  Arrow: ComponentType<ZigzagArrowProps>;\n};\n\nconst PRESET_RATIOS_DOWN: Record<number, AnchorPoint[]> = {\n  1: [{ x: 0.5, y: 0.6, anchor: 'top-right' }],\n  2: [\n    { x: 0.42, y: 0.5, anchor: 'top-right' },\n    { x: 0.72, y: 0.4, anchor: 'bottom' },\n  ],\n  3: [\n    { x: 0.3, y: 0.5, anchor: 'top-right' },\n    { x: 0.48, y: 0.3, anchor: 'bottom-left' },\n    { x: 0.8, y: 0.75, anchor: 'top-right' },\n  ],\n  4: [\n    { x: 0.3, y: 0.5, anchor: 'top-right' },\n    { x: 0.35, y: 0.2, anchor: 'bottom-left' },\n    { x: 0.65, y: 0.73, anchor: 'top-right' },\n    { x: 0.8, y: 0.52, anchor: 'bottom-left' },\n  ],\n  5: [\n    { x: 0.19, y: 0.4, anchor: 'top-right' },\n    { x: 0.38, y: 0.2, anchor: 'bottom' },\n    { x: 0.52, y: 0.62, anchor: 'top-right' },\n    { x: 0.7, y: 0.43, anchor: 'bottom' },\n    { x: 0.82, y: 0.8, anchor: 'top-right' },\n  ],\n  6: [\n    { x: 0.16, y: 0.35, anchor: 'top-right' },\n    { x: 0.38, y: 0.2, anchor: 'bottom' },\n    { x: 0.48, y: 0.54, anchor: 'top-right' },\n    { x: 0.55, y: 0.43, anchor: 'bottom-left' },\n    { x: 0.8, y: 0.75, anchor: 'top-right' },\n    { x: 0.86, y: 0.65, anchor: 'bottom-left' },\n  ],\n};\n\nconst PRESET_RATIOS_UP: Record<number, AnchorPoint[]> = {\n  1: [{ x: 0.5, y: 0.4, anchor: 'bottom-right' }],\n  2: [\n    { x: 0.42, y: 0.5, anchor: 'bottom-right' },\n    { x: 0.72, y: 0.6, anchor: 'top' },\n  ],\n  3: [\n    { x: 0.3, y: 0.5, anchor: 'bottom-right' },\n    { x: 0.48, y: 0.7, anchor: 'top-left' },\n    { x: 0.8, y: 0.25, anchor: 'bottom-right' },\n  ],\n  4: [\n    { x: 0.3, y: 0.5, anchor: 'bottom-right' },\n    { x: 0.35, y: 0.8, anchor: 'top-left' },\n    { x: 0.65, y: 0.27, anchor: 'bottom-right' },\n    { x: 0.8, y: 0.48, anchor: 'top-left' },\n  ],\n  5: [\n    { x: 0.19, y: 0.6, anchor: 'bottom-right' },\n    { x: 0.38, y: 0.8, anchor: 'top' },\n    { x: 0.52, y: 0.38, anchor: 'bottom-right' },\n    { x: 0.7, y: 0.57, anchor: 'top' },\n    { x: 0.82, y: 0.2, anchor: 'bottom-right' },\n  ],\n  6: [\n    { x: 0.16, y: 0.65, anchor: 'bottom-right' },\n    { x: 0.38, y: 0.8, anchor: 'top' },\n    { x: 0.48, y: 0.46, anchor: 'bottom-right' },\n    { x: 0.55, y: 0.57, anchor: 'top-left' },\n    { x: 0.8, y: 0.25, anchor: 'bottom-right' },\n    { x: 0.86, y: 0.35, anchor: 'top-left' },\n  ],\n};\n\nconst getPresetPoints = (\n  count: number,\n  presetRatios: Record<number, AnchorPoint[]>,\n  arrowHeight: number,\n) => {\n  const ratios = presetRatios[count];\n  if (!ratios) return null;\n  return ratios.map((point) => ({\n    x: point.x * ARROW_WIDTH,\n    y: point.y * arrowHeight,\n    anchor: point.anchor,\n  }));\n};\n\nconst getAnchoredPosition = (\n  point: AnchorPoint,\n  size: { width: number; height: number },\n) => {\n  const anchor = point.anchor || 'center';\n  let x = point.x - size.width / 2;\n  let y = point.y - size.height / 2;\n  let centerY = point.y;\n\n  switch (anchor) {\n    case 'top':\n      x = point.x - size.width / 2;\n      y = point.y;\n      centerY = point.y + size.height / 2;\n      break;\n    case 'bottom':\n      x = point.x - size.width / 2;\n      y = point.y - size.height;\n      centerY = point.y - size.height / 2;\n      break;\n    case 'top-left':\n      x = point.x;\n      y = point.y;\n      centerY = point.y + size.height / 2;\n      break;\n    case 'top-right':\n      x = point.x - size.width;\n      y = point.y;\n      centerY = point.y + size.height / 2;\n      break;\n    case 'bottom-left':\n      x = point.x;\n      y = point.y - size.height;\n      centerY = point.y - size.height / 2;\n      break;\n    case 'bottom-right':\n      x = point.x - size.width;\n      y = point.y - size.height;\n      centerY = point.y - size.height / 2;\n      break;\n    default:\n      break;\n  }\n\n  return { x, y, centerY };\n};\n\nconst getUnitVector = (\n  from: { x: number; y: number },\n  to: {\n    x: number;\n    y: number;\n  },\n) => {\n  const dx = to.x - from.x;\n  const dy = to.y - from.y;\n  const length = Math.hypot(dx, dy) || 1;\n  return { x: dx / length, y: dy / length };\n};\n\nconst createListZigzag = (config: ZigzagConfig) => {\n  const { presetRatios, arrowHeight, Arrow } = config;\n  const ListZigzag: ComponentType<ListZigzagProps> = (props) => {\n    const { Title, Item, data, options, itemGap = 24 } = props;\n    const { title, desc, items = [] } = data;\n    const layoutCount = Math.min(items.length, MAX_ITEMS);\n    const displayItems = items.slice(0, layoutCount);\n\n    const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n    const colorPrimary = getColorPrimary(options);\n    const themeColors = getThemeColors({ colorPrimary }, options);\n    const colorShadow = themeColors.colorTextSecondary || '#737373';\n\n    const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n    if (items.length === 0) {\n      const anchor = getPresetPoints(1, presetRatios, arrowHeight)?.[0];\n      if (!anchor) {\n        return (\n          <FlexLayout\n            id=\"infographic-container\"\n            flexDirection=\"column\"\n            justifyContent=\"center\"\n            alignItems=\"center\"\n          >\n            {titleContent}\n            <Group>\n              <Arrow colorPrimary={colorPrimary} colorShadow={colorShadow} />\n            </Group>\n          </FlexLayout>\n        );\n      }\n      const btnX = anchor.x - btnBounds.width / 2;\n      const btnY = anchor.y - btnBounds.height / 2;\n      return (\n        <FlexLayout\n          id=\"infographic-container\"\n          flexDirection=\"column\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n        >\n          {titleContent}\n          <Group>\n            <Arrow colorPrimary={colorPrimary} colorShadow={colorShadow} />\n            <ItemsGroup />\n            <BtnsGroup>\n              <BtnAdd indexes={[0]} x={btnX} y={btnY} />\n            </BtnsGroup>\n          </Group>\n        </FlexLayout>\n      );\n    }\n\n    const itemBounds = getElementBounds(\n      <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n    );\n\n    const btnElements: JSXElement[] = [];\n    const itemElements: JSXElement[] = [];\n    const presetPoints = getPresetPoints(\n      layoutCount,\n      presetRatios,\n      arrowHeight,\n    );\n    if (!presetPoints) {\n      return (\n        <FlexLayout\n          id=\"infographic-container\"\n          flexDirection=\"column\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n        >\n          {titleContent}\n          <Group>\n            <Arrow colorPrimary={colorPrimary} colorShadow={colorShadow} />\n            <ItemsGroup />\n          </Group>\n        </FlexLayout>\n      );\n    }\n    const anchorPoints = presetPoints;\n    const baseDirection =\n      anchorPoints.length > 1\n        ? getUnitVector(anchorPoints[0], anchorPoints[anchorPoints.length - 1])\n        : { x: 1, y: 0 };\n    const startDirection =\n      anchorPoints.length > 1\n        ? getUnitVector(anchorPoints[0], anchorPoints[1])\n        : baseDirection;\n    const endDirection =\n      anchorPoints.length > 1\n        ? getUnitVector(\n            anchorPoints[anchorPoints.length - 2],\n            anchorPoints[anchorPoints.length - 1],\n          )\n        : baseDirection;\n    const addOffset =\n      Math.max(itemBounds.width, itemBounds.height) * 0.45 + itemGap;\n\n    const toItemPosition = (point: AnchorPoint) => {\n      const { x, y, centerY } = getAnchoredPosition(point, itemBounds);\n      return { x, y, centerY };\n    };\n\n    anchorPoints.forEach((anchor, index) => {\n      const itemPosition = toItemPosition(anchor);\n      const isTop = itemPosition.centerY < arrowHeight / 2;\n      const indexes = [index];\n      const item = displayItems[index];\n      if (!item) return;\n\n      itemElements.push(\n        <Item\n          indexes={indexes}\n          datum={item}\n          data={data}\n          x={itemPosition.x}\n          y={itemPosition.y}\n          positionH=\"center\"\n        />,\n      );\n\n      const btnRemoveX =\n        itemPosition.x + itemBounds.width - btnBounds.width / 2;\n      const btnRemoveY = isTop\n        ? itemPosition.y - btnBounds.height / 2\n        : itemPosition.y + itemBounds.height - btnBounds.height / 2;\n      btnElements.push(\n        <BtnRemove indexes={indexes} x={btnRemoveX} y={btnRemoveY} />,\n      );\n    });\n\n    if (anchorPoints.length > 0) {\n      const firstAnchor = anchorPoints[0];\n      const firstAddX =\n        firstAnchor.x - startDirection.x * addOffset - btnBounds.width / 2;\n      const firstAddY =\n        firstAnchor.y - startDirection.y * addOffset - btnBounds.height / 2;\n      btnElements.push(<BtnAdd indexes={[0]} x={firstAddX} y={firstAddY} />);\n\n      for (let index = 0; index < anchorPoints.length - 1; index++) {\n        const current = anchorPoints[index];\n        const next = anchorPoints[index + 1];\n        const midX = (current.x + next.x) / 2;\n        const midY = (current.y + next.y) / 2;\n        const midAddX = midX - btnBounds.width / 2;\n        const midAddY = midY - btnBounds.height / 2;\n        btnElements.push(\n          <BtnAdd indexes={[index + 1]} x={midAddX} y={midAddY} />,\n        );\n      }\n\n      const lastAnchor = anchorPoints[anchorPoints.length - 1];\n      const lastAddX =\n        lastAnchor.x + endDirection.x * addOffset - btnBounds.width / 2;\n      const lastAddY =\n        lastAnchor.y + endDirection.y * addOffset - btnBounds.height / 2;\n      btnElements.push(\n        <BtnAdd indexes={[layoutCount]} x={lastAddX} y={lastAddY} />,\n      );\n    }\n\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <Arrow colorPrimary={colorPrimary} colorShadow={colorShadow} />\n          <ItemsGroup>{itemElements}</ItemsGroup>\n          <BtnsGroup>{btnElements}</BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  };\n\n  return ListZigzag;\n};\n\nconst ArrowDown: ComponentType<ZigzagArrowProps> = ({\n  colorPrimary = '#17CA2C',\n  colorShadow = '#737373',\n}) => {\n  const colorPrimaryDark = tinycolor(colorPrimary).darken(20).toHexString();\n  return (\n    <Group width={ARROW_WIDTH} height={ARROW_HEIGHT_DOWN}>\n      <path\n        d=\"M228.864 159.446C230.266 159.446 231.623 158.768 232.689 157.535L274.263 110.162L265.717 102.923L227.311 148.082C225.977 149.623 224.281 150.47 222.529 150.47H175.404L182.03 158.367C182.795 159.445 182.795 159.446 183.734 159.446H228.864Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M462.869 234.92C464.271 234.92 465.628 234.242 466.695 233.01L508.268 185.636L499.722 178.397L461.316 223.557C459.983 225.098 458.287 225.945 456.534 225.945H409.409L416.035 233.841C416.8 234.92 416.8 234.92 417.74 234.92H462.869Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M697.005 330C698.783 330 700 328.82 700 327.001V256.638C700 254.857 697.848 253.965 696.591 255.225L693.409 258.411V320.402C693.409 322.058 692.069 323.401 690.414 323.401H630.718L627.536 326.587C626.278 327.847 627.169 330 628.947 330H697.005Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M689.642 321.89C690.744 321.89 691.638 320.995 691.638 319.891V250.743C691.638 248.962 689.488 248.07 688.23 249.329L662.647 274.947L520.987 153.863C519.541 152.627 517.703 151.948 515.802 151.948H469.518C470.236 151.949 470.956 152.206 471.53 152.729L498.163 176.978L498.13 177.018L639.84 297.784L619.174 318.477C617.916 319.737 618.807 321.89 620.586 321.89H689.642Z\"\n        fill={colorPrimary}\n      />\n      <path\n        d=\"M429.279 198.995L467.208 153.03C468.3 151.716 470.268 151.579 471.531 152.729L498.163 176.978L460.69 221.107C459.173 222.894 456.946 223.924 454.6 223.924H408.473C409.366 223.924 410.252 223.527 410.845 222.764L429.279 198.995Z\"\n        fill={colorPrimaryDark}\n      />\n      <path\n        d=\"M408.473 223.924H408.314L408.318 223.92C408.369 223.922 408.421 223.924 408.473 223.924Z\"\n        fill={colorPrimaryDark}\n      />\n      <path\n        d=\"M406.524 223.203C407.826 224.318 409.796 224.116 410.845 222.761L429.279 198.932L287.411 77.8866C285.964 76.6523 284.125 75.9742 282.223 75.9742H234.606L234.625 75.9907C235.429 75.9118 236.263 76.1557 236.915 76.7378L263.662 100.621L263.546 100.758L406.524 223.203Z\"\n        fill={colorPrimary}\n      />\n      <path\n        d=\"M236.914 76.7386C235.651 75.6097 233.707 75.7513 232.621 77.0513L194.557 123.104L175.644 146.821C175.076 147.535 174.25 147.917 173.409 147.947L173.407 147.95H219.923C222.271 147.95 224.499 146.915 226.017 145.122L263.645 100.649L236.914 76.7386Z\"\n        fill={colorPrimaryDark}\n      />\n      <path\n        d=\"M175.648 146.816C174.589 148.145 172.637 148.329 171.348 147.221L4.09334 3.51697C2.68586 2.30767 3.54106 0 5.39671 0H47.5805C49.4864 0 51.3297 0.680433 52.7785 1.91877L194.557 123.104L175.648 146.816Z\"\n        fill={colorPrimary}\n      />\n    </Group>\n  );\n};\n\nconst ArrowUp: ComponentType<ZigzagArrowProps> = ({\n  colorPrimary = '#17CA2C',\n  colorShadow = '#737373',\n}) => {\n  const colorPrimaryDark = tinycolor(colorPrimary).darken(20).toHexString();\n  return (\n    <Group width={ARROW_WIDTH} height={ARROW_HEIGHT_UP}>\n      <path\n        d=\"M19.0526 324L12.6762 329.482C11.2703 330.691 12.1234 333 13.976 333H56.1578C58.058 333 59.896 332.321 61.3413 331.085L201.854 210.901L194.249 201.693L54.0527 321.606C52.246 323.151 49.9486 324 47.5732 324H19.0526Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M234.587 248L241.131 255.922C241.656 256.552 242.382 256.909 243.134 256.983L243.115 257H290.716C292.618 257 294.457 256.322 295.903 255.087L437.091 134.536L429.305 125.5L288.613 245.609C286.805 247.153 284.507 248 282.132 248H234.587Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M461.123 162.429L475.642 179.918C476.237 180.635 477.092 181.001 477.951 181H524.22C526.121 181 527.959 180.321 529.404 179.085L670.786 58.1578L662.326 49.6809L522.115 169.606C520.309 171.151 518.011 172 515.636 172H469.369L461.123 162.429Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M687.912 74.8875C690.374 75.9052 693.412 74.1668 693.412 71.1716V11H698.004C699.106 11 700 11.8954 700 13V82.1716C700 83.9534 697.85 84.8457 696.593 83.5858L687.912 74.8875Z\"\n        fill={colorShadow}\n      />\n      <path\n        d=\"M689.419 0C690.522 0 691.415 0.895432 691.415 2V71.1716C691.415 72.9534 689.265 73.8457 688.008 72.5858L662.433 46.9598L520.819 168.085C519.374 169.321 517.536 170 515.636 170H469.367C470.084 169.999 470.804 169.742 471.379 169.219L498.003 144.961L497.969 144.922L639.634 24.115L618.975 3.41421C617.717 2.15428 618.608 0 620.386 0H689.419Z\"\n        fill={colorPrimary}\n      />\n      <path\n        d=\"M429.141 122.937L467.058 168.918C468.149 170.232 470.116 170.369 471.378 169.219L498.003 144.961L460.542 100.818C459.025 99.0305 456.798 98 454.453 98H408.341C409.234 98.0001 410.12 98.3968 410.712 99.1606L429.141 122.937Z\"\n        fill={colorPrimaryDark}\n      />\n      <path\n        d=\"M408.341 98H408.183L408.186 98.004C408.237 98.0013 408.289 98 408.341 98Z\"\n        fill={colorPrimaryDark}\n      />\n      <path\n        d=\"M406.393 98.721C407.695 97.606 409.664 97.8077 410.712 99.1633L429.141 123L287.318 244.087C285.872 245.322 284.033 246 282.132 246H234.53L234.55 245.983C235.353 246.062 236.187 245.818 236.839 245.236L263.577 221.345L263.461 221.208L406.393 98.721Z\"\n        fill={colorPrimary}\n      />\n      <path\n        d=\"M236.837 245.235C235.575 246.365 233.631 246.223 232.546 244.922L194.494 198.854L175.588 175.129C175.019 174.415 174.194 174.032 173.353 174.002L173.351 174H219.852C222.199 174 224.427 175.035 225.944 176.829L263.56 221.317L236.837 245.235Z\"\n        fill={colorPrimaryDark}\n      />\n      <path\n        d=\"M175.593 175.135C174.533 173.805 172.581 173.622 171.291 174.73L4.09013 318.484C2.68329 319.693 3.53868 322 5.394 322H47.5627C49.4695 322 51.3136 321.319 52.7627 320.08L194.494 198.854L175.593 175.135Z\"\n        fill={colorPrimary}\n      />\n    </Group>\n  );\n};\n\nexport const ListZigzagDown: ComponentType<ListZigzagDownProps> =\n  createListZigzag({\n    arrowHeight: ARROW_HEIGHT_DOWN,\n    presetRatios: PRESET_RATIOS_DOWN,\n    Arrow: ArrowDown,\n  });\n\nexport const ListZigzagUp: ComponentType<ListZigzagUpProps> = createListZigzag({\n  arrowHeight: ARROW_HEIGHT_UP,\n  presetRatios: PRESET_RATIOS_UP,\n  Arrow: ArrowUp,\n});\n\nregisterStructure('list-zigzag-down', {\n  component: ListZigzagDown,\n  composites: ['title', 'item'],\n});\n\nregisterStructure('list-zigzag-up', {\n  component: ListZigzagUp,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface RelationCircleProps extends BaseStructureProps {\n  radius?: number;\n  startMode?: 'top' | 'equal';\n}\n\nexport const RelationCircle: ComponentType<RelationCircleProps> = (props) => {\n  const { Title, Item, data, radius = 150, startMode = 'top' } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n\n  if (items.length === 0) {\n    btnElements.push(\n      <BtnAdd\n        indexes={[0]}\n        x={-btnBounds.width / 2}\n        y={-btnBounds.height / 2}\n      />,\n    );\n\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>{btnElements}</BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  // Calculate minimum radius to avoid item overlaps\n  const size = Math.max(itemBounds.width, itemBounds.height);\n  const minRadius = Math.max(radius, size);\n\n  const centerOffset = minRadius + size / 2;\n\n  const itemArcWeights = items.map(() => {\n    const w = itemBounds.width;\n    const h = itemBounds.height;\n    return (w + h) / 2;\n  });\n  const totalWeight = itemArcWeights.reduce((a, b) => a + b, 0);\n\n  let startAngle: number;\n  if (startMode === 'equal') {\n    startAngle = -Math.PI / 2;\n  } else {\n    startAngle = -Math.PI / 2 + (2 * Math.PI) / items.length / 2;\n  }\n\n  // Step2: \n  let angleAcc = startAngle;\n  items.forEach((item, index) => {\n    const anglePortion = (itemArcWeights[index] / totalWeight) * 2 * Math.PI;\n    const angle = angleAcc + anglePortion / 2;\n    angleAcc += anglePortion;\n\n    const itemX =\n      centerOffset + minRadius * Math.cos(angle) - itemBounds.width / 2;\n    const itemY =\n      centerOffset + minRadius * Math.sin(angle) - itemBounds.height / 2;\n\n    itemElements.push(\n      <Item indexes={[index]} datum={item} data={data} x={itemX} y={itemY} />,\n    );\n\n    const removeRadius =\n      minRadius - Math.max(itemBounds.width, itemBounds.height) / 2 - 20;\n    const removeBtnX =\n      centerOffset + removeRadius * Math.cos(angle) - btnBounds.width / 2;\n    const removeBtnY =\n      centerOffset + removeRadius * Math.sin(angle) - btnBounds.height / 2;\n\n    btnElements.push(\n      <BtnRemove indexes={[index]} x={removeBtnX} y={removeBtnY} />,\n    );\n  });\n\n  // Use same radius as remove buttons for add buttons\n  const buttonRadius =\n    minRadius - Math.max(itemBounds.width, itemBounds.height) / 2 - 20;\n\n  // Place add buttons between items (at the midpoint angles)\n  if (items.length > 0) {\n    for (let i = 0; i < items.length; i++) {\n      // Calculate angle between current item and next item\n      const currentAngle = (i * 2 * Math.PI) / items.length - Math.PI / 2;\n      const nextAngle =\n        (((i + 1) % items.length) * 2 * Math.PI) / items.length - Math.PI / 2;\n\n      // Handle angle wrapping between last and first item\n      let midAngle;\n      if (i === items.length - 1) {\n        // Between last and first item\n        const angleDiff = nextAngle + 2 * Math.PI - currentAngle;\n        midAngle = currentAngle + angleDiff / 2;\n      } else {\n        midAngle = (currentAngle + nextAngle) / 2;\n      }\n\n      const addX =\n        centerOffset + buttonRadius * Math.cos(midAngle) - btnBounds.width / 2;\n      const addY =\n        centerOffset + buttonRadius * Math.sin(midAngle) - btnBounds.height / 2;\n\n      btnElements.push(<BtnAdd indexes={[i + 1]} x={addX} y={addY} />);\n    }\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('relation-circle', {\n  component: RelationCircle,\n  composites: ['title', 'item'],\n});\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nexport { __awaiter, __rest };\n//# sourceMappingURL=tslib.es6.js.map\n","const e={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class n extends Error{constructor(e,t,n){super(e),this.position=t,this.token=n,this.name=\"ExpressionError\";}}var r;!function(e){e[e.STRING=0]=\"STRING\",e[e.NUMBER=1]=\"NUMBER\",e[e.BOOLEAN=2]=\"BOOLEAN\",e[e.NULL=3]=\"NULL\",e[e.IDENTIFIER=4]=\"IDENTIFIER\",e[e.OPERATOR=5]=\"OPERATOR\",e[e.FUNCTION=6]=\"FUNCTION\",e[e.DOT=7]=\"DOT\",e[e.BRACKET_LEFT=8]=\"BRACKET_LEFT\",e[e.BRACKET_RIGHT=9]=\"BRACKET_RIGHT\",e[e.PAREN_LEFT=10]=\"PAREN_LEFT\",e[e.PAREN_RIGHT=11]=\"PAREN_RIGHT\",e[e.COMMA=12]=\"COMMA\",e[e.QUESTION=13]=\"QUESTION\",e[e.COLON=14]=\"COLON\",e[e.DOLLAR=15]=\"DOLLAR\";}(r||(r={}));const o=new Set([32,9,10,13]),a$2=new Set([43,45,42,47,37,33,38,124,61,60,62]),s=new Map([[\"true\",r.BOOLEAN],[\"false\",r.BOOLEAN],[\"null\",r.NULL]]),i=new Map([[\"===\",true],[\"!==\",true],[\"<=\",true],[\">=\",true],[\"&&\",true],[\"||\",true],[\"+\",true],[\"-\",true],[\"*\",true],[\"/\",true],[\"%\",true],[\"!\",true],[\"<\",true],[\">\",true]]),u=new Map([[46,r.DOT],[91,r.BRACKET_LEFT],[93,r.BRACKET_RIGHT],[40,r.PAREN_LEFT],[41,r.PAREN_RIGHT],[44,r.COMMA],[63,r.QUESTION],[58,r.COLON],[36,r.DOLLAR]]),c$2=new Map;for(const[e,t]of u.entries())c$2.set(e,{type:t,value:String.fromCharCode(e)});function p(e){return e>=48&&e<=57}function l(e){return e>=97&&e<=122||e>=65&&e<=90||95===e}function f(e){return l(e)||p(e)}function E(e){return a$2.has(e)}var h;!function(e){e[e.Program=0]=\"Program\",e[e.Literal=1]=\"Literal\",e[e.Identifier=2]=\"Identifier\",e[e.MemberExpression=3]=\"MemberExpression\",e[e.CallExpression=4]=\"CallExpression\",e[e.BinaryExpression=5]=\"BinaryExpression\",e[e.UnaryExpression=6]=\"UnaryExpression\",e[e.ConditionalExpression=7]=\"ConditionalExpression\";}(h||(h={}));const d=new Map([[\"||\",2],[\"&&\",3],[\"===\",4],[\"!==\",4],[\">\",5],[\">=\",5],[\"<\",5],[\"<=\",5],[\"+\",6],[\"-\",6],[\"*\",7],[\"/\",7],[\"%\",7],[\"!\",8]]),R={type:h.Literal,value:null},T={type:h.Literal,value:true},w={type:h.Literal,value:false},y$4=e=>{let t=0;const o=e.length,a=()=>t>=o?null:e[t],s=()=>e[t++],i=e=>{const t=a();return null!==t&&t.type===e},u=e=>e.type===r.OPERATOR?d.get(e.value)||-1:e.type===r.DOT||e.type===r.BRACKET_LEFT?9:e.type===r.QUESTION?1:-1,c=e=>{let o,u;if(s().type===r.DOT){if(!i(r.IDENTIFIER)){const e=a();throw new n(\"Expected property name\",t,e?e.value:\"<end of input>\")}const e=s();o={type:h.Identifier,name:e.value},u=false;}else {if(o=l(0),!i(r.BRACKET_RIGHT)){const e=a();throw new n(\"Expected closing bracket\",t,e?e.value:\"<end of input>\")}s(),u=true;}return {type:h.MemberExpression,object:e,property:o,computed:u}},p=()=>{const e=a();if(!e)throw new n(\"Unexpected end of input\",t,\"<end of input>\");if(e.type===r.OPERATOR&&(\"!\"===e.value||\"-\"===e.value)){s();const t=p();return {type:h.UnaryExpression,operator:e.value,argument:t,prefix:true}}switch(e.type){case r.NUMBER:return s(),{type:h.Literal,value:Number(e.value)};case r.STRING:return s(),{type:h.Literal,value:e.value};case r.BOOLEAN:return s(),\"true\"===e.value?T:w;case r.NULL:return s(),R;case r.IDENTIFIER:return s(),{type:h.Identifier,name:e.value};case r.FUNCTION:return (()=>{const e=s(),o=[];if(!i(r.PAREN_LEFT)){const e=a();throw new n(\"Expected opening parenthesis after function name\",t,e?e.value:\"<end of input>\")}for(s();;){if(i(r.PAREN_RIGHT)){s();break}if(!a()){const e=a();throw new n(\"Expected closing parenthesis\",t,e?e.value:\"<end of input>\")}if(o.length>0){if(!i(r.COMMA)){const e=a();throw new n(\"Expected comma between function arguments\",t,e?e.value:\"<end of input>\")}s();}const e=l(0);o.push(e);}return {type:h.CallExpression,callee:{type:h.Identifier,name:e.value},arguments:o}})();case r.PAREN_LEFT:{s();const e=l(0);if(!i(r.PAREN_RIGHT)){const e=a();throw new n(\"Expected closing parenthesis\",t,e?e.value:\"<end of input>\")}return s(),e}default:throw new n(`Unexpected token: ${e.type}`,t,e.value)}},l=(f=0)=>{let E=p();for(;t<o;){const o=e[t],p=u(o);if(p<=f)break;if(o.type!==r.QUESTION)if(o.type!==r.OPERATOR){if(o.type!==r.DOT&&o.type!==r.BRACKET_LEFT)break;E=c(E);}else {s();const e=l(p);E={type:h.BinaryExpression,operator:o.value,left:E,right:e};}else {s();const e=l(0);if(!i(r.COLON)){const e=a();throw new n(\"Expected : in conditional expression\",t,e?e.value:\"<end of input>\")}s();const o=l(0);E={type:h.ConditionalExpression,test:E,consequent:e,alternate:o};}}return E},f=l();return {type:h.Program,body:f}},O=(e,t,r)=>{let o=t;r&&(o={...t,context:{...t.context,...r}});const a=e=>{switch(e.type){case h.Literal:return (e=>e.value)(e);case h.Identifier:return (e=>{if(!(e.name in o.context))throw new n(`Undefined variable: ${e.name}`);return o.context[e.name]})(e);case h.MemberExpression:return (e=>{const t=a(e.object);if(null==t)throw new n(\"Cannot access property of null or undefined\");return t[e.computed?a(e.property):e.property.name]})(e);case h.CallExpression:return (e=>{const t=o.functions[e.callee.name];if(!t)throw new n(`Undefined function: ${e.callee.name}`);return t(...e.arguments.map((e=>a(e))))})(e);case h.BinaryExpression:return (e=>{if(\"&&\"===e.operator){const t=a(e.left);return t?a(e.right):t}if(\"||\"===e.operator){return a(e.left)||a(e.right)}const t=a(e.left),r=a(e.right);switch(e.operator){case \"+\":return t+r;case \"-\":return t-r;case \"*\":return t*r;case \"/\":return t/r;case \"%\":return t%r;case \"===\":return t===r;case \"!==\":return t!==r;case \">\":return t>r;case \">=\":return t>=r;case \"<\":return t<r;case \"<=\":return t<=r;default:throw new n(`Unknown operator: ${e.operator}`)}})(e);case h.UnaryExpression:return (e=>{const t=a(e.argument);if(e.prefix)switch(e.operator){case \"!\":return !t;case \"-\":if(\"number\"!=typeof t)throw new n(`Cannot apply unary - to non-number: ${t}`);return -t;default:throw new n(`Unknown operator: ${e.operator}`)}throw new n(`Postfix operators are not supported: ${e.operator}`)})(e);case h.ConditionalExpression:return (e=>{const t=a(e.test);return a(t?e.consequent:e.alternate)})(e);default:throw new n(`Evaluation error: Unsupported node type: ${e.type}`)}};return a(e.body)};function A(t){const a=(e=>{const t=e,a=t.length,u=new Array(Math.ceil(a/3));let h=0,d=0;function R(e){const o=d+1;d++;let s=\"\",i=false;for(;d<a;){const n=t.charCodeAt(d);if(n===e)return i||(s=t.substring(o,d)),d++,{type:r.STRING,value:s};92===n?(i||(s=t.substring(o,d),i=true),d++,s+=t[d]):i&&(s+=t[d]),d++;}throw new n(`Unterminated string starting with ${String.fromCharCode(e)}`,d,t.substring(Math.max(0,d-10),d))}function T(){const e=d;for(45===t.charCodeAt(d)&&d++;d<a&&p(t.charCodeAt(d));)d++;if(d<a&&46===t.charCodeAt(d))for(d++;d<a&&p(t.charCodeAt(d));)d++;const n=t.slice(e,d);return {type:r.NUMBER,value:n}}function w(){d++;const e=d;if(d<a&&l(t.charCodeAt(d)))for(d++;d<a&&f(t.charCodeAt(d));)d++;const n=t.slice(e,d);return {type:r.FUNCTION,value:n}}function y(){const e=d++;for(;d<a&&f(t.charCodeAt(d));)d++;const n=t.slice(e,d),o=s.get(n);return o?{type:o,value:n}:{type:r.IDENTIFIER,value:n}}function O(){if(d+2<a){const e=t.substring(d,d+3);if(i.has(e))return d+=3,{type:r.OPERATOR,value:e}}if(d+1<a){const e=t.substring(d,d+2);if(i.has(e))return d+=2,{type:r.OPERATOR,value:e}}const e=t[d];if(i.has(e))return d++,{type:r.OPERATOR,value:e};throw new n(`Unknown operator at position ${d}: ${t.substring(d,d+1)}`,d,t.substring(Math.max(0,d-10),d))}for(;d<a;){const e=t.charCodeAt(d);if(A=e,o.has(A)){d++;continue}const r=c$2.get(e);if(r)u[h++]=r,d++;else if(34!==e&&39!==e)if(p(e)||45===e&&d+1<a&&p(t.charCodeAt(d+1)))u[h++]=T();else if(64!==e)if(l(e))u[h++]=y();else {if(!E(e))throw new n(`Unexpected character: ${t[d]}`,d,t.substring(Math.max(0,d-10),d));u[h++]=O();}else u[h++]=w();else u[h++]=R(e);}var A;return h===u.length?u:u.slice(0,h)})(t),u=y$4(a),h=((e={},t={})=>({context:e,functions:t}))({},e);return (e={})=>O(u,h,e)}function N(e,t={}){return A(e)(t)}\n\nexport { n as ExpressionError, A as compile, N as evaluate };\n//# sourceMappingURL=index.esm.js.map\n","import { compile as A, evaluate as N } from '../node_modules/@antv/expr/dist/index.esm.js';\n\n/**\n * Evaluate an expression if (and only if) it's a valid string expression.\n * - Returns `undefined` when `expression` is not a string, empty, or invalid.\n *\n * @example\n * evaluateExpression('x + y', { x: 10, y: 20 }) // 30\n */\nfunction evaluateExpression(expression, context) {\n    if (typeof expression !== 'string')\n        return undefined;\n    const source = expression.trim();\n    if (!source)\n        return undefined;\n    try {\n        A(source);\n        return N(source, context);\n    }\n    catch (_a) {\n        return undefined;\n    }\n}\n\nexport { evaluateExpression };\n//# sourceMappingURL=expr.js.map\n","/**\n * \n * @return \n */\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\n\nexport { isNumber as default };\n//# sourceMappingURL=is-number.js.map\n","import isNumber from '../node_modules/@antv/util/esm/lodash/is-number.js';\n\nfunction parseSize(size) {\n    if (!size)\n        return [0, 0, 0];\n    if (isNumber(size))\n        return [size, size, size];\n    else if (Array.isArray(size) && size.length === 0)\n        return [0, 0, 0];\n    const [x, y = x, z = x] = size;\n    return [x, y, z];\n}\nfunction isSize(value) {\n    if (isNumber(value))\n        return true;\n    if (Array.isArray(value)) {\n        return value.every((item) => isNumber(item));\n    }\n    return false;\n}\n\nexport { isSize, parseSize };\n//# sourceMappingURL=size.js.map\n","/**\n *  null  undefined\n * @return  null  undefined\n */\nfunction isNil(value) {\n    return value === null || value === undefined;\n}\n\nexport { isNil as default };\n//# sourceMappingURL=is-nil.js.map\n","/**\n * \n * @return \n */\nfunction isString(value) {\n    return typeof value === 'string';\n}\n\nexport { isString as default };\n//# sourceMappingURL=is-string.js.map\n","/**\n * \n * @return \n */\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\nexport { isFunction as default };\n//# sourceMappingURL=is-function.js.map\n","import { evaluateExpression } from './expr.js';\nimport { parseSize, isSize } from './size.js';\nimport isNil from '../node_modules/@antv/util/esm/lodash/is-nil.js';\nimport isString from '../node_modules/@antv/util/esm/lodash/is-string.js';\nimport isNumber from '../node_modules/@antv/util/esm/lodash/is-number.js';\nimport isFunction from '../node_modules/@antv/util/esm/lodash/is-function.js';\n\n/**\n * Format a value into a callable function when it is a string expression.\n * - `string` => `(context) => evaluateExpression(string, context)`\n * - `function` => returned as-is\n * - other => returned as-is\n */\nfunction formatFn(value, argNames) {\n    if (typeof value === 'function')\n        return value;\n    if (typeof value === 'string') {\n        const expr = value;\n        return (...argv) => {\n            const ctx = {};\n            for (let i = 0; i < argNames.length; i++) {\n                ctx[argNames[i]] = argv[i];\n            }\n            return evaluateExpression(expr, ctx);\n        };\n    }\n    return () => value;\n}\n/**\n * Format value with multiple types into a function that returns a number\n * @param value The value to be formatted\n * @param defaultValue The default value when value is invalid\n * @returns A function that returns a number\n */\nfunction formatNumberFn(value, defaultValue, type = 'node') {\n    // If value is undefined, return default value function\n    if (isNil(value)) {\n        return () => defaultValue;\n    }\n    // If value is an expression, return a function that evaluates the expression\n    if (isString(value)) {\n        const numberFn = formatFn(value, [type]);\n        return (d) => {\n            const evaluated = numberFn(d);\n            if (isNumber(evaluated))\n                return evaluated;\n            return defaultValue;\n        };\n    }\n    // If value is a function, return it directly\n    if (isFunction(value)) {\n        return value;\n    }\n    // If value is a number, return a function that returns this number\n    if (isNumber(value)) {\n        return () => value;\n    }\n    // For other cases (undefined or invalid values), return default value function\n    return () => defaultValue;\n}\n/**\n * Format size config with multiple types into a function that returns a size\n * @param value The value to be formatted\n * @param defaultValue The default value when value is invalid\n * @param resultIsNumber Whether to return a number (max of width/height) or size array\n * @returns A function that returns a size\n */\nfunction formatSizeFn(value, defaultValue = 10, type = 'node') {\n    // If value is undefined, return default value function\n    if (isNil(value)) {\n        return () => defaultValue;\n    }\n    // If value is an expression, return a function that evaluates the expression\n    if (isString(value)) {\n        const sizeFn = formatFn(value, [type]);\n        return (d) => {\n            const evaluated = sizeFn(d);\n            if (isSize(evaluated))\n                return evaluated;\n            return defaultValue;\n        };\n    }\n    // If value is a function, return it directly\n    if (isFunction(value)) {\n        return value;\n    }\n    // If value is a number, return a function that returns this number\n    if (isNumber(value)) {\n        return () => value;\n    }\n    // If value is an array, return max or the array itself\n    if (Array.isArray(value)) {\n        return () => value;\n    }\n    return () => defaultValue;\n}\n/**\n * Format nodeSize and nodeSpacing into a function that returns the total size\n * @param nodeSize The size of the node\n * @param nodeSpacing The spacing around the node\n * @param defaultNodeSize The default node size when value is invalid\n * @param defaultNodeSpacing The default node spacing when value is invalid\n * @returns A function that returns the total size (node size + spacing)\n */\nconst formatNodeSizeFn = (nodeSize, nodeSpacing, defaultNodeSize = 10, defaultNodeSpacing = 0) => {\n    const nodeSpacingFunc = formatSizeFn(nodeSpacing, defaultNodeSpacing);\n    const nodeSizeFunc = formatSizeFn(nodeSize, defaultNodeSize);\n    return (d) => {\n        const [sizeW, sizeH, sizeD] = parseSize(nodeSizeFunc(d));\n        const [spacingW, spacingH, spacingD] = parseSize(nodeSpacingFunc(d));\n        return [sizeW + spacingW, sizeH + spacingH, sizeD + spacingD];\n    };\n};\n\nexport { formatFn, formatNodeSizeFn, formatNumberFn, formatSizeFn };\n//# sourceMappingURL=format.js.map\n","function parsePoint(point) {\n    var _a;\n    return [point.x, point.y, (_a = point.z) !== null && _a !== void 0 ? _a : 0];\n}\nfunction toPointObject(point) {\n    var _a;\n    return { x: point[0], y: point[1], z: (_a = point[2]) !== null && _a !== void 0 ? _a : 0 };\n}\n\nexport { parsePoint, toPointObject };\n//# sourceMappingURL=point.js.map\n","import isNil from '../node_modules/@antv/util/esm/lodash/is-nil.js';\n\nclass GraphLib {\n    constructor(data, options = {}) {\n        this.edgeIdCounter = new Map();\n        this.nodeMap = extractNodeData(data.nodes, options.node);\n        this.edgeMap = extractEdgeData(data.edges || [], options.edge, this.getEdgeId.bind(this));\n    }\n    data() {\n        return { nodes: this.nodeMap, edges: this.edgeMap };\n    }\n    replace(result) {\n        this.nodeMap = result.nodes;\n        this.edgeMap = result.edges;\n        this.clearCache();\n    }\n    nodes() {\n        return Array.from(this.nodeMap.values());\n    }\n    node(id) {\n        return this.nodeMap.get(id);\n    }\n    nodeAt(index) {\n        if (!this.indexNodeCache) {\n            this.buildNodeIndexCache();\n        }\n        const nodeId = this.indexNodeCache.get(index);\n        return nodeId ? this.nodeMap.get(nodeId) : undefined;\n    }\n    nodeIndexOf(id) {\n        var _a;\n        if (!this.nodeIndexCache) {\n            this.buildNodeIndexCache();\n        }\n        return (_a = this.nodeIndexCache.get(id)) !== null && _a !== void 0 ? _a : -1;\n    }\n    firstNode() {\n        return this.nodeMap.values().next().value;\n    }\n    forEachNode(callback) {\n        let i = 0;\n        this.nodeMap.forEach((node) => callback(node, i++));\n    }\n    originalNode(id) {\n        const node = this.nodeMap.get(id);\n        return node === null || node === void 0 ? void 0 : node._original;\n    }\n    nodeCount() {\n        return this.nodeMap.size;\n    }\n    edges() {\n        return Array.from(this.edgeMap.values());\n    }\n    edge(id) {\n        return this.edgeMap.get(id);\n    }\n    firstEdge() {\n        return this.edgeMap.values().next().value;\n    }\n    forEachEdge(callback) {\n        let i = 0;\n        this.edgeMap.forEach((edge) => callback(edge, i++));\n    }\n    originalEdge(id) {\n        const edge = this.edgeMap.get(id);\n        return edge === null || edge === void 0 ? void 0 : edge._original;\n    }\n    edgeCount() {\n        return this.edgeMap.size;\n    }\n    getEdgeId(edge) {\n        if (edge.id)\n            return edge.id;\n        const baseId = `${edge.source}-${edge.target}`;\n        const count = this.edgeIdCounter.get(baseId) || 0;\n        const id = count === 0 ? baseId : `${baseId}-${count}`;\n        this.edgeIdCounter.set(baseId, count + 1);\n        return id;\n    }\n    degree(nodeId, direction = 'both') {\n        if (!this.degreeCache) {\n            this.buildDegreeCache();\n        }\n        const degree = this.degreeCache.get(nodeId);\n        if (!degree)\n            return 0;\n        return degree[direction];\n    }\n    neighbors(nodeId, direction = 'both') {\n        if (!this.outAdjacencyCache || !this.inAdjacencyCache) {\n            this.buildAdjacencyCache();\n        }\n        if (direction === 'out') {\n            return Array.from(this.outAdjacencyCache.get(nodeId) || []);\n        }\n        if (direction === 'in') {\n            return Array.from(this.inAdjacencyCache.get(nodeId) || []);\n        }\n        if (this.bothAdjacencyCache) {\n            return Array.from(this.bothAdjacencyCache.get(nodeId) || []);\n        }\n        const inSet = this.inAdjacencyCache.get(nodeId);\n        const outSet = this.outAdjacencyCache.get(nodeId);\n        if (!inSet && !outSet)\n            return [];\n        if (!inSet)\n            return Array.from(outSet);\n        if (!outSet)\n            return Array.from(inSet);\n        const merged = new Set();\n        inSet.forEach((id) => merged.add(id));\n        outSet.forEach((id) => merged.add(id));\n        return Array.from(merged);\n    }\n    successors(nodeId) {\n        return this.neighbors(nodeId, 'out');\n    }\n    predecessors(nodeId) {\n        return this.neighbors(nodeId, 'in');\n    }\n    setNodeOrder(nodes) {\n        const next = new Map();\n        for (const node of nodes)\n            next.set(node.id, node);\n        this.nodeMap = next;\n        this.nodeIndexCache = undefined;\n        this.indexNodeCache = undefined;\n    }\n    clearCache() {\n        this.degreeCache = undefined;\n        this.inAdjacencyCache = undefined;\n        this.outAdjacencyCache = undefined;\n        this.bothAdjacencyCache = undefined;\n        this.nodeIndexCache = undefined;\n        this.indexNodeCache = undefined;\n    }\n    buildDegreeCache() {\n        this.degreeCache = new Map();\n        for (const edge of this.edges()) {\n            const { source, target } = edge;\n            if (edge.source === edge.target)\n                continue;\n            if (!this.degreeCache.has(source)) {\n                this.degreeCache.set(source, { in: 0, out: 0, both: 0 });\n            }\n            const sourceDeg = this.degreeCache.get(edge.source);\n            if (sourceDeg) {\n                sourceDeg.out++;\n                sourceDeg.both++;\n            }\n            if (!this.degreeCache.has(target)) {\n                this.degreeCache.set(target, { in: 0, out: 0, both: 0 });\n            }\n            const targetDeg = this.degreeCache.get(edge.target);\n            if (targetDeg) {\n                targetDeg.in++;\n                targetDeg.both++;\n            }\n        }\n    }\n    buildAdjacencyCache() {\n        this.inAdjacencyCache = new Map();\n        this.outAdjacencyCache = new Map();\n        for (const edge of this.edges()) {\n            if (!this.nodeMap.has(edge.source) || !this.nodeMap.has(edge.target))\n                continue;\n            if (!this.outAdjacencyCache.has(edge.source)) {\n                this.outAdjacencyCache.set(edge.source, new Set());\n            }\n            this.outAdjacencyCache.get(edge.source).add(edge.target);\n            if (!this.inAdjacencyCache.has(edge.target)) {\n                this.inAdjacencyCache.set(edge.target, new Set());\n            }\n            this.inAdjacencyCache.get(edge.target).add(edge.source);\n        }\n    }\n    buildNodeIndexCache() {\n        this.nodeIndexCache = new Map();\n        this.indexNodeCache = new Map();\n        let index = 0;\n        this.nodeMap.forEach((_node, nodeId) => {\n            this.nodeIndexCache.set(nodeId, index);\n            this.indexNodeCache.set(index, nodeId);\n            index++;\n        });\n    }\n    destroy() {\n        this.clearCache();\n        this.nodeMap.clear();\n        this.edgeMap.clear();\n        this.edgeIdCounter.clear();\n    }\n}\nconst nodeFields = [\n    'id',\n    'x',\n    'y',\n    'z',\n    'vx',\n    'vy',\n    'vz',\n    'fx',\n    'fy',\n    'fz',\n    'parentId',\n];\nconst edgeFields = ['id', 'source', 'target', 'points'];\nfunction extractNodeData(nodes, node) {\n    if (!nodes) {\n        throw new Error('Data.nodes is required');\n    }\n    const result = new Map();\n    for (const datum of nodes) {\n        const nodeData = { _original: datum };\n        for (const field of nodeFields) {\n            const value = datum[field];\n            if (isNil(value))\n                continue;\n            nodeData[field] = value;\n        }\n        if (node) {\n            const customFields = node(datum);\n            for (const key in customFields) {\n                const value = customFields[key];\n                if (isNil(value))\n                    continue;\n                nodeData[key] = value;\n            }\n        }\n        if (isNil(nodeData.id)) {\n            throw new Error(`Node is missing id field`);\n        }\n        result.set(nodeData.id, nodeData);\n    }\n    return result;\n}\nfunction extractEdgeData(edges, edge, getEdgeId) {\n    const result = new Map();\n    for (const datum of edges) {\n        const edgeData = { _original: datum };\n        for (const field of edgeFields) {\n            const value = datum[field];\n            if (isNil(value))\n                continue;\n            edgeData[field] = value;\n        }\n        if (edge) {\n            const customFields = edge(datum);\n            for (const key in customFields) {\n                const value = customFields[key];\n                if (isNil(value))\n                    continue;\n                edgeData[key] = value;\n            }\n        }\n        if (isNil(edgeData.source) || isNil(edgeData.target)) {\n            throw new Error(`Edge is missing source or target field`);\n        }\n        if (isNil(edgeData.id)) {\n            edgeData.id = getEdgeId === null || getEdgeId === void 0 ? void 0 : getEdgeId(datum);\n        }\n        result.set(edgeData.id, edgeData);\n    }\n    return result;\n}\nfunction initNodePosition(model, width, height, dimensions = 2) {\n    model.forEachNode((node) => {\n        if (isNil(node.x)) {\n            node.x = Math.random() * width;\n        }\n        if (isNil(node.y)) {\n            node.y = Math.random() * height;\n        }\n        if (dimensions === 3 && isNil(node.z)) {\n            node.z = Math.random() * Math.min(width, height);\n        }\n    });\n}\n\nexport { GraphLib, initNodePosition };\n//# sourceMappingURL=data.js.map\n","import { GraphLib } from '../model/data.js';\n\nclass RuntimeContext {\n    constructor(data, options = {}) {\n        this.graph = new GraphLib(data, options);\n    }\n    export() {\n        return this.graph.data();\n    }\n    replace(result) {\n        this.graph.replace(result);\n    }\n    forEachNode(callback) {\n        this.graph.forEachNode(callback);\n    }\n    forEachEdge(callback) {\n        this.graph.forEachEdge((edge, i) => {\n            edge.sourceNode = this.graph.node(edge.source);\n            edge.targetNode = this.graph.node(edge.target);\n            callback(edge, i);\n        });\n    }\n    destroy() {\n        this.graph.destroy();\n    }\n}\n\nexport { RuntimeContext };\n//# sourceMappingURL=context.js.map\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nconst proxyMarker = Symbol(\"Comlink.proxy\");\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\nconst finalizer = Symbol(\"Comlink.finalizer\");\nconst throwMarker = Symbol(\"Comlink.thrown\");\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\n/**\n * Internal transfer handle to handle objects marked to proxy.\n */\nconst proxyTransferHandler = {\n    canHandle: (val) => isObject(val) && val[proxyMarker],\n    serialize(obj) {\n        const { port1, port2 } = new MessageChannel();\n        expose(obj, port1);\n        return [port2, [port2]];\n    },\n    deserialize(port) {\n        port.start();\n        return wrap(port);\n    },\n};\n/**\n * Internal transfer handler to handle thrown exceptions.\n */\nconst throwTransferHandler = {\n    canHandle: (value) => isObject(value) && throwMarker in value,\n    serialize({ value }) {\n        let serialized;\n        if (value instanceof Error) {\n            serialized = {\n                isError: true,\n                value: {\n                    message: value.message,\n                    name: value.name,\n                    stack: value.stack,\n                },\n            };\n        }\n        else {\n            serialized = { isError: false, value };\n        }\n        return [serialized, []];\n    },\n    deserialize(serialized) {\n        if (serialized.isError) {\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\n        }\n        throw serialized.value;\n    },\n};\n/**\n * Allows customizing the serialization of certain values.\n */\nconst transferHandlers = new Map([\n    [\"proxy\", proxyTransferHandler],\n    [\"throw\", throwTransferHandler],\n]);\nfunction isAllowedOrigin(allowedOrigins, origin) {\n    for (const allowedOrigin of allowedOrigins) {\n        if (origin === allowedOrigin || allowedOrigin === \"*\") {\n            return true;\n        }\n        if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction expose(obj, ep = globalThis, allowedOrigins = [\"*\"]) {\n    ep.addEventListener(\"message\", function callback(ev) {\n        if (!ev || !ev.data) {\n            return;\n        }\n        if (!isAllowedOrigin(allowedOrigins, ev.origin)) {\n            console.warn(`Invalid origin '${ev.origin}' for comlink proxy`);\n            return;\n        }\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\n        let returnValue;\n        try {\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\n            switch (type) {\n                case \"GET\" /* MessageType.GET */:\n                    {\n                        returnValue = rawValue;\n                    }\n                    break;\n                case \"SET\" /* MessageType.SET */:\n                    {\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\n                        returnValue = true;\n                    }\n                    break;\n                case \"APPLY\" /* MessageType.APPLY */:\n                    {\n                        returnValue = rawValue.apply(parent, argumentList);\n                    }\n                    break;\n                case \"CONSTRUCT\" /* MessageType.CONSTRUCT */:\n                    {\n                        const value = new rawValue(...argumentList);\n                        returnValue = proxy(value);\n                    }\n                    break;\n                case \"ENDPOINT\" /* MessageType.ENDPOINT */:\n                    {\n                        const { port1, port2 } = new MessageChannel();\n                        expose(obj, port2);\n                        returnValue = transfer(port1, [port1]);\n                    }\n                    break;\n                case \"RELEASE\" /* MessageType.RELEASE */:\n                    {\n                        returnValue = undefined;\n                    }\n                    break;\n                default:\n                    return;\n            }\n        }\n        catch (value) {\n            returnValue = { value, [throwMarker]: 0 };\n        }\n        Promise.resolve(returnValue)\n            .catch((value) => {\n            return { value, [throwMarker]: 0 };\n        })\n            .then((returnValue) => {\n            const [wireValue, transferables] = toWireValue(returnValue);\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n            if (type === \"RELEASE\" /* MessageType.RELEASE */) {\n                // detach and deactive after sending release response above.\n                ep.removeEventListener(\"message\", callback);\n                closeEndPoint(ep);\n                if (finalizer in obj && typeof obj[finalizer] === \"function\") {\n                    obj[finalizer]();\n                }\n            }\n        })\n            .catch((error) => {\n            // Send Serialization Error To Caller\n            const [wireValue, transferables] = toWireValue({\n                value: new TypeError(\"Unserializable return value\"),\n                [throwMarker]: 0,\n            });\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n        });\n    });\n    if (ep.start) {\n        ep.start();\n    }\n}\nfunction isMessagePort(endpoint) {\n    return endpoint.constructor.name === \"MessagePort\";\n}\nfunction closeEndPoint(endpoint) {\n    if (isMessagePort(endpoint))\n        endpoint.close();\n}\nfunction wrap(ep, target) {\n    const pendingListeners = new Map();\n    ep.addEventListener(\"message\", function handleMessage(ev) {\n        const { data } = ev;\n        if (!data || !data.id) {\n            return;\n        }\n        const resolver = pendingListeners.get(data.id);\n        if (!resolver) {\n            return;\n        }\n        try {\n            resolver(data);\n        }\n        finally {\n            pendingListeners.delete(data.id);\n        }\n    });\n    return createProxy(ep, pendingListeners, [], target);\n}\nfunction throwIfProxyReleased(isReleased) {\n    if (isReleased) {\n        throw new Error(\"Proxy has been released and is not useable\");\n    }\n}\nfunction releaseEndpoint(ep) {\n    return requestResponseMessage(ep, new Map(), {\n        type: \"RELEASE\" /* MessageType.RELEASE */,\n    }).then(() => {\n        closeEndPoint(ep);\n    });\n}\nconst proxyCounter = new WeakMap();\nconst proxyFinalizers = \"FinalizationRegistry\" in globalThis &&\n    new FinalizationRegistry((ep) => {\n        const newCount = (proxyCounter.get(ep) || 0) - 1;\n        proxyCounter.set(ep, newCount);\n        if (newCount === 0) {\n            releaseEndpoint(ep);\n        }\n    });\nfunction registerProxy(proxy, ep) {\n    const newCount = (proxyCounter.get(ep) || 0) + 1;\n    proxyCounter.set(ep, newCount);\n    if (proxyFinalizers) {\n        proxyFinalizers.register(proxy, ep, proxy);\n    }\n}\nfunction unregisterProxy(proxy) {\n    if (proxyFinalizers) {\n        proxyFinalizers.unregister(proxy);\n    }\n}\nfunction createProxy(ep, pendingListeners, path = [], target = function () { }) {\n    let isProxyReleased = false;\n    const proxy = new Proxy(target, {\n        get(_target, prop) {\n            throwIfProxyReleased(isProxyReleased);\n            if (prop === releaseProxy) {\n                return () => {\n                    unregisterProxy(proxy);\n                    releaseEndpoint(ep);\n                    pendingListeners.clear();\n                    isProxyReleased = true;\n                };\n            }\n            if (prop === \"then\") {\n                if (path.length === 0) {\n                    return { then: () => proxy };\n                }\n                const r = requestResponseMessage(ep, pendingListeners, {\n                    type: \"GET\" /* MessageType.GET */,\n                    path: path.map((p) => p.toString()),\n                }).then(fromWireValue);\n                return r.then.bind(r);\n            }\n            return createProxy(ep, pendingListeners, [...path, prop]);\n        },\n        set(_target, prop, rawValue) {\n            throwIfProxyReleased(isProxyReleased);\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\n            // boolean. To show good will, we return true asynchronously \\_()_/\n            const [value, transferables] = toWireValue(rawValue);\n            return requestResponseMessage(ep, pendingListeners, {\n                type: \"SET\" /* MessageType.SET */,\n                path: [...path, prop].map((p) => p.toString()),\n                value,\n            }, transferables).then(fromWireValue);\n        },\n        apply(_target, _thisArg, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const last = path[path.length - 1];\n            if (last === createEndpoint) {\n                return requestResponseMessage(ep, pendingListeners, {\n                    type: \"ENDPOINT\" /* MessageType.ENDPOINT */,\n                }).then(fromWireValue);\n            }\n            // We just pretend that `bind()` didnt happen.\n            if (last === \"bind\") {\n                return createProxy(ep, pendingListeners, path.slice(0, -1));\n            }\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, pendingListeners, {\n                type: \"APPLY\" /* MessageType.APPLY */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n        construct(_target, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, pendingListeners, {\n                type: \"CONSTRUCT\" /* MessageType.CONSTRUCT */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n    });\n    registerProxy(proxy, ep);\n    return proxy;\n}\nfunction myFlat(arr) {\n    return Array.prototype.concat.apply([], arr);\n}\nfunction processArguments(argumentList) {\n    const processed = argumentList.map(toWireValue);\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\n}\nconst transferCache = new WeakMap();\nfunction transfer(obj, transfers) {\n    transferCache.set(obj, transfers);\n    return obj;\n}\nfunction proxy(obj) {\n    return Object.assign(obj, { [proxyMarker]: true });\n}\nfunction toWireValue(value) {\n    for (const [name, handler] of transferHandlers) {\n        if (handler.canHandle(value)) {\n            const [serializedValue, transferables] = handler.serialize(value);\n            return [\n                {\n                    type: \"HANDLER\" /* WireValueType.HANDLER */,\n                    name,\n                    value: serializedValue,\n                },\n                transferables,\n            ];\n        }\n    }\n    return [\n        {\n            type: \"RAW\" /* WireValueType.RAW */,\n            value,\n        },\n        transferCache.get(value) || [],\n    ];\n}\nfunction fromWireValue(value) {\n    switch (value.type) {\n        case \"HANDLER\" /* WireValueType.HANDLER */:\n            return transferHandlers.get(value.name).deserialize(value.value);\n        case \"RAW\" /* WireValueType.RAW */:\n            return value.value;\n    }\n}\nfunction requestResponseMessage(ep, pendingListeners, msg, transfers) {\n    return new Promise((resolve) => {\n        const id = generateUUID();\n        pendingListeners.set(id, resolve);\n        if (ep.start) {\n            ep.start();\n        }\n        ep.postMessage(Object.assign({ id }, msg), transfers);\n    });\n}\nfunction generateUUID() {\n    return new Array(4)\n        .fill(0)\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n        .join(\"-\");\n}\n\nexport { createEndpoint, expose, finalizer, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, wrap };\n//# sourceMappingURL=comlink.js.map\n","import { __awaiter } from '../node_modules/tslib/tslib.es6.js';\nimport { wrap } from '../node_modules/comlink/dist/esm/comlink.js';\n\nclass Supervisor {\n    constructor() {\n        this.worker = null;\n        this.workerApi = null;\n    }\n    /**\n     * Execute layout in worker\n     */\n    execute(layoutId, data, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.worker) {\n                yield this.initWorker();\n            }\n            if (!this.workerApi) {\n                throw new Error('Worker API not initialized');\n            }\n            return yield this.workerApi.execute(layoutId, data, options);\n        });\n    }\n    /**\n     * Destroy worker\n     */\n    destroy() {\n        if (this.workerApi) {\n            this.workerApi.destroy();\n        }\n        if (this.worker) {\n            this.worker.terminate();\n            this.worker = null;\n            this.workerApi = null;\n        }\n    }\n    /**\n     * Initialize worker\n     */\n    initWorker() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const workerPath = this.resolveWorkerPath();\n            const isESM = workerPath.includes('/lib/') || workerPath.endsWith('.mjs');\n            const type = isESM ? 'module' : 'classic';\n            this.worker = new Worker(workerPath, { type });\n            this.workerApi = wrap(this.worker);\n        });\n    }\n    /**\n     * Resolve worker script path which works in both ESM and UMD environments\n     */\n    resolveWorkerPath() {\n        const scriptUrl = (() => {\n            if (typeof document === 'undefined')\n                return null;\n            const currentScript = document.currentScript;\n            if (currentScript === null || currentScript === void 0 ? void 0 : currentScript.src)\n                return currentScript.src;\n            const scripts = document.getElementsByTagName('script');\n            for (let i = scripts.length - 1; i >= 0; i--) {\n                const src = scripts[i].src;\n                if (!src)\n                    continue;\n                if (src.includes('index.js') || src.includes('index.min.js')) {\n                    return src;\n                }\n            }\n            return null;\n        })();\n        if (scriptUrl) {\n            if (scriptUrl.includes('index.js') || scriptUrl.includes('index.min.js')) {\n                const asIndex = scriptUrl.replace(/index(\\.min)?\\.(m?js)(\\?.*)?$/, 'worker.js');\n                if (asIndex !== scriptUrl)\n                    return asIndex;\n            }\n            // e.g. `.../lib/runtime/supervisor.js` -> `.../lib/worker.js`\n            const asRoot = scriptUrl.replace(/\\/runtime\\/[^/]+\\.(m?js)(\\?.*)?$/, '/worker.js');\n            if (asRoot !== scriptUrl)\n                return asRoot;\n            // Fallback: keep legacy behavior (same directory)\n            const asSibling = scriptUrl.replace(/\\/[^/]+\\.(m?js)(\\?.*)?$/, '/worker.js');\n            if (asSibling !== scriptUrl)\n                return asSibling;\n        }\n        return './worker.js';\n    }\n}\n\nexport { Supervisor };\n//# sourceMappingURL=supervisor.js.map\n","import { __awaiter } from '../node_modules/tslib/tslib.es6.js';\nimport { RuntimeContext } from '../runtime/context.js';\nimport { Supervisor } from '../runtime/supervisor.js';\n\n/**\n * <zh/> \n *\n * <en/> Base class for layouts\n */\nclass BaseLayout {\n    constructor(options) {\n        this.supervisor = null;\n        this.initialOptions = this.mergeOptions(this.getDefaultOptions(), options);\n    }\n    get options() {\n        return this.runtimeOptions || this.initialOptions;\n    }\n    mergeOptions(base, patch) {\n        return Object.assign({}, base, patch || {});\n    }\n    execute(data, userOptions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.runtimeOptions = this.mergeOptions(this.initialOptions, userOptions);\n            const { node, edge, enableWorker } = this.runtimeOptions;\n            this.context = new RuntimeContext(data, { node, edge });\n            this.model = this.context.graph;\n            const shouldUseWorker = enableWorker && typeof Worker !== 'undefined';\n            if (shouldUseWorker) {\n                yield this.layoutInWorker(data, this.runtimeOptions);\n            }\n            else {\n                yield this.layout(this.runtimeOptions);\n            }\n        });\n    }\n    layoutInWorker(data, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (!this.supervisor) {\n                    this.supervisor = new Supervisor();\n                }\n                const result = yield this.supervisor.execute(this.id, data, options);\n                (_a = this.context) === null || _a === void 0 ? void 0 : _a.replace(result);\n            }\n            catch (error) {\n                console.error('Layout in worker failed, fallback to main thread layout.', error);\n                // Fallback to main thread layout\n                yield this.layout(options);\n            }\n        });\n    }\n    forEachNode(callback) {\n        this.context.forEachNode(callback);\n    }\n    forEachEdge(callback) {\n        this.context.forEachEdge(callback);\n    }\n    destroy() {\n        var _a;\n        (_a = this.context) === null || _a === void 0 ? void 0 : _a.destroy();\n        // @ts-ignore\n        this.model = null;\n        // @ts-ignore\n        this.context = null;\n        if (this.supervisor) {\n            this.supervisor.destroy();\n            this.supervisor = null;\n        }\n    }\n}\n/**\n * <zh/> \n *\n * <en/> Base class for iterative layouts\n */\nclass BaseLayoutWithIterations extends BaseLayout {\n}\n/**\n * <zh/> \n *\n * <en/> Determine whether the layout is an iterative layout\n */\nfunction isLayoutWithIterations(layout) {\n    return !!layout.tick && !!layout.stop;\n}\n\nexport { BaseLayout, BaseLayoutWithIterations, isLayoutWithIterations };\n//# sourceMappingURL=base-layout.js.map\n","/**\n * \n * @return \n */\nfunction isArray$1(value) {\n    return Array.isArray(value);\n}\n\nexport { isArray$1 as default };\n//# sourceMappingURL=is-array.js.map\n","var isObject$1 = (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return (value !== null && type === 'object') || type === 'function';\n});\n\nexport { isObject$1 as default };\n//# sourceMappingURL=is-object.js.map\n","var isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\n\nexport { isObjectLike as default };\n//# sourceMappingURL=is-object-like.js.map\n","var toString$2 = {}.toString;\nvar isType = function (value, type) { return toString$2.call(value) === '[object ' + type + ']'; };\n\nexport { isType as default };\n//# sourceMappingURL=is-type.js.map\n","import isObjectLike from './is-object-like.js';\nimport isType from './is-type.js';\n\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\n\nexport { isPlainObject as default };\n//# sourceMappingURL=is-plain-object.js.map\n","var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction getAugmentedNamespace(n) {\n  if (Object.prototype.hasOwnProperty.call(n, '__esModule')) return n;\n  var f = n.default;\n\tif (typeof f == \"function\") {\n\t\tvar a = function a () {\n\t\t\tvar isInstance = false;\n      try {\n        isInstance = this instanceof a;\n      } catch {}\n\t\t\tif (isInstance) {\n        return Reflect.construct(f, arguments, this.constructor);\n\t\t\t}\n\t\t\treturn f.apply(this, arguments);\n\t\t};\n\t\ta.prototype = f.prototype;\n  } else a = {};\n  Object.defineProperty(a, '__esModule', {value: true});\n\tObject.keys(n).forEach(function (k) {\n\t\tvar d = Object.getOwnPropertyDescriptor(n, k);\n\t\tObject.defineProperty(a, k, d.get ? d : {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn n[k];\n\t\t\t}\n\t\t});\n\t});\n\treturn a;\n}\n\nexport { commonjsGlobal, getAugmentedNamespace, getDefaultExportFromCjs };\n//# sourceMappingURL=_commonjsHelpers.js.map\n","function commonjsRequire(path) {\n\tthrow new Error('Could not dynamically require \"' + path + '\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');\n}\n\nexport { commonjsRequire };\n//# sourceMappingURL=_commonjs-dynamic-modules.js.map\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\n\nvar _listCacheClear;\nvar hasRequired_listCacheClear;\n\nfunction require_listCacheClear () {\n\tif (hasRequired_listCacheClear) return _listCacheClear;\n\thasRequired_listCacheClear = 1;\n\tfunction listCacheClear() {\n\t  this.__data__ = [];\n\t  this.size = 0;\n\t}\n\n\t_listCacheClear = listCacheClear;\n\treturn _listCacheClear;\n}\n\nexport { require_listCacheClear as __require };\n//# sourceMappingURL=_listCacheClear.js.map\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\n\nvar eq_1;\nvar hasRequiredEq;\n\nfunction requireEq () {\n\tif (hasRequiredEq) return eq_1;\n\thasRequiredEq = 1;\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\n\teq_1 = eq;\n\treturn eq_1;\n}\n\nexport { requireEq as __require };\n//# sourceMappingURL=eq.js.map\n","import { __require as requireEq } from './eq.js';\n\nvar _assocIndexOf;\nvar hasRequired_assocIndexOf;\n\nfunction require_assocIndexOf () {\n\tif (hasRequired_assocIndexOf) return _assocIndexOf;\n\thasRequired_assocIndexOf = 1;\n\tvar eq = requireEq();\n\n\t/**\n\t * Gets the index at which the `key` is found in `array` of key-value pairs.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {*} key The key to search for.\n\t * @returns {number} Returns the index of the matched value, else `-1`.\n\t */\n\tfunction assocIndexOf(array, key) {\n\t  var length = array.length;\n\t  while (length--) {\n\t    if (eq(array[length][0], key)) {\n\t      return length;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\t_assocIndexOf = assocIndexOf;\n\treturn _assocIndexOf;\n}\n\nexport { require_assocIndexOf as __require };\n//# sourceMappingURL=_assocIndexOf.js.map\n","import { __require as require_assocIndexOf } from './_assocIndexOf.js';\n\nvar _listCacheDelete;\nvar hasRequired_listCacheDelete;\n\nfunction require_listCacheDelete () {\n\tif (hasRequired_listCacheDelete) return _listCacheDelete;\n\thasRequired_listCacheDelete = 1;\n\tvar assocIndexOf = require_assocIndexOf();\n\n\t/** Used for built-in method references. */\n\tvar arrayProto = Array.prototype;\n\n\t/** Built-in value references. */\n\tvar splice = arrayProto.splice;\n\n\t/**\n\t * Removes `key` and its value from the list cache.\n\t *\n\t * @private\n\t * @name delete\n\t * @memberOf ListCache\n\t * @param {string} key The key of the value to remove.\n\t * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n\t */\n\tfunction listCacheDelete(key) {\n\t  var data = this.__data__,\n\t      index = assocIndexOf(data, key);\n\n\t  if (index < 0) {\n\t    return false;\n\t  }\n\t  var lastIndex = data.length - 1;\n\t  if (index == lastIndex) {\n\t    data.pop();\n\t  } else {\n\t    splice.call(data, index, 1);\n\t  }\n\t  --this.size;\n\t  return true;\n\t}\n\n\t_listCacheDelete = listCacheDelete;\n\treturn _listCacheDelete;\n}\n\nexport { require_listCacheDelete as __require };\n//# sourceMappingURL=_listCacheDelete.js.map\n","import { __require as require_assocIndexOf } from './_assocIndexOf.js';\n\nvar _listCacheGet;\nvar hasRequired_listCacheGet;\n\nfunction require_listCacheGet () {\n\tif (hasRequired_listCacheGet) return _listCacheGet;\n\thasRequired_listCacheGet = 1;\n\tvar assocIndexOf = require_assocIndexOf();\n\n\t/**\n\t * Gets the list cache value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf ListCache\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction listCacheGet(key) {\n\t  var data = this.__data__,\n\t      index = assocIndexOf(data, key);\n\n\t  return index < 0 ? undefined : data[index][1];\n\t}\n\n\t_listCacheGet = listCacheGet;\n\treturn _listCacheGet;\n}\n\nexport { require_listCacheGet as __require };\n//# sourceMappingURL=_listCacheGet.js.map\n","import { __require as require_assocIndexOf } from './_assocIndexOf.js';\n\nvar _listCacheHas;\nvar hasRequired_listCacheHas;\n\nfunction require_listCacheHas () {\n\tif (hasRequired_listCacheHas) return _listCacheHas;\n\thasRequired_listCacheHas = 1;\n\tvar assocIndexOf = require_assocIndexOf();\n\n\t/**\n\t * Checks if a list cache value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf ListCache\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction listCacheHas(key) {\n\t  return assocIndexOf(this.__data__, key) > -1;\n\t}\n\n\t_listCacheHas = listCacheHas;\n\treturn _listCacheHas;\n}\n\nexport { require_listCacheHas as __require };\n//# sourceMappingURL=_listCacheHas.js.map\n","import { __require as require_assocIndexOf } from './_assocIndexOf.js';\n\nvar _listCacheSet;\nvar hasRequired_listCacheSet;\n\nfunction require_listCacheSet () {\n\tif (hasRequired_listCacheSet) return _listCacheSet;\n\thasRequired_listCacheSet = 1;\n\tvar assocIndexOf = require_assocIndexOf();\n\n\t/**\n\t * Sets the list cache `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf ListCache\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the list cache instance.\n\t */\n\tfunction listCacheSet(key, value) {\n\t  var data = this.__data__,\n\t      index = assocIndexOf(data, key);\n\n\t  if (index < 0) {\n\t    ++this.size;\n\t    data.push([key, value]);\n\t  } else {\n\t    data[index][1] = value;\n\t  }\n\t  return this;\n\t}\n\n\t_listCacheSet = listCacheSet;\n\treturn _listCacheSet;\n}\n\nexport { require_listCacheSet as __require };\n//# sourceMappingURL=_listCacheSet.js.map\n","import { __require as require_listCacheClear } from './_listCacheClear.js';\nimport { __require as require_listCacheDelete } from './_listCacheDelete.js';\nimport { __require as require_listCacheGet } from './_listCacheGet.js';\nimport { __require as require_listCacheHas } from './_listCacheHas.js';\nimport { __require as require_listCacheSet } from './_listCacheSet.js';\n\nvar _ListCache;\nvar hasRequired_ListCache;\n\nfunction require_ListCache () {\n\tif (hasRequired_ListCache) return _ListCache;\n\thasRequired_ListCache = 1;\n\tvar listCacheClear = require_listCacheClear(),\n\t    listCacheDelete = require_listCacheDelete(),\n\t    listCacheGet = require_listCacheGet(),\n\t    listCacheHas = require_listCacheHas(),\n\t    listCacheSet = require_listCacheSet();\n\n\t/**\n\t * Creates an list cache object.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction ListCache(entries) {\n\t  var index = -1,\n\t      length = entries == null ? 0 : entries.length;\n\n\t  this.clear();\n\t  while (++index < length) {\n\t    var entry = entries[index];\n\t    this.set(entry[0], entry[1]);\n\t  }\n\t}\n\n\t// Add methods to `ListCache`.\n\tListCache.prototype.clear = listCacheClear;\n\tListCache.prototype['delete'] = listCacheDelete;\n\tListCache.prototype.get = listCacheGet;\n\tListCache.prototype.has = listCacheHas;\n\tListCache.prototype.set = listCacheSet;\n\n\t_ListCache = ListCache;\n\treturn _ListCache;\n}\n\nexport { require_ListCache as __require };\n//# sourceMappingURL=_ListCache.js.map\n","import { __require as require_ListCache } from './_ListCache.js';\n\nvar _stackClear;\nvar hasRequired_stackClear;\n\nfunction require_stackClear () {\n\tif (hasRequired_stackClear) return _stackClear;\n\thasRequired_stackClear = 1;\n\tvar ListCache = require_ListCache();\n\n\t/**\n\t * Removes all key-value entries from the stack.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf Stack\n\t */\n\tfunction stackClear() {\n\t  this.__data__ = new ListCache;\n\t  this.size = 0;\n\t}\n\n\t_stackClear = stackClear;\n\treturn _stackClear;\n}\n\nexport { require_stackClear as __require };\n//# sourceMappingURL=_stackClear.js.map\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nvar _stackDelete;\nvar hasRequired_stackDelete;\n\nfunction require_stackDelete () {\n\tif (hasRequired_stackDelete) return _stackDelete;\n\thasRequired_stackDelete = 1;\n\tfunction stackDelete(key) {\n\t  var data = this.__data__,\n\t      result = data['delete'](key);\n\n\t  this.size = data.size;\n\t  return result;\n\t}\n\n\t_stackDelete = stackDelete;\n\treturn _stackDelete;\n}\n\nexport { require_stackDelete as __require };\n//# sourceMappingURL=_stackDelete.js.map\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\n\nvar _stackGet;\nvar hasRequired_stackGet;\n\nfunction require_stackGet () {\n\tif (hasRequired_stackGet) return _stackGet;\n\thasRequired_stackGet = 1;\n\tfunction stackGet(key) {\n\t  return this.__data__.get(key);\n\t}\n\n\t_stackGet = stackGet;\n\treturn _stackGet;\n}\n\nexport { require_stackGet as __require };\n//# sourceMappingURL=_stackGet.js.map\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nvar _stackHas;\nvar hasRequired_stackHas;\n\nfunction require_stackHas () {\n\tif (hasRequired_stackHas) return _stackHas;\n\thasRequired_stackHas = 1;\n\tfunction stackHas(key) {\n\t  return this.__data__.has(key);\n\t}\n\n\t_stackHas = stackHas;\n\treturn _stackHas;\n}\n\nexport { require_stackHas as __require };\n//# sourceMappingURL=_stackHas.js.map\n","import { commonjsGlobal } from '../../_virtual/_commonjsHelpers.js';\n\n/** Detect free variable `global` from Node.js. */\n\nvar _freeGlobal;\nvar hasRequired_freeGlobal;\n\nfunction require_freeGlobal () {\n\tif (hasRequired_freeGlobal) return _freeGlobal;\n\thasRequired_freeGlobal = 1;\n\tvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n\t_freeGlobal = freeGlobal;\n\treturn _freeGlobal;\n}\n\nexport { require_freeGlobal as __require };\n//# sourceMappingURL=_freeGlobal.js.map\n","import { __require as require_freeGlobal } from './_freeGlobal.js';\n\nvar _root;\nvar hasRequired_root;\n\nfunction require_root () {\n\tif (hasRequired_root) return _root;\n\thasRequired_root = 1;\n\tvar freeGlobal = require_freeGlobal();\n\n\t/** Detect free variable `self`. */\n\tvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n\t/** Used as a reference to the global object. */\n\tvar root = freeGlobal || freeSelf || Function('return this')();\n\n\t_root = root;\n\treturn _root;\n}\n\nexport { require_root as __require };\n//# sourceMappingURL=_root.js.map\n","import { __require as require_root } from './_root.js';\n\nvar _Symbol;\nvar hasRequired_Symbol;\n\nfunction require_Symbol () {\n\tif (hasRequired_Symbol) return _Symbol;\n\thasRequired_Symbol = 1;\n\tvar root = require_root();\n\n\t/** Built-in value references. */\n\tvar Symbol = root.Symbol;\n\n\t_Symbol = Symbol;\n\treturn _Symbol;\n}\n\nexport { require_Symbol as __require };\n//# sourceMappingURL=_Symbol.js.map\n","import { __require as require_Symbol } from './_Symbol.js';\n\nvar _getRawTag;\nvar hasRequired_getRawTag;\n\nfunction require_getRawTag () {\n\tif (hasRequired_getRawTag) return _getRawTag;\n\thasRequired_getRawTag = 1;\n\tvar Symbol = require_Symbol();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar nativeObjectToString = objectProto.toString;\n\n\t/** Built-in value references. */\n\tvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n\t/**\n\t * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {string} Returns the raw `toStringTag`.\n\t */\n\tfunction getRawTag(value) {\n\t  var isOwn = hasOwnProperty.call(value, symToStringTag),\n\t      tag = value[symToStringTag];\n\n\t  try {\n\t    value[symToStringTag] = undefined;\n\t    var unmasked = true;\n\t  } catch (e) {}\n\n\t  var result = nativeObjectToString.call(value);\n\t  if (unmasked) {\n\t    if (isOwn) {\n\t      value[symToStringTag] = tag;\n\t    } else {\n\t      delete value[symToStringTag];\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_getRawTag = getRawTag;\n\treturn _getRawTag;\n}\n\nexport { require_getRawTag as __require };\n//# sourceMappingURL=_getRawTag.js.map\n","/** Used for built-in method references. */\n\nvar _objectToString;\nvar hasRequired_objectToString;\n\nfunction require_objectToString () {\n\tif (hasRequired_objectToString) return _objectToString;\n\thasRequired_objectToString = 1;\n\tvar objectProto = Object.prototype;\n\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar nativeObjectToString = objectProto.toString;\n\n\t/**\n\t * Converts `value` to a string using `Object.prototype.toString`.\n\t *\n\t * @private\n\t * @param {*} value The value to convert.\n\t * @returns {string} Returns the converted string.\n\t */\n\tfunction objectToString(value) {\n\t  return nativeObjectToString.call(value);\n\t}\n\n\t_objectToString = objectToString;\n\treturn _objectToString;\n}\n\nexport { require_objectToString as __require };\n//# sourceMappingURL=_objectToString.js.map\n","import { __require as require_Symbol } from './_Symbol.js';\nimport { __require as require_getRawTag } from './_getRawTag.js';\nimport { __require as require_objectToString } from './_objectToString.js';\n\nvar _baseGetTag;\nvar hasRequired_baseGetTag;\n\nfunction require_baseGetTag () {\n\tif (hasRequired_baseGetTag) return _baseGetTag;\n\thasRequired_baseGetTag = 1;\n\tvar Symbol = require_Symbol(),\n\t    getRawTag = require_getRawTag(),\n\t    objectToString = require_objectToString();\n\n\t/** `Object#toString` result references. */\n\tvar nullTag = '[object Null]',\n\t    undefinedTag = '[object Undefined]';\n\n\t/** Built-in value references. */\n\tvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n\t/**\n\t * The base implementation of `getTag` without fallbacks for buggy environments.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {string} Returns the `toStringTag`.\n\t */\n\tfunction baseGetTag(value) {\n\t  if (value == null) {\n\t    return value === undefined ? undefinedTag : nullTag;\n\t  }\n\t  return (symToStringTag && symToStringTag in Object(value))\n\t    ? getRawTag(value)\n\t    : objectToString(value);\n\t}\n\n\t_baseGetTag = baseGetTag;\n\treturn _baseGetTag;\n}\n\nexport { require_baseGetTag as __require };\n//# sourceMappingURL=_baseGetTag.js.map\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\nvar isObject_1;\nvar hasRequiredIsObject;\n\nfunction requireIsObject () {\n\tif (hasRequiredIsObject) return isObject_1;\n\thasRequiredIsObject = 1;\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return value != null && (type == 'object' || type == 'function');\n\t}\n\n\tisObject_1 = isObject;\n\treturn isObject_1;\n}\n\nexport { requireIsObject as __require };\n//# sourceMappingURL=isObject.js.map\n","import { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as requireIsObject } from './isObject.js';\n\nvar isFunction_1;\nvar hasRequiredIsFunction;\n\nfunction requireIsFunction () {\n\tif (hasRequiredIsFunction) return isFunction_1;\n\thasRequiredIsFunction = 1;\n\tvar baseGetTag = require_baseGetTag(),\n\t    isObject = requireIsObject();\n\n\t/** `Object#toString` result references. */\n\tvar asyncTag = '[object AsyncFunction]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    proxyTag = '[object Proxy]';\n\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  if (!isObject(value)) {\n\t    return false;\n\t  }\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n\t  var tag = baseGetTag(value);\n\t  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n\t}\n\n\tisFunction_1 = isFunction;\n\treturn isFunction_1;\n}\n\nexport { requireIsFunction as __require };\n//# sourceMappingURL=isFunction.js.map\n","import { __require as require_root } from './_root.js';\n\nvar _coreJsData;\nvar hasRequired_coreJsData;\n\nfunction require_coreJsData () {\n\tif (hasRequired_coreJsData) return _coreJsData;\n\thasRequired_coreJsData = 1;\n\tvar root = require_root();\n\n\t/** Used to detect overreaching core-js shims. */\n\tvar coreJsData = root['__core-js_shared__'];\n\n\t_coreJsData = coreJsData;\n\treturn _coreJsData;\n}\n\nexport { require_coreJsData as __require };\n//# sourceMappingURL=_coreJsData.js.map\n","import { __require as require_coreJsData } from './_coreJsData.js';\n\nvar _isMasked;\nvar hasRequired_isMasked;\n\nfunction require_isMasked () {\n\tif (hasRequired_isMasked) return _isMasked;\n\thasRequired_isMasked = 1;\n\tvar coreJsData = require_coreJsData();\n\n\t/** Used to detect methods masquerading as native. */\n\tvar maskSrcKey = (function() {\n\t  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n\t  return uid ? ('Symbol(src)_1.' + uid) : '';\n\t}());\n\n\t/**\n\t * Checks if `func` has its source masked.\n\t *\n\t * @private\n\t * @param {Function} func The function to check.\n\t * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n\t */\n\tfunction isMasked(func) {\n\t  return !!maskSrcKey && (maskSrcKey in func);\n\t}\n\n\t_isMasked = isMasked;\n\treturn _isMasked;\n}\n\nexport { require_isMasked as __require };\n//# sourceMappingURL=_isMasked.js.map\n","/** Used for built-in method references. */\n\nvar _toSource;\nvar hasRequired_toSource;\n\nfunction require_toSource () {\n\tif (hasRequired_toSource) return _toSource;\n\thasRequired_toSource = 1;\n\tvar funcProto = Function.prototype;\n\n\t/** Used to resolve the decompiled source of functions. */\n\tvar funcToString = funcProto.toString;\n\n\t/**\n\t * Converts `func` to its source code.\n\t *\n\t * @private\n\t * @param {Function} func The function to convert.\n\t * @returns {string} Returns the source code.\n\t */\n\tfunction toSource(func) {\n\t  if (func != null) {\n\t    try {\n\t      return funcToString.call(func);\n\t    } catch (e) {}\n\t    try {\n\t      return (func + '');\n\t    } catch (e) {}\n\t  }\n\t  return '';\n\t}\n\n\t_toSource = toSource;\n\treturn _toSource;\n}\n\nexport { require_toSource as __require };\n//# sourceMappingURL=_toSource.js.map\n","import { __require as requireIsFunction } from './isFunction.js';\nimport { __require as require_isMasked } from './_isMasked.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as require_toSource } from './_toSource.js';\n\nvar _baseIsNative;\nvar hasRequired_baseIsNative;\n\nfunction require_baseIsNative () {\n\tif (hasRequired_baseIsNative) return _baseIsNative;\n\thasRequired_baseIsNative = 1;\n\tvar isFunction = requireIsFunction(),\n\t    isMasked = require_isMasked(),\n\t    isObject = requireIsObject(),\n\t    toSource = require_toSource();\n\n\t/**\n\t * Used to match `RegExp`\n\t * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n\t */\n\tvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n\t/** Used to detect host constructors (Safari). */\n\tvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n\t/** Used for built-in method references. */\n\tvar funcProto = Function.prototype,\n\t    objectProto = Object.prototype;\n\n\t/** Used to resolve the decompiled source of functions. */\n\tvar funcToString = funcProto.toString;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/** Used to detect if a method is native. */\n\tvar reIsNative = RegExp('^' +\n\t  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n\t  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n\t);\n\n\t/**\n\t * The base implementation of `_.isNative` without bad shim checks.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a native function,\n\t *  else `false`.\n\t */\n\tfunction baseIsNative(value) {\n\t  if (!isObject(value) || isMasked(value)) {\n\t    return false;\n\t  }\n\t  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n\t  return pattern.test(toSource(value));\n\t}\n\n\t_baseIsNative = baseIsNative;\n\treturn _baseIsNative;\n}\n\nexport { require_baseIsNative as __require };\n//# sourceMappingURL=_baseIsNative.js.map\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\nvar _getValue;\nvar hasRequired_getValue;\n\nfunction require_getValue () {\n\tif (hasRequired_getValue) return _getValue;\n\thasRequired_getValue = 1;\n\tfunction getValue(object, key) {\n\t  return object == null ? undefined : object[key];\n\t}\n\n\t_getValue = getValue;\n\treturn _getValue;\n}\n\nexport { require_getValue as __require };\n//# sourceMappingURL=_getValue.js.map\n","import { __require as require_baseIsNative } from './_baseIsNative.js';\nimport { __require as require_getValue } from './_getValue.js';\n\nvar _getNative;\nvar hasRequired_getNative;\n\nfunction require_getNative () {\n\tif (hasRequired_getNative) return _getNative;\n\thasRequired_getNative = 1;\n\tvar baseIsNative = require_baseIsNative(),\n\t    getValue = require_getValue();\n\n\t/**\n\t * Gets the native function at `key` of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {string} key The key of the method to get.\n\t * @returns {*} Returns the function if it's native, else `undefined`.\n\t */\n\tfunction getNative(object, key) {\n\t  var value = getValue(object, key);\n\t  return baseIsNative(value) ? value : undefined;\n\t}\n\n\t_getNative = getNative;\n\treturn _getNative;\n}\n\nexport { require_getNative as __require };\n//# sourceMappingURL=_getNative.js.map\n","import { __require as require_getNative } from './_getNative.js';\nimport { __require as require_root } from './_root.js';\n\nvar _Map;\nvar hasRequired_Map;\n\nfunction require_Map () {\n\tif (hasRequired_Map) return _Map;\n\thasRequired_Map = 1;\n\tvar getNative = require_getNative(),\n\t    root = require_root();\n\n\t/* Built-in method references that are verified to be native. */\n\tvar Map = getNative(root, 'Map');\n\n\t_Map = Map;\n\treturn _Map;\n}\n\nexport { require_Map as __require };\n//# sourceMappingURL=_Map.js.map\n","import { __require as require_getNative } from './_getNative.js';\n\nvar _nativeCreate;\nvar hasRequired_nativeCreate;\n\nfunction require_nativeCreate () {\n\tif (hasRequired_nativeCreate) return _nativeCreate;\n\thasRequired_nativeCreate = 1;\n\tvar getNative = require_getNative();\n\n\t/* Built-in method references that are verified to be native. */\n\tvar nativeCreate = getNative(Object, 'create');\n\n\t_nativeCreate = nativeCreate;\n\treturn _nativeCreate;\n}\n\nexport { require_nativeCreate as __require };\n//# sourceMappingURL=_nativeCreate.js.map\n","import { __require as require_nativeCreate } from './_nativeCreate.js';\n\nvar _hashClear;\nvar hasRequired_hashClear;\n\nfunction require_hashClear () {\n\tif (hasRequired_hashClear) return _hashClear;\n\thasRequired_hashClear = 1;\n\tvar nativeCreate = require_nativeCreate();\n\n\t/**\n\t * Removes all key-value entries from the hash.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf Hash\n\t */\n\tfunction hashClear() {\n\t  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n\t  this.size = 0;\n\t}\n\n\t_hashClear = hashClear;\n\treturn _hashClear;\n}\n\nexport { require_hashClear as __require };\n//# sourceMappingURL=_hashClear.js.map\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\n\nvar _hashDelete;\nvar hasRequired_hashDelete;\n\nfunction require_hashDelete () {\n\tif (hasRequired_hashDelete) return _hashDelete;\n\thasRequired_hashDelete = 1;\n\tfunction hashDelete(key) {\n\t  var result = this.has(key) && delete this.__data__[key];\n\t  this.size -= result ? 1 : 0;\n\t  return result;\n\t}\n\n\t_hashDelete = hashDelete;\n\treturn _hashDelete;\n}\n\nexport { require_hashDelete as __require };\n//# sourceMappingURL=_hashDelete.js.map\n","import { __require as require_nativeCreate } from './_nativeCreate.js';\n\nvar _hashGet;\nvar hasRequired_hashGet;\n\nfunction require_hashGet () {\n\tif (hasRequired_hashGet) return _hashGet;\n\thasRequired_hashGet = 1;\n\tvar nativeCreate = require_nativeCreate();\n\n\t/** Used to stand-in for `undefined` hash values. */\n\tvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Gets the hash value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf Hash\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction hashGet(key) {\n\t  var data = this.__data__;\n\t  if (nativeCreate) {\n\t    var result = data[key];\n\t    return result === HASH_UNDEFINED ? undefined : result;\n\t  }\n\t  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n\t}\n\n\t_hashGet = hashGet;\n\treturn _hashGet;\n}\n\nexport { require_hashGet as __require };\n//# sourceMappingURL=_hashGet.js.map\n","import { __require as require_nativeCreate } from './_nativeCreate.js';\n\nvar _hashHas;\nvar hasRequired_hashHas;\n\nfunction require_hashHas () {\n\tif (hasRequired_hashHas) return _hashHas;\n\thasRequired_hashHas = 1;\n\tvar nativeCreate = require_nativeCreate();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Checks if a hash value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf Hash\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction hashHas(key) {\n\t  var data = this.__data__;\n\t  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n\t}\n\n\t_hashHas = hashHas;\n\treturn _hashHas;\n}\n\nexport { require_hashHas as __require };\n//# sourceMappingURL=_hashHas.js.map\n","import { __require as require_nativeCreate } from './_nativeCreate.js';\n\nvar _hashSet;\nvar hasRequired_hashSet;\n\nfunction require_hashSet () {\n\tif (hasRequired_hashSet) return _hashSet;\n\thasRequired_hashSet = 1;\n\tvar nativeCreate = require_nativeCreate();\n\n\t/** Used to stand-in for `undefined` hash values. */\n\tvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n\t/**\n\t * Sets the hash `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf Hash\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the hash instance.\n\t */\n\tfunction hashSet(key, value) {\n\t  var data = this.__data__;\n\t  this.size += this.has(key) ? 0 : 1;\n\t  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n\t  return this;\n\t}\n\n\t_hashSet = hashSet;\n\treturn _hashSet;\n}\n\nexport { require_hashSet as __require };\n//# sourceMappingURL=_hashSet.js.map\n","import { __require as require_hashClear } from './_hashClear.js';\nimport { __require as require_hashDelete } from './_hashDelete.js';\nimport { __require as require_hashGet } from './_hashGet.js';\nimport { __require as require_hashHas } from './_hashHas.js';\nimport { __require as require_hashSet } from './_hashSet.js';\n\nvar _Hash;\nvar hasRequired_Hash;\n\nfunction require_Hash () {\n\tif (hasRequired_Hash) return _Hash;\n\thasRequired_Hash = 1;\n\tvar hashClear = require_hashClear(),\n\t    hashDelete = require_hashDelete(),\n\t    hashGet = require_hashGet(),\n\t    hashHas = require_hashHas(),\n\t    hashSet = require_hashSet();\n\n\t/**\n\t * Creates a hash object.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction Hash(entries) {\n\t  var index = -1,\n\t      length = entries == null ? 0 : entries.length;\n\n\t  this.clear();\n\t  while (++index < length) {\n\t    var entry = entries[index];\n\t    this.set(entry[0], entry[1]);\n\t  }\n\t}\n\n\t// Add methods to `Hash`.\n\tHash.prototype.clear = hashClear;\n\tHash.prototype['delete'] = hashDelete;\n\tHash.prototype.get = hashGet;\n\tHash.prototype.has = hashHas;\n\tHash.prototype.set = hashSet;\n\n\t_Hash = Hash;\n\treturn _Hash;\n}\n\nexport { require_Hash as __require };\n//# sourceMappingURL=_Hash.js.map\n","import { __require as require_Hash } from './_Hash.js';\nimport { __require as require_ListCache } from './_ListCache.js';\nimport { __require as require_Map } from './_Map.js';\n\nvar _mapCacheClear;\nvar hasRequired_mapCacheClear;\n\nfunction require_mapCacheClear () {\n\tif (hasRequired_mapCacheClear) return _mapCacheClear;\n\thasRequired_mapCacheClear = 1;\n\tvar Hash = require_Hash(),\n\t    ListCache = require_ListCache(),\n\t    Map = require_Map();\n\n\t/**\n\t * Removes all key-value entries from the map.\n\t *\n\t * @private\n\t * @name clear\n\t * @memberOf MapCache\n\t */\n\tfunction mapCacheClear() {\n\t  this.size = 0;\n\t  this.__data__ = {\n\t    'hash': new Hash,\n\t    'map': new (Map || ListCache),\n\t    'string': new Hash\n\t  };\n\t}\n\n\t_mapCacheClear = mapCacheClear;\n\treturn _mapCacheClear;\n}\n\nexport { require_mapCacheClear as __require };\n//# sourceMappingURL=_mapCacheClear.js.map\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\n\nvar _isKeyable;\nvar hasRequired_isKeyable;\n\nfunction require_isKeyable () {\n\tif (hasRequired_isKeyable) return _isKeyable;\n\thasRequired_isKeyable = 1;\n\tfunction isKeyable(value) {\n\t  var type = typeof value;\n\t  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n\t    ? (value !== '__proto__')\n\t    : (value === null);\n\t}\n\n\t_isKeyable = isKeyable;\n\treturn _isKeyable;\n}\n\nexport { require_isKeyable as __require };\n//# sourceMappingURL=_isKeyable.js.map\n","import { __require as require_isKeyable } from './_isKeyable.js';\n\nvar _getMapData;\nvar hasRequired_getMapData;\n\nfunction require_getMapData () {\n\tif (hasRequired_getMapData) return _getMapData;\n\thasRequired_getMapData = 1;\n\tvar isKeyable = require_isKeyable();\n\n\t/**\n\t * Gets the data for `map`.\n\t *\n\t * @private\n\t * @param {Object} map The map to query.\n\t * @param {string} key The reference key.\n\t * @returns {*} Returns the map data.\n\t */\n\tfunction getMapData(map, key) {\n\t  var data = map.__data__;\n\t  return isKeyable(key)\n\t    ? data[typeof key == 'string' ? 'string' : 'hash']\n\t    : data.map;\n\t}\n\n\t_getMapData = getMapData;\n\treturn _getMapData;\n}\n\nexport { require_getMapData as __require };\n//# sourceMappingURL=_getMapData.js.map\n","import { __require as require_getMapData } from './_getMapData.js';\n\nvar _mapCacheDelete;\nvar hasRequired_mapCacheDelete;\n\nfunction require_mapCacheDelete () {\n\tif (hasRequired_mapCacheDelete) return _mapCacheDelete;\n\thasRequired_mapCacheDelete = 1;\n\tvar getMapData = require_getMapData();\n\n\t/**\n\t * Removes `key` and its value from the map.\n\t *\n\t * @private\n\t * @name delete\n\t * @memberOf MapCache\n\t * @param {string} key The key of the value to remove.\n\t * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n\t */\n\tfunction mapCacheDelete(key) {\n\t  var result = getMapData(this, key)['delete'](key);\n\t  this.size -= result ? 1 : 0;\n\t  return result;\n\t}\n\n\t_mapCacheDelete = mapCacheDelete;\n\treturn _mapCacheDelete;\n}\n\nexport { require_mapCacheDelete as __require };\n//# sourceMappingURL=_mapCacheDelete.js.map\n","import { __require as require_getMapData } from './_getMapData.js';\n\nvar _mapCacheGet;\nvar hasRequired_mapCacheGet;\n\nfunction require_mapCacheGet () {\n\tif (hasRequired_mapCacheGet) return _mapCacheGet;\n\thasRequired_mapCacheGet = 1;\n\tvar getMapData = require_getMapData();\n\n\t/**\n\t * Gets the map value for `key`.\n\t *\n\t * @private\n\t * @name get\n\t * @memberOf MapCache\n\t * @param {string} key The key of the value to get.\n\t * @returns {*} Returns the entry value.\n\t */\n\tfunction mapCacheGet(key) {\n\t  return getMapData(this, key).get(key);\n\t}\n\n\t_mapCacheGet = mapCacheGet;\n\treturn _mapCacheGet;\n}\n\nexport { require_mapCacheGet as __require };\n//# sourceMappingURL=_mapCacheGet.js.map\n","import { __require as require_getMapData } from './_getMapData.js';\n\nvar _mapCacheHas;\nvar hasRequired_mapCacheHas;\n\nfunction require_mapCacheHas () {\n\tif (hasRequired_mapCacheHas) return _mapCacheHas;\n\thasRequired_mapCacheHas = 1;\n\tvar getMapData = require_getMapData();\n\n\t/**\n\t * Checks if a map value for `key` exists.\n\t *\n\t * @private\n\t * @name has\n\t * @memberOf MapCache\n\t * @param {string} key The key of the entry to check.\n\t * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n\t */\n\tfunction mapCacheHas(key) {\n\t  return getMapData(this, key).has(key);\n\t}\n\n\t_mapCacheHas = mapCacheHas;\n\treturn _mapCacheHas;\n}\n\nexport { require_mapCacheHas as __require };\n//# sourceMappingURL=_mapCacheHas.js.map\n","import { __require as require_getMapData } from './_getMapData.js';\n\nvar _mapCacheSet;\nvar hasRequired_mapCacheSet;\n\nfunction require_mapCacheSet () {\n\tif (hasRequired_mapCacheSet) return _mapCacheSet;\n\thasRequired_mapCacheSet = 1;\n\tvar getMapData = require_getMapData();\n\n\t/**\n\t * Sets the map `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf MapCache\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the map cache instance.\n\t */\n\tfunction mapCacheSet(key, value) {\n\t  var data = getMapData(this, key),\n\t      size = data.size;\n\n\t  data.set(key, value);\n\t  this.size += data.size == size ? 0 : 1;\n\t  return this;\n\t}\n\n\t_mapCacheSet = mapCacheSet;\n\treturn _mapCacheSet;\n}\n\nexport { require_mapCacheSet as __require };\n//# sourceMappingURL=_mapCacheSet.js.map\n","import { __require as require_mapCacheClear } from './_mapCacheClear.js';\nimport { __require as require_mapCacheDelete } from './_mapCacheDelete.js';\nimport { __require as require_mapCacheGet } from './_mapCacheGet.js';\nimport { __require as require_mapCacheHas } from './_mapCacheHas.js';\nimport { __require as require_mapCacheSet } from './_mapCacheSet.js';\n\nvar _MapCache;\nvar hasRequired_MapCache;\n\nfunction require_MapCache () {\n\tif (hasRequired_MapCache) return _MapCache;\n\thasRequired_MapCache = 1;\n\tvar mapCacheClear = require_mapCacheClear(),\n\t    mapCacheDelete = require_mapCacheDelete(),\n\t    mapCacheGet = require_mapCacheGet(),\n\t    mapCacheHas = require_mapCacheHas(),\n\t    mapCacheSet = require_mapCacheSet();\n\n\t/**\n\t * Creates a map cache object to store key-value pairs.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction MapCache(entries) {\n\t  var index = -1,\n\t      length = entries == null ? 0 : entries.length;\n\n\t  this.clear();\n\t  while (++index < length) {\n\t    var entry = entries[index];\n\t    this.set(entry[0], entry[1]);\n\t  }\n\t}\n\n\t// Add methods to `MapCache`.\n\tMapCache.prototype.clear = mapCacheClear;\n\tMapCache.prototype['delete'] = mapCacheDelete;\n\tMapCache.prototype.get = mapCacheGet;\n\tMapCache.prototype.has = mapCacheHas;\n\tMapCache.prototype.set = mapCacheSet;\n\n\t_MapCache = MapCache;\n\treturn _MapCache;\n}\n\nexport { require_MapCache as __require };\n//# sourceMappingURL=_MapCache.js.map\n","import { __require as require_ListCache } from './_ListCache.js';\nimport { __require as require_Map } from './_Map.js';\nimport { __require as require_MapCache } from './_MapCache.js';\n\nvar _stackSet;\nvar hasRequired_stackSet;\n\nfunction require_stackSet () {\n\tif (hasRequired_stackSet) return _stackSet;\n\thasRequired_stackSet = 1;\n\tvar ListCache = require_ListCache(),\n\t    Map = require_Map(),\n\t    MapCache = require_MapCache();\n\n\t/** Used as the size to enable large array optimizations. */\n\tvar LARGE_ARRAY_SIZE = 200;\n\n\t/**\n\t * Sets the stack `key` to `value`.\n\t *\n\t * @private\n\t * @name set\n\t * @memberOf Stack\n\t * @param {string} key The key of the value to set.\n\t * @param {*} value The value to set.\n\t * @returns {Object} Returns the stack cache instance.\n\t */\n\tfunction stackSet(key, value) {\n\t  var data = this.__data__;\n\t  if (data instanceof ListCache) {\n\t    var pairs = data.__data__;\n\t    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n\t      pairs.push([key, value]);\n\t      this.size = ++data.size;\n\t      return this;\n\t    }\n\t    data = this.__data__ = new MapCache(pairs);\n\t  }\n\t  data.set(key, value);\n\t  this.size = data.size;\n\t  return this;\n\t}\n\n\t_stackSet = stackSet;\n\treturn _stackSet;\n}\n\nexport { require_stackSet as __require };\n//# sourceMappingURL=_stackSet.js.map\n","import { __require as require_ListCache } from './_ListCache.js';\nimport { __require as require_stackClear } from './_stackClear.js';\nimport { __require as require_stackDelete } from './_stackDelete.js';\nimport { __require as require_stackGet } from './_stackGet.js';\nimport { __require as require_stackHas } from './_stackHas.js';\nimport { __require as require_stackSet } from './_stackSet.js';\n\nvar _Stack;\nvar hasRequired_Stack;\n\nfunction require_Stack () {\n\tif (hasRequired_Stack) return _Stack;\n\thasRequired_Stack = 1;\n\tvar ListCache = require_ListCache(),\n\t    stackClear = require_stackClear(),\n\t    stackDelete = require_stackDelete(),\n\t    stackGet = require_stackGet(),\n\t    stackHas = require_stackHas(),\n\t    stackSet = require_stackSet();\n\n\t/**\n\t * Creates a stack cache object to store key-value pairs.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [entries] The key-value pairs to cache.\n\t */\n\tfunction Stack(entries) {\n\t  var data = this.__data__ = new ListCache(entries);\n\t  this.size = data.size;\n\t}\n\n\t// Add methods to `Stack`.\n\tStack.prototype.clear = stackClear;\n\tStack.prototype['delete'] = stackDelete;\n\tStack.prototype.get = stackGet;\n\tStack.prototype.has = stackHas;\n\tStack.prototype.set = stackSet;\n\n\t_Stack = Stack;\n\treturn _Stack;\n}\n\nexport { require_Stack as __require };\n//# sourceMappingURL=_Stack.js.map\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\n\nvar _arrayEach;\nvar hasRequired_arrayEach;\n\nfunction require_arrayEach () {\n\tif (hasRequired_arrayEach) return _arrayEach;\n\thasRequired_arrayEach = 1;\n\tfunction arrayEach(array, iteratee) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length;\n\n\t  while (++index < length) {\n\t    if (iteratee(array[index], index, array) === false) {\n\t      break;\n\t    }\n\t  }\n\t  return array;\n\t}\n\n\t_arrayEach = arrayEach;\n\treturn _arrayEach;\n}\n\nexport { require_arrayEach as __require };\n//# sourceMappingURL=_arrayEach.js.map\n","import { __require as require_getNative } from './_getNative.js';\n\nvar _defineProperty;\nvar hasRequired_defineProperty;\n\nfunction require_defineProperty () {\n\tif (hasRequired_defineProperty) return _defineProperty;\n\thasRequired_defineProperty = 1;\n\tvar getNative = require_getNative();\n\n\tvar defineProperty = (function() {\n\t  try {\n\t    var func = getNative(Object, 'defineProperty');\n\t    func({}, '', {});\n\t    return func;\n\t  } catch (e) {}\n\t}());\n\n\t_defineProperty = defineProperty;\n\treturn _defineProperty;\n}\n\nexport { require_defineProperty as __require };\n//# sourceMappingURL=_defineProperty.js.map\n","import { __require as require_defineProperty } from './_defineProperty.js';\n\nvar _baseAssignValue;\nvar hasRequired_baseAssignValue;\n\nfunction require_baseAssignValue () {\n\tif (hasRequired_baseAssignValue) return _baseAssignValue;\n\thasRequired_baseAssignValue = 1;\n\tvar defineProperty = require_defineProperty();\n\n\t/**\n\t * The base implementation of `assignValue` and `assignMergeValue` without\n\t * value checks.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction baseAssignValue(object, key, value) {\n\t  if (key == '__proto__' && defineProperty) {\n\t    defineProperty(object, key, {\n\t      'configurable': true,\n\t      'enumerable': true,\n\t      'value': value,\n\t      'writable': true\n\t    });\n\t  } else {\n\t    object[key] = value;\n\t  }\n\t}\n\n\t_baseAssignValue = baseAssignValue;\n\treturn _baseAssignValue;\n}\n\nexport { require_baseAssignValue as __require };\n//# sourceMappingURL=_baseAssignValue.js.map\n","import { __require as require_baseAssignValue } from './_baseAssignValue.js';\nimport { __require as requireEq } from './eq.js';\n\nvar _assignValue;\nvar hasRequired_assignValue;\n\nfunction require_assignValue () {\n\tif (hasRequired_assignValue) return _assignValue;\n\thasRequired_assignValue = 1;\n\tvar baseAssignValue = require_baseAssignValue(),\n\t    eq = requireEq();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t      (value === undefined && !(key in object))) {\n\t    baseAssignValue(object, key, value);\n\t  }\n\t}\n\n\t_assignValue = assignValue;\n\treturn _assignValue;\n}\n\nexport { require_assignValue as __require };\n//# sourceMappingURL=_assignValue.js.map\n","import { __require as require_assignValue } from './_assignValue.js';\nimport { __require as require_baseAssignValue } from './_baseAssignValue.js';\n\nvar _copyObject;\nvar hasRequired_copyObject;\n\nfunction require_copyObject () {\n\tif (hasRequired_copyObject) return _copyObject;\n\thasRequired_copyObject = 1;\n\tvar assignValue = require_assignValue(),\n\t    baseAssignValue = require_baseAssignValue();\n\n\t/**\n\t * Copies properties of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property identifiers to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @param {Function} [customizer] The function to customize copied values.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObject(source, props, object, customizer) {\n\t  var isNew = !object;\n\t  object || (object = {});\n\n\t  var index = -1,\n\t      length = props.length;\n\n\t  while (++index < length) {\n\t    var key = props[index];\n\n\t    var newValue = customizer\n\t      ? customizer(object[key], source[key], key, object, source)\n\t      : undefined;\n\n\t    if (newValue === undefined) {\n\t      newValue = source[key];\n\t    }\n\t    if (isNew) {\n\t      baseAssignValue(object, key, newValue);\n\t    } else {\n\t      assignValue(object, key, newValue);\n\t    }\n\t  }\n\t  return object;\n\t}\n\n\t_copyObject = copyObject;\n\treturn _copyObject;\n}\n\nexport { require_copyObject as __require };\n//# sourceMappingURL=_copyObject.js.map\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\n\nvar _baseTimes;\nvar hasRequired_baseTimes;\n\nfunction require_baseTimes () {\n\tif (hasRequired_baseTimes) return _baseTimes;\n\thasRequired_baseTimes = 1;\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\n\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\n\t_baseTimes = baseTimes;\n\treturn _baseTimes;\n}\n\nexport { require_baseTimes as __require };\n//# sourceMappingURL=_baseTimes.js.map\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\nvar isObjectLike_1;\nvar hasRequiredIsObjectLike;\n\nfunction requireIsObjectLike () {\n\tif (hasRequiredIsObjectLike) return isObjectLike_1;\n\thasRequiredIsObjectLike = 1;\n\tfunction isObjectLike(value) {\n\t  return value != null && typeof value == 'object';\n\t}\n\n\tisObjectLike_1 = isObjectLike;\n\treturn isObjectLike_1;\n}\n\nexport { requireIsObjectLike as __require };\n//# sourceMappingURL=isObjectLike.js.map\n","import { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar _baseIsArguments;\nvar hasRequired_baseIsArguments;\n\nfunction require_baseIsArguments () {\n\tif (hasRequired_baseIsArguments) return _baseIsArguments;\n\thasRequired_baseIsArguments = 1;\n\tvar baseGetTag = require_baseGetTag(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]';\n\n\t/**\n\t * The base implementation of `_.isArguments`.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t */\n\tfunction baseIsArguments(value) {\n\t  return isObjectLike(value) && baseGetTag(value) == argsTag;\n\t}\n\n\t_baseIsArguments = baseIsArguments;\n\treturn _baseIsArguments;\n}\n\nexport { require_baseIsArguments as __require };\n//# sourceMappingURL=_baseIsArguments.js.map\n","import { __require as require_baseIsArguments } from './_baseIsArguments.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar isArguments_1;\nvar hasRequiredIsArguments;\n\nfunction requireIsArguments () {\n\tif (hasRequiredIsArguments) return isArguments_1;\n\thasRequiredIsArguments = 1;\n\tvar baseIsArguments = require_baseIsArguments(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n\t/**\n\t * Checks if `value` is likely an `arguments` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArguments(function() { return arguments; }());\n\t * // => true\n\t *\n\t * _.isArguments([1, 2, 3]);\n\t * // => false\n\t */\n\tvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n\t  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n\t    !propertyIsEnumerable.call(value, 'callee');\n\t};\n\n\tisArguments_1 = isArguments;\n\treturn isArguments_1;\n}\n\nexport { requireIsArguments as __require };\n//# sourceMappingURL=isArguments.js.map\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\n\nvar isArray_1;\nvar hasRequiredIsArray;\n\nfunction requireIsArray () {\n\tif (hasRequiredIsArray) return isArray_1;\n\thasRequiredIsArray = 1;\n\tvar isArray = Array.isArray;\n\n\tisArray_1 = isArray;\n\treturn isArray_1;\n}\n\nexport { requireIsArray as __require };\n//# sourceMappingURL=isArray.js.map\n","var isBuffer = {exports: {}};\n\nexport { isBuffer as __module };\n//# sourceMappingURL=isBuffer.js.map\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\n\nvar stubFalse_1;\nvar hasRequiredStubFalse;\n\nfunction requireStubFalse () {\n\tif (hasRequiredStubFalse) return stubFalse_1;\n\thasRequiredStubFalse = 1;\n\tfunction stubFalse() {\n\t  return false;\n\t}\n\n\tstubFalse_1 = stubFalse;\n\treturn stubFalse_1;\n}\n\nexport { requireStubFalse as __require };\n//# sourceMappingURL=stubFalse.js.map\n","import { __module as isBuffer } from '../../_virtual/isBuffer.js';\nimport { __require as require_root } from './_root.js';\nimport { __require as requireStubFalse } from './stubFalse.js';\n\nisBuffer.exports;\n\nvar hasRequiredIsBuffer;\n\nfunction requireIsBuffer () {\n\tif (hasRequiredIsBuffer) return isBuffer.exports;\n\thasRequiredIsBuffer = 1;\n\t(function (module, exports$1) {\n\t\tvar root = require_root(),\n\t\t    stubFalse = requireStubFalse();\n\n\t\t/** Detect free variable `exports`. */\n\t\tvar freeExports = exports$1 && !exports$1.nodeType && exports$1;\n\n\t\t/** Detect free variable `module`. */\n\t\tvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n\t\t/** Detect the popular CommonJS extension `module.exports`. */\n\t\tvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n\t\t/** Built-in value references. */\n\t\tvar Buffer = moduleExports ? root.Buffer : undefined;\n\n\t\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\t\tvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n\t\t/**\n\t\t * Checks if `value` is a buffer.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.3.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isBuffer(new Buffer(2));\n\t\t * // => true\n\t\t *\n\t\t * _.isBuffer(new Uint8Array(2));\n\t\t * // => false\n\t\t */\n\t\tvar isBuffer = nativeIsBuffer || stubFalse;\n\n\t\tmodule.exports = isBuffer; \n\t} (isBuffer, isBuffer.exports));\n\treturn isBuffer.exports;\n}\n\nexport { requireIsBuffer as __require };\n//# sourceMappingURL=isBuffer.js.map\n","/** Used as references for various `Number` constants. */\n\nvar _isIndex;\nvar hasRequired_isIndex;\n\nfunction require_isIndex () {\n\tif (hasRequired_isIndex) return _isIndex;\n\thasRequired_isIndex = 1;\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  var type = typeof value;\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\n\t  return !!length &&\n\t    (type == 'number' ||\n\t      (type != 'symbol' && reIsUint.test(value))) &&\n\t        (value > -1 && value % 1 == 0 && value < length);\n\t}\n\n\t_isIndex = isIndex;\n\treturn _isIndex;\n}\n\nexport { require_isIndex as __require };\n//# sourceMappingURL=_isIndex.js.map\n","/** Used as references for various `Number` constants. */\n\nvar isLength_1;\nvar hasRequiredIsLength;\n\nfunction requireIsLength () {\n\tif (hasRequiredIsLength) return isLength_1;\n\thasRequiredIsLength = 1;\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This method is loosely based on\n\t * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' &&\n\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\n\tisLength_1 = isLength;\n\treturn isLength_1;\n}\n\nexport { requireIsLength as __require };\n//# sourceMappingURL=isLength.js.map\n","import { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as requireIsLength } from './isLength.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar _baseIsTypedArray;\nvar hasRequired_baseIsTypedArray;\n\nfunction require_baseIsTypedArray () {\n\tif (hasRequired_baseIsTypedArray) return _baseIsTypedArray;\n\thasRequired_baseIsTypedArray = 1;\n\tvar baseGetTag = require_baseGetTag(),\n\t    isLength = requireIsLength(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    arrayTag = '[object Array]',\n\t    boolTag = '[object Boolean]',\n\t    dateTag = '[object Date]',\n\t    errorTag = '[object Error]',\n\t    funcTag = '[object Function]',\n\t    mapTag = '[object Map]',\n\t    numberTag = '[object Number]',\n\t    objectTag = '[object Object]',\n\t    regexpTag = '[object RegExp]',\n\t    setTag = '[object Set]',\n\t    stringTag = '[object String]',\n\t    weakMapTag = '[object WeakMap]';\n\n\tvar arrayBufferTag = '[object ArrayBuffer]',\n\t    dataViewTag = '[object DataView]',\n\t    float32Tag = '[object Float32Array]',\n\t    float64Tag = '[object Float64Array]',\n\t    int8Tag = '[object Int8Array]',\n\t    int16Tag = '[object Int16Array]',\n\t    int32Tag = '[object Int32Array]',\n\t    uint8Tag = '[object Uint8Array]',\n\t    uint8ClampedTag = '[object Uint8ClampedArray]',\n\t    uint16Tag = '[object Uint16Array]',\n\t    uint32Tag = '[object Uint32Array]';\n\n\t/** Used to identify `toStringTag` values of typed arrays. */\n\tvar typedArrayTags = {};\n\ttypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n\ttypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n\ttypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n\ttypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n\ttypedArrayTags[uint32Tag] = true;\n\ttypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n\ttypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n\ttypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n\ttypedArrayTags[errorTag] = typedArrayTags[funcTag] =\n\ttypedArrayTags[mapTag] = typedArrayTags[numberTag] =\n\ttypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n\ttypedArrayTags[setTag] = typedArrayTags[stringTag] =\n\ttypedArrayTags[weakMapTag] = false;\n\n\t/**\n\t * The base implementation of `_.isTypedArray` without Node.js optimizations.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n\t */\n\tfunction baseIsTypedArray(value) {\n\t  return isObjectLike(value) &&\n\t    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n\t}\n\n\t_baseIsTypedArray = baseIsTypedArray;\n\treturn _baseIsTypedArray;\n}\n\nexport { require_baseIsTypedArray as __require };\n//# sourceMappingURL=_baseIsTypedArray.js.map\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\n\nvar _baseUnary;\nvar hasRequired_baseUnary;\n\nfunction require_baseUnary () {\n\tif (hasRequired_baseUnary) return _baseUnary;\n\thasRequired_baseUnary = 1;\n\tfunction baseUnary(func) {\n\t  return function(value) {\n\t    return func(value);\n\t  };\n\t}\n\n\t_baseUnary = baseUnary;\n\treturn _baseUnary;\n}\n\nexport { require_baseUnary as __require };\n//# sourceMappingURL=_baseUnary.js.map\n","var _nodeUtil = {exports: {}};\n\nexport { _nodeUtil as __module };\n//# sourceMappingURL=_nodeUtil.js.map\n","import { __module as _nodeUtil } from '../../_virtual/_nodeUtil.js';\nimport { __require as require_freeGlobal } from './_freeGlobal.js';\n\n_nodeUtil.exports;\n\nvar hasRequired_nodeUtil;\n\nfunction require_nodeUtil () {\n\tif (hasRequired_nodeUtil) return _nodeUtil.exports;\n\thasRequired_nodeUtil = 1;\n\t(function (module, exports$1) {\n\t\tvar freeGlobal = require_freeGlobal();\n\n\t\t/** Detect free variable `exports`. */\n\t\tvar freeExports = exports$1 && !exports$1.nodeType && exports$1;\n\n\t\t/** Detect free variable `module`. */\n\t\tvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n\t\t/** Detect the popular CommonJS extension `module.exports`. */\n\t\tvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n\t\t/** Detect free variable `process` from Node.js. */\n\t\tvar freeProcess = moduleExports && freeGlobal.process;\n\n\t\t/** Used to access faster Node.js helpers. */\n\t\tvar nodeUtil = (function() {\n\t\t  try {\n\t\t    // Use `util.types` for Node.js 10+.\n\t\t    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n\t\t    if (types) {\n\t\t      return types;\n\t\t    }\n\n\t\t    // Legacy `process.binding('util')` for Node.js < 10.\n\t\t    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n\t\t  } catch (e) {}\n\t\t}());\n\n\t\tmodule.exports = nodeUtil; \n\t} (_nodeUtil, _nodeUtil.exports));\n\treturn _nodeUtil.exports;\n}\n\nexport { require_nodeUtil as __require };\n//# sourceMappingURL=_nodeUtil.js.map\n","import { __require as require_baseIsTypedArray } from './_baseIsTypedArray.js';\nimport { __require as require_baseUnary } from './_baseUnary.js';\nimport { __require as require_nodeUtil } from './_nodeUtil.js';\n\nvar isTypedArray_1;\nvar hasRequiredIsTypedArray;\n\nfunction requireIsTypedArray () {\n\tif (hasRequiredIsTypedArray) return isTypedArray_1;\n\thasRequiredIsTypedArray = 1;\n\tvar baseIsTypedArray = require_baseIsTypedArray(),\n\t    baseUnary = require_baseUnary(),\n\t    nodeUtil = require_nodeUtil();\n\n\t/* Node.js helper references. */\n\tvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n\t/**\n\t * Checks if `value` is classified as a typed array.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n\t * @example\n\t *\n\t * _.isTypedArray(new Uint8Array);\n\t * // => true\n\t *\n\t * _.isTypedArray([]);\n\t * // => false\n\t */\n\tvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n\tisTypedArray_1 = isTypedArray;\n\treturn isTypedArray_1;\n}\n\nexport { requireIsTypedArray as __require };\n//# sourceMappingURL=isTypedArray.js.map\n","import { __require as require_baseTimes } from './_baseTimes.js';\nimport { __require as requireIsArguments } from './isArguments.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsBuffer } from './isBuffer.js';\nimport { __require as require_isIndex } from './_isIndex.js';\nimport { __require as requireIsTypedArray } from './isTypedArray.js';\n\nvar _arrayLikeKeys;\nvar hasRequired_arrayLikeKeys;\n\nfunction require_arrayLikeKeys () {\n\tif (hasRequired_arrayLikeKeys) return _arrayLikeKeys;\n\thasRequired_arrayLikeKeys = 1;\n\tvar baseTimes = require_baseTimes(),\n\t    isArguments = requireIsArguments(),\n\t    isArray = requireIsArray(),\n\t    isBuffer = requireIsBuffer(),\n\t    isIndex = require_isIndex(),\n\t    isTypedArray = requireIsTypedArray();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Creates an array of the enumerable property names of the array-like `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @param {boolean} inherited Specify returning inherited property names.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction arrayLikeKeys(value, inherited) {\n\t  var isArr = isArray(value),\n\t      isArg = !isArr && isArguments(value),\n\t      isBuff = !isArr && !isArg && isBuffer(value),\n\t      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n\t      skipIndexes = isArr || isArg || isBuff || isType,\n\t      result = skipIndexes ? baseTimes(value.length, String) : [],\n\t      length = result.length;\n\n\t  for (var key in value) {\n\t    if ((inherited || hasOwnProperty.call(value, key)) &&\n\t        !(skipIndexes && (\n\t           // Safari 9 has enumerable `arguments.length` in strict mode.\n\t           key == 'length' ||\n\t           // Node.js 0.10 has enumerable non-index properties on buffers.\n\t           (isBuff && (key == 'offset' || key == 'parent')) ||\n\t           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n\t           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n\t           // Skip index properties.\n\t           isIndex(key, length)\n\t        ))) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_arrayLikeKeys = arrayLikeKeys;\n\treturn _arrayLikeKeys;\n}\n\nexport { require_arrayLikeKeys as __require };\n//# sourceMappingURL=_arrayLikeKeys.js.map\n","/** Used for built-in method references. */\n\nvar _isPrototype;\nvar hasRequired_isPrototype;\n\nfunction require_isPrototype () {\n\tif (hasRequired_isPrototype) return _isPrototype;\n\thasRequired_isPrototype = 1;\n\tvar objectProto = Object.prototype;\n\n\t/**\n\t * Checks if `value` is likely a prototype object.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t */\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n\t  return value === proto;\n\t}\n\n\t_isPrototype = isPrototype;\n\treturn _isPrototype;\n}\n\nexport { require_isPrototype as __require };\n//# sourceMappingURL=_isPrototype.js.map\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\n\nvar _overArg;\nvar hasRequired_overArg;\n\nfunction require_overArg () {\n\tif (hasRequired_overArg) return _overArg;\n\thasRequired_overArg = 1;\n\tfunction overArg(func, transform) {\n\t  return function(arg) {\n\t    return func(transform(arg));\n\t  };\n\t}\n\n\t_overArg = overArg;\n\treturn _overArg;\n}\n\nexport { require_overArg as __require };\n//# sourceMappingURL=_overArg.js.map\n","import { __require as require_overArg } from './_overArg.js';\n\nvar _nativeKeys;\nvar hasRequired_nativeKeys;\n\nfunction require_nativeKeys () {\n\tif (hasRequired_nativeKeys) return _nativeKeys;\n\thasRequired_nativeKeys = 1;\n\tvar overArg = require_overArg();\n\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeKeys = overArg(Object.keys, Object);\n\n\t_nativeKeys = nativeKeys;\n\treturn _nativeKeys;\n}\n\nexport { require_nativeKeys as __require };\n//# sourceMappingURL=_nativeKeys.js.map\n","import { __require as require_isPrototype } from './_isPrototype.js';\nimport { __require as require_nativeKeys } from './_nativeKeys.js';\n\nvar _baseKeys;\nvar hasRequired_baseKeys;\n\nfunction require_baseKeys () {\n\tif (hasRequired_baseKeys) return _baseKeys;\n\thasRequired_baseKeys = 1;\n\tvar isPrototype = require_isPrototype(),\n\t    nativeKeys = require_nativeKeys();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction baseKeys(object) {\n\t  if (!isPrototype(object)) {\n\t    return nativeKeys(object);\n\t  }\n\t  var result = [];\n\t  for (var key in Object(object)) {\n\t    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_baseKeys = baseKeys;\n\treturn _baseKeys;\n}\n\nexport { require_baseKeys as __require };\n//# sourceMappingURL=_baseKeys.js.map\n","import { __require as requireIsFunction } from './isFunction.js';\nimport { __require as requireIsLength } from './isLength.js';\n\nvar isArrayLike_1;\nvar hasRequiredIsArrayLike;\n\nfunction requireIsArrayLike () {\n\tif (hasRequiredIsArrayLike) return isArrayLike_1;\n\thasRequiredIsArrayLike = 1;\n\tvar isFunction = requireIsFunction(),\n\t    isLength = requireIsLength();\n\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null && isLength(value.length) && !isFunction(value);\n\t}\n\n\tisArrayLike_1 = isArrayLike;\n\treturn isArrayLike_1;\n}\n\nexport { requireIsArrayLike as __require };\n//# sourceMappingURL=isArrayLike.js.map\n","import { __require as require_arrayLikeKeys } from './_arrayLikeKeys.js';\nimport { __require as require_baseKeys } from './_baseKeys.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\n\nvar keys_1;\nvar hasRequiredKeys;\n\nfunction requireKeys () {\n\tif (hasRequiredKeys) return keys_1;\n\thasRequiredKeys = 1;\n\tvar arrayLikeKeys = require_arrayLikeKeys(),\n\t    baseKeys = require_baseKeys(),\n\t    isArrayLike = requireIsArrayLike();\n\n\t/**\n\t * Creates an array of the own enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects. See the\n\t * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n\t * for more details.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keys(new Foo);\n\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t *\n\t * _.keys('hi');\n\t * // => ['0', '1']\n\t */\n\tfunction keys(object) {\n\t  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n\t}\n\n\tkeys_1 = keys;\n\treturn keys_1;\n}\n\nexport { requireKeys as __require };\n//# sourceMappingURL=keys.js.map\n","import { __require as require_copyObject } from './_copyObject.js';\nimport { __require as requireKeys } from './keys.js';\n\nvar _baseAssign;\nvar hasRequired_baseAssign;\n\nfunction require_baseAssign () {\n\tif (hasRequired_baseAssign) return _baseAssign;\n\thasRequired_baseAssign = 1;\n\tvar copyObject = require_copyObject(),\n\t    keys = requireKeys();\n\n\t/**\n\t * The base implementation of `_.assign` without support for multiple sources\n\t * or `customizer` functions.\n\t *\n\t * @private\n\t * @param {Object} object The destination object.\n\t * @param {Object} source The source object.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction baseAssign(object, source) {\n\t  return object && copyObject(source, keys(source), object);\n\t}\n\n\t_baseAssign = baseAssign;\n\treturn _baseAssign;\n}\n\nexport { require_baseAssign as __require };\n//# sourceMappingURL=_baseAssign.js.map\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\n\nvar _nativeKeysIn;\nvar hasRequired_nativeKeysIn;\n\nfunction require_nativeKeysIn () {\n\tif (hasRequired_nativeKeysIn) return _nativeKeysIn;\n\thasRequired_nativeKeysIn = 1;\n\tfunction nativeKeysIn(object) {\n\t  var result = [];\n\t  if (object != null) {\n\t    for (var key in Object(object)) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_nativeKeysIn = nativeKeysIn;\n\treturn _nativeKeysIn;\n}\n\nexport { require_nativeKeysIn as __require };\n//# sourceMappingURL=_nativeKeysIn.js.map\n","import { __require as requireIsObject } from './isObject.js';\nimport { __require as require_isPrototype } from './_isPrototype.js';\nimport { __require as require_nativeKeysIn } from './_nativeKeysIn.js';\n\nvar _baseKeysIn;\nvar hasRequired_baseKeysIn;\n\nfunction require_baseKeysIn () {\n\tif (hasRequired_baseKeysIn) return _baseKeysIn;\n\thasRequired_baseKeysIn = 1;\n\tvar isObject = requireIsObject(),\n\t    isPrototype = require_isPrototype(),\n\t    nativeKeysIn = require_nativeKeysIn();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction baseKeysIn(object) {\n\t  if (!isObject(object)) {\n\t    return nativeKeysIn(object);\n\t  }\n\t  var isProto = isPrototype(object),\n\t      result = [];\n\n\t  for (var key in object) {\n\t    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_baseKeysIn = baseKeysIn;\n\treturn _baseKeysIn;\n}\n\nexport { require_baseKeysIn as __require };\n//# sourceMappingURL=_baseKeysIn.js.map\n","import { __require as require_arrayLikeKeys } from './_arrayLikeKeys.js';\nimport { __require as require_baseKeysIn } from './_baseKeysIn.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\n\nvar keysIn_1;\nvar hasRequiredKeysIn;\n\nfunction requireKeysIn () {\n\tif (hasRequiredKeysIn) return keysIn_1;\n\thasRequiredKeysIn = 1;\n\tvar arrayLikeKeys = require_arrayLikeKeys(),\n\t    baseKeysIn = require_baseKeysIn(),\n\t    isArrayLike = requireIsArrayLike();\n\n\t/**\n\t * Creates an array of the own and inherited enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.0.0\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keysIn(new Foo);\n\t * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n\t */\n\tfunction keysIn(object) {\n\t  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n\t}\n\n\tkeysIn_1 = keysIn;\n\treturn keysIn_1;\n}\n\nexport { requireKeysIn as __require };\n//# sourceMappingURL=keysIn.js.map\n","import { __require as require_copyObject } from './_copyObject.js';\nimport { __require as requireKeysIn } from './keysIn.js';\n\nvar _baseAssignIn;\nvar hasRequired_baseAssignIn;\n\nfunction require_baseAssignIn () {\n\tif (hasRequired_baseAssignIn) return _baseAssignIn;\n\thasRequired_baseAssignIn = 1;\n\tvar copyObject = require_copyObject(),\n\t    keysIn = requireKeysIn();\n\n\t/**\n\t * The base implementation of `_.assignIn` without support for multiple sources\n\t * or `customizer` functions.\n\t *\n\t * @private\n\t * @param {Object} object The destination object.\n\t * @param {Object} source The source object.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction baseAssignIn(object, source) {\n\t  return object && copyObject(source, keysIn(source), object);\n\t}\n\n\t_baseAssignIn = baseAssignIn;\n\treturn _baseAssignIn;\n}\n\nexport { require_baseAssignIn as __require };\n//# sourceMappingURL=_baseAssignIn.js.map\n","var _cloneBuffer = {exports: {}};\n\nexport { _cloneBuffer as __module };\n//# sourceMappingURL=_cloneBuffer.js.map\n","import { __module as _cloneBuffer } from '../../_virtual/_cloneBuffer.js';\nimport { __require as require_root } from './_root.js';\n\n_cloneBuffer.exports;\n\nvar hasRequired_cloneBuffer;\n\nfunction require_cloneBuffer () {\n\tif (hasRequired_cloneBuffer) return _cloneBuffer.exports;\n\thasRequired_cloneBuffer = 1;\n\t(function (module, exports$1) {\n\t\tvar root = require_root();\n\n\t\t/** Detect free variable `exports`. */\n\t\tvar freeExports = exports$1 && !exports$1.nodeType && exports$1;\n\n\t\t/** Detect free variable `module`. */\n\t\tvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n\t\t/** Detect the popular CommonJS extension `module.exports`. */\n\t\tvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n\t\t/** Built-in value references. */\n\t\tvar Buffer = moduleExports ? root.Buffer : undefined,\n\t\t    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n\t\t/**\n\t\t * Creates a clone of  `buffer`.\n\t\t *\n\t\t * @private\n\t\t * @param {Buffer} buffer The buffer to clone.\n\t\t * @param {boolean} [isDeep] Specify a deep clone.\n\t\t * @returns {Buffer} Returns the cloned buffer.\n\t\t */\n\t\tfunction cloneBuffer(buffer, isDeep) {\n\t\t  if (isDeep) {\n\t\t    return buffer.slice();\n\t\t  }\n\t\t  var length = buffer.length,\n\t\t      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n\t\t  buffer.copy(result);\n\t\t  return result;\n\t\t}\n\n\t\tmodule.exports = cloneBuffer; \n\t} (_cloneBuffer, _cloneBuffer.exports));\n\treturn _cloneBuffer.exports;\n}\n\nexport { require_cloneBuffer as __require };\n//# sourceMappingURL=_cloneBuffer.js.map\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\n\nvar _copyArray;\nvar hasRequired_copyArray;\n\nfunction require_copyArray () {\n\tif (hasRequired_copyArray) return _copyArray;\n\thasRequired_copyArray = 1;\n\tfunction copyArray(source, array) {\n\t  var index = -1,\n\t      length = source.length;\n\n\t  array || (array = Array(length));\n\t  while (++index < length) {\n\t    array[index] = source[index];\n\t  }\n\t  return array;\n\t}\n\n\t_copyArray = copyArray;\n\treturn _copyArray;\n}\n\nexport { require_copyArray as __require };\n//# sourceMappingURL=_copyArray.js.map\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\n\nvar _arrayFilter;\nvar hasRequired_arrayFilter;\n\nfunction require_arrayFilter () {\n\tif (hasRequired_arrayFilter) return _arrayFilter;\n\thasRequired_arrayFilter = 1;\n\tfunction arrayFilter(array, predicate) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length,\n\t      resIndex = 0,\n\t      result = [];\n\n\t  while (++index < length) {\n\t    var value = array[index];\n\t    if (predicate(value, index, array)) {\n\t      result[resIndex++] = value;\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_arrayFilter = arrayFilter;\n\treturn _arrayFilter;\n}\n\nexport { require_arrayFilter as __require };\n//# sourceMappingURL=_arrayFilter.js.map\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\n\nvar stubArray_1;\nvar hasRequiredStubArray;\n\nfunction requireStubArray () {\n\tif (hasRequiredStubArray) return stubArray_1;\n\thasRequiredStubArray = 1;\n\tfunction stubArray() {\n\t  return [];\n\t}\n\n\tstubArray_1 = stubArray;\n\treturn stubArray_1;\n}\n\nexport { requireStubArray as __require };\n//# sourceMappingURL=stubArray.js.map\n","import { __require as require_arrayFilter } from './_arrayFilter.js';\nimport { __require as requireStubArray } from './stubArray.js';\n\nvar _getSymbols;\nvar hasRequired_getSymbols;\n\nfunction require_getSymbols () {\n\tif (hasRequired_getSymbols) return _getSymbols;\n\thasRequired_getSymbols = 1;\n\tvar arrayFilter = require_arrayFilter(),\n\t    stubArray = requireStubArray();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n\t/**\n\t * Creates an array of the own enumerable symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of symbols.\n\t */\n\tvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n\t  if (object == null) {\n\t    return [];\n\t  }\n\t  object = Object(object);\n\t  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n\t    return propertyIsEnumerable.call(object, symbol);\n\t  });\n\t};\n\n\t_getSymbols = getSymbols;\n\treturn _getSymbols;\n}\n\nexport { require_getSymbols as __require };\n//# sourceMappingURL=_getSymbols.js.map\n","import { __require as require_copyObject } from './_copyObject.js';\nimport { __require as require_getSymbols } from './_getSymbols.js';\n\nvar _copySymbols;\nvar hasRequired_copySymbols;\n\nfunction require_copySymbols () {\n\tif (hasRequired_copySymbols) return _copySymbols;\n\thasRequired_copySymbols = 1;\n\tvar copyObject = require_copyObject(),\n\t    getSymbols = require_getSymbols();\n\n\t/**\n\t * Copies own symbols of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy symbols from.\n\t * @param {Object} [object={}] The object to copy symbols to.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copySymbols(source, object) {\n\t  return copyObject(source, getSymbols(source), object);\n\t}\n\n\t_copySymbols = copySymbols;\n\treturn _copySymbols;\n}\n\nexport { require_copySymbols as __require };\n//# sourceMappingURL=_copySymbols.js.map\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\n\nvar _arrayPush;\nvar hasRequired_arrayPush;\n\nfunction require_arrayPush () {\n\tif (hasRequired_arrayPush) return _arrayPush;\n\thasRequired_arrayPush = 1;\n\tfunction arrayPush(array, values) {\n\t  var index = -1,\n\t      length = values.length,\n\t      offset = array.length;\n\n\t  while (++index < length) {\n\t    array[offset + index] = values[index];\n\t  }\n\t  return array;\n\t}\n\n\t_arrayPush = arrayPush;\n\treturn _arrayPush;\n}\n\nexport { require_arrayPush as __require };\n//# sourceMappingURL=_arrayPush.js.map\n","import { __require as require_overArg } from './_overArg.js';\n\nvar _getPrototype;\nvar hasRequired_getPrototype;\n\nfunction require_getPrototype () {\n\tif (hasRequired_getPrototype) return _getPrototype;\n\thasRequired_getPrototype = 1;\n\tvar overArg = require_overArg();\n\n\t/** Built-in value references. */\n\tvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n\t_getPrototype = getPrototype;\n\treturn _getPrototype;\n}\n\nexport { require_getPrototype as __require };\n//# sourceMappingURL=_getPrototype.js.map\n","import { __require as require_arrayPush } from './_arrayPush.js';\nimport { __require as require_getPrototype } from './_getPrototype.js';\nimport { __require as require_getSymbols } from './_getSymbols.js';\nimport { __require as requireStubArray } from './stubArray.js';\n\nvar _getSymbolsIn;\nvar hasRequired_getSymbolsIn;\n\nfunction require_getSymbolsIn () {\n\tif (hasRequired_getSymbolsIn) return _getSymbolsIn;\n\thasRequired_getSymbolsIn = 1;\n\tvar arrayPush = require_arrayPush(),\n\t    getPrototype = require_getPrototype(),\n\t    getSymbols = require_getSymbols(),\n\t    stubArray = requireStubArray();\n\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n\t/**\n\t * Creates an array of the own and inherited enumerable symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of symbols.\n\t */\n\tvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n\t  var result = [];\n\t  while (object) {\n\t    arrayPush(result, getSymbols(object));\n\t    object = getPrototype(object);\n\t  }\n\t  return result;\n\t};\n\n\t_getSymbolsIn = getSymbolsIn;\n\treturn _getSymbolsIn;\n}\n\nexport { require_getSymbolsIn as __require };\n//# sourceMappingURL=_getSymbolsIn.js.map\n","import { __require as require_copyObject } from './_copyObject.js';\nimport { __require as require_getSymbolsIn } from './_getSymbolsIn.js';\n\nvar _copySymbolsIn;\nvar hasRequired_copySymbolsIn;\n\nfunction require_copySymbolsIn () {\n\tif (hasRequired_copySymbolsIn) return _copySymbolsIn;\n\thasRequired_copySymbolsIn = 1;\n\tvar copyObject = require_copyObject(),\n\t    getSymbolsIn = require_getSymbolsIn();\n\n\t/**\n\t * Copies own and inherited symbols of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy symbols from.\n\t * @param {Object} [object={}] The object to copy symbols to.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copySymbolsIn(source, object) {\n\t  return copyObject(source, getSymbolsIn(source), object);\n\t}\n\n\t_copySymbolsIn = copySymbolsIn;\n\treturn _copySymbolsIn;\n}\n\nexport { require_copySymbolsIn as __require };\n//# sourceMappingURL=_copySymbolsIn.js.map\n","import { __require as require_arrayPush } from './_arrayPush.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar _baseGetAllKeys;\nvar hasRequired_baseGetAllKeys;\n\nfunction require_baseGetAllKeys () {\n\tif (hasRequired_baseGetAllKeys) return _baseGetAllKeys;\n\thasRequired_baseGetAllKeys = 1;\n\tvar arrayPush = require_arrayPush(),\n\t    isArray = requireIsArray();\n\n\t/**\n\t * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n\t * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n\t * symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Function} keysFunc The function to get the keys of `object`.\n\t * @param {Function} symbolsFunc The function to get the symbols of `object`.\n\t * @returns {Array} Returns the array of property names and symbols.\n\t */\n\tfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n\t  var result = keysFunc(object);\n\t  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n\t}\n\n\t_baseGetAllKeys = baseGetAllKeys;\n\treturn _baseGetAllKeys;\n}\n\nexport { require_baseGetAllKeys as __require };\n//# sourceMappingURL=_baseGetAllKeys.js.map\n","import { __require as require_baseGetAllKeys } from './_baseGetAllKeys.js';\nimport { __require as require_getSymbols } from './_getSymbols.js';\nimport { __require as requireKeys } from './keys.js';\n\nvar _getAllKeys;\nvar hasRequired_getAllKeys;\n\nfunction require_getAllKeys () {\n\tif (hasRequired_getAllKeys) return _getAllKeys;\n\thasRequired_getAllKeys = 1;\n\tvar baseGetAllKeys = require_baseGetAllKeys(),\n\t    getSymbols = require_getSymbols(),\n\t    keys = requireKeys();\n\n\t/**\n\t * Creates an array of own enumerable property names and symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names and symbols.\n\t */\n\tfunction getAllKeys(object) {\n\t  return baseGetAllKeys(object, keys, getSymbols);\n\t}\n\n\t_getAllKeys = getAllKeys;\n\treturn _getAllKeys;\n}\n\nexport { require_getAllKeys as __require };\n//# sourceMappingURL=_getAllKeys.js.map\n","import { __require as require_baseGetAllKeys } from './_baseGetAllKeys.js';\nimport { __require as require_getSymbolsIn } from './_getSymbolsIn.js';\nimport { __require as requireKeysIn } from './keysIn.js';\n\nvar _getAllKeysIn;\nvar hasRequired_getAllKeysIn;\n\nfunction require_getAllKeysIn () {\n\tif (hasRequired_getAllKeysIn) return _getAllKeysIn;\n\thasRequired_getAllKeysIn = 1;\n\tvar baseGetAllKeys = require_baseGetAllKeys(),\n\t    getSymbolsIn = require_getSymbolsIn(),\n\t    keysIn = requireKeysIn();\n\n\t/**\n\t * Creates an array of own and inherited enumerable property names and\n\t * symbols of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names and symbols.\n\t */\n\tfunction getAllKeysIn(object) {\n\t  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n\t}\n\n\t_getAllKeysIn = getAllKeysIn;\n\treturn _getAllKeysIn;\n}\n\nexport { require_getAllKeysIn as __require };\n//# sourceMappingURL=_getAllKeysIn.js.map\n","import { __require as require_getNative } from './_getNative.js';\nimport { __require as require_root } from './_root.js';\n\nvar _DataView;\nvar hasRequired_DataView;\n\nfunction require_DataView () {\n\tif (hasRequired_DataView) return _DataView;\n\thasRequired_DataView = 1;\n\tvar getNative = require_getNative(),\n\t    root = require_root();\n\n\t/* Built-in method references that are verified to be native. */\n\tvar DataView = getNative(root, 'DataView');\n\n\t_DataView = DataView;\n\treturn _DataView;\n}\n\nexport { require_DataView as __require };\n//# sourceMappingURL=_DataView.js.map\n","import { __require as require_getNative } from './_getNative.js';\nimport { __require as require_root } from './_root.js';\n\nvar _Promise;\nvar hasRequired_Promise;\n\nfunction require_Promise () {\n\tif (hasRequired_Promise) return _Promise;\n\thasRequired_Promise = 1;\n\tvar getNative = require_getNative(),\n\t    root = require_root();\n\n\t/* Built-in method references that are verified to be native. */\n\tvar Promise = getNative(root, 'Promise');\n\n\t_Promise = Promise;\n\treturn _Promise;\n}\n\nexport { require_Promise as __require };\n//# sourceMappingURL=_Promise.js.map\n","import { __require as require_getNative } from './_getNative.js';\nimport { __require as require_root } from './_root.js';\n\nvar _Set;\nvar hasRequired_Set;\n\nfunction require_Set () {\n\tif (hasRequired_Set) return _Set;\n\thasRequired_Set = 1;\n\tvar getNative = require_getNative(),\n\t    root = require_root();\n\n\t/* Built-in method references that are verified to be native. */\n\tvar Set = getNative(root, 'Set');\n\n\t_Set = Set;\n\treturn _Set;\n}\n\nexport { require_Set as __require };\n//# sourceMappingURL=_Set.js.map\n","import { __require as require_getNative } from './_getNative.js';\nimport { __require as require_root } from './_root.js';\n\nvar _WeakMap;\nvar hasRequired_WeakMap;\n\nfunction require_WeakMap () {\n\tif (hasRequired_WeakMap) return _WeakMap;\n\thasRequired_WeakMap = 1;\n\tvar getNative = require_getNative(),\n\t    root = require_root();\n\n\t/* Built-in method references that are verified to be native. */\n\tvar WeakMap = getNative(root, 'WeakMap');\n\n\t_WeakMap = WeakMap;\n\treturn _WeakMap;\n}\n\nexport { require_WeakMap as __require };\n//# sourceMappingURL=_WeakMap.js.map\n","import { __require as require_DataView } from './_DataView.js';\nimport { __require as require_Map } from './_Map.js';\nimport { __require as require_Promise } from './_Promise.js';\nimport { __require as require_Set } from './_Set.js';\nimport { __require as require_WeakMap } from './_WeakMap.js';\nimport { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as require_toSource } from './_toSource.js';\n\nvar _getTag;\nvar hasRequired_getTag;\n\nfunction require_getTag () {\n\tif (hasRequired_getTag) return _getTag;\n\thasRequired_getTag = 1;\n\tvar DataView = require_DataView(),\n\t    Map = require_Map(),\n\t    Promise = require_Promise(),\n\t    Set = require_Set(),\n\t    WeakMap = require_WeakMap(),\n\t    baseGetTag = require_baseGetTag(),\n\t    toSource = require_toSource();\n\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]',\n\t    objectTag = '[object Object]',\n\t    promiseTag = '[object Promise]',\n\t    setTag = '[object Set]',\n\t    weakMapTag = '[object WeakMap]';\n\n\tvar dataViewTag = '[object DataView]';\n\n\t/** Used to detect maps, sets, and weakmaps. */\n\tvar dataViewCtorString = toSource(DataView),\n\t    mapCtorString = toSource(Map),\n\t    promiseCtorString = toSource(Promise),\n\t    setCtorString = toSource(Set),\n\t    weakMapCtorString = toSource(WeakMap);\n\n\t/**\n\t * Gets the `toStringTag` of `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {string} Returns the `toStringTag`.\n\t */\n\tvar getTag = baseGetTag;\n\n\t// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n\tif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n\t    (Map && getTag(new Map) != mapTag) ||\n\t    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n\t    (Set && getTag(new Set) != setTag) ||\n\t    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n\t  getTag = function(value) {\n\t    var result = baseGetTag(value),\n\t        Ctor = result == objectTag ? value.constructor : undefined,\n\t        ctorString = Ctor ? toSource(Ctor) : '';\n\n\t    if (ctorString) {\n\t      switch (ctorString) {\n\t        case dataViewCtorString: return dataViewTag;\n\t        case mapCtorString: return mapTag;\n\t        case promiseCtorString: return promiseTag;\n\t        case setCtorString: return setTag;\n\t        case weakMapCtorString: return weakMapTag;\n\t      }\n\t    }\n\t    return result;\n\t  };\n\t}\n\n\t_getTag = getTag;\n\treturn _getTag;\n}\n\nexport { require_getTag as __require };\n//# sourceMappingURL=_getTag.js.map\n","/** Used for built-in method references. */\n\nvar _initCloneArray;\nvar hasRequired_initCloneArray;\n\nfunction require_initCloneArray () {\n\tif (hasRequired_initCloneArray) return _initCloneArray;\n\thasRequired_initCloneArray = 1;\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Initializes an array clone.\n\t *\n\t * @private\n\t * @param {Array} array The array to clone.\n\t * @returns {Array} Returns the initialized clone.\n\t */\n\tfunction initCloneArray(array) {\n\t  var length = array.length,\n\t      result = new array.constructor(length);\n\n\t  // Add properties assigned by `RegExp#exec`.\n\t  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n\t    result.index = array.index;\n\t    result.input = array.input;\n\t  }\n\t  return result;\n\t}\n\n\t_initCloneArray = initCloneArray;\n\treturn _initCloneArray;\n}\n\nexport { require_initCloneArray as __require };\n//# sourceMappingURL=_initCloneArray.js.map\n","import { __require as require_root } from './_root.js';\n\nvar _Uint8Array;\nvar hasRequired_Uint8Array;\n\nfunction require_Uint8Array () {\n\tif (hasRequired_Uint8Array) return _Uint8Array;\n\thasRequired_Uint8Array = 1;\n\tvar root = require_root();\n\n\t/** Built-in value references. */\n\tvar Uint8Array = root.Uint8Array;\n\n\t_Uint8Array = Uint8Array;\n\treturn _Uint8Array;\n}\n\nexport { require_Uint8Array as __require };\n//# sourceMappingURL=_Uint8Array.js.map\n","import { __require as require_Uint8Array } from './_Uint8Array.js';\n\nvar _cloneArrayBuffer;\nvar hasRequired_cloneArrayBuffer;\n\nfunction require_cloneArrayBuffer () {\n\tif (hasRequired_cloneArrayBuffer) return _cloneArrayBuffer;\n\thasRequired_cloneArrayBuffer = 1;\n\tvar Uint8Array = require_Uint8Array();\n\n\t/**\n\t * Creates a clone of `arrayBuffer`.\n\t *\n\t * @private\n\t * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n\t * @returns {ArrayBuffer} Returns the cloned array buffer.\n\t */\n\tfunction cloneArrayBuffer(arrayBuffer) {\n\t  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n\t  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n\t  return result;\n\t}\n\n\t_cloneArrayBuffer = cloneArrayBuffer;\n\treturn _cloneArrayBuffer;\n}\n\nexport { require_cloneArrayBuffer as __require };\n//# sourceMappingURL=_cloneArrayBuffer.js.map\n","import { __require as require_cloneArrayBuffer } from './_cloneArrayBuffer.js';\n\nvar _cloneDataView;\nvar hasRequired_cloneDataView;\n\nfunction require_cloneDataView () {\n\tif (hasRequired_cloneDataView) return _cloneDataView;\n\thasRequired_cloneDataView = 1;\n\tvar cloneArrayBuffer = require_cloneArrayBuffer();\n\n\t/**\n\t * Creates a clone of `dataView`.\n\t *\n\t * @private\n\t * @param {Object} dataView The data view to clone.\n\t * @param {boolean} [isDeep] Specify a deep clone.\n\t * @returns {Object} Returns the cloned data view.\n\t */\n\tfunction cloneDataView(dataView, isDeep) {\n\t  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n\t  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n\t}\n\n\t_cloneDataView = cloneDataView;\n\treturn _cloneDataView;\n}\n\nexport { require_cloneDataView as __require };\n//# sourceMappingURL=_cloneDataView.js.map\n","/** Used to match `RegExp` flags from their coerced string values. */\n\nvar _cloneRegExp;\nvar hasRequired_cloneRegExp;\n\nfunction require_cloneRegExp () {\n\tif (hasRequired_cloneRegExp) return _cloneRegExp;\n\thasRequired_cloneRegExp = 1;\n\tvar reFlags = /\\w*$/;\n\n\t/**\n\t * Creates a clone of `regexp`.\n\t *\n\t * @private\n\t * @param {Object} regexp The regexp to clone.\n\t * @returns {Object} Returns the cloned regexp.\n\t */\n\tfunction cloneRegExp(regexp) {\n\t  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n\t  result.lastIndex = regexp.lastIndex;\n\t  return result;\n\t}\n\n\t_cloneRegExp = cloneRegExp;\n\treturn _cloneRegExp;\n}\n\nexport { require_cloneRegExp as __require };\n//# sourceMappingURL=_cloneRegExp.js.map\n","import { __require as require_Symbol } from './_Symbol.js';\n\nvar _cloneSymbol;\nvar hasRequired_cloneSymbol;\n\nfunction require_cloneSymbol () {\n\tif (hasRequired_cloneSymbol) return _cloneSymbol;\n\thasRequired_cloneSymbol = 1;\n\tvar Symbol = require_Symbol();\n\n\t/** Used to convert symbols to primitives and strings. */\n\tvar symbolProto = Symbol ? Symbol.prototype : undefined,\n\t    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n\t/**\n\t * Creates a clone of the `symbol` object.\n\t *\n\t * @private\n\t * @param {Object} symbol The symbol object to clone.\n\t * @returns {Object} Returns the cloned symbol object.\n\t */\n\tfunction cloneSymbol(symbol) {\n\t  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n\t}\n\n\t_cloneSymbol = cloneSymbol;\n\treturn _cloneSymbol;\n}\n\nexport { require_cloneSymbol as __require };\n//# sourceMappingURL=_cloneSymbol.js.map\n","import { __require as require_cloneArrayBuffer } from './_cloneArrayBuffer.js';\n\nvar _cloneTypedArray;\nvar hasRequired_cloneTypedArray;\n\nfunction require_cloneTypedArray () {\n\tif (hasRequired_cloneTypedArray) return _cloneTypedArray;\n\thasRequired_cloneTypedArray = 1;\n\tvar cloneArrayBuffer = require_cloneArrayBuffer();\n\n\t/**\n\t * Creates a clone of `typedArray`.\n\t *\n\t * @private\n\t * @param {Object} typedArray The typed array to clone.\n\t * @param {boolean} [isDeep] Specify a deep clone.\n\t * @returns {Object} Returns the cloned typed array.\n\t */\n\tfunction cloneTypedArray(typedArray, isDeep) {\n\t  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n\t  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n\t}\n\n\t_cloneTypedArray = cloneTypedArray;\n\treturn _cloneTypedArray;\n}\n\nexport { require_cloneTypedArray as __require };\n//# sourceMappingURL=_cloneTypedArray.js.map\n","import { __require as require_cloneArrayBuffer } from './_cloneArrayBuffer.js';\nimport { __require as require_cloneDataView } from './_cloneDataView.js';\nimport { __require as require_cloneRegExp } from './_cloneRegExp.js';\nimport { __require as require_cloneSymbol } from './_cloneSymbol.js';\nimport { __require as require_cloneTypedArray } from './_cloneTypedArray.js';\n\nvar _initCloneByTag;\nvar hasRequired_initCloneByTag;\n\nfunction require_initCloneByTag () {\n\tif (hasRequired_initCloneByTag) return _initCloneByTag;\n\thasRequired_initCloneByTag = 1;\n\tvar cloneArrayBuffer = require_cloneArrayBuffer(),\n\t    cloneDataView = require_cloneDataView(),\n\t    cloneRegExp = require_cloneRegExp(),\n\t    cloneSymbol = require_cloneSymbol(),\n\t    cloneTypedArray = require_cloneTypedArray();\n\n\t/** `Object#toString` result references. */\n\tvar boolTag = '[object Boolean]',\n\t    dateTag = '[object Date]',\n\t    mapTag = '[object Map]',\n\t    numberTag = '[object Number]',\n\t    regexpTag = '[object RegExp]',\n\t    setTag = '[object Set]',\n\t    stringTag = '[object String]',\n\t    symbolTag = '[object Symbol]';\n\n\tvar arrayBufferTag = '[object ArrayBuffer]',\n\t    dataViewTag = '[object DataView]',\n\t    float32Tag = '[object Float32Array]',\n\t    float64Tag = '[object Float64Array]',\n\t    int8Tag = '[object Int8Array]',\n\t    int16Tag = '[object Int16Array]',\n\t    int32Tag = '[object Int32Array]',\n\t    uint8Tag = '[object Uint8Array]',\n\t    uint8ClampedTag = '[object Uint8ClampedArray]',\n\t    uint16Tag = '[object Uint16Array]',\n\t    uint32Tag = '[object Uint32Array]';\n\n\t/**\n\t * Initializes an object clone based on its `toStringTag`.\n\t *\n\t * **Note:** This function only supports cloning values with tags of\n\t * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n\t *\n\t * @private\n\t * @param {Object} object The object to clone.\n\t * @param {string} tag The `toStringTag` of the object to clone.\n\t * @param {boolean} [isDeep] Specify a deep clone.\n\t * @returns {Object} Returns the initialized clone.\n\t */\n\tfunction initCloneByTag(object, tag, isDeep) {\n\t  var Ctor = object.constructor;\n\t  switch (tag) {\n\t    case arrayBufferTag:\n\t      return cloneArrayBuffer(object);\n\n\t    case boolTag:\n\t    case dateTag:\n\t      return new Ctor(+object);\n\n\t    case dataViewTag:\n\t      return cloneDataView(object, isDeep);\n\n\t    case float32Tag: case float64Tag:\n\t    case int8Tag: case int16Tag: case int32Tag:\n\t    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n\t      return cloneTypedArray(object, isDeep);\n\n\t    case mapTag:\n\t      return new Ctor;\n\n\t    case numberTag:\n\t    case stringTag:\n\t      return new Ctor(object);\n\n\t    case regexpTag:\n\t      return cloneRegExp(object);\n\n\t    case setTag:\n\t      return new Ctor;\n\n\t    case symbolTag:\n\t      return cloneSymbol(object);\n\t  }\n\t}\n\n\t_initCloneByTag = initCloneByTag;\n\treturn _initCloneByTag;\n}\n\nexport { require_initCloneByTag as __require };\n//# sourceMappingURL=_initCloneByTag.js.map\n","import { __require as requireIsObject } from './isObject.js';\n\nvar _baseCreate;\nvar hasRequired_baseCreate;\n\nfunction require_baseCreate () {\n\tif (hasRequired_baseCreate) return _baseCreate;\n\thasRequired_baseCreate = 1;\n\tvar isObject = requireIsObject();\n\n\t/** Built-in value references. */\n\tvar objectCreate = Object.create;\n\n\t/**\n\t * The base implementation of `_.create` without support for assigning\n\t * properties to the created object.\n\t *\n\t * @private\n\t * @param {Object} proto The object to inherit from.\n\t * @returns {Object} Returns the new object.\n\t */\n\tvar baseCreate = (function() {\n\t  function object() {}\n\t  return function(proto) {\n\t    if (!isObject(proto)) {\n\t      return {};\n\t    }\n\t    if (objectCreate) {\n\t      return objectCreate(proto);\n\t    }\n\t    object.prototype = proto;\n\t    var result = new object;\n\t    object.prototype = undefined;\n\t    return result;\n\t  };\n\t}());\n\n\t_baseCreate = baseCreate;\n\treturn _baseCreate;\n}\n\nexport { require_baseCreate as __require };\n//# sourceMappingURL=_baseCreate.js.map\n","import { __require as require_baseCreate } from './_baseCreate.js';\nimport { __require as require_getPrototype } from './_getPrototype.js';\nimport { __require as require_isPrototype } from './_isPrototype.js';\n\nvar _initCloneObject;\nvar hasRequired_initCloneObject;\n\nfunction require_initCloneObject () {\n\tif (hasRequired_initCloneObject) return _initCloneObject;\n\thasRequired_initCloneObject = 1;\n\tvar baseCreate = require_baseCreate(),\n\t    getPrototype = require_getPrototype(),\n\t    isPrototype = require_isPrototype();\n\n\t/**\n\t * Initializes an object clone.\n\t *\n\t * @private\n\t * @param {Object} object The object to clone.\n\t * @returns {Object} Returns the initialized clone.\n\t */\n\tfunction initCloneObject(object) {\n\t  return (typeof object.constructor == 'function' && !isPrototype(object))\n\t    ? baseCreate(getPrototype(object))\n\t    : {};\n\t}\n\n\t_initCloneObject = initCloneObject;\n\treturn _initCloneObject;\n}\n\nexport { require_initCloneObject as __require };\n//# sourceMappingURL=_initCloneObject.js.map\n","import { __require as require_getTag } from './_getTag.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar _baseIsMap;\nvar hasRequired_baseIsMap;\n\nfunction require_baseIsMap () {\n\tif (hasRequired_baseIsMap) return _baseIsMap;\n\thasRequired_baseIsMap = 1;\n\tvar getTag = require_getTag(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]';\n\n\t/**\n\t * The base implementation of `_.isMap` without Node.js optimizations.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n\t */\n\tfunction baseIsMap(value) {\n\t  return isObjectLike(value) && getTag(value) == mapTag;\n\t}\n\n\t_baseIsMap = baseIsMap;\n\treturn _baseIsMap;\n}\n\nexport { require_baseIsMap as __require };\n//# sourceMappingURL=_baseIsMap.js.map\n","import { __require as require_baseIsMap } from './_baseIsMap.js';\nimport { __require as require_baseUnary } from './_baseUnary.js';\nimport { __require as require_nodeUtil } from './_nodeUtil.js';\n\nvar isMap_1;\nvar hasRequiredIsMap;\n\nfunction requireIsMap () {\n\tif (hasRequiredIsMap) return isMap_1;\n\thasRequiredIsMap = 1;\n\tvar baseIsMap = require_baseIsMap(),\n\t    baseUnary = require_baseUnary(),\n\t    nodeUtil = require_nodeUtil();\n\n\t/* Node.js helper references. */\n\tvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n\t/**\n\t * Checks if `value` is classified as a `Map` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.3.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n\t * @example\n\t *\n\t * _.isMap(new Map);\n\t * // => true\n\t *\n\t * _.isMap(new WeakMap);\n\t * // => false\n\t */\n\tvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n\tisMap_1 = isMap;\n\treturn isMap_1;\n}\n\nexport { requireIsMap as __require };\n//# sourceMappingURL=isMap.js.map\n","import { __require as require_getTag } from './_getTag.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar _baseIsSet;\nvar hasRequired_baseIsSet;\n\nfunction require_baseIsSet () {\n\tif (hasRequired_baseIsSet) return _baseIsSet;\n\thasRequired_baseIsSet = 1;\n\tvar getTag = require_getTag(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar setTag = '[object Set]';\n\n\t/**\n\t * The base implementation of `_.isSet` without Node.js optimizations.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n\t */\n\tfunction baseIsSet(value) {\n\t  return isObjectLike(value) && getTag(value) == setTag;\n\t}\n\n\t_baseIsSet = baseIsSet;\n\treturn _baseIsSet;\n}\n\nexport { require_baseIsSet as __require };\n//# sourceMappingURL=_baseIsSet.js.map\n","import { __require as require_baseIsSet } from './_baseIsSet.js';\nimport { __require as require_baseUnary } from './_baseUnary.js';\nimport { __require as require_nodeUtil } from './_nodeUtil.js';\n\nvar isSet_1;\nvar hasRequiredIsSet;\n\nfunction requireIsSet () {\n\tif (hasRequiredIsSet) return isSet_1;\n\thasRequiredIsSet = 1;\n\tvar baseIsSet = require_baseIsSet(),\n\t    baseUnary = require_baseUnary(),\n\t    nodeUtil = require_nodeUtil();\n\n\t/* Node.js helper references. */\n\tvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n\t/**\n\t * Checks if `value` is classified as a `Set` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.3.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n\t * @example\n\t *\n\t * _.isSet(new Set);\n\t * // => true\n\t *\n\t * _.isSet(new WeakSet);\n\t * // => false\n\t */\n\tvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n\tisSet_1 = isSet;\n\treturn isSet_1;\n}\n\nexport { requireIsSet as __require };\n//# sourceMappingURL=isSet.js.map\n","import { __require as require_Stack } from './_Stack.js';\nimport { __require as require_arrayEach } from './_arrayEach.js';\nimport { __require as require_assignValue } from './_assignValue.js';\nimport { __require as require_baseAssign } from './_baseAssign.js';\nimport { __require as require_baseAssignIn } from './_baseAssignIn.js';\nimport { __require as require_cloneBuffer } from './_cloneBuffer.js';\nimport { __require as require_copyArray } from './_copyArray.js';\nimport { __require as require_copySymbols } from './_copySymbols.js';\nimport { __require as require_copySymbolsIn } from './_copySymbolsIn.js';\nimport { __require as require_getAllKeys } from './_getAllKeys.js';\nimport { __require as require_getAllKeysIn } from './_getAllKeysIn.js';\nimport { __require as require_getTag } from './_getTag.js';\nimport { __require as require_initCloneArray } from './_initCloneArray.js';\nimport { __require as require_initCloneByTag } from './_initCloneByTag.js';\nimport { __require as require_initCloneObject } from './_initCloneObject.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsBuffer } from './isBuffer.js';\nimport { __require as requireIsMap } from './isMap.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as requireIsSet } from './isSet.js';\nimport { __require as requireKeys } from './keys.js';\nimport { __require as requireKeysIn } from './keysIn.js';\n\nvar _baseClone;\nvar hasRequired_baseClone;\n\nfunction require_baseClone () {\n\tif (hasRequired_baseClone) return _baseClone;\n\thasRequired_baseClone = 1;\n\tvar Stack = require_Stack(),\n\t    arrayEach = require_arrayEach(),\n\t    assignValue = require_assignValue(),\n\t    baseAssign = require_baseAssign(),\n\t    baseAssignIn = require_baseAssignIn(),\n\t    cloneBuffer = require_cloneBuffer(),\n\t    copyArray = require_copyArray(),\n\t    copySymbols = require_copySymbols(),\n\t    copySymbolsIn = require_copySymbolsIn(),\n\t    getAllKeys = require_getAllKeys(),\n\t    getAllKeysIn = require_getAllKeysIn(),\n\t    getTag = require_getTag(),\n\t    initCloneArray = require_initCloneArray(),\n\t    initCloneByTag = require_initCloneByTag(),\n\t    initCloneObject = require_initCloneObject(),\n\t    isArray = requireIsArray(),\n\t    isBuffer = requireIsBuffer(),\n\t    isMap = requireIsMap(),\n\t    isObject = requireIsObject(),\n\t    isSet = requireIsSet(),\n\t    keys = requireKeys(),\n\t    keysIn = requireKeysIn();\n\n\t/** Used to compose bitmasks for cloning. */\n\tvar CLONE_DEEP_FLAG = 1,\n\t    CLONE_FLAT_FLAG = 2,\n\t    CLONE_SYMBOLS_FLAG = 4;\n\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    arrayTag = '[object Array]',\n\t    boolTag = '[object Boolean]',\n\t    dateTag = '[object Date]',\n\t    errorTag = '[object Error]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    mapTag = '[object Map]',\n\t    numberTag = '[object Number]',\n\t    objectTag = '[object Object]',\n\t    regexpTag = '[object RegExp]',\n\t    setTag = '[object Set]',\n\t    stringTag = '[object String]',\n\t    symbolTag = '[object Symbol]',\n\t    weakMapTag = '[object WeakMap]';\n\n\tvar arrayBufferTag = '[object ArrayBuffer]',\n\t    dataViewTag = '[object DataView]',\n\t    float32Tag = '[object Float32Array]',\n\t    float64Tag = '[object Float64Array]',\n\t    int8Tag = '[object Int8Array]',\n\t    int16Tag = '[object Int16Array]',\n\t    int32Tag = '[object Int32Array]',\n\t    uint8Tag = '[object Uint8Array]',\n\t    uint8ClampedTag = '[object Uint8ClampedArray]',\n\t    uint16Tag = '[object Uint16Array]',\n\t    uint32Tag = '[object Uint32Array]';\n\n\t/** Used to identify `toStringTag` values supported by `_.clone`. */\n\tvar cloneableTags = {};\n\tcloneableTags[argsTag] = cloneableTags[arrayTag] =\n\tcloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n\tcloneableTags[boolTag] = cloneableTags[dateTag] =\n\tcloneableTags[float32Tag] = cloneableTags[float64Tag] =\n\tcloneableTags[int8Tag] = cloneableTags[int16Tag] =\n\tcloneableTags[int32Tag] = cloneableTags[mapTag] =\n\tcloneableTags[numberTag] = cloneableTags[objectTag] =\n\tcloneableTags[regexpTag] = cloneableTags[setTag] =\n\tcloneableTags[stringTag] = cloneableTags[symbolTag] =\n\tcloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n\tcloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n\tcloneableTags[errorTag] = cloneableTags[funcTag] =\n\tcloneableTags[weakMapTag] = false;\n\n\t/**\n\t * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n\t * traversed objects.\n\t *\n\t * @private\n\t * @param {*} value The value to clone.\n\t * @param {boolean} bitmask The bitmask flags.\n\t *  1 - Deep clone\n\t *  2 - Flatten inherited properties\n\t *  4 - Clone symbols\n\t * @param {Function} [customizer] The function to customize cloning.\n\t * @param {string} [key] The key of `value`.\n\t * @param {Object} [object] The parent object of `value`.\n\t * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n\t * @returns {*} Returns the cloned value.\n\t */\n\tfunction baseClone(value, bitmask, customizer, key, object, stack) {\n\t  var result,\n\t      isDeep = bitmask & CLONE_DEEP_FLAG,\n\t      isFlat = bitmask & CLONE_FLAT_FLAG,\n\t      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n\t  if (customizer) {\n\t    result = object ? customizer(value, key, object, stack) : customizer(value);\n\t  }\n\t  if (result !== undefined) {\n\t    return result;\n\t  }\n\t  if (!isObject(value)) {\n\t    return value;\n\t  }\n\t  var isArr = isArray(value);\n\t  if (isArr) {\n\t    result = initCloneArray(value);\n\t    if (!isDeep) {\n\t      return copyArray(value, result);\n\t    }\n\t  } else {\n\t    var tag = getTag(value),\n\t        isFunc = tag == funcTag || tag == genTag;\n\n\t    if (isBuffer(value)) {\n\t      return cloneBuffer(value, isDeep);\n\t    }\n\t    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n\t      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n\t      if (!isDeep) {\n\t        return isFlat\n\t          ? copySymbolsIn(value, baseAssignIn(result, value))\n\t          : copySymbols(value, baseAssign(result, value));\n\t      }\n\t    } else {\n\t      if (!cloneableTags[tag]) {\n\t        return object ? value : {};\n\t      }\n\t      result = initCloneByTag(value, tag, isDeep);\n\t    }\n\t  }\n\t  // Check for circular references and return its corresponding clone.\n\t  stack || (stack = new Stack);\n\t  var stacked = stack.get(value);\n\t  if (stacked) {\n\t    return stacked;\n\t  }\n\t  stack.set(value, result);\n\n\t  if (isSet(value)) {\n\t    value.forEach(function(subValue) {\n\t      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n\t    });\n\t  } else if (isMap(value)) {\n\t    value.forEach(function(subValue, key) {\n\t      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n\t    });\n\t  }\n\n\t  var keysFunc = isFull\n\t    ? (isFlat ? getAllKeysIn : getAllKeys)\n\t    : (isFlat ? keysIn : keys);\n\n\t  var props = isArr ? undefined : keysFunc(value);\n\t  arrayEach(props || value, function(subValue, key) {\n\t    if (props) {\n\t      key = subValue;\n\t      subValue = value[key];\n\t    }\n\t    // Recursively populate clone (susceptible to call stack limits).\n\t    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n\t  });\n\t  return result;\n\t}\n\n\t_baseClone = baseClone;\n\treturn _baseClone;\n}\n\nexport { require_baseClone as __require };\n//# sourceMappingURL=_baseClone.js.map\n","import { __require as require_baseClone } from './_baseClone.js';\n\nvar clone_1;\nvar hasRequiredClone;\n\nfunction requireClone () {\n\tif (hasRequiredClone) return clone_1;\n\thasRequiredClone = 1;\n\tvar baseClone = require_baseClone();\n\n\t/** Used to compose bitmasks for cloning. */\n\tvar CLONE_SYMBOLS_FLAG = 4;\n\n\t/**\n\t * Creates a shallow clone of `value`.\n\t *\n\t * **Note:** This method is loosely based on the\n\t * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n\t * and supports cloning arrays, array buffers, booleans, date objects, maps,\n\t * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n\t * arrays. The own enumerable properties of `arguments` objects are cloned\n\t * as plain objects. An empty object is returned for uncloneable values such\n\t * as error objects, functions, DOM nodes, and WeakMaps.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to clone.\n\t * @returns {*} Returns the cloned value.\n\t * @see _.cloneDeep\n\t * @example\n\t *\n\t * var objects = [{ 'a': 1 }, { 'b': 2 }];\n\t *\n\t * var shallow = _.clone(objects);\n\t * console.log(shallow[0] === objects[0]);\n\t * // => true\n\t */\n\tfunction clone(value) {\n\t  return baseClone(value, CLONE_SYMBOLS_FLAG);\n\t}\n\n\tclone_1 = clone;\n\treturn clone_1;\n}\n\nexport { requireClone as __require };\n//# sourceMappingURL=clone.js.map\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\n\nvar constant_1;\nvar hasRequiredConstant;\n\nfunction requireConstant () {\n\tif (hasRequiredConstant) return constant_1;\n\thasRequiredConstant = 1;\n\tfunction constant(value) {\n\t  return function() {\n\t    return value;\n\t  };\n\t}\n\n\tconstant_1 = constant;\n\treturn constant_1;\n}\n\nexport { requireConstant as __require };\n//# sourceMappingURL=constant.js.map\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\n\nvar _createBaseFor;\nvar hasRequired_createBaseFor;\n\nfunction require_createBaseFor () {\n\tif (hasRequired_createBaseFor) return _createBaseFor;\n\thasRequired_createBaseFor = 1;\n\tfunction createBaseFor(fromRight) {\n\t  return function(object, iteratee, keysFunc) {\n\t    var index = -1,\n\t        iterable = Object(object),\n\t        props = keysFunc(object),\n\t        length = props.length;\n\n\t    while (length--) {\n\t      var key = props[fromRight ? length : ++index];\n\t      if (iteratee(iterable[key], key, iterable) === false) {\n\t        break;\n\t      }\n\t    }\n\t    return object;\n\t  };\n\t}\n\n\t_createBaseFor = createBaseFor;\n\treturn _createBaseFor;\n}\n\nexport { require_createBaseFor as __require };\n//# sourceMappingURL=_createBaseFor.js.map\n","import { __require as require_createBaseFor } from './_createBaseFor.js';\n\nvar _baseFor;\nvar hasRequired_baseFor;\n\nfunction require_baseFor () {\n\tif (hasRequired_baseFor) return _baseFor;\n\thasRequired_baseFor = 1;\n\tvar createBaseFor = require_createBaseFor();\n\n\t/**\n\t * The base implementation of `baseForOwn` which iterates over `object`\n\t * properties returned by `keysFunc` and invokes `iteratee` for each property.\n\t * Iteratee functions may exit iteration early by explicitly returning `false`.\n\t *\n\t * @private\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @param {Function} keysFunc The function to get the keys of `object`.\n\t * @returns {Object} Returns `object`.\n\t */\n\tvar baseFor = createBaseFor();\n\n\t_baseFor = baseFor;\n\treturn _baseFor;\n}\n\nexport { require_baseFor as __require };\n//# sourceMappingURL=_baseFor.js.map\n","import { __require as require_baseFor } from './_baseFor.js';\nimport { __require as requireKeys } from './keys.js';\n\nvar _baseForOwn;\nvar hasRequired_baseForOwn;\n\nfunction require_baseForOwn () {\n\tif (hasRequired_baseForOwn) return _baseForOwn;\n\thasRequired_baseForOwn = 1;\n\tvar baseFor = require_baseFor(),\n\t    keys = requireKeys();\n\n\t/**\n\t * The base implementation of `_.forOwn` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction baseForOwn(object, iteratee) {\n\t  return object && baseFor(object, iteratee, keys);\n\t}\n\n\t_baseForOwn = baseForOwn;\n\treturn _baseForOwn;\n}\n\nexport { require_baseForOwn as __require };\n//# sourceMappingURL=_baseForOwn.js.map\n","import { __require as requireIsArrayLike } from './isArrayLike.js';\n\nvar _createBaseEach;\nvar hasRequired_createBaseEach;\n\nfunction require_createBaseEach () {\n\tif (hasRequired_createBaseEach) return _createBaseEach;\n\thasRequired_createBaseEach = 1;\n\tvar isArrayLike = requireIsArrayLike();\n\n\t/**\n\t * Creates a `baseEach` or `baseEachRight` function.\n\t *\n\t * @private\n\t * @param {Function} eachFunc The function to iterate over a collection.\n\t * @param {boolean} [fromRight] Specify iterating from right to left.\n\t * @returns {Function} Returns the new base function.\n\t */\n\tfunction createBaseEach(eachFunc, fromRight) {\n\t  return function(collection, iteratee) {\n\t    if (collection == null) {\n\t      return collection;\n\t    }\n\t    if (!isArrayLike(collection)) {\n\t      return eachFunc(collection, iteratee);\n\t    }\n\t    var length = collection.length,\n\t        index = fromRight ? length : -1,\n\t        iterable = Object(collection);\n\n\t    while ((fromRight ? index-- : ++index < length)) {\n\t      if (iteratee(iterable[index], index, iterable) === false) {\n\t        break;\n\t      }\n\t    }\n\t    return collection;\n\t  };\n\t}\n\n\t_createBaseEach = createBaseEach;\n\treturn _createBaseEach;\n}\n\nexport { require_createBaseEach as __require };\n//# sourceMappingURL=_createBaseEach.js.map\n","import { __require as require_baseForOwn } from './_baseForOwn.js';\nimport { __require as require_createBaseEach } from './_createBaseEach.js';\n\nvar _baseEach;\nvar hasRequired_baseEach;\n\nfunction require_baseEach () {\n\tif (hasRequired_baseEach) return _baseEach;\n\thasRequired_baseEach = 1;\n\tvar baseForOwn = require_baseForOwn(),\n\t    createBaseEach = require_createBaseEach();\n\n\t/**\n\t * The base implementation of `_.forEach` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array|Object} Returns `collection`.\n\t */\n\tvar baseEach = createBaseEach(baseForOwn);\n\n\t_baseEach = baseEach;\n\treturn _baseEach;\n}\n\nexport { require_baseEach as __require };\n//# sourceMappingURL=_baseEach.js.map\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\n\nvar identity_1;\nvar hasRequiredIdentity;\n\nfunction requireIdentity () {\n\tif (hasRequiredIdentity) return identity_1;\n\thasRequiredIdentity = 1;\n\tfunction identity(value) {\n\t  return value;\n\t}\n\n\tidentity_1 = identity;\n\treturn identity_1;\n}\n\nexport { requireIdentity as __require };\n//# sourceMappingURL=identity.js.map\n","import { __require as requireIdentity } from './identity.js';\n\nvar _castFunction;\nvar hasRequired_castFunction;\n\nfunction require_castFunction () {\n\tif (hasRequired_castFunction) return _castFunction;\n\thasRequired_castFunction = 1;\n\tvar identity = requireIdentity();\n\n\t/**\n\t * Casts `value` to `identity` if it's not a function.\n\t *\n\t * @private\n\t * @param {*} value The value to inspect.\n\t * @returns {Function} Returns cast function.\n\t */\n\tfunction castFunction(value) {\n\t  return typeof value == 'function' ? value : identity;\n\t}\n\n\t_castFunction = castFunction;\n\treturn _castFunction;\n}\n\nexport { require_castFunction as __require };\n//# sourceMappingURL=_castFunction.js.map\n","import { __require as require_arrayEach } from './_arrayEach.js';\nimport { __require as require_baseEach } from './_baseEach.js';\nimport { __require as require_castFunction } from './_castFunction.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar forEach_1;\nvar hasRequiredForEach;\n\nfunction requireForEach () {\n\tif (hasRequiredForEach) return forEach_1;\n\thasRequiredForEach = 1;\n\tvar arrayEach = require_arrayEach(),\n\t    baseEach = require_baseEach(),\n\t    castFunction = require_castFunction(),\n\t    isArray = requireIsArray();\n\n\t/**\n\t * Iterates over elements of `collection` and invokes `iteratee` for each element.\n\t * The iteratee is invoked with three arguments: (value, index|key, collection).\n\t * Iteratee functions may exit iteration early by explicitly returning `false`.\n\t *\n\t * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n\t * property are iterated like arrays. To avoid this behavior use `_.forIn`\n\t * or `_.forOwn` for object iteration.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @alias each\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n\t * @returns {Array|Object} Returns `collection`.\n\t * @see _.forEachRight\n\t * @example\n\t *\n\t * _.forEach([1, 2], function(value) {\n\t *   console.log(value);\n\t * });\n\t * // => Logs `1` then `2`.\n\t *\n\t * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n\t *   console.log(key);\n\t * });\n\t * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n\t */\n\tfunction forEach(collection, iteratee) {\n\t  var func = isArray(collection) ? arrayEach : baseEach;\n\t  return func(collection, castFunction(iteratee));\n\t}\n\n\tforEach_1 = forEach;\n\treturn forEach_1;\n}\n\nexport { requireForEach as __require };\n//# sourceMappingURL=forEach.js.map\n","import { __require as requireForEach } from './forEach.js';\n\nvar each;\nvar hasRequiredEach;\n\nfunction requireEach () {\n\tif (hasRequiredEach) return each;\n\thasRequiredEach = 1;\n\teach = requireForEach();\n\treturn each;\n}\n\nexport { requireEach as __require };\n//# sourceMappingURL=each.js.map\n","import { __require as require_baseEach } from './_baseEach.js';\n\nvar _baseFilter;\nvar hasRequired_baseFilter;\n\nfunction require_baseFilter () {\n\tif (hasRequired_baseFilter) return _baseFilter;\n\thasRequired_baseFilter = 1;\n\tvar baseEach = require_baseEach();\n\n\t/**\n\t * The base implementation of `_.filter` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} predicate The function invoked per iteration.\n\t * @returns {Array} Returns the new filtered array.\n\t */\n\tfunction baseFilter(collection, predicate) {\n\t  var result = [];\n\t  baseEach(collection, function(value, index, collection) {\n\t    if (predicate(value, index, collection)) {\n\t      result.push(value);\n\t    }\n\t  });\n\t  return result;\n\t}\n\n\t_baseFilter = baseFilter;\n\treturn _baseFilter;\n}\n\nexport { require_baseFilter as __require };\n//# sourceMappingURL=_baseFilter.js.map\n","/** Used to stand-in for `undefined` hash values. */\n\nvar _setCacheAdd;\nvar hasRequired_setCacheAdd;\n\nfunction require_setCacheAdd () {\n\tif (hasRequired_setCacheAdd) return _setCacheAdd;\n\thasRequired_setCacheAdd = 1;\n\tvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n\t/**\n\t * Adds `value` to the array cache.\n\t *\n\t * @private\n\t * @name add\n\t * @memberOf SetCache\n\t * @alias push\n\t * @param {*} value The value to cache.\n\t * @returns {Object} Returns the cache instance.\n\t */\n\tfunction setCacheAdd(value) {\n\t  this.__data__.set(value, HASH_UNDEFINED);\n\t  return this;\n\t}\n\n\t_setCacheAdd = setCacheAdd;\n\treturn _setCacheAdd;\n}\n\nexport { require_setCacheAdd as __require };\n//# sourceMappingURL=_setCacheAdd.js.map\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\n\nvar _setCacheHas;\nvar hasRequired_setCacheHas;\n\nfunction require_setCacheHas () {\n\tif (hasRequired_setCacheHas) return _setCacheHas;\n\thasRequired_setCacheHas = 1;\n\tfunction setCacheHas(value) {\n\t  return this.__data__.has(value);\n\t}\n\n\t_setCacheHas = setCacheHas;\n\treturn _setCacheHas;\n}\n\nexport { require_setCacheHas as __require };\n//# sourceMappingURL=_setCacheHas.js.map\n","import { __require as require_MapCache } from './_MapCache.js';\nimport { __require as require_setCacheAdd } from './_setCacheAdd.js';\nimport { __require as require_setCacheHas } from './_setCacheHas.js';\n\nvar _SetCache;\nvar hasRequired_SetCache;\n\nfunction require_SetCache () {\n\tif (hasRequired_SetCache) return _SetCache;\n\thasRequired_SetCache = 1;\n\tvar MapCache = require_MapCache(),\n\t    setCacheAdd = require_setCacheAdd(),\n\t    setCacheHas = require_setCacheHas();\n\n\t/**\n\t *\n\t * Creates an array cache object to store unique values.\n\t *\n\t * @private\n\t * @constructor\n\t * @param {Array} [values] The values to cache.\n\t */\n\tfunction SetCache(values) {\n\t  var index = -1,\n\t      length = values == null ? 0 : values.length;\n\n\t  this.__data__ = new MapCache;\n\t  while (++index < length) {\n\t    this.add(values[index]);\n\t  }\n\t}\n\n\t// Add methods to `SetCache`.\n\tSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n\tSetCache.prototype.has = setCacheHas;\n\n\t_SetCache = SetCache;\n\treturn _SetCache;\n}\n\nexport { require_SetCache as __require };\n//# sourceMappingURL=_SetCache.js.map\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\n\nvar _arraySome;\nvar hasRequired_arraySome;\n\nfunction require_arraySome () {\n\tif (hasRequired_arraySome) return _arraySome;\n\thasRequired_arraySome = 1;\n\tfunction arraySome(array, predicate) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length;\n\n\t  while (++index < length) {\n\t    if (predicate(array[index], index, array)) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t}\n\n\t_arraySome = arraySome;\n\treturn _arraySome;\n}\n\nexport { require_arraySome as __require };\n//# sourceMappingURL=_arraySome.js.map\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\n\nvar _cacheHas;\nvar hasRequired_cacheHas;\n\nfunction require_cacheHas () {\n\tif (hasRequired_cacheHas) return _cacheHas;\n\thasRequired_cacheHas = 1;\n\tfunction cacheHas(cache, key) {\n\t  return cache.has(key);\n\t}\n\n\t_cacheHas = cacheHas;\n\treturn _cacheHas;\n}\n\nexport { require_cacheHas as __require };\n//# sourceMappingURL=_cacheHas.js.map\n","import { __require as require_SetCache } from './_SetCache.js';\nimport { __require as require_arraySome } from './_arraySome.js';\nimport { __require as require_cacheHas } from './_cacheHas.js';\n\nvar _equalArrays;\nvar hasRequired_equalArrays;\n\nfunction require_equalArrays () {\n\tif (hasRequired_equalArrays) return _equalArrays;\n\thasRequired_equalArrays = 1;\n\tvar SetCache = require_SetCache(),\n\t    arraySome = require_arraySome(),\n\t    cacheHas = require_cacheHas();\n\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\n\t/**\n\t * A specialized version of `baseIsEqualDeep` for arrays with support for\n\t * partial deep comparisons.\n\t *\n\t * @private\n\t * @param {Array} array The array to compare.\n\t * @param {Array} other The other array to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} stack Tracks traversed `array` and `other` objects.\n\t * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n\t */\n\tfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n\t  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n\t      arrLength = array.length,\n\t      othLength = other.length;\n\n\t  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n\t    return false;\n\t  }\n\t  // Check that cyclic values are equal.\n\t  var arrStacked = stack.get(array);\n\t  var othStacked = stack.get(other);\n\t  if (arrStacked && othStacked) {\n\t    return arrStacked == other && othStacked == array;\n\t  }\n\t  var index = -1,\n\t      result = true,\n\t      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n\t  stack.set(array, other);\n\t  stack.set(other, array);\n\n\t  // Ignore non-index properties.\n\t  while (++index < arrLength) {\n\t    var arrValue = array[index],\n\t        othValue = other[index];\n\n\t    if (customizer) {\n\t      var compared = isPartial\n\t        ? customizer(othValue, arrValue, index, other, array, stack)\n\t        : customizer(arrValue, othValue, index, array, other, stack);\n\t    }\n\t    if (compared !== undefined) {\n\t      if (compared) {\n\t        continue;\n\t      }\n\t      result = false;\n\t      break;\n\t    }\n\t    // Recursively compare arrays (susceptible to call stack limits).\n\t    if (seen) {\n\t      if (!arraySome(other, function(othValue, othIndex) {\n\t            if (!cacheHas(seen, othIndex) &&\n\t                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n\t              return seen.push(othIndex);\n\t            }\n\t          })) {\n\t        result = false;\n\t        break;\n\t      }\n\t    } else if (!(\n\t          arrValue === othValue ||\n\t            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n\t        )) {\n\t      result = false;\n\t      break;\n\t    }\n\t  }\n\t  stack['delete'](array);\n\t  stack['delete'](other);\n\t  return result;\n\t}\n\n\t_equalArrays = equalArrays;\n\treturn _equalArrays;\n}\n\nexport { require_equalArrays as __require };\n//# sourceMappingURL=_equalArrays.js.map\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\n\nvar _mapToArray;\nvar hasRequired_mapToArray;\n\nfunction require_mapToArray () {\n\tif (hasRequired_mapToArray) return _mapToArray;\n\thasRequired_mapToArray = 1;\n\tfunction mapToArray(map) {\n\t  var index = -1,\n\t      result = Array(map.size);\n\n\t  map.forEach(function(value, key) {\n\t    result[++index] = [key, value];\n\t  });\n\t  return result;\n\t}\n\n\t_mapToArray = mapToArray;\n\treturn _mapToArray;\n}\n\nexport { require_mapToArray as __require };\n//# sourceMappingURL=_mapToArray.js.map\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\n\nvar _setToArray;\nvar hasRequired_setToArray;\n\nfunction require_setToArray () {\n\tif (hasRequired_setToArray) return _setToArray;\n\thasRequired_setToArray = 1;\n\tfunction setToArray(set) {\n\t  var index = -1,\n\t      result = Array(set.size);\n\n\t  set.forEach(function(value) {\n\t    result[++index] = value;\n\t  });\n\t  return result;\n\t}\n\n\t_setToArray = setToArray;\n\treturn _setToArray;\n}\n\nexport { require_setToArray as __require };\n//# sourceMappingURL=_setToArray.js.map\n","import { __require as require_Symbol } from './_Symbol.js';\nimport { __require as require_Uint8Array } from './_Uint8Array.js';\nimport { __require as requireEq } from './eq.js';\nimport { __require as require_equalArrays } from './_equalArrays.js';\nimport { __require as require_mapToArray } from './_mapToArray.js';\nimport { __require as require_setToArray } from './_setToArray.js';\n\nvar _equalByTag;\nvar hasRequired_equalByTag;\n\nfunction require_equalByTag () {\n\tif (hasRequired_equalByTag) return _equalByTag;\n\thasRequired_equalByTag = 1;\n\tvar Symbol = require_Symbol(),\n\t    Uint8Array = require_Uint8Array(),\n\t    eq = requireEq(),\n\t    equalArrays = require_equalArrays(),\n\t    mapToArray = require_mapToArray(),\n\t    setToArray = require_setToArray();\n\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\n\t/** `Object#toString` result references. */\n\tvar boolTag = '[object Boolean]',\n\t    dateTag = '[object Date]',\n\t    errorTag = '[object Error]',\n\t    mapTag = '[object Map]',\n\t    numberTag = '[object Number]',\n\t    regexpTag = '[object RegExp]',\n\t    setTag = '[object Set]',\n\t    stringTag = '[object String]',\n\t    symbolTag = '[object Symbol]';\n\n\tvar arrayBufferTag = '[object ArrayBuffer]',\n\t    dataViewTag = '[object DataView]';\n\n\t/** Used to convert symbols to primitives and strings. */\n\tvar symbolProto = Symbol ? Symbol.prototype : undefined,\n\t    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n\t/**\n\t * A specialized version of `baseIsEqualDeep` for comparing objects of\n\t * the same `toStringTag`.\n\t *\n\t * **Note:** This function only supports comparing values with tags of\n\t * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {string} tag The `toStringTag` of the objects to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} stack Tracks traversed `object` and `other` objects.\n\t * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n\t */\n\tfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n\t  switch (tag) {\n\t    case dataViewTag:\n\t      if ((object.byteLength != other.byteLength) ||\n\t          (object.byteOffset != other.byteOffset)) {\n\t        return false;\n\t      }\n\t      object = object.buffer;\n\t      other = other.buffer;\n\n\t    case arrayBufferTag:\n\t      if ((object.byteLength != other.byteLength) ||\n\t          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n\t        return false;\n\t      }\n\t      return true;\n\n\t    case boolTag:\n\t    case dateTag:\n\t    case numberTag:\n\t      // Coerce booleans to `1` or `0` and dates to milliseconds.\n\t      // Invalid dates are coerced to `NaN`.\n\t      return eq(+object, +other);\n\n\t    case errorTag:\n\t      return object.name == other.name && object.message == other.message;\n\n\t    case regexpTag:\n\t    case stringTag:\n\t      // Coerce regexes to strings and treat strings, primitives and objects,\n\t      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n\t      // for more details.\n\t      return object == (other + '');\n\n\t    case mapTag:\n\t      var convert = mapToArray;\n\n\t    case setTag:\n\t      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n\t      convert || (convert = setToArray);\n\n\t      if (object.size != other.size && !isPartial) {\n\t        return false;\n\t      }\n\t      // Assume cyclic values are equal.\n\t      var stacked = stack.get(object);\n\t      if (stacked) {\n\t        return stacked == other;\n\t      }\n\t      bitmask |= COMPARE_UNORDERED_FLAG;\n\n\t      // Recursively compare objects (susceptible to call stack limits).\n\t      stack.set(object, other);\n\t      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n\t      stack['delete'](object);\n\t      return result;\n\n\t    case symbolTag:\n\t      if (symbolValueOf) {\n\t        return symbolValueOf.call(object) == symbolValueOf.call(other);\n\t      }\n\t  }\n\t  return false;\n\t}\n\n\t_equalByTag = equalByTag;\n\treturn _equalByTag;\n}\n\nexport { require_equalByTag as __require };\n//# sourceMappingURL=_equalByTag.js.map\n","import { __require as require_getAllKeys } from './_getAllKeys.js';\n\nvar _equalObjects;\nvar hasRequired_equalObjects;\n\nfunction require_equalObjects () {\n\tif (hasRequired_equalObjects) return _equalObjects;\n\thasRequired_equalObjects = 1;\n\tvar getAllKeys = require_getAllKeys();\n\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1;\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * A specialized version of `baseIsEqualDeep` for objects with support for\n\t * partial deep comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} stack Tracks traversed `object` and `other` objects.\n\t * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n\t */\n\tfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n\t  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n\t      objProps = getAllKeys(object),\n\t      objLength = objProps.length,\n\t      othProps = getAllKeys(other),\n\t      othLength = othProps.length;\n\n\t  if (objLength != othLength && !isPartial) {\n\t    return false;\n\t  }\n\t  var index = objLength;\n\t  while (index--) {\n\t    var key = objProps[index];\n\t    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n\t      return false;\n\t    }\n\t  }\n\t  // Check that cyclic values are equal.\n\t  var objStacked = stack.get(object);\n\t  var othStacked = stack.get(other);\n\t  if (objStacked && othStacked) {\n\t    return objStacked == other && othStacked == object;\n\t  }\n\t  var result = true;\n\t  stack.set(object, other);\n\t  stack.set(other, object);\n\n\t  var skipCtor = isPartial;\n\t  while (++index < objLength) {\n\t    key = objProps[index];\n\t    var objValue = object[key],\n\t        othValue = other[key];\n\n\t    if (customizer) {\n\t      var compared = isPartial\n\t        ? customizer(othValue, objValue, key, other, object, stack)\n\t        : customizer(objValue, othValue, key, object, other, stack);\n\t    }\n\t    // Recursively compare objects (susceptible to call stack limits).\n\t    if (!(compared === undefined\n\t          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n\t          : compared\n\t        )) {\n\t      result = false;\n\t      break;\n\t    }\n\t    skipCtor || (skipCtor = key == 'constructor');\n\t  }\n\t  if (result && !skipCtor) {\n\t    var objCtor = object.constructor,\n\t        othCtor = other.constructor;\n\n\t    // Non `Object` object instances with different constructors are not equal.\n\t    if (objCtor != othCtor &&\n\t        ('constructor' in object && 'constructor' in other) &&\n\t        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n\t          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n\t      result = false;\n\t    }\n\t  }\n\t  stack['delete'](object);\n\t  stack['delete'](other);\n\t  return result;\n\t}\n\n\t_equalObjects = equalObjects;\n\treturn _equalObjects;\n}\n\nexport { require_equalObjects as __require };\n//# sourceMappingURL=_equalObjects.js.map\n","import { __require as require_Stack } from './_Stack.js';\nimport { __require as require_equalArrays } from './_equalArrays.js';\nimport { __require as require_equalByTag } from './_equalByTag.js';\nimport { __require as require_equalObjects } from './_equalObjects.js';\nimport { __require as require_getTag } from './_getTag.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsBuffer } from './isBuffer.js';\nimport { __require as requireIsTypedArray } from './isTypedArray.js';\n\nvar _baseIsEqualDeep;\nvar hasRequired_baseIsEqualDeep;\n\nfunction require_baseIsEqualDeep () {\n\tif (hasRequired_baseIsEqualDeep) return _baseIsEqualDeep;\n\thasRequired_baseIsEqualDeep = 1;\n\tvar Stack = require_Stack(),\n\t    equalArrays = require_equalArrays(),\n\t    equalByTag = require_equalByTag(),\n\t    equalObjects = require_equalObjects(),\n\t    getTag = require_getTag(),\n\t    isArray = requireIsArray(),\n\t    isBuffer = requireIsBuffer(),\n\t    isTypedArray = requireIsTypedArray();\n\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1;\n\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    arrayTag = '[object Array]',\n\t    objectTag = '[object Object]';\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * A specialized version of `baseIsEqual` for arrays and objects which performs\n\t * deep comparisons and tracks traversed objects enabling objects with circular\n\t * references to be compared.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n\t * @param {Function} customizer The function to customize comparisons.\n\t * @param {Function} equalFunc The function to determine equivalents of values.\n\t * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n\t * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n\t */\n\tfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n\t  var objIsArr = isArray(object),\n\t      othIsArr = isArray(other),\n\t      objTag = objIsArr ? arrayTag : getTag(object),\n\t      othTag = othIsArr ? arrayTag : getTag(other);\n\n\t  objTag = objTag == argsTag ? objectTag : objTag;\n\t  othTag = othTag == argsTag ? objectTag : othTag;\n\n\t  var objIsObj = objTag == objectTag,\n\t      othIsObj = othTag == objectTag,\n\t      isSameTag = objTag == othTag;\n\n\t  if (isSameTag && isBuffer(object)) {\n\t    if (!isBuffer(other)) {\n\t      return false;\n\t    }\n\t    objIsArr = true;\n\t    objIsObj = false;\n\t  }\n\t  if (isSameTag && !objIsObj) {\n\t    stack || (stack = new Stack);\n\t    return (objIsArr || isTypedArray(object))\n\t      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n\t      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n\t  }\n\t  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n\t    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n\t        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n\t    if (objIsWrapped || othIsWrapped) {\n\t      var objUnwrapped = objIsWrapped ? object.value() : object,\n\t          othUnwrapped = othIsWrapped ? other.value() : other;\n\n\t      stack || (stack = new Stack);\n\t      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n\t    }\n\t  }\n\t  if (!isSameTag) {\n\t    return false;\n\t  }\n\t  stack || (stack = new Stack);\n\t  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n\t}\n\n\t_baseIsEqualDeep = baseIsEqualDeep;\n\treturn _baseIsEqualDeep;\n}\n\nexport { require_baseIsEqualDeep as __require };\n//# sourceMappingURL=_baseIsEqualDeep.js.map\n","import { __require as require_baseIsEqualDeep } from './_baseIsEqualDeep.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar _baseIsEqual;\nvar hasRequired_baseIsEqual;\n\nfunction require_baseIsEqual () {\n\tif (hasRequired_baseIsEqual) return _baseIsEqual;\n\thasRequired_baseIsEqual = 1;\n\tvar baseIsEqualDeep = require_baseIsEqualDeep(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/**\n\t * The base implementation of `_.isEqual` which supports partial comparisons\n\t * and tracks traversed objects.\n\t *\n\t * @private\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @param {boolean} bitmask The bitmask flags.\n\t *  1 - Unordered comparison\n\t *  2 - Partial comparison\n\t * @param {Function} [customizer] The function to customize comparisons.\n\t * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t */\n\tfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n\t  if (value === other) {\n\t    return true;\n\t  }\n\t  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n\t    return value !== value && other !== other;\n\t  }\n\t  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n\t}\n\n\t_baseIsEqual = baseIsEqual;\n\treturn _baseIsEqual;\n}\n\nexport { require_baseIsEqual as __require };\n//# sourceMappingURL=_baseIsEqual.js.map\n","import { __require as require_Stack } from './_Stack.js';\nimport { __require as require_baseIsEqual } from './_baseIsEqual.js';\n\nvar _baseIsMatch;\nvar hasRequired_baseIsMatch;\n\nfunction require_baseIsMatch () {\n\tif (hasRequired_baseIsMatch) return _baseIsMatch;\n\thasRequired_baseIsMatch = 1;\n\tvar Stack = require_Stack(),\n\t    baseIsEqual = require_baseIsEqual();\n\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\n\t/**\n\t * The base implementation of `_.isMatch` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Object} object The object to inspect.\n\t * @param {Object} source The object of property values to match.\n\t * @param {Array} matchData The property names, values, and compare flags to match.\n\t * @param {Function} [customizer] The function to customize comparisons.\n\t * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n\t */\n\tfunction baseIsMatch(object, source, matchData, customizer) {\n\t  var index = matchData.length,\n\t      length = index,\n\t      noCustomizer = !customizer;\n\n\t  if (object == null) {\n\t    return !length;\n\t  }\n\t  object = Object(object);\n\t  while (index--) {\n\t    var data = matchData[index];\n\t    if ((noCustomizer && data[2])\n\t          ? data[1] !== object[data[0]]\n\t          : !(data[0] in object)\n\t        ) {\n\t      return false;\n\t    }\n\t  }\n\t  while (++index < length) {\n\t    data = matchData[index];\n\t    var key = data[0],\n\t        objValue = object[key],\n\t        srcValue = data[1];\n\n\t    if (noCustomizer && data[2]) {\n\t      if (objValue === undefined && !(key in object)) {\n\t        return false;\n\t      }\n\t    } else {\n\t      var stack = new Stack;\n\t      if (customizer) {\n\t        var result = customizer(objValue, srcValue, key, object, source, stack);\n\t      }\n\t      if (!(result === undefined\n\t            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n\t            : result\n\t          )) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t  return true;\n\t}\n\n\t_baseIsMatch = baseIsMatch;\n\treturn _baseIsMatch;\n}\n\nexport { require_baseIsMatch as __require };\n//# sourceMappingURL=_baseIsMatch.js.map\n","import { __require as requireIsObject } from './isObject.js';\n\nvar _isStrictComparable;\nvar hasRequired_isStrictComparable;\n\nfunction require_isStrictComparable () {\n\tif (hasRequired_isStrictComparable) return _isStrictComparable;\n\thasRequired_isStrictComparable = 1;\n\tvar isObject = requireIsObject();\n\n\t/**\n\t * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` if suitable for strict\n\t *  equality comparisons, else `false`.\n\t */\n\tfunction isStrictComparable(value) {\n\t  return value === value && !isObject(value);\n\t}\n\n\t_isStrictComparable = isStrictComparable;\n\treturn _isStrictComparable;\n}\n\nexport { require_isStrictComparable as __require };\n//# sourceMappingURL=_isStrictComparable.js.map\n","import { __require as require_isStrictComparable } from './_isStrictComparable.js';\nimport { __require as requireKeys } from './keys.js';\n\nvar _getMatchData;\nvar hasRequired_getMatchData;\n\nfunction require_getMatchData () {\n\tif (hasRequired_getMatchData) return _getMatchData;\n\thasRequired_getMatchData = 1;\n\tvar isStrictComparable = require_isStrictComparable(),\n\t    keys = requireKeys();\n\n\t/**\n\t * Gets the property names, values, and compare flags of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the match data of `object`.\n\t */\n\tfunction getMatchData(object) {\n\t  var result = keys(object),\n\t      length = result.length;\n\n\t  while (length--) {\n\t    var key = result[length],\n\t        value = object[key];\n\n\t    result[length] = [key, value, isStrictComparable(value)];\n\t  }\n\t  return result;\n\t}\n\n\t_getMatchData = getMatchData;\n\treturn _getMatchData;\n}\n\nexport { require_getMatchData as __require };\n//# sourceMappingURL=_getMatchData.js.map\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\n\nvar _matchesStrictComparable;\nvar hasRequired_matchesStrictComparable;\n\nfunction require_matchesStrictComparable () {\n\tif (hasRequired_matchesStrictComparable) return _matchesStrictComparable;\n\thasRequired_matchesStrictComparable = 1;\n\tfunction matchesStrictComparable(key, srcValue) {\n\t  return function(object) {\n\t    if (object == null) {\n\t      return false;\n\t    }\n\t    return object[key] === srcValue &&\n\t      (srcValue !== undefined || (key in Object(object)));\n\t  };\n\t}\n\n\t_matchesStrictComparable = matchesStrictComparable;\n\treturn _matchesStrictComparable;\n}\n\nexport { require_matchesStrictComparable as __require };\n//# sourceMappingURL=_matchesStrictComparable.js.map\n","import { __require as require_baseIsMatch } from './_baseIsMatch.js';\nimport { __require as require_getMatchData } from './_getMatchData.js';\nimport { __require as require_matchesStrictComparable } from './_matchesStrictComparable.js';\n\nvar _baseMatches;\nvar hasRequired_baseMatches;\n\nfunction require_baseMatches () {\n\tif (hasRequired_baseMatches) return _baseMatches;\n\thasRequired_baseMatches = 1;\n\tvar baseIsMatch = require_baseIsMatch(),\n\t    getMatchData = require_getMatchData(),\n\t    matchesStrictComparable = require_matchesStrictComparable();\n\n\t/**\n\t * The base implementation of `_.matches` which doesn't clone `source`.\n\t *\n\t * @private\n\t * @param {Object} source The object of property values to match.\n\t * @returns {Function} Returns the new spec function.\n\t */\n\tfunction baseMatches(source) {\n\t  var matchData = getMatchData(source);\n\t  if (matchData.length == 1 && matchData[0][2]) {\n\t    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n\t  }\n\t  return function(object) {\n\t    return object === source || baseIsMatch(object, source, matchData);\n\t  };\n\t}\n\n\t_baseMatches = baseMatches;\n\treturn _baseMatches;\n}\n\nexport { require_baseMatches as __require };\n//# sourceMappingURL=_baseMatches.js.map\n","import { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar isSymbol_1;\nvar hasRequiredIsSymbol;\n\nfunction requireIsSymbol () {\n\tif (hasRequiredIsSymbol) return isSymbol_1;\n\thasRequiredIsSymbol = 1;\n\tvar baseGetTag = require_baseGetTag(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar symbolTag = '[object Symbol]';\n\n\t/**\n\t * Checks if `value` is classified as a `Symbol` primitive or object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n\t * @example\n\t *\n\t * _.isSymbol(Symbol.iterator);\n\t * // => true\n\t *\n\t * _.isSymbol('abc');\n\t * // => false\n\t */\n\tfunction isSymbol(value) {\n\t  return typeof value == 'symbol' ||\n\t    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n\t}\n\n\tisSymbol_1 = isSymbol;\n\treturn isSymbol_1;\n}\n\nexport { requireIsSymbol as __require };\n//# sourceMappingURL=isSymbol.js.map\n","import { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsSymbol } from './isSymbol.js';\n\nvar _isKey;\nvar hasRequired_isKey;\n\nfunction require_isKey () {\n\tif (hasRequired_isKey) return _isKey;\n\thasRequired_isKey = 1;\n\tvar isArray = requireIsArray(),\n\t    isSymbol = requireIsSymbol();\n\n\t/** Used to match property names within property paths. */\n\tvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n\t    reIsPlainProp = /^\\w*$/;\n\n\t/**\n\t * Checks if `value` is a property name and not a property path.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {Object} [object] The object to query keys on.\n\t * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n\t */\n\tfunction isKey(value, object) {\n\t  if (isArray(value)) {\n\t    return false;\n\t  }\n\t  var type = typeof value;\n\t  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n\t      value == null || isSymbol(value)) {\n\t    return true;\n\t  }\n\t  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n\t    (object != null && value in Object(object));\n\t}\n\n\t_isKey = isKey;\n\treturn _isKey;\n}\n\nexport { require_isKey as __require };\n//# sourceMappingURL=_isKey.js.map\n","import { __require as require_MapCache } from './_MapCache.js';\n\nvar memoize_1;\nvar hasRequiredMemoize;\n\nfunction requireMemoize () {\n\tif (hasRequiredMemoize) return memoize_1;\n\thasRequiredMemoize = 1;\n\tvar MapCache = require_MapCache();\n\n\t/** Error message constants. */\n\tvar FUNC_ERROR_TEXT = 'Expected a function';\n\n\t/**\n\t * Creates a function that memoizes the result of `func`. If `resolver` is\n\t * provided, it determines the cache key for storing the result based on the\n\t * arguments provided to the memoized function. By default, the first argument\n\t * provided to the memoized function is used as the map cache key. The `func`\n\t * is invoked with the `this` binding of the memoized function.\n\t *\n\t * **Note:** The cache is exposed as the `cache` property on the memoized\n\t * function. Its creation may be customized by replacing the `_.memoize.Cache`\n\t * constructor with one whose instances implement the\n\t * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n\t * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Function\n\t * @param {Function} func The function to have its output memoized.\n\t * @param {Function} [resolver] The function to resolve the cache key.\n\t * @returns {Function} Returns the new memoized function.\n\t * @example\n\t *\n\t * var object = { 'a': 1, 'b': 2 };\n\t * var other = { 'c': 3, 'd': 4 };\n\t *\n\t * var values = _.memoize(_.values);\n\t * values(object);\n\t * // => [1, 2]\n\t *\n\t * values(other);\n\t * // => [3, 4]\n\t *\n\t * object.a = 2;\n\t * values(object);\n\t * // => [1, 2]\n\t *\n\t * // Modify the result cache.\n\t * values.cache.set(object, ['a', 'b']);\n\t * values(object);\n\t * // => ['a', 'b']\n\t *\n\t * // Replace `_.memoize.Cache`.\n\t * _.memoize.Cache = WeakMap;\n\t */\n\tfunction memoize(func, resolver) {\n\t  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n\t    throw new TypeError(FUNC_ERROR_TEXT);\n\t  }\n\t  var memoized = function() {\n\t    var args = arguments,\n\t        key = resolver ? resolver.apply(this, args) : args[0],\n\t        cache = memoized.cache;\n\n\t    if (cache.has(key)) {\n\t      return cache.get(key);\n\t    }\n\t    var result = func.apply(this, args);\n\t    memoized.cache = cache.set(key, result) || cache;\n\t    return result;\n\t  };\n\t  memoized.cache = new (memoize.Cache || MapCache);\n\t  return memoized;\n\t}\n\n\t// Expose `MapCache`.\n\tmemoize.Cache = MapCache;\n\n\tmemoize_1 = memoize;\n\treturn memoize_1;\n}\n\nexport { requireMemoize as __require };\n//# sourceMappingURL=memoize.js.map\n","import { __require as requireMemoize } from './memoize.js';\n\nvar _memoizeCapped;\nvar hasRequired_memoizeCapped;\n\nfunction require_memoizeCapped () {\n\tif (hasRequired_memoizeCapped) return _memoizeCapped;\n\thasRequired_memoizeCapped = 1;\n\tvar memoize = requireMemoize();\n\n\t/** Used as the maximum memoize cache size. */\n\tvar MAX_MEMOIZE_SIZE = 500;\n\n\t/**\n\t * A specialized version of `_.memoize` which clears the memoized function's\n\t * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n\t *\n\t * @private\n\t * @param {Function} func The function to have its output memoized.\n\t * @returns {Function} Returns the new memoized function.\n\t */\n\tfunction memoizeCapped(func) {\n\t  var result = memoize(func, function(key) {\n\t    if (cache.size === MAX_MEMOIZE_SIZE) {\n\t      cache.clear();\n\t    }\n\t    return key;\n\t  });\n\n\t  var cache = result.cache;\n\t  return result;\n\t}\n\n\t_memoizeCapped = memoizeCapped;\n\treturn _memoizeCapped;\n}\n\nexport { require_memoizeCapped as __require };\n//# sourceMappingURL=_memoizeCapped.js.map\n","import { __require as require_memoizeCapped } from './_memoizeCapped.js';\n\nvar _stringToPath;\nvar hasRequired_stringToPath;\n\nfunction require_stringToPath () {\n\tif (hasRequired_stringToPath) return _stringToPath;\n\thasRequired_stringToPath = 1;\n\tvar memoizeCapped = require_memoizeCapped();\n\n\t/** Used to match property names within property paths. */\n\tvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n\t/** Used to match backslashes in property paths. */\n\tvar reEscapeChar = /\\\\(\\\\)?/g;\n\n\t/**\n\t * Converts `string` to a property path array.\n\t *\n\t * @private\n\t * @param {string} string The string to convert.\n\t * @returns {Array} Returns the property path array.\n\t */\n\tvar stringToPath = memoizeCapped(function(string) {\n\t  var result = [];\n\t  if (string.charCodeAt(0) === 46 /* . */) {\n\t    result.push('');\n\t  }\n\t  string.replace(rePropName, function(match, number, quote, subString) {\n\t    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n\t  });\n\t  return result;\n\t});\n\n\t_stringToPath = stringToPath;\n\treturn _stringToPath;\n}\n\nexport { require_stringToPath as __require };\n//# sourceMappingURL=_stringToPath.js.map\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\n\nvar _arrayMap;\nvar hasRequired_arrayMap;\n\nfunction require_arrayMap () {\n\tif (hasRequired_arrayMap) return _arrayMap;\n\thasRequired_arrayMap = 1;\n\tfunction arrayMap(array, iteratee) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length,\n\t      result = Array(length);\n\n\t  while (++index < length) {\n\t    result[index] = iteratee(array[index], index, array);\n\t  }\n\t  return result;\n\t}\n\n\t_arrayMap = arrayMap;\n\treturn _arrayMap;\n}\n\nexport { require_arrayMap as __require };\n//# sourceMappingURL=_arrayMap.js.map\n","import { __require as require_Symbol } from './_Symbol.js';\nimport { __require as require_arrayMap } from './_arrayMap.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsSymbol } from './isSymbol.js';\n\nvar _baseToString;\nvar hasRequired_baseToString;\n\nfunction require_baseToString () {\n\tif (hasRequired_baseToString) return _baseToString;\n\thasRequired_baseToString = 1;\n\tvar Symbol = require_Symbol(),\n\t    arrayMap = require_arrayMap(),\n\t    isArray = requireIsArray(),\n\t    isSymbol = requireIsSymbol();\n\n\t/** Used to convert symbols to primitives and strings. */\n\tvar symbolProto = Symbol ? Symbol.prototype : undefined,\n\t    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n\t/**\n\t * The base implementation of `_.toString` which doesn't convert nullish\n\t * values to empty strings.\n\t *\n\t * @private\n\t * @param {*} value The value to process.\n\t * @returns {string} Returns the string.\n\t */\n\tfunction baseToString(value) {\n\t  // Exit early for strings to avoid a performance hit in some environments.\n\t  if (typeof value == 'string') {\n\t    return value;\n\t  }\n\t  if (isArray(value)) {\n\t    // Recursively convert values (susceptible to call stack limits).\n\t    return arrayMap(value, baseToString) + '';\n\t  }\n\t  if (isSymbol(value)) {\n\t    return symbolToString ? symbolToString.call(value) : '';\n\t  }\n\t  var result = (value + '');\n\t  return (result == '0' && (1 / value) == -Infinity) ? '-0' : result;\n\t}\n\n\t_baseToString = baseToString;\n\treturn _baseToString;\n}\n\nexport { require_baseToString as __require };\n//# sourceMappingURL=_baseToString.js.map\n","import { __require as require_baseToString } from './_baseToString.js';\n\nvar toString_1;\nvar hasRequiredToString;\n\nfunction requireToString () {\n\tif (hasRequiredToString) return toString_1;\n\thasRequiredToString = 1;\n\tvar baseToString = require_baseToString();\n\n\t/**\n\t * Converts `value` to a string. An empty string is returned for `null`\n\t * and `undefined` values. The sign of `-0` is preserved.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {string} Returns the converted string.\n\t * @example\n\t *\n\t * _.toString(null);\n\t * // => ''\n\t *\n\t * _.toString(-0);\n\t * // => '-0'\n\t *\n\t * _.toString([1, 2, 3]);\n\t * // => '1,2,3'\n\t */\n\tfunction toString(value) {\n\t  return value == null ? '' : baseToString(value);\n\t}\n\n\ttoString_1 = toString;\n\treturn toString_1;\n}\n\nexport { requireToString as __require };\n//# sourceMappingURL=toString.js.map\n","import { __require as requireIsArray } from './isArray.js';\nimport { __require as require_isKey } from './_isKey.js';\nimport { __require as require_stringToPath } from './_stringToPath.js';\nimport { __require as requireToString } from './toString.js';\n\nvar _castPath;\nvar hasRequired_castPath;\n\nfunction require_castPath () {\n\tif (hasRequired_castPath) return _castPath;\n\thasRequired_castPath = 1;\n\tvar isArray = requireIsArray(),\n\t    isKey = require_isKey(),\n\t    stringToPath = require_stringToPath(),\n\t    toString = requireToString();\n\n\t/**\n\t * Casts `value` to a path array if it's not one.\n\t *\n\t * @private\n\t * @param {*} value The value to inspect.\n\t * @param {Object} [object] The object to query keys on.\n\t * @returns {Array} Returns the cast property path array.\n\t */\n\tfunction castPath(value, object) {\n\t  if (isArray(value)) {\n\t    return value;\n\t  }\n\t  return isKey(value, object) ? [value] : stringToPath(toString(value));\n\t}\n\n\t_castPath = castPath;\n\treturn _castPath;\n}\n\nexport { require_castPath as __require };\n//# sourceMappingURL=_castPath.js.map\n","import { __require as requireIsSymbol } from './isSymbol.js';\n\nvar _toKey;\nvar hasRequired_toKey;\n\nfunction require_toKey () {\n\tif (hasRequired_toKey) return _toKey;\n\thasRequired_toKey = 1;\n\tvar isSymbol = requireIsSymbol();\n\n\t/**\n\t * Converts `value` to a string key if it's not a string or symbol.\n\t *\n\t * @private\n\t * @param {*} value The value to inspect.\n\t * @returns {string|symbol} Returns the key.\n\t */\n\tfunction toKey(value) {\n\t  if (typeof value == 'string' || isSymbol(value)) {\n\t    return value;\n\t  }\n\t  var result = (value + '');\n\t  return (result == '0' && (1 / value) == -Infinity) ? '-0' : result;\n\t}\n\n\t_toKey = toKey;\n\treturn _toKey;\n}\n\nexport { require_toKey as __require };\n//# sourceMappingURL=_toKey.js.map\n","import { __require as require_castPath } from './_castPath.js';\nimport { __require as require_toKey } from './_toKey.js';\n\nvar _baseGet;\nvar hasRequired_baseGet;\n\nfunction require_baseGet () {\n\tif (hasRequired_baseGet) return _baseGet;\n\thasRequired_baseGet = 1;\n\tvar castPath = require_castPath(),\n\t    toKey = require_toKey();\n\n\t/**\n\t * The base implementation of `_.get` without support for default values.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path of the property to get.\n\t * @returns {*} Returns the resolved value.\n\t */\n\tfunction baseGet(object, path) {\n\t  path = castPath(path, object);\n\n\t  var index = 0,\n\t      length = path.length;\n\n\t  while (object != null && index < length) {\n\t    object = object[toKey(path[index++])];\n\t  }\n\t  return (index && index == length) ? object : undefined;\n\t}\n\n\t_baseGet = baseGet;\n\treturn _baseGet;\n}\n\nexport { require_baseGet as __require };\n//# sourceMappingURL=_baseGet.js.map\n","import { __require as require_baseGet } from './_baseGet.js';\n\nvar get_1;\nvar hasRequiredGet;\n\nfunction requireGet () {\n\tif (hasRequiredGet) return get_1;\n\thasRequiredGet = 1;\n\tvar baseGet = require_baseGet();\n\n\t/**\n\t * Gets the value at `path` of `object`. If the resolved value is\n\t * `undefined`, the `defaultValue` is returned in its place.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.7.0\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path of the property to get.\n\t * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n\t * @returns {*} Returns the resolved value.\n\t * @example\n\t *\n\t * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n\t *\n\t * _.get(object, 'a[0].b.c');\n\t * // => 3\n\t *\n\t * _.get(object, ['a', '0', 'b', 'c']);\n\t * // => 3\n\t *\n\t * _.get(object, 'a.b.c', 'default');\n\t * // => 'default'\n\t */\n\tfunction get(object, path, defaultValue) {\n\t  var result = object == null ? undefined : baseGet(object, path);\n\t  return result === undefined ? defaultValue : result;\n\t}\n\n\tget_1 = get;\n\treturn get_1;\n}\n\nexport { requireGet as __require };\n//# sourceMappingURL=get.js.map\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\n\nvar _baseHasIn;\nvar hasRequired_baseHasIn;\n\nfunction require_baseHasIn () {\n\tif (hasRequired_baseHasIn) return _baseHasIn;\n\thasRequired_baseHasIn = 1;\n\tfunction baseHasIn(object, key) {\n\t  return object != null && key in Object(object);\n\t}\n\n\t_baseHasIn = baseHasIn;\n\treturn _baseHasIn;\n}\n\nexport { require_baseHasIn as __require };\n//# sourceMappingURL=_baseHasIn.js.map\n","import { __require as require_castPath } from './_castPath.js';\nimport { __require as requireIsArguments } from './isArguments.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as require_isIndex } from './_isIndex.js';\nimport { __require as requireIsLength } from './isLength.js';\nimport { __require as require_toKey } from './_toKey.js';\n\nvar _hasPath;\nvar hasRequired_hasPath;\n\nfunction require_hasPath () {\n\tif (hasRequired_hasPath) return _hasPath;\n\thasRequired_hasPath = 1;\n\tvar castPath = require_castPath(),\n\t    isArguments = requireIsArguments(),\n\t    isArray = requireIsArray(),\n\t    isIndex = require_isIndex(),\n\t    isLength = requireIsLength(),\n\t    toKey = require_toKey();\n\n\t/**\n\t * Checks if `path` exists on `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path to check.\n\t * @param {Function} hasFunc The function to check properties.\n\t * @returns {boolean} Returns `true` if `path` exists, else `false`.\n\t */\n\tfunction hasPath(object, path, hasFunc) {\n\t  path = castPath(path, object);\n\n\t  var index = -1,\n\t      length = path.length,\n\t      result = false;\n\n\t  while (++index < length) {\n\t    var key = toKey(path[index]);\n\t    if (!(result = object != null && hasFunc(object, key))) {\n\t      break;\n\t    }\n\t    object = object[key];\n\t  }\n\t  if (result || ++index != length) {\n\t    return result;\n\t  }\n\t  length = object == null ? 0 : object.length;\n\t  return !!length && isLength(length) && isIndex(key, length) &&\n\t    (isArray(object) || isArguments(object));\n\t}\n\n\t_hasPath = hasPath;\n\treturn _hasPath;\n}\n\nexport { require_hasPath as __require };\n//# sourceMappingURL=_hasPath.js.map\n","import { __require as require_baseHasIn } from './_baseHasIn.js';\nimport { __require as require_hasPath } from './_hasPath.js';\n\nvar hasIn_1;\nvar hasRequiredHasIn;\n\nfunction requireHasIn () {\n\tif (hasRequiredHasIn) return hasIn_1;\n\thasRequiredHasIn = 1;\n\tvar baseHasIn = require_baseHasIn(),\n\t    hasPath = require_hasPath();\n\n\t/**\n\t * Checks if `path` is a direct or inherited property of `object`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path to check.\n\t * @returns {boolean} Returns `true` if `path` exists, else `false`.\n\t * @example\n\t *\n\t * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n\t *\n\t * _.hasIn(object, 'a');\n\t * // => true\n\t *\n\t * _.hasIn(object, 'a.b');\n\t * // => true\n\t *\n\t * _.hasIn(object, ['a', 'b']);\n\t * // => true\n\t *\n\t * _.hasIn(object, 'b');\n\t * // => false\n\t */\n\tfunction hasIn(object, path) {\n\t  return object != null && hasPath(object, path, baseHasIn);\n\t}\n\n\thasIn_1 = hasIn;\n\treturn hasIn_1;\n}\n\nexport { requireHasIn as __require };\n//# sourceMappingURL=hasIn.js.map\n","import { __require as require_baseIsEqual } from './_baseIsEqual.js';\nimport { __require as requireGet } from './get.js';\nimport { __require as requireHasIn } from './hasIn.js';\nimport { __require as require_isKey } from './_isKey.js';\nimport { __require as require_isStrictComparable } from './_isStrictComparable.js';\nimport { __require as require_matchesStrictComparable } from './_matchesStrictComparable.js';\nimport { __require as require_toKey } from './_toKey.js';\n\nvar _baseMatchesProperty;\nvar hasRequired_baseMatchesProperty;\n\nfunction require_baseMatchesProperty () {\n\tif (hasRequired_baseMatchesProperty) return _baseMatchesProperty;\n\thasRequired_baseMatchesProperty = 1;\n\tvar baseIsEqual = require_baseIsEqual(),\n\t    get = requireGet(),\n\t    hasIn = requireHasIn(),\n\t    isKey = require_isKey(),\n\t    isStrictComparable = require_isStrictComparable(),\n\t    matchesStrictComparable = require_matchesStrictComparable(),\n\t    toKey = require_toKey();\n\n\t/** Used to compose bitmasks for value comparisons. */\n\tvar COMPARE_PARTIAL_FLAG = 1,\n\t    COMPARE_UNORDERED_FLAG = 2;\n\n\t/**\n\t * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n\t *\n\t * @private\n\t * @param {string} path The path of the property to get.\n\t * @param {*} srcValue The value to match.\n\t * @returns {Function} Returns the new spec function.\n\t */\n\tfunction baseMatchesProperty(path, srcValue) {\n\t  if (isKey(path) && isStrictComparable(srcValue)) {\n\t    return matchesStrictComparable(toKey(path), srcValue);\n\t  }\n\t  return function(object) {\n\t    var objValue = get(object, path);\n\t    return (objValue === undefined && objValue === srcValue)\n\t      ? hasIn(object, path)\n\t      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n\t  };\n\t}\n\n\t_baseMatchesProperty = baseMatchesProperty;\n\treturn _baseMatchesProperty;\n}\n\nexport { require_baseMatchesProperty as __require };\n//# sourceMappingURL=_baseMatchesProperty.js.map\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\n\nvar _baseProperty;\nvar hasRequired_baseProperty;\n\nfunction require_baseProperty () {\n\tif (hasRequired_baseProperty) return _baseProperty;\n\thasRequired_baseProperty = 1;\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\n\t_baseProperty = baseProperty;\n\treturn _baseProperty;\n}\n\nexport { require_baseProperty as __require };\n//# sourceMappingURL=_baseProperty.js.map\n","import { __require as require_baseGet } from './_baseGet.js';\n\nvar _basePropertyDeep;\nvar hasRequired_basePropertyDeep;\n\nfunction require_basePropertyDeep () {\n\tif (hasRequired_basePropertyDeep) return _basePropertyDeep;\n\thasRequired_basePropertyDeep = 1;\n\tvar baseGet = require_baseGet();\n\n\t/**\n\t * A specialized version of `baseProperty` which supports deep paths.\n\t *\n\t * @private\n\t * @param {Array|string} path The path of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t */\n\tfunction basePropertyDeep(path) {\n\t  return function(object) {\n\t    return baseGet(object, path);\n\t  };\n\t}\n\n\t_basePropertyDeep = basePropertyDeep;\n\treturn _basePropertyDeep;\n}\n\nexport { require_basePropertyDeep as __require };\n//# sourceMappingURL=_basePropertyDeep.js.map\n","import { __require as require_baseProperty } from './_baseProperty.js';\nimport { __require as require_basePropertyDeep } from './_basePropertyDeep.js';\nimport { __require as require_isKey } from './_isKey.js';\nimport { __require as require_toKey } from './_toKey.js';\n\nvar property_1;\nvar hasRequiredProperty;\n\nfunction requireProperty () {\n\tif (hasRequiredProperty) return property_1;\n\thasRequiredProperty = 1;\n\tvar baseProperty = require_baseProperty(),\n\t    basePropertyDeep = require_basePropertyDeep(),\n\t    isKey = require_isKey(),\n\t    toKey = require_toKey();\n\n\t/**\n\t * Creates a function that returns the value at `path` of a given object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 2.4.0\n\t * @category Util\n\t * @param {Array|string} path The path of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t * @example\n\t *\n\t * var objects = [\n\t *   { 'a': { 'b': 2 } },\n\t *   { 'a': { 'b': 1 } }\n\t * ];\n\t *\n\t * _.map(objects, _.property('a.b'));\n\t * // => [2, 1]\n\t *\n\t * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n\t * // => [1, 2]\n\t */\n\tfunction property(path) {\n\t  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n\t}\n\n\tproperty_1 = property;\n\treturn property_1;\n}\n\nexport { requireProperty as __require };\n//# sourceMappingURL=property.js.map\n","import { __require as require_baseMatches } from './_baseMatches.js';\nimport { __require as require_baseMatchesProperty } from './_baseMatchesProperty.js';\nimport { __require as requireIdentity } from './identity.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireProperty } from './property.js';\n\nvar _baseIteratee;\nvar hasRequired_baseIteratee;\n\nfunction require_baseIteratee () {\n\tif (hasRequired_baseIteratee) return _baseIteratee;\n\thasRequired_baseIteratee = 1;\n\tvar baseMatches = require_baseMatches(),\n\t    baseMatchesProperty = require_baseMatchesProperty(),\n\t    identity = requireIdentity(),\n\t    isArray = requireIsArray(),\n\t    property = requireProperty();\n\n\t/**\n\t * The base implementation of `_.iteratee`.\n\t *\n\t * @private\n\t * @param {*} [value=_.identity] The value to convert to an iteratee.\n\t * @returns {Function} Returns the iteratee.\n\t */\n\tfunction baseIteratee(value) {\n\t  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n\t  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n\t  if (typeof value == 'function') {\n\t    return value;\n\t  }\n\t  if (value == null) {\n\t    return identity;\n\t  }\n\t  if (typeof value == 'object') {\n\t    return isArray(value)\n\t      ? baseMatchesProperty(value[0], value[1])\n\t      : baseMatches(value);\n\t  }\n\t  return property(value);\n\t}\n\n\t_baseIteratee = baseIteratee;\n\treturn _baseIteratee;\n}\n\nexport { require_baseIteratee as __require };\n//# sourceMappingURL=_baseIteratee.js.map\n","import { __require as require_arrayFilter } from './_arrayFilter.js';\nimport { __require as require_baseFilter } from './_baseFilter.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar filter_1;\nvar hasRequiredFilter;\n\nfunction requireFilter () {\n\tif (hasRequiredFilter) return filter_1;\n\thasRequiredFilter = 1;\n\tvar arrayFilter = require_arrayFilter(),\n\t    baseFilter = require_baseFilter(),\n\t    baseIteratee = require_baseIteratee(),\n\t    isArray = requireIsArray();\n\n\t/**\n\t * Iterates over elements of `collection`, returning an array of all elements\n\t * `predicate` returns truthy for. The predicate is invoked with three\n\t * arguments: (value, index|key, collection).\n\t *\n\t * **Note:** Unlike `_.remove`, this method returns a new array.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} [predicate=_.identity] The function invoked per iteration.\n\t * @returns {Array} Returns the new filtered array.\n\t * @see _.reject\n\t * @example\n\t *\n\t * var users = [\n\t *   { 'user': 'barney', 'age': 36, 'active': true },\n\t *   { 'user': 'fred',   'age': 40, 'active': false }\n\t * ];\n\t *\n\t * _.filter(users, function(o) { return !o.active; });\n\t * // => objects for ['fred']\n\t *\n\t * // The `_.matches` iteratee shorthand.\n\t * _.filter(users, { 'age': 36, 'active': true });\n\t * // => objects for ['barney']\n\t *\n\t * // The `_.matchesProperty` iteratee shorthand.\n\t * _.filter(users, ['active', false]);\n\t * // => objects for ['fred']\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.filter(users, 'active');\n\t * // => objects for ['barney']\n\t *\n\t * // Combining several predicates using `_.overEvery` or `_.overSome`.\n\t * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n\t * // => objects for ['fred', 'barney']\n\t */\n\tfunction filter(collection, predicate) {\n\t  var func = isArray(collection) ? arrayFilter : baseFilter;\n\t  return func(collection, baseIteratee(predicate, 3));\n\t}\n\n\tfilter_1 = filter;\n\treturn filter_1;\n}\n\nexport { requireFilter as __require };\n//# sourceMappingURL=filter.js.map\n","/** Used for built-in method references. */\n\nvar _baseHas;\nvar hasRequired_baseHas;\n\nfunction require_baseHas () {\n\tif (hasRequired_baseHas) return _baseHas;\n\thasRequired_baseHas = 1;\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * The base implementation of `_.has` without support for deep paths.\n\t *\n\t * @private\n\t * @param {Object} [object] The object to query.\n\t * @param {Array|string} key The key to check.\n\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t */\n\tfunction baseHas(object, key) {\n\t  return object != null && hasOwnProperty.call(object, key);\n\t}\n\n\t_baseHas = baseHas;\n\treturn _baseHas;\n}\n\nexport { require_baseHas as __require };\n//# sourceMappingURL=_baseHas.js.map\n","import { __require as require_baseHas } from './_baseHas.js';\nimport { __require as require_hasPath } from './_hasPath.js';\n\nvar has_1;\nvar hasRequiredHas;\n\nfunction requireHas () {\n\tif (hasRequiredHas) return has_1;\n\thasRequiredHas = 1;\n\tvar baseHas = require_baseHas(),\n\t    hasPath = require_hasPath();\n\n\t/**\n\t * Checks if `path` is a direct property of `object`.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path to check.\n\t * @returns {boolean} Returns `true` if `path` exists, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': { 'b': 2 } };\n\t * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n\t *\n\t * _.has(object, 'a');\n\t * // => true\n\t *\n\t * _.has(object, 'a.b');\n\t * // => true\n\t *\n\t * _.has(object, ['a', 'b']);\n\t * // => true\n\t *\n\t * _.has(other, 'a');\n\t * // => false\n\t */\n\tfunction has(object, path) {\n\t  return object != null && hasPath(object, path, baseHas);\n\t}\n\n\thas_1 = has;\n\treturn has_1;\n}\n\nexport { requireHas as __require };\n//# sourceMappingURL=has.js.map\n","import { __require as require_baseKeys } from './_baseKeys.js';\nimport { __require as require_getTag } from './_getTag.js';\nimport { __require as requireIsArguments } from './isArguments.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\nimport { __require as requireIsBuffer } from './isBuffer.js';\nimport { __require as require_isPrototype } from './_isPrototype.js';\nimport { __require as requireIsTypedArray } from './isTypedArray.js';\n\nvar isEmpty_1;\nvar hasRequiredIsEmpty;\n\nfunction requireIsEmpty () {\n\tif (hasRequiredIsEmpty) return isEmpty_1;\n\thasRequiredIsEmpty = 1;\n\tvar baseKeys = require_baseKeys(),\n\t    getTag = require_getTag(),\n\t    isArguments = requireIsArguments(),\n\t    isArray = requireIsArray(),\n\t    isArrayLike = requireIsArrayLike(),\n\t    isBuffer = requireIsBuffer(),\n\t    isPrototype = require_isPrototype(),\n\t    isTypedArray = requireIsTypedArray();\n\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]',\n\t    setTag = '[object Set]';\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Checks if `value` is an empty object, collection, map, or set.\n\t *\n\t * Objects are considered empty if they have no own enumerable string keyed\n\t * properties.\n\t *\n\t * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n\t * jQuery-like collections are considered empty if they have a `length` of `0`.\n\t * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n\t * @example\n\t *\n\t * _.isEmpty(null);\n\t * // => true\n\t *\n\t * _.isEmpty(true);\n\t * // => true\n\t *\n\t * _.isEmpty(1);\n\t * // => true\n\t *\n\t * _.isEmpty([1, 2, 3]);\n\t * // => false\n\t *\n\t * _.isEmpty({ 'a': 1 });\n\t * // => false\n\t */\n\tfunction isEmpty(value) {\n\t  if (value == null) {\n\t    return true;\n\t  }\n\t  if (isArrayLike(value) &&\n\t      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n\t        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n\t    return !value.length;\n\t  }\n\t  var tag = getTag(value);\n\t  if (tag == mapTag || tag == setTag) {\n\t    return !value.size;\n\t  }\n\t  if (isPrototype(value)) {\n\t    return !baseKeys(value).length;\n\t  }\n\t  for (var key in value) {\n\t    if (hasOwnProperty.call(value, key)) {\n\t      return false;\n\t    }\n\t  }\n\t  return true;\n\t}\n\n\tisEmpty_1 = isEmpty;\n\treturn isEmpty_1;\n}\n\nexport { requireIsEmpty as __require };\n//# sourceMappingURL=isEmpty.js.map\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\n\nvar isUndefined_1;\nvar hasRequiredIsUndefined;\n\nfunction requireIsUndefined () {\n\tif (hasRequiredIsUndefined) return isUndefined_1;\n\thasRequiredIsUndefined = 1;\n\tfunction isUndefined(value) {\n\t  return value === undefined;\n\t}\n\n\tisUndefined_1 = isUndefined;\n\treturn isUndefined_1;\n}\n\nexport { requireIsUndefined as __require };\n//# sourceMappingURL=isUndefined.js.map\n","import { __require as require_baseEach } from './_baseEach.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\n\nvar _baseMap;\nvar hasRequired_baseMap;\n\nfunction require_baseMap () {\n\tif (hasRequired_baseMap) return _baseMap;\n\thasRequired_baseMap = 1;\n\tvar baseEach = require_baseEach(),\n\t    isArrayLike = requireIsArrayLike();\n\n\t/**\n\t * The base implementation of `_.map` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the new mapped array.\n\t */\n\tfunction baseMap(collection, iteratee) {\n\t  var index = -1,\n\t      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n\t  baseEach(collection, function(value, key, collection) {\n\t    result[++index] = iteratee(value, key, collection);\n\t  });\n\t  return result;\n\t}\n\n\t_baseMap = baseMap;\n\treturn _baseMap;\n}\n\nexport { require_baseMap as __require };\n//# sourceMappingURL=_baseMap.js.map\n","import { __require as require_arrayMap } from './_arrayMap.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as require_baseMap } from './_baseMap.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar map_1;\nvar hasRequiredMap;\n\nfunction requireMap () {\n\tif (hasRequiredMap) return map_1;\n\thasRequiredMap = 1;\n\tvar arrayMap = require_arrayMap(),\n\t    baseIteratee = require_baseIteratee(),\n\t    baseMap = require_baseMap(),\n\t    isArray = requireIsArray();\n\n\t/**\n\t * Creates an array of values by running each element in `collection` thru\n\t * `iteratee`. The iteratee is invoked with three arguments:\n\t * (value, index|key, collection).\n\t *\n\t * Many lodash methods are guarded to work as iteratees for methods like\n\t * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n\t *\n\t * The guarded methods are:\n\t * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n\t * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n\t * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n\t * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n\t * @returns {Array} Returns the new mapped array.\n\t * @example\n\t *\n\t * function square(n) {\n\t *   return n * n;\n\t * }\n\t *\n\t * _.map([4, 8], square);\n\t * // => [16, 64]\n\t *\n\t * _.map({ 'a': 4, 'b': 8 }, square);\n\t * // => [16, 64] (iteration order is not guaranteed)\n\t *\n\t * var users = [\n\t *   { 'user': 'barney' },\n\t *   { 'user': 'fred' }\n\t * ];\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.map(users, 'user');\n\t * // => ['barney', 'fred']\n\t */\n\tfunction map(collection, iteratee) {\n\t  var func = isArray(collection) ? arrayMap : baseMap;\n\t  return func(collection, baseIteratee(iteratee, 3));\n\t}\n\n\tmap_1 = map;\n\treturn map_1;\n}\n\nexport { requireMap as __require };\n//# sourceMappingURL=map.js.map\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\n\nvar _arrayReduce;\nvar hasRequired_arrayReduce;\n\nfunction require_arrayReduce () {\n\tif (hasRequired_arrayReduce) return _arrayReduce;\n\thasRequired_arrayReduce = 1;\n\tfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length;\n\n\t  if (initAccum && length) {\n\t    accumulator = array[++index];\n\t  }\n\t  while (++index < length) {\n\t    accumulator = iteratee(accumulator, array[index], index, array);\n\t  }\n\t  return accumulator;\n\t}\n\n\t_arrayReduce = arrayReduce;\n\treturn _arrayReduce;\n}\n\nexport { require_arrayReduce as __require };\n//# sourceMappingURL=_arrayReduce.js.map\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\n\nvar _baseReduce;\nvar hasRequired_baseReduce;\n\nfunction require_baseReduce () {\n\tif (hasRequired_baseReduce) return _baseReduce;\n\thasRequired_baseReduce = 1;\n\tfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n\t  eachFunc(collection, function(value, index, collection) {\n\t    accumulator = initAccum\n\t      ? (initAccum = false, value)\n\t      : iteratee(accumulator, value, index, collection);\n\t  });\n\t  return accumulator;\n\t}\n\n\t_baseReduce = baseReduce;\n\treturn _baseReduce;\n}\n\nexport { require_baseReduce as __require };\n//# sourceMappingURL=_baseReduce.js.map\n","import { __require as require_arrayReduce } from './_arrayReduce.js';\nimport { __require as require_baseEach } from './_baseEach.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as require_baseReduce } from './_baseReduce.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar reduce_1;\nvar hasRequiredReduce;\n\nfunction requireReduce () {\n\tif (hasRequiredReduce) return reduce_1;\n\thasRequiredReduce = 1;\n\tvar arrayReduce = require_arrayReduce(),\n\t    baseEach = require_baseEach(),\n\t    baseIteratee = require_baseIteratee(),\n\t    baseReduce = require_baseReduce(),\n\t    isArray = requireIsArray();\n\n\t/**\n\t * Reduces `collection` to a value which is the accumulated result of running\n\t * each element in `collection` thru `iteratee`, where each successive\n\t * invocation is supplied the return value of the previous. If `accumulator`\n\t * is not given, the first element of `collection` is used as the initial\n\t * value. The iteratee is invoked with four arguments:\n\t * (accumulator, value, index|key, collection).\n\t *\n\t * Many lodash methods are guarded to work as iteratees for methods like\n\t * `_.reduce`, `_.reduceRight`, and `_.transform`.\n\t *\n\t * The guarded methods are:\n\t * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n\t * and `sortBy`\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n\t * @param {*} [accumulator] The initial value.\n\t * @returns {*} Returns the accumulated value.\n\t * @see _.reduceRight\n\t * @example\n\t *\n\t * _.reduce([1, 2], function(sum, n) {\n\t *   return sum + n;\n\t * }, 0);\n\t * // => 3\n\t *\n\t * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n\t *   (result[value] || (result[value] = [])).push(key);\n\t *   return result;\n\t * }, {});\n\t * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n\t */\n\tfunction reduce(collection, iteratee, accumulator) {\n\t  var func = isArray(collection) ? arrayReduce : baseReduce,\n\t      initAccum = arguments.length < 3;\n\n\t  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n\t}\n\n\treduce_1 = reduce;\n\treturn reduce_1;\n}\n\nexport { requireReduce as __require };\n//# sourceMappingURL=reduce.js.map\n","import { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar isString_1;\nvar hasRequiredIsString;\n\nfunction requireIsString () {\n\tif (hasRequiredIsString) return isString_1;\n\thasRequiredIsString = 1;\n\tvar baseGetTag = require_baseGetTag(),\n\t    isArray = requireIsArray(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar stringTag = '[object String]';\n\n\t/**\n\t * Checks if `value` is classified as a `String` primitive or object.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n\t * @example\n\t *\n\t * _.isString('abc');\n\t * // => true\n\t *\n\t * _.isString(1);\n\t * // => false\n\t */\n\tfunction isString(value) {\n\t  return typeof value == 'string' ||\n\t    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n\t}\n\n\tisString_1 = isString;\n\treturn isString_1;\n}\n\nexport { requireIsString as __require };\n//# sourceMappingURL=isString.js.map\n","import { __require as require_baseProperty } from './_baseProperty.js';\n\nvar _asciiSize;\nvar hasRequired_asciiSize;\n\nfunction require_asciiSize () {\n\tif (hasRequired_asciiSize) return _asciiSize;\n\thasRequired_asciiSize = 1;\n\tvar baseProperty = require_baseProperty();\n\n\t/**\n\t * Gets the size of an ASCII `string`.\n\t *\n\t * @private\n\t * @param {string} string The string inspect.\n\t * @returns {number} Returns the string size.\n\t */\n\tvar asciiSize = baseProperty('length');\n\n\t_asciiSize = asciiSize;\n\treturn _asciiSize;\n}\n\nexport { require_asciiSize as __require };\n//# sourceMappingURL=_asciiSize.js.map\n","/** Used to compose unicode character classes. */\n\nvar _hasUnicode;\nvar hasRequired_hasUnicode;\n\nfunction require_hasUnicode () {\n\tif (hasRequired_hasUnicode) return _hasUnicode;\n\thasRequired_hasUnicode = 1;\n\tvar rsAstralRange = '\\\\ud800-\\\\udfff',\n\t    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n\t    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n\t    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n\t    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n\t    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n\t/** Used to compose unicode capture groups. */\n\tvar rsZWJ = '\\\\u200d';\n\n\t/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n\tvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n\t/**\n\t * Checks if `string` contains Unicode symbols.\n\t *\n\t * @private\n\t * @param {string} string The string to inspect.\n\t * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n\t */\n\tfunction hasUnicode(string) {\n\t  return reHasUnicode.test(string);\n\t}\n\n\t_hasUnicode = hasUnicode;\n\treturn _hasUnicode;\n}\n\nexport { require_hasUnicode as __require };\n//# sourceMappingURL=_hasUnicode.js.map\n","/** Used to compose unicode character classes. */\n\nvar _unicodeSize;\nvar hasRequired_unicodeSize;\n\nfunction require_unicodeSize () {\n\tif (hasRequired_unicodeSize) return _unicodeSize;\n\thasRequired_unicodeSize = 1;\n\tvar rsAstralRange = '\\\\ud800-\\\\udfff',\n\t    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n\t    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n\t    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n\t    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n\t    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n\t/** Used to compose unicode capture groups. */\n\tvar rsAstral = '[' + rsAstralRange + ']',\n\t    rsCombo = '[' + rsComboRange + ']',\n\t    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n\t    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n\t    rsNonAstral = '[^' + rsAstralRange + ']',\n\t    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n\t    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n\t    rsZWJ = '\\\\u200d';\n\n\t/** Used to compose unicode regexes. */\n\tvar reOptMod = rsModifier + '?',\n\t    rsOptVar = '[' + rsVarRange + ']?',\n\t    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n\t    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n\t    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n\t/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n\tvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n\t/**\n\t * Gets the size of a Unicode `string`.\n\t *\n\t * @private\n\t * @param {string} string The string inspect.\n\t * @returns {number} Returns the string size.\n\t */\n\tfunction unicodeSize(string) {\n\t  var result = reUnicode.lastIndex = 0;\n\t  while (reUnicode.test(string)) {\n\t    ++result;\n\t  }\n\t  return result;\n\t}\n\n\t_unicodeSize = unicodeSize;\n\treturn _unicodeSize;\n}\n\nexport { require_unicodeSize as __require };\n//# sourceMappingURL=_unicodeSize.js.map\n","import { __require as require_asciiSize } from './_asciiSize.js';\nimport { __require as require_hasUnicode } from './_hasUnicode.js';\nimport { __require as require_unicodeSize } from './_unicodeSize.js';\n\nvar _stringSize;\nvar hasRequired_stringSize;\n\nfunction require_stringSize () {\n\tif (hasRequired_stringSize) return _stringSize;\n\thasRequired_stringSize = 1;\n\tvar asciiSize = require_asciiSize(),\n\t    hasUnicode = require_hasUnicode(),\n\t    unicodeSize = require_unicodeSize();\n\n\t/**\n\t * Gets the number of symbols in `string`.\n\t *\n\t * @private\n\t * @param {string} string The string to inspect.\n\t * @returns {number} Returns the string size.\n\t */\n\tfunction stringSize(string) {\n\t  return hasUnicode(string)\n\t    ? unicodeSize(string)\n\t    : asciiSize(string);\n\t}\n\n\t_stringSize = stringSize;\n\treturn _stringSize;\n}\n\nexport { require_stringSize as __require };\n//# sourceMappingURL=_stringSize.js.map\n","import { __require as require_baseKeys } from './_baseKeys.js';\nimport { __require as require_getTag } from './_getTag.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\nimport { __require as requireIsString } from './isString.js';\nimport { __require as require_stringSize } from './_stringSize.js';\n\nvar size_1;\nvar hasRequiredSize;\n\nfunction requireSize () {\n\tif (hasRequiredSize) return size_1;\n\thasRequiredSize = 1;\n\tvar baseKeys = require_baseKeys(),\n\t    getTag = require_getTag(),\n\t    isArrayLike = requireIsArrayLike(),\n\t    isString = requireIsString(),\n\t    stringSize = require_stringSize();\n\n\t/** `Object#toString` result references. */\n\tvar mapTag = '[object Map]',\n\t    setTag = '[object Set]';\n\n\t/**\n\t * Gets the size of `collection` by returning its length for array-like\n\t * values or the number of own enumerable string keyed properties for objects.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object|string} collection The collection to inspect.\n\t * @returns {number} Returns the collection size.\n\t * @example\n\t *\n\t * _.size([1, 2, 3]);\n\t * // => 3\n\t *\n\t * _.size({ 'a': 1, 'b': 2 });\n\t * // => 2\n\t *\n\t * _.size('pebbles');\n\t * // => 7\n\t */\n\tfunction size(collection) {\n\t  if (collection == null) {\n\t    return 0;\n\t  }\n\t  if (isArrayLike(collection)) {\n\t    return isString(collection) ? stringSize(collection) : collection.length;\n\t  }\n\t  var tag = getTag(collection);\n\t  if (tag == mapTag || tag == setTag) {\n\t    return collection.size;\n\t  }\n\t  return baseKeys(collection).length;\n\t}\n\n\tsize_1 = size;\n\treturn size_1;\n}\n\nexport { requireSize as __require };\n//# sourceMappingURL=size.js.map\n","import { __require as require_arrayEach } from './_arrayEach.js';\nimport { __require as require_baseCreate } from './_baseCreate.js';\nimport { __require as require_baseForOwn } from './_baseForOwn.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as require_getPrototype } from './_getPrototype.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsBuffer } from './isBuffer.js';\nimport { __require as requireIsFunction } from './isFunction.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as requireIsTypedArray } from './isTypedArray.js';\n\nvar transform_1;\nvar hasRequiredTransform;\n\nfunction requireTransform () {\n\tif (hasRequiredTransform) return transform_1;\n\thasRequiredTransform = 1;\n\tvar arrayEach = require_arrayEach(),\n\t    baseCreate = require_baseCreate(),\n\t    baseForOwn = require_baseForOwn(),\n\t    baseIteratee = require_baseIteratee(),\n\t    getPrototype = require_getPrototype(),\n\t    isArray = requireIsArray(),\n\t    isBuffer = requireIsBuffer(),\n\t    isFunction = requireIsFunction(),\n\t    isObject = requireIsObject(),\n\t    isTypedArray = requireIsTypedArray();\n\n\t/**\n\t * An alternative to `_.reduce`; this method transforms `object` to a new\n\t * `accumulator` object which is the result of running each of its own\n\t * enumerable string keyed properties thru `iteratee`, with each invocation\n\t * potentially mutating the `accumulator` object. If `accumulator` is not\n\t * provided, a new object with the same `[[Prototype]]` will be used. The\n\t * iteratee is invoked with four arguments: (accumulator, value, key, object).\n\t * Iteratee functions may exit iteration early by explicitly returning `false`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 1.3.0\n\t * @category Object\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n\t * @param {*} [accumulator] The custom accumulator value.\n\t * @returns {*} Returns the accumulated value.\n\t * @example\n\t *\n\t * _.transform([2, 3, 4], function(result, n) {\n\t *   result.push(n *= n);\n\t *   return n % 2 == 0;\n\t * }, []);\n\t * // => [4, 9]\n\t *\n\t * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n\t *   (result[value] || (result[value] = [])).push(key);\n\t * }, {});\n\t * // => { '1': ['a', 'c'], '2': ['b'] }\n\t */\n\tfunction transform(object, iteratee, accumulator) {\n\t  var isArr = isArray(object),\n\t      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n\t  iteratee = baseIteratee(iteratee, 4);\n\t  if (accumulator == null) {\n\t    var Ctor = object && object.constructor;\n\t    if (isArrLike) {\n\t      accumulator = isArr ? new Ctor : [];\n\t    }\n\t    else if (isObject(object)) {\n\t      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n\t    }\n\t    else {\n\t      accumulator = {};\n\t    }\n\t  }\n\t  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n\t    return iteratee(accumulator, value, index, object);\n\t  });\n\t  return accumulator;\n\t}\n\n\ttransform_1 = transform;\n\treturn transform_1;\n}\n\nexport { requireTransform as __require };\n//# sourceMappingURL=transform.js.map\n","import { __require as require_Symbol } from './_Symbol.js';\nimport { __require as requireIsArguments } from './isArguments.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar _isFlattenable;\nvar hasRequired_isFlattenable;\n\nfunction require_isFlattenable () {\n\tif (hasRequired_isFlattenable) return _isFlattenable;\n\thasRequired_isFlattenable = 1;\n\tvar Symbol = require_Symbol(),\n\t    isArguments = requireIsArguments(),\n\t    isArray = requireIsArray();\n\n\t/** Built-in value references. */\n\tvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n\t/**\n\t * Checks if `value` is a flattenable `arguments` object or array.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n\t */\n\tfunction isFlattenable(value) {\n\t  return isArray(value) || isArguments(value) ||\n\t    !!(spreadableSymbol && value && value[spreadableSymbol]);\n\t}\n\n\t_isFlattenable = isFlattenable;\n\treturn _isFlattenable;\n}\n\nexport { require_isFlattenable as __require };\n//# sourceMappingURL=_isFlattenable.js.map\n","import { __require as require_arrayPush } from './_arrayPush.js';\nimport { __require as require_isFlattenable } from './_isFlattenable.js';\n\nvar _baseFlatten;\nvar hasRequired_baseFlatten;\n\nfunction require_baseFlatten () {\n\tif (hasRequired_baseFlatten) return _baseFlatten;\n\thasRequired_baseFlatten = 1;\n\tvar arrayPush = require_arrayPush(),\n\t    isFlattenable = require_isFlattenable();\n\n\t/**\n\t * The base implementation of `_.flatten` with support for restricting flattening.\n\t *\n\t * @private\n\t * @param {Array} array The array to flatten.\n\t * @param {number} depth The maximum recursion depth.\n\t * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n\t * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n\t * @param {Array} [result=[]] The initial result value.\n\t * @returns {Array} Returns the new flattened array.\n\t */\n\tfunction baseFlatten(array, depth, predicate, isStrict, result) {\n\t  var index = -1,\n\t      length = array.length;\n\n\t  predicate || (predicate = isFlattenable);\n\t  result || (result = []);\n\n\t  while (++index < length) {\n\t    var value = array[index];\n\t    if (depth > 0 && predicate(value)) {\n\t      if (depth > 1) {\n\t        // Recursively flatten arrays (susceptible to call stack limits).\n\t        baseFlatten(value, depth - 1, predicate, isStrict, result);\n\t      } else {\n\t        arrayPush(result, value);\n\t      }\n\t    } else if (!isStrict) {\n\t      result[result.length] = value;\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_baseFlatten = baseFlatten;\n\treturn _baseFlatten;\n}\n\nexport { require_baseFlatten as __require };\n//# sourceMappingURL=_baseFlatten.js.map\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\n\nvar _apply;\nvar hasRequired_apply;\n\nfunction require_apply () {\n\tif (hasRequired_apply) return _apply;\n\thasRequired_apply = 1;\n\tfunction apply(func, thisArg, args) {\n\t  switch (args.length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\n\t_apply = apply;\n\treturn _apply;\n}\n\nexport { require_apply as __require };\n//# sourceMappingURL=_apply.js.map\n","import { __require as require_apply } from './_apply.js';\n\nvar _overRest;\nvar hasRequired_overRest;\n\nfunction require_overRest () {\n\tif (hasRequired_overRest) return _overRest;\n\thasRequired_overRest = 1;\n\tvar apply = require_apply();\n\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeMax = Math.max;\n\n\t/**\n\t * A specialized version of `baseRest` which transforms the rest array.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @param {Function} transform The rest array transform.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction overRest(func, start, transform) {\n\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\n\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    index = -1;\n\t    var otherArgs = Array(start + 1);\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = transform(array);\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\n\t_overRest = overRest;\n\treturn _overRest;\n}\n\nexport { require_overRest as __require };\n//# sourceMappingURL=_overRest.js.map\n","import { __require as requireConstant } from './constant.js';\nimport { __require as require_defineProperty } from './_defineProperty.js';\nimport { __require as requireIdentity } from './identity.js';\n\nvar _baseSetToString;\nvar hasRequired_baseSetToString;\n\nfunction require_baseSetToString () {\n\tif (hasRequired_baseSetToString) return _baseSetToString;\n\thasRequired_baseSetToString = 1;\n\tvar constant = requireConstant(),\n\t    defineProperty = require_defineProperty(),\n\t    identity = requireIdentity();\n\n\t/**\n\t * The base implementation of `setToString` without support for hot loop shorting.\n\t *\n\t * @private\n\t * @param {Function} func The function to modify.\n\t * @param {Function} string The `toString` result.\n\t * @returns {Function} Returns `func`.\n\t */\n\tvar baseSetToString = !defineProperty ? identity : function(func, string) {\n\t  return defineProperty(func, 'toString', {\n\t    'configurable': true,\n\t    'enumerable': false,\n\t    'value': constant(string),\n\t    'writable': true\n\t  });\n\t};\n\n\t_baseSetToString = baseSetToString;\n\treturn _baseSetToString;\n}\n\nexport { require_baseSetToString as __require };\n//# sourceMappingURL=_baseSetToString.js.map\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\n\nvar _shortOut;\nvar hasRequired_shortOut;\n\nfunction require_shortOut () {\n\tif (hasRequired_shortOut) return _shortOut;\n\thasRequired_shortOut = 1;\n\tvar HOT_COUNT = 800,\n\t    HOT_SPAN = 16;\n\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeNow = Date.now;\n\n\t/**\n\t * Creates a function that'll short out and invoke `identity` instead\n\t * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n\t * milliseconds.\n\t *\n\t * @private\n\t * @param {Function} func The function to restrict.\n\t * @returns {Function} Returns the new shortable function.\n\t */\n\tfunction shortOut(func) {\n\t  var count = 0,\n\t      lastCalled = 0;\n\n\t  return function() {\n\t    var stamp = nativeNow(),\n\t        remaining = HOT_SPAN - (stamp - lastCalled);\n\n\t    lastCalled = stamp;\n\t    if (remaining > 0) {\n\t      if (++count >= HOT_COUNT) {\n\t        return arguments[0];\n\t      }\n\t    } else {\n\t      count = 0;\n\t    }\n\t    return func.apply(undefined, arguments);\n\t  };\n\t}\n\n\t_shortOut = shortOut;\n\treturn _shortOut;\n}\n\nexport { require_shortOut as __require };\n//# sourceMappingURL=_shortOut.js.map\n","import { __require as require_baseSetToString } from './_baseSetToString.js';\nimport { __require as require_shortOut } from './_shortOut.js';\n\nvar _setToString;\nvar hasRequired_setToString;\n\nfunction require_setToString () {\n\tif (hasRequired_setToString) return _setToString;\n\thasRequired_setToString = 1;\n\tvar baseSetToString = require_baseSetToString(),\n\t    shortOut = require_shortOut();\n\n\t/**\n\t * Sets the `toString` method of `func` to return `string`.\n\t *\n\t * @private\n\t * @param {Function} func The function to modify.\n\t * @param {Function} string The `toString` result.\n\t * @returns {Function} Returns `func`.\n\t */\n\tvar setToString = shortOut(baseSetToString);\n\n\t_setToString = setToString;\n\treturn _setToString;\n}\n\nexport { require_setToString as __require };\n//# sourceMappingURL=_setToString.js.map\n","import { __require as requireIdentity } from './identity.js';\nimport { __require as require_overRest } from './_overRest.js';\nimport { __require as require_setToString } from './_setToString.js';\n\nvar _baseRest;\nvar hasRequired_baseRest;\n\nfunction require_baseRest () {\n\tif (hasRequired_baseRest) return _baseRest;\n\thasRequired_baseRest = 1;\n\tvar identity = requireIdentity(),\n\t    overRest = require_overRest(),\n\t    setToString = require_setToString();\n\n\t/**\n\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseRest(func, start) {\n\t  return setToString(overRest(func, start, identity), func + '');\n\t}\n\n\t_baseRest = baseRest;\n\treturn _baseRest;\n}\n\nexport { require_baseRest as __require };\n//# sourceMappingURL=_baseRest.js.map\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\nvar _baseFindIndex;\nvar hasRequired_baseFindIndex;\n\nfunction require_baseFindIndex () {\n\tif (hasRequired_baseFindIndex) return _baseFindIndex;\n\thasRequired_baseFindIndex = 1;\n\tfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n\t  var length = array.length,\n\t      index = fromIndex + (fromRight ? 1 : -1);\n\n\t  while ((fromRight ? index-- : ++index < length)) {\n\t    if (predicate(array[index], index, array)) {\n\t      return index;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\t_baseFindIndex = baseFindIndex;\n\treturn _baseFindIndex;\n}\n\nexport { require_baseFindIndex as __require };\n//# sourceMappingURL=_baseFindIndex.js.map\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\n\nvar _baseIsNaN;\nvar hasRequired_baseIsNaN;\n\nfunction require_baseIsNaN () {\n\tif (hasRequired_baseIsNaN) return _baseIsNaN;\n\thasRequired_baseIsNaN = 1;\n\tfunction baseIsNaN(value) {\n\t  return value !== value;\n\t}\n\n\t_baseIsNaN = baseIsNaN;\n\treturn _baseIsNaN;\n}\n\nexport { require_baseIsNaN as __require };\n//# sourceMappingURL=_baseIsNaN.js.map\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\n\nvar _strictIndexOf;\nvar hasRequired_strictIndexOf;\n\nfunction require_strictIndexOf () {\n\tif (hasRequired_strictIndexOf) return _strictIndexOf;\n\thasRequired_strictIndexOf = 1;\n\tfunction strictIndexOf(array, value, fromIndex) {\n\t  var index = fromIndex - 1,\n\t      length = array.length;\n\n\t  while (++index < length) {\n\t    if (array[index] === value) {\n\t      return index;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\t_strictIndexOf = strictIndexOf;\n\treturn _strictIndexOf;\n}\n\nexport { require_strictIndexOf as __require };\n//# sourceMappingURL=_strictIndexOf.js.map\n","import { __require as require_baseFindIndex } from './_baseFindIndex.js';\nimport { __require as require_baseIsNaN } from './_baseIsNaN.js';\nimport { __require as require_strictIndexOf } from './_strictIndexOf.js';\n\nvar _baseIndexOf;\nvar hasRequired_baseIndexOf;\n\nfunction require_baseIndexOf () {\n\tif (hasRequired_baseIndexOf) return _baseIndexOf;\n\thasRequired_baseIndexOf = 1;\n\tvar baseFindIndex = require_baseFindIndex(),\n\t    baseIsNaN = require_baseIsNaN(),\n\t    strictIndexOf = require_strictIndexOf();\n\n\t/**\n\t * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {*} value The value to search for.\n\t * @param {number} fromIndex The index to search from.\n\t * @returns {number} Returns the index of the matched value, else `-1`.\n\t */\n\tfunction baseIndexOf(array, value, fromIndex) {\n\t  return value === value\n\t    ? strictIndexOf(array, value, fromIndex)\n\t    : baseFindIndex(array, baseIsNaN, fromIndex);\n\t}\n\n\t_baseIndexOf = baseIndexOf;\n\treturn _baseIndexOf;\n}\n\nexport { require_baseIndexOf as __require };\n//# sourceMappingURL=_baseIndexOf.js.map\n","import { __require as require_baseIndexOf } from './_baseIndexOf.js';\n\nvar _arrayIncludes;\nvar hasRequired_arrayIncludes;\n\nfunction require_arrayIncludes () {\n\tif (hasRequired_arrayIncludes) return _arrayIncludes;\n\thasRequired_arrayIncludes = 1;\n\tvar baseIndexOf = require_baseIndexOf();\n\n\t/**\n\t * A specialized version of `_.includes` for arrays without support for\n\t * specifying an index to search from.\n\t *\n\t * @private\n\t * @param {Array} [array] The array to inspect.\n\t * @param {*} target The value to search for.\n\t * @returns {boolean} Returns `true` if `target` is found, else `false`.\n\t */\n\tfunction arrayIncludes(array, value) {\n\t  var length = array == null ? 0 : array.length;\n\t  return !!length && baseIndexOf(array, value, 0) > -1;\n\t}\n\n\t_arrayIncludes = arrayIncludes;\n\treturn _arrayIncludes;\n}\n\nexport { require_arrayIncludes as __require };\n//# sourceMappingURL=_arrayIncludes.js.map\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\n\nvar _arrayIncludesWith;\nvar hasRequired_arrayIncludesWith;\n\nfunction require_arrayIncludesWith () {\n\tif (hasRequired_arrayIncludesWith) return _arrayIncludesWith;\n\thasRequired_arrayIncludesWith = 1;\n\tfunction arrayIncludesWith(array, value, comparator) {\n\t  var index = -1,\n\t      length = array == null ? 0 : array.length;\n\n\t  while (++index < length) {\n\t    if (comparator(value, array[index])) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t}\n\n\t_arrayIncludesWith = arrayIncludesWith;\n\treturn _arrayIncludesWith;\n}\n\nexport { require_arrayIncludesWith as __require };\n//# sourceMappingURL=_arrayIncludesWith.js.map\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\n\nvar noop_1;\nvar hasRequiredNoop;\n\nfunction requireNoop () {\n\tif (hasRequiredNoop) return noop_1;\n\thasRequiredNoop = 1;\n\tfunction noop() {\n\t  // No operation performed.\n\t}\n\n\tnoop_1 = noop;\n\treturn noop_1;\n}\n\nexport { requireNoop as __require };\n//# sourceMappingURL=noop.js.map\n","import { __require as require_Set } from './_Set.js';\nimport { __require as requireNoop } from './noop.js';\nimport { __require as require_setToArray } from './_setToArray.js';\n\nvar _createSet;\nvar hasRequired_createSet;\n\nfunction require_createSet () {\n\tif (hasRequired_createSet) return _createSet;\n\thasRequired_createSet = 1;\n\tvar Set = require_Set(),\n\t    noop = requireNoop(),\n\t    setToArray = require_setToArray();\n\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0;\n\n\t/**\n\t * Creates a set object of `values`.\n\t *\n\t * @private\n\t * @param {Array} values The values to add to the set.\n\t * @returns {Object} Returns the new set.\n\t */\n\tvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n\t  return new Set(values);\n\t};\n\n\t_createSet = createSet;\n\treturn _createSet;\n}\n\nexport { require_createSet as __require };\n//# sourceMappingURL=_createSet.js.map\n","import { __require as require_SetCache } from './_SetCache.js';\nimport { __require as require_arrayIncludes } from './_arrayIncludes.js';\nimport { __require as require_arrayIncludesWith } from './_arrayIncludesWith.js';\nimport { __require as require_cacheHas } from './_cacheHas.js';\nimport { __require as require_createSet } from './_createSet.js';\nimport { __require as require_setToArray } from './_setToArray.js';\n\nvar _baseUniq;\nvar hasRequired_baseUniq;\n\nfunction require_baseUniq () {\n\tif (hasRequired_baseUniq) return _baseUniq;\n\thasRequired_baseUniq = 1;\n\tvar SetCache = require_SetCache(),\n\t    arrayIncludes = require_arrayIncludes(),\n\t    arrayIncludesWith = require_arrayIncludesWith(),\n\t    cacheHas = require_cacheHas(),\n\t    createSet = require_createSet(),\n\t    setToArray = require_setToArray();\n\n\t/** Used as the size to enable large array optimizations. */\n\tvar LARGE_ARRAY_SIZE = 200;\n\n\t/**\n\t * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Array} array The array to inspect.\n\t * @param {Function} [iteratee] The iteratee invoked per element.\n\t * @param {Function} [comparator] The comparator invoked per element.\n\t * @returns {Array} Returns the new duplicate free array.\n\t */\n\tfunction baseUniq(array, iteratee, comparator) {\n\t  var index = -1,\n\t      includes = arrayIncludes,\n\t      length = array.length,\n\t      isCommon = true,\n\t      result = [],\n\t      seen = result;\n\n\t  if (comparator) {\n\t    isCommon = false;\n\t    includes = arrayIncludesWith;\n\t  }\n\t  else if (length >= LARGE_ARRAY_SIZE) {\n\t    var set = iteratee ? null : createSet(array);\n\t    if (set) {\n\t      return setToArray(set);\n\t    }\n\t    isCommon = false;\n\t    includes = cacheHas;\n\t    seen = new SetCache;\n\t  }\n\t  else {\n\t    seen = iteratee ? [] : result;\n\t  }\n\t  outer:\n\t  while (++index < length) {\n\t    var value = array[index],\n\t        computed = iteratee ? iteratee(value) : value;\n\n\t    value = (comparator || value !== 0) ? value : 0;\n\t    if (isCommon && computed === computed) {\n\t      var seenIndex = seen.length;\n\t      while (seenIndex--) {\n\t        if (seen[seenIndex] === computed) {\n\t          continue outer;\n\t        }\n\t      }\n\t      if (iteratee) {\n\t        seen.push(computed);\n\t      }\n\t      result.push(value);\n\t    }\n\t    else if (!includes(seen, computed, comparator)) {\n\t      if (seen !== result) {\n\t        seen.push(computed);\n\t      }\n\t      result.push(value);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_baseUniq = baseUniq;\n\treturn _baseUniq;\n}\n\nexport { require_baseUniq as __require };\n//# sourceMappingURL=_baseUniq.js.map\n","import { __require as requireIsArrayLike } from './isArrayLike.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar isArrayLikeObject_1;\nvar hasRequiredIsArrayLikeObject;\n\nfunction requireIsArrayLikeObject () {\n\tif (hasRequiredIsArrayLikeObject) return isArrayLikeObject_1;\n\thasRequiredIsArrayLikeObject = 1;\n\tvar isArrayLike = requireIsArrayLike(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/**\n\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t * is an object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array-like object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArrayLikeObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject('abc');\n\t * // => false\n\t *\n\t * _.isArrayLikeObject(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLikeObject(value) {\n\t  return isObjectLike(value) && isArrayLike(value);\n\t}\n\n\tisArrayLikeObject_1 = isArrayLikeObject;\n\treturn isArrayLikeObject_1;\n}\n\nexport { requireIsArrayLikeObject as __require };\n//# sourceMappingURL=isArrayLikeObject.js.map\n","import { __require as require_baseFlatten } from './_baseFlatten.js';\nimport { __require as require_baseRest } from './_baseRest.js';\nimport { __require as require_baseUniq } from './_baseUniq.js';\nimport { __require as requireIsArrayLikeObject } from './isArrayLikeObject.js';\n\nvar union_1;\nvar hasRequiredUnion;\n\nfunction requireUnion () {\n\tif (hasRequiredUnion) return union_1;\n\thasRequiredUnion = 1;\n\tvar baseFlatten = require_baseFlatten(),\n\t    baseRest = require_baseRest(),\n\t    baseUniq = require_baseUniq(),\n\t    isArrayLikeObject = requireIsArrayLikeObject();\n\n\t/**\n\t * Creates an array of unique values, in order, from all given arrays using\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Array\n\t * @param {...Array} [arrays] The arrays to inspect.\n\t * @returns {Array} Returns the new array of combined values.\n\t * @example\n\t *\n\t * _.union([2], [1, 2]);\n\t * // => [2, 1]\n\t */\n\tvar union = baseRest(function(arrays) {\n\t  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n\t});\n\n\tunion_1 = union;\n\treturn union_1;\n}\n\nexport { requireUnion as __require };\n//# sourceMappingURL=union.js.map\n","import { __require as require_arrayMap } from './_arrayMap.js';\n\nvar _baseValues;\nvar hasRequired_baseValues;\n\nfunction require_baseValues () {\n\tif (hasRequired_baseValues) return _baseValues;\n\thasRequired_baseValues = 1;\n\tvar arrayMap = require_arrayMap();\n\n\t/**\n\t * The base implementation of `_.values` and `_.valuesIn` which creates an\n\t * array of `object` property values corresponding to the property names\n\t * of `props`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array} props The property names to get values for.\n\t * @returns {Object} Returns the array of property values.\n\t */\n\tfunction baseValues(object, props) {\n\t  return arrayMap(props, function(key) {\n\t    return object[key];\n\t  });\n\t}\n\n\t_baseValues = baseValues;\n\treturn _baseValues;\n}\n\nexport { require_baseValues as __require };\n//# sourceMappingURL=_baseValues.js.map\n","import { __require as require_baseValues } from './_baseValues.js';\nimport { __require as requireKeys } from './keys.js';\n\nvar values_1;\nvar hasRequiredValues;\n\nfunction requireValues () {\n\tif (hasRequiredValues) return values_1;\n\thasRequiredValues = 1;\n\tvar baseValues = require_baseValues(),\n\t    keys = requireKeys();\n\n\t/**\n\t * Creates an array of the own enumerable string keyed property values of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property values.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.values(new Foo);\n\t * // => [1, 2] (iteration order is not guaranteed)\n\t *\n\t * _.values('hi');\n\t * // => ['h', 'i']\n\t */\n\tfunction values(object) {\n\t  return object == null ? [] : baseValues(object, keys(object));\n\t}\n\n\tvalues_1 = values;\n\treturn values_1;\n}\n\nexport { requireValues as __require };\n//# sourceMappingURL=values.js.map\n","import { commonjsRequire } from '../../../_virtual/_commonjs-dynamic-modules.js';\nimport { __require as requireClone } from '../../lodash/clone.js';\nimport { __require as requireConstant } from '../../lodash/constant.js';\nimport { __require as requireEach } from '../../lodash/each.js';\nimport { __require as requireFilter } from '../../lodash/filter.js';\nimport { __require as requireHas } from '../../lodash/has.js';\nimport { __require as requireIsArray } from '../../lodash/isArray.js';\nimport { __require as requireIsEmpty } from '../../lodash/isEmpty.js';\nimport { __require as requireIsFunction } from '../../lodash/isFunction.js';\nimport { __require as requireIsUndefined } from '../../lodash/isUndefined.js';\nimport { __require as requireKeys } from '../../lodash/keys.js';\nimport { __require as requireMap } from '../../lodash/map.js';\nimport { __require as requireReduce } from '../../lodash/reduce.js';\nimport { __require as requireSize } from '../../lodash/size.js';\nimport { __require as requireTransform } from '../../lodash/transform.js';\nimport { __require as requireUnion } from '../../lodash/union.js';\nimport { __require as requireValues } from '../../lodash/values.js';\n\n/* global window */\n\nvar lodash_1$1;\nvar hasRequiredLodash$1;\n\nfunction requireLodash$1 () {\n\tif (hasRequiredLodash$1) return lodash_1$1;\n\thasRequiredLodash$1 = 1;\n\tvar lodash;\n\n\tif (typeof commonjsRequire === \"function\") {\n\t  try {\n\t    lodash = {\n\t      clone: requireClone(),\n\t      constant: requireConstant(),\n\t      each: requireEach(),\n\t      filter: requireFilter(),\n\t      has:  requireHas(),\n\t      isArray: requireIsArray(),\n\t      isEmpty: requireIsEmpty(),\n\t      isFunction: requireIsFunction(),\n\t      isUndefined: requireIsUndefined(),\n\t      keys: requireKeys(),\n\t      map: requireMap(),\n\t      reduce: requireReduce(),\n\t      size: requireSize(),\n\t      transform: requireTransform(),\n\t      union: requireUnion(),\n\t      values: requireValues()\n\t    };\n\t  } catch (e) {\n\t    // continue regardless of error\n\t  }\n\t}\n\n\tif (!lodash) {\n\t  lodash = window._;\n\t}\n\n\tlodash_1$1 = lodash;\n\treturn lodash_1$1;\n}\n\nexport { requireLodash$1 as __require };\n//# sourceMappingURL=lodash.js.map\n","import { __require as requireLodash } from './lodash.js';\n\nvar graph;\nvar hasRequiredGraph;\n\nfunction requireGraph () {\n\tif (hasRequiredGraph) return graph;\n\thasRequiredGraph = 1;\n\n\tvar _ = requireLodash();\n\n\tgraph = Graph;\n\n\tvar DEFAULT_EDGE_NAME = \"\\x00\";\n\tvar GRAPH_NODE = \"\\x00\";\n\tvar EDGE_KEY_DELIM = \"\\x01\";\n\n\t// Implementation notes:\n\t//\n\t//  * Node id query functions should return string ids for the nodes\n\t//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n\t//    composed of enough information to uniquely identify an edge: {v, w, name}.\n\t//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n\t//    reference edges. This is because we need a performant way to look these\n\t//    edges up and, object properties, which have string keys, are the closest\n\t//    we're going to get to a performant hashtable in JavaScript.\n\n\tfunction Graph(opts) {\n\t  this._isDirected = _.has(opts, \"directed\") ? opts.directed : true;\n\t  this._isMultigraph = _.has(opts, \"multigraph\") ? opts.multigraph : false;\n\t  this._isCompound = _.has(opts, \"compound\") ? opts.compound : false;\n\n\t  // Label for the graph itself\n\t  this._label = undefined;\n\n\t  // Defaults to be set when creating a new node\n\t  this._defaultNodeLabelFn = _.constant(undefined);\n\n\t  // Defaults to be set when creating a new edge\n\t  this._defaultEdgeLabelFn = _.constant(undefined);\n\n\t  // v -> label\n\t  this._nodes = {};\n\n\t  if (this._isCompound) {\n\t    // v -> parent\n\t    this._parent = {};\n\n\t    // v -> children\n\t    this._children = {};\n\t    this._children[GRAPH_NODE] = {};\n\t  }\n\n\t  // v -> edgeObj\n\t  this._in = {};\n\n\t  // u -> v -> Number\n\t  this._preds = {};\n\n\t  // v -> edgeObj\n\t  this._out = {};\n\n\t  // v -> w -> Number\n\t  this._sucs = {};\n\n\t  // e -> edgeObj\n\t  this._edgeObjs = {};\n\n\t  // e -> label\n\t  this._edgeLabels = {};\n\t}\n\n\t/* Number of nodes in the graph. Should only be changed by the implementation. */\n\tGraph.prototype._nodeCount = 0;\n\n\t/* Number of edges in the graph. Should only be changed by the implementation. */\n\tGraph.prototype._edgeCount = 0;\n\n\n\t/* === Graph functions ========= */\n\n\tGraph.prototype.isDirected = function() {\n\t  return this._isDirected;\n\t};\n\n\tGraph.prototype.isMultigraph = function() {\n\t  return this._isMultigraph;\n\t};\n\n\tGraph.prototype.isCompound = function() {\n\t  return this._isCompound;\n\t};\n\n\tGraph.prototype.setGraph = function(label) {\n\t  this._label = label;\n\t  return this;\n\t};\n\n\tGraph.prototype.graph = function() {\n\t  return this._label;\n\t};\n\n\n\t/* === Node functions ========== */\n\n\tGraph.prototype.setDefaultNodeLabel = function(newDefault) {\n\t  if (!_.isFunction(newDefault)) {\n\t    newDefault = _.constant(newDefault);\n\t  }\n\t  this._defaultNodeLabelFn = newDefault;\n\t  return this;\n\t};\n\n\tGraph.prototype.nodeCount = function() {\n\t  return this._nodeCount;\n\t};\n\n\tGraph.prototype.nodes = function() {\n\t  return _.keys(this._nodes);\n\t};\n\n\tGraph.prototype.sources = function() {\n\t  var self = this;\n\t  return _.filter(this.nodes(), function(v) {\n\t    return _.isEmpty(self._in[v]);\n\t  });\n\t};\n\n\tGraph.prototype.sinks = function() {\n\t  var self = this;\n\t  return _.filter(this.nodes(), function(v) {\n\t    return _.isEmpty(self._out[v]);\n\t  });\n\t};\n\n\tGraph.prototype.setNodes = function(vs, value) {\n\t  var args = arguments;\n\t  var self = this;\n\t  _.each(vs, function(v) {\n\t    if (args.length > 1) {\n\t      self.setNode(v, value);\n\t    } else {\n\t      self.setNode(v);\n\t    }\n\t  });\n\t  return this;\n\t};\n\n\tGraph.prototype.setNode = function(v, value) {\n\t  if (_.has(this._nodes, v)) {\n\t    if (arguments.length > 1) {\n\t      this._nodes[v] = value;\n\t    }\n\t    return this;\n\t  }\n\n\t  this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);\n\t  if (this._isCompound) {\n\t    this._parent[v] = GRAPH_NODE;\n\t    this._children[v] = {};\n\t    this._children[GRAPH_NODE][v] = true;\n\t  }\n\t  this._in[v] = {};\n\t  this._preds[v] = {};\n\t  this._out[v] = {};\n\t  this._sucs[v] = {};\n\t  ++this._nodeCount;\n\t  return this;\n\t};\n\n\tGraph.prototype.node = function(v) {\n\t  return this._nodes[v];\n\t};\n\n\tGraph.prototype.hasNode = function(v) {\n\t  return _.has(this._nodes, v);\n\t};\n\n\tGraph.prototype.removeNode =  function(v) {\n\t  var self = this;\n\t  if (_.has(this._nodes, v)) {\n\t    var removeEdge = function(e) { self.removeEdge(self._edgeObjs[e]); };\n\t    delete this._nodes[v];\n\t    if (this._isCompound) {\n\t      this._removeFromParentsChildList(v);\n\t      delete this._parent[v];\n\t      _.each(this.children(v), function(child) {\n\t        self.setParent(child);\n\t      });\n\t      delete this._children[v];\n\t    }\n\t    _.each(_.keys(this._in[v]), removeEdge);\n\t    delete this._in[v];\n\t    delete this._preds[v];\n\t    _.each(_.keys(this._out[v]), removeEdge);\n\t    delete this._out[v];\n\t    delete this._sucs[v];\n\t    --this._nodeCount;\n\t  }\n\t  return this;\n\t};\n\n\tGraph.prototype.setParent = function(v, parent) {\n\t  if (!this._isCompound) {\n\t    throw new Error(\"Cannot set parent in a non-compound graph\");\n\t  }\n\n\t  if (_.isUndefined(parent)) {\n\t    parent = GRAPH_NODE;\n\t  } else {\n\t    // Coerce parent to string\n\t    parent += \"\";\n\t    for (var ancestor = parent;\n\t      !_.isUndefined(ancestor);\n\t      ancestor = this.parent(ancestor)) {\n\t      if (ancestor === v) {\n\t        throw new Error(\"Setting \" + parent+ \" as parent of \" + v +\n\t                        \" would create a cycle\");\n\t      }\n\t    }\n\n\t    this.setNode(parent);\n\t  }\n\n\t  this.setNode(v);\n\t  this._removeFromParentsChildList(v);\n\t  this._parent[v] = parent;\n\t  this._children[parent][v] = true;\n\t  return this;\n\t};\n\n\tGraph.prototype._removeFromParentsChildList = function(v) {\n\t  delete this._children[this._parent[v]][v];\n\t};\n\n\tGraph.prototype.parent = function(v) {\n\t  if (this._isCompound) {\n\t    var parent = this._parent[v];\n\t    if (parent !== GRAPH_NODE) {\n\t      return parent;\n\t    }\n\t  }\n\t};\n\n\tGraph.prototype.children = function(v) {\n\t  if (_.isUndefined(v)) {\n\t    v = GRAPH_NODE;\n\t  }\n\n\t  if (this._isCompound) {\n\t    var children = this._children[v];\n\t    if (children) {\n\t      return _.keys(children);\n\t    }\n\t  } else if (v === GRAPH_NODE) {\n\t    return this.nodes();\n\t  } else if (this.hasNode(v)) {\n\t    return [];\n\t  }\n\t};\n\n\tGraph.prototype.predecessors = function(v) {\n\t  var predsV = this._preds[v];\n\t  if (predsV) {\n\t    return _.keys(predsV);\n\t  }\n\t};\n\n\tGraph.prototype.successors = function(v) {\n\t  var sucsV = this._sucs[v];\n\t  if (sucsV) {\n\t    return _.keys(sucsV);\n\t  }\n\t};\n\n\tGraph.prototype.neighbors = function(v) {\n\t  var preds = this.predecessors(v);\n\t  if (preds) {\n\t    return _.union(preds, this.successors(v));\n\t  }\n\t};\n\n\tGraph.prototype.isLeaf = function (v) {\n\t  var neighbors;\n\t  if (this.isDirected()) {\n\t    neighbors = this.successors(v);\n\t  } else {\n\t    neighbors = this.neighbors(v);\n\t  }\n\t  return neighbors.length === 0;\n\t};\n\n\tGraph.prototype.filterNodes = function(filter) {\n\t  var copy = new this.constructor({\n\t    directed: this._isDirected,\n\t    multigraph: this._isMultigraph,\n\t    compound: this._isCompound\n\t  });\n\n\t  copy.setGraph(this.graph());\n\n\t  var self = this;\n\t  _.each(this._nodes, function(value, v) {\n\t    if (filter(v)) {\n\t      copy.setNode(v, value);\n\t    }\n\t  });\n\n\t  _.each(this._edgeObjs, function(e) {\n\t    if (copy.hasNode(e.v) && copy.hasNode(e.w)) {\n\t      copy.setEdge(e, self.edge(e));\n\t    }\n\t  });\n\n\t  var parents = {};\n\t  function findParent(v) {\n\t    var parent = self.parent(v);\n\t    if (parent === undefined || copy.hasNode(parent)) {\n\t      parents[v] = parent;\n\t      return parent;\n\t    } else if (parent in parents) {\n\t      return parents[parent];\n\t    } else {\n\t      return findParent(parent);\n\t    }\n\t  }\n\n\t  if (this._isCompound) {\n\t    _.each(copy.nodes(), function(v) {\n\t      copy.setParent(v, findParent(v));\n\t    });\n\t  }\n\n\t  return copy;\n\t};\n\n\t/* === Edge functions ========== */\n\n\tGraph.prototype.setDefaultEdgeLabel = function(newDefault) {\n\t  if (!_.isFunction(newDefault)) {\n\t    newDefault = _.constant(newDefault);\n\t  }\n\t  this._defaultEdgeLabelFn = newDefault;\n\t  return this;\n\t};\n\n\tGraph.prototype.edgeCount = function() {\n\t  return this._edgeCount;\n\t};\n\n\tGraph.prototype.edges = function() {\n\t  return _.values(this._edgeObjs);\n\t};\n\n\tGraph.prototype.setPath = function(vs, value) {\n\t  var self = this;\n\t  var args = arguments;\n\t  _.reduce(vs, function(v, w) {\n\t    if (args.length > 1) {\n\t      self.setEdge(v, w, value);\n\t    } else {\n\t      self.setEdge(v, w);\n\t    }\n\t    return w;\n\t  });\n\t  return this;\n\t};\n\n\t/*\n\t * setEdge(v, w, [value, [name]])\n\t * setEdge({ v, w, [name] }, [value])\n\t */\n\tGraph.prototype.setEdge = function() {\n\t  var v, w, name, value;\n\t  var valueSpecified = false;\n\t  var arg0 = arguments[0];\n\n\t  if (typeof arg0 === \"object\" && arg0 !== null && \"v\" in arg0) {\n\t    v = arg0.v;\n\t    w = arg0.w;\n\t    name = arg0.name;\n\t    if (arguments.length === 2) {\n\t      value = arguments[1];\n\t      valueSpecified = true;\n\t    }\n\t  } else {\n\t    v = arg0;\n\t    w = arguments[1];\n\t    name = arguments[3];\n\t    if (arguments.length > 2) {\n\t      value = arguments[2];\n\t      valueSpecified = true;\n\t    }\n\t  }\n\n\t  v = \"\" + v;\n\t  w = \"\" + w;\n\t  if (!_.isUndefined(name)) {\n\t    name = \"\" + name;\n\t  }\n\n\t  var e = edgeArgsToId(this._isDirected, v, w, name);\n\t  if (_.has(this._edgeLabels, e)) {\n\t    if (valueSpecified) {\n\t      this._edgeLabels[e] = value;\n\t    }\n\t    return this;\n\t  }\n\n\t  if (!_.isUndefined(name) && !this._isMultigraph) {\n\t    throw new Error(\"Cannot set a named edge when isMultigraph = false\");\n\t  }\n\n\t  // It didn't exist, so we need to create it.\n\t  // First ensure the nodes exist.\n\t  this.setNode(v);\n\t  this.setNode(w);\n\n\t  this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);\n\n\t  var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);\n\t  // Ensure we add undirected edges in a consistent way.\n\t  v = edgeObj.v;\n\t  w = edgeObj.w;\n\n\t  Object.freeze(edgeObj);\n\t  this._edgeObjs[e] = edgeObj;\n\t  incrementOrInitEntry(this._preds[w], v);\n\t  incrementOrInitEntry(this._sucs[v], w);\n\t  this._in[w][e] = edgeObj;\n\t  this._out[v][e] = edgeObj;\n\t  this._edgeCount++;\n\t  return this;\n\t};\n\n\tGraph.prototype.edge = function(v, w, name) {\n\t  var e = (arguments.length === 1\n\t    ? edgeObjToId(this._isDirected, arguments[0])\n\t    : edgeArgsToId(this._isDirected, v, w, name));\n\t  return this._edgeLabels[e];\n\t};\n\n\tGraph.prototype.hasEdge = function(v, w, name) {\n\t  var e = (arguments.length === 1\n\t    ? edgeObjToId(this._isDirected, arguments[0])\n\t    : edgeArgsToId(this._isDirected, v, w, name));\n\t  return _.has(this._edgeLabels, e);\n\t};\n\n\tGraph.prototype.removeEdge = function(v, w, name) {\n\t  var e = (arguments.length === 1\n\t    ? edgeObjToId(this._isDirected, arguments[0])\n\t    : edgeArgsToId(this._isDirected, v, w, name));\n\t  var edge = this._edgeObjs[e];\n\t  if (edge) {\n\t    v = edge.v;\n\t    w = edge.w;\n\t    delete this._edgeLabels[e];\n\t    delete this._edgeObjs[e];\n\t    decrementOrRemoveEntry(this._preds[w], v);\n\t    decrementOrRemoveEntry(this._sucs[v], w);\n\t    delete this._in[w][e];\n\t    delete this._out[v][e];\n\t    this._edgeCount--;\n\t  }\n\t  return this;\n\t};\n\n\tGraph.prototype.inEdges = function(v, u) {\n\t  var inV = this._in[v];\n\t  if (inV) {\n\t    var edges = _.values(inV);\n\t    if (!u) {\n\t      return edges;\n\t    }\n\t    return _.filter(edges, function(edge) { return edge.v === u; });\n\t  }\n\t};\n\n\tGraph.prototype.outEdges = function(v, w) {\n\t  var outV = this._out[v];\n\t  if (outV) {\n\t    var edges = _.values(outV);\n\t    if (!w) {\n\t      return edges;\n\t    }\n\t    return _.filter(edges, function(edge) { return edge.w === w; });\n\t  }\n\t};\n\n\tGraph.prototype.nodeEdges = function(v, w) {\n\t  var inEdges = this.inEdges(v, w);\n\t  if (inEdges) {\n\t    return inEdges.concat(this.outEdges(v, w));\n\t  }\n\t};\n\n\tfunction incrementOrInitEntry(map, k) {\n\t  if (map[k]) {\n\t    map[k]++;\n\t  } else {\n\t    map[k] = 1;\n\t  }\n\t}\n\n\tfunction decrementOrRemoveEntry(map, k) {\n\t  if (!--map[k]) { delete map[k]; }\n\t}\n\n\tfunction edgeArgsToId(isDirected, v_, w_, name) {\n\t  var v = \"\" + v_;\n\t  var w = \"\" + w_;\n\t  if (!isDirected && v > w) {\n\t    var tmp = v;\n\t    v = w;\n\t    w = tmp;\n\t  }\n\t  return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM +\n\t             (_.isUndefined(name) ? DEFAULT_EDGE_NAME : name);\n\t}\n\n\tfunction edgeArgsToObj(isDirected, v_, w_, name) {\n\t  var v = \"\" + v_;\n\t  var w = \"\" + w_;\n\t  if (!isDirected && v > w) {\n\t    var tmp = v;\n\t    v = w;\n\t    w = tmp;\n\t  }\n\t  var edgeObj =  { v: v, w: w };\n\t  if (name) {\n\t    edgeObj.name = name;\n\t  }\n\t  return edgeObj;\n\t}\n\n\tfunction edgeObjToId(isDirected, edgeObj) {\n\t  return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);\n\t}\n\treturn graph;\n}\n\nexport { requireGraph as __require };\n//# sourceMappingURL=graph.js.map\n","var version$1;\nvar hasRequiredVersion$1;\n\nfunction requireVersion$1 () {\n\tif (hasRequiredVersion$1) return version$1;\n\thasRequiredVersion$1 = 1;\n\tversion$1 = '2.1.8';\n\treturn version$1;\n}\n\nexport { requireVersion$1 as __require };\n//# sourceMappingURL=version.js.map\n","import { __require as requireGraph } from './graph.js';\nimport { __require as requireVersion } from './version.js';\n\nvar lib;\nvar hasRequiredLib;\n\nfunction requireLib () {\n\tif (hasRequiredLib) return lib;\n\thasRequiredLib = 1;\n\t// Includes only the \"core\" of graphlib\n\tlib = {\n\t  Graph: requireGraph(),\n\t  version: requireVersion()\n\t};\n\treturn lib;\n}\n\nexport { requireLib as __require };\n//# sourceMappingURL=index.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireGraph } from './graph.js';\n\nvar json;\nvar hasRequiredJson;\n\nfunction requireJson () {\n\tif (hasRequiredJson) return json;\n\thasRequiredJson = 1;\n\tvar _ = requireLodash();\n\tvar Graph = requireGraph();\n\n\tjson = {\n\t  write: write,\n\t  read: read\n\t};\n\n\tfunction write(g) {\n\t  var json = {\n\t    options: {\n\t      directed: g.isDirected(),\n\t      multigraph: g.isMultigraph(),\n\t      compound: g.isCompound()\n\t    },\n\t    nodes: writeNodes(g),\n\t    edges: writeEdges(g)\n\t  };\n\t  if (!_.isUndefined(g.graph())) {\n\t    json.value = _.clone(g.graph());\n\t  }\n\t  return json;\n\t}\n\n\tfunction writeNodes(g) {\n\t  return _.map(g.nodes(), function(v) {\n\t    var nodeValue = g.node(v);\n\t    var parent = g.parent(v);\n\t    var node = { v: v };\n\t    if (!_.isUndefined(nodeValue)) {\n\t      node.value = nodeValue;\n\t    }\n\t    if (!_.isUndefined(parent)) {\n\t      node.parent = parent;\n\t    }\n\t    return node;\n\t  });\n\t}\n\n\tfunction writeEdges(g) {\n\t  return _.map(g.edges(), function(e) {\n\t    var edgeValue = g.edge(e);\n\t    var edge = { v: e.v, w: e.w };\n\t    if (!_.isUndefined(e.name)) {\n\t      edge.name = e.name;\n\t    }\n\t    if (!_.isUndefined(edgeValue)) {\n\t      edge.value = edgeValue;\n\t    }\n\t    return edge;\n\t  });\n\t}\n\n\tfunction read(json) {\n\t  var g = new Graph(json.options).setGraph(json.value);\n\t  _.each(json.nodes, function(entry) {\n\t    g.setNode(entry.v, entry.value);\n\t    if (entry.parent) {\n\t      g.setParent(entry.v, entry.parent);\n\t    }\n\t  });\n\t  _.each(json.edges, function(entry) {\n\t    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n\t  });\n\t  return g;\n\t}\n\treturn json;\n}\n\nexport { requireJson as __require };\n//# sourceMappingURL=json.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar components_1;\nvar hasRequiredComponents;\n\nfunction requireComponents () {\n\tif (hasRequiredComponents) return components_1;\n\thasRequiredComponents = 1;\n\tvar _ = requireLodash();\n\n\tcomponents_1 = components;\n\n\tfunction components(g) {\n\t  var visited = {};\n\t  var cmpts = [];\n\t  var cmpt;\n\n\t  function dfs(v) {\n\t    if (_.has(visited, v)) return;\n\t    visited[v] = true;\n\t    cmpt.push(v);\n\t    _.each(g.successors(v), dfs);\n\t    _.each(g.predecessors(v), dfs);\n\t  }\n\n\t  _.each(g.nodes(), function(v) {\n\t    cmpt = [];\n\t    dfs(v);\n\t    if (cmpt.length) {\n\t      cmpts.push(cmpt);\n\t    }\n\t  });\n\n\t  return cmpts;\n\t}\n\treturn components_1;\n}\n\nexport { requireComponents as __require };\n//# sourceMappingURL=components.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar priorityQueue;\nvar hasRequiredPriorityQueue;\n\nfunction requirePriorityQueue () {\n\tif (hasRequiredPriorityQueue) return priorityQueue;\n\thasRequiredPriorityQueue = 1;\n\tvar _ = requireLodash();\n\n\tpriorityQueue = PriorityQueue;\n\n\t/**\n\t * A min-priority queue data structure. This algorithm is derived from Cormen,\n\t * et al., \"Introduction to Algorithms\". The basic idea of a min-priority\n\t * queue is that you can efficiently (in O(1) time) get the smallest key in\n\t * the queue. Adding and removing elements takes O(log n) time. A key can\n\t * have its priority decreased in O(log n) time.\n\t */\n\tfunction PriorityQueue() {\n\t  this._arr = [];\n\t  this._keyIndices = {};\n\t}\n\n\t/**\n\t * Returns the number of elements in the queue. Takes `O(1)` time.\n\t */\n\tPriorityQueue.prototype.size = function() {\n\t  return this._arr.length;\n\t};\n\n\t/**\n\t * Returns the keys that are in the queue. Takes `O(n)` time.\n\t */\n\tPriorityQueue.prototype.keys = function() {\n\t  return this._arr.map(function(x) { return x.key; });\n\t};\n\n\t/**\n\t * Returns `true` if **key** is in the queue and `false` if not.\n\t */\n\tPriorityQueue.prototype.has = function(key) {\n\t  return _.has(this._keyIndices, key);\n\t};\n\n\t/**\n\t * Returns the priority for **key**. If **key** is not present in the queue\n\t * then this function returns `undefined`. Takes `O(1)` time.\n\t *\n\t * @param {Object} key\n\t */\n\tPriorityQueue.prototype.priority = function(key) {\n\t  var index = this._keyIndices[key];\n\t  if (index !== undefined) {\n\t    return this._arr[index].priority;\n\t  }\n\t};\n\n\t/**\n\t * Returns the key for the minimum element in this queue. If the queue is\n\t * empty this function throws an Error. Takes `O(1)` time.\n\t */\n\tPriorityQueue.prototype.min = function() {\n\t  if (this.size() === 0) {\n\t    throw new Error(\"Queue underflow\");\n\t  }\n\t  return this._arr[0].key;\n\t};\n\n\t/**\n\t * Inserts a new key into the priority queue. If the key already exists in\n\t * the queue this function returns `false`; otherwise it will return `true`.\n\t * Takes `O(n)` time.\n\t *\n\t * @param {Object} key the key to add\n\t * @param {Number} priority the initial priority for the key\n\t */\n\tPriorityQueue.prototype.add = function(key, priority) {\n\t  var keyIndices = this._keyIndices;\n\t  key = String(key);\n\t  if (!_.has(keyIndices, key)) {\n\t    var arr = this._arr;\n\t    var index = arr.length;\n\t    keyIndices[key] = index;\n\t    arr.push({key: key, priority: priority});\n\t    this._decrease(index);\n\t    return true;\n\t  }\n\t  return false;\n\t};\n\n\t/**\n\t * Removes and returns the smallest key in the queue. Takes `O(log n)` time.\n\t */\n\tPriorityQueue.prototype.removeMin = function() {\n\t  this._swap(0, this._arr.length - 1);\n\t  var min = this._arr.pop();\n\t  delete this._keyIndices[min.key];\n\t  this._heapify(0);\n\t  return min.key;\n\t};\n\n\t/**\n\t * Decreases the priority for **key** to **priority**. If the new priority is\n\t * greater than the previous priority, this function will throw an Error.\n\t *\n\t * @param {Object} key the key for which to raise priority\n\t * @param {Number} priority the new priority for the key\n\t */\n\tPriorityQueue.prototype.decrease = function(key, priority) {\n\t  var index = this._keyIndices[key];\n\t  if (priority > this._arr[index].priority) {\n\t    throw new Error(\"New priority is greater than current priority. \" +\n\t        \"Key: \" + key + \" Old: \" + this._arr[index].priority + \" New: \" + priority);\n\t  }\n\t  this._arr[index].priority = priority;\n\t  this._decrease(index);\n\t};\n\n\tPriorityQueue.prototype._heapify = function(i) {\n\t  var arr = this._arr;\n\t  var l = 2 * i;\n\t  var r = l + 1;\n\t  var largest = i;\n\t  if (l < arr.length) {\n\t    largest = arr[l].priority < arr[largest].priority ? l : largest;\n\t    if (r < arr.length) {\n\t      largest = arr[r].priority < arr[largest].priority ? r : largest;\n\t    }\n\t    if (largest !== i) {\n\t      this._swap(i, largest);\n\t      this._heapify(largest);\n\t    }\n\t  }\n\t};\n\n\tPriorityQueue.prototype._decrease = function(index) {\n\t  var arr = this._arr;\n\t  var priority = arr[index].priority;\n\t  var parent;\n\t  while (index !== 0) {\n\t    parent = index >> 1;\n\t    if (arr[parent].priority < priority) {\n\t      break;\n\t    }\n\t    this._swap(index, parent);\n\t    index = parent;\n\t  }\n\t};\n\n\tPriorityQueue.prototype._swap = function(i, j) {\n\t  var arr = this._arr;\n\t  var keyIndices = this._keyIndices;\n\t  var origArrI = arr[i];\n\t  var origArrJ = arr[j];\n\t  arr[i] = origArrJ;\n\t  arr[j] = origArrI;\n\t  keyIndices[origArrJ.key] = i;\n\t  keyIndices[origArrI.key] = j;\n\t};\n\treturn priorityQueue;\n}\n\nexport { requirePriorityQueue as __require };\n//# sourceMappingURL=priority-queue.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requirePriorityQueue } from '../data/priority-queue.js';\n\nvar dijkstra_1;\nvar hasRequiredDijkstra;\n\nfunction requireDijkstra () {\n\tif (hasRequiredDijkstra) return dijkstra_1;\n\thasRequiredDijkstra = 1;\n\tvar _ = requireLodash();\n\tvar PriorityQueue = requirePriorityQueue();\n\n\tdijkstra_1 = dijkstra;\n\n\tvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\n\tfunction dijkstra(g, source, weightFn, edgeFn) {\n\t  return runDijkstra(g, String(source),\n\t    weightFn || DEFAULT_WEIGHT_FUNC,\n\t    edgeFn || function(v) { return g.outEdges(v); });\n\t}\n\n\tfunction runDijkstra(g, source, weightFn, edgeFn) {\n\t  var results = {};\n\t  var pq = new PriorityQueue();\n\t  var v, vEntry;\n\n\t  var updateNeighbors = function(edge) {\n\t    var w = edge.v !== v ? edge.v : edge.w;\n\t    var wEntry = results[w];\n\t    var weight = weightFn(edge);\n\t    var distance = vEntry.distance + weight;\n\n\t    if (weight < 0) {\n\t      throw new Error(\"dijkstra does not allow negative edge weights. \" +\n\t                      \"Bad edge: \" + edge + \" Weight: \" + weight);\n\t    }\n\n\t    if (distance < wEntry.distance) {\n\t      wEntry.distance = distance;\n\t      wEntry.predecessor = v;\n\t      pq.decrease(w, distance);\n\t    }\n\t  };\n\n\t  g.nodes().forEach(function(v) {\n\t    var distance = v === source ? 0 : Number.POSITIVE_INFINITY;\n\t    results[v] = { distance: distance };\n\t    pq.add(v, distance);\n\t  });\n\n\t  while (pq.size() > 0) {\n\t    v = pq.removeMin();\n\t    vEntry = results[v];\n\t    if (vEntry.distance === Number.POSITIVE_INFINITY) {\n\t      break;\n\t    }\n\n\t    edgeFn(v).forEach(updateNeighbors);\n\t  }\n\n\t  return results;\n\t}\n\treturn dijkstra_1;\n}\n\nexport { requireDijkstra as __require };\n//# sourceMappingURL=dijkstra.js.map\n","import { __require as requireDijkstra } from './dijkstra.js';\nimport { __require as requireLodash } from '../lodash.js';\n\nvar dijkstraAll_1;\nvar hasRequiredDijkstraAll;\n\nfunction requireDijkstraAll () {\n\tif (hasRequiredDijkstraAll) return dijkstraAll_1;\n\thasRequiredDijkstraAll = 1;\n\tvar dijkstra = requireDijkstra();\n\tvar _ = requireLodash();\n\n\tdijkstraAll_1 = dijkstraAll;\n\n\tfunction dijkstraAll(g, weightFunc, edgeFunc) {\n\t  return _.transform(g.nodes(), function(acc, v) {\n\t    acc[v] = dijkstra(g, v, weightFunc, edgeFunc);\n\t  }, {});\n\t}\n\treturn dijkstraAll_1;\n}\n\nexport { requireDijkstraAll as __require };\n//# sourceMappingURL=dijkstra-all.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar tarjan_1;\nvar hasRequiredTarjan;\n\nfunction requireTarjan () {\n\tif (hasRequiredTarjan) return tarjan_1;\n\thasRequiredTarjan = 1;\n\tvar _ = requireLodash();\n\n\ttarjan_1 = tarjan;\n\n\tfunction tarjan(g) {\n\t  var index = 0;\n\t  var stack = [];\n\t  var visited = {}; // node id -> { onStack, lowlink, index }\n\t  var results = [];\n\n\t  function dfs(v) {\n\t    var entry = visited[v] = {\n\t      onStack: true,\n\t      lowlink: index,\n\t      index: index++\n\t    };\n\t    stack.push(v);\n\n\t    g.successors(v).forEach(function(w) {\n\t      if (!_.has(visited, w)) {\n\t        dfs(w);\n\t        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n\t      } else if (visited[w].onStack) {\n\t        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n\t      }\n\t    });\n\n\t    if (entry.lowlink === entry.index) {\n\t      var cmpt = [];\n\t      var w;\n\t      do {\n\t        w = stack.pop();\n\t        visited[w].onStack = false;\n\t        cmpt.push(w);\n\t      } while (v !== w);\n\t      results.push(cmpt);\n\t    }\n\t  }\n\n\t  g.nodes().forEach(function(v) {\n\t    if (!_.has(visited, v)) {\n\t      dfs(v);\n\t    }\n\t  });\n\n\t  return results;\n\t}\n\treturn tarjan_1;\n}\n\nexport { requireTarjan as __require };\n//# sourceMappingURL=tarjan.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireTarjan } from './tarjan.js';\n\nvar findCycles_1;\nvar hasRequiredFindCycles;\n\nfunction requireFindCycles () {\n\tif (hasRequiredFindCycles) return findCycles_1;\n\thasRequiredFindCycles = 1;\n\tvar _ = requireLodash();\n\tvar tarjan = requireTarjan();\n\n\tfindCycles_1 = findCycles;\n\n\tfunction findCycles(g) {\n\t  return _.filter(tarjan(g), function(cmpt) {\n\t    return cmpt.length > 1 || (cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]));\n\t  });\n\t}\n\treturn findCycles_1;\n}\n\nexport { requireFindCycles as __require };\n//# sourceMappingURL=find-cycles.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar floydWarshall_1;\nvar hasRequiredFloydWarshall;\n\nfunction requireFloydWarshall () {\n\tif (hasRequiredFloydWarshall) return floydWarshall_1;\n\thasRequiredFloydWarshall = 1;\n\tvar _ = requireLodash();\n\n\tfloydWarshall_1 = floydWarshall;\n\n\tvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\n\tfunction floydWarshall(g, weightFn, edgeFn) {\n\t  return runFloydWarshall(g,\n\t    weightFn || DEFAULT_WEIGHT_FUNC,\n\t    edgeFn || function(v) { return g.outEdges(v); });\n\t}\n\n\tfunction runFloydWarshall(g, weightFn, edgeFn) {\n\t  var results = {};\n\t  var nodes = g.nodes();\n\n\t  nodes.forEach(function(v) {\n\t    results[v] = {};\n\t    results[v][v] = { distance: 0 };\n\t    nodes.forEach(function(w) {\n\t      if (v !== w) {\n\t        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n\t      }\n\t    });\n\t    edgeFn(v).forEach(function(edge) {\n\t      var w = edge.v === v ? edge.w : edge.v;\n\t      var d = weightFn(edge);\n\t      results[v][w] = { distance: d, predecessor: v };\n\t    });\n\t  });\n\n\t  nodes.forEach(function(k) {\n\t    var rowK = results[k];\n\t    nodes.forEach(function(i) {\n\t      var rowI = results[i];\n\t      nodes.forEach(function(j) {\n\t        var ik = rowI[k];\n\t        var kj = rowK[j];\n\t        var ij = rowI[j];\n\t        var altDistance = ik.distance + kj.distance;\n\t        if (altDistance < ij.distance) {\n\t          ij.distance = altDistance;\n\t          ij.predecessor = kj.predecessor;\n\t        }\n\t      });\n\t    });\n\t  });\n\n\t  return results;\n\t}\n\treturn floydWarshall_1;\n}\n\nexport { requireFloydWarshall as __require };\n//# sourceMappingURL=floyd-warshall.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar topsort_1;\nvar hasRequiredTopsort;\n\nfunction requireTopsort () {\n\tif (hasRequiredTopsort) return topsort_1;\n\thasRequiredTopsort = 1;\n\tvar _ = requireLodash();\n\n\ttopsort_1 = topsort;\n\ttopsort.CycleException = CycleException;\n\n\tfunction topsort(g) {\n\t  var visited = {};\n\t  var stack = {};\n\t  var results = [];\n\n\t  function visit(node) {\n\t    if (_.has(stack, node)) {\n\t      throw new CycleException();\n\t    }\n\n\t    if (!_.has(visited, node)) {\n\t      stack[node] = true;\n\t      visited[node] = true;\n\t      _.each(g.predecessors(node), visit);\n\t      delete stack[node];\n\t      results.push(node);\n\t    }\n\t  }\n\n\t  _.each(g.sinks(), visit);\n\n\t  if (_.size(visited) !== g.nodeCount()) {\n\t    throw new CycleException();\n\t  }\n\n\t  return results;\n\t}\n\n\tfunction CycleException() {}\n\tCycleException.prototype = new Error(); // must be an instance of Error to pass testing\n\treturn topsort_1;\n}\n\nexport { requireTopsort as __require };\n//# sourceMappingURL=topsort.js.map\n","import { __require as requireTopsort } from './topsort.js';\n\nvar isAcyclic_1;\nvar hasRequiredIsAcyclic;\n\nfunction requireIsAcyclic () {\n\tif (hasRequiredIsAcyclic) return isAcyclic_1;\n\thasRequiredIsAcyclic = 1;\n\tvar topsort = requireTopsort();\n\n\tisAcyclic_1 = isAcyclic;\n\n\tfunction isAcyclic(g) {\n\t  try {\n\t    topsort(g);\n\t  } catch (e) {\n\t    if (e instanceof topsort.CycleException) {\n\t      return false;\n\t    }\n\t    throw e;\n\t  }\n\t  return true;\n\t}\n\treturn isAcyclic_1;\n}\n\nexport { requireIsAcyclic as __require };\n//# sourceMappingURL=is-acyclic.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar dfs_1;\nvar hasRequiredDfs;\n\nfunction requireDfs () {\n\tif (hasRequiredDfs) return dfs_1;\n\thasRequiredDfs = 1;\n\tvar _ = requireLodash();\n\n\tdfs_1 = dfs;\n\n\t/*\n\t * A helper that preforms a pre- or post-order traversal on the input graph\n\t * and returns the nodes in the order they were visited. If the graph is\n\t * undirected then this algorithm will navigate using neighbors. If the graph\n\t * is directed then this algorithm will navigate using successors.\n\t *\n\t * Order must be one of \"pre\" or \"post\".\n\t */\n\tfunction dfs(g, vs, order) {\n\t  if (!_.isArray(vs)) {\n\t    vs = [vs];\n\t  }\n\n\t  var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);\n\n\t  var acc = [];\n\t  var visited = {};\n\t  _.each(vs, function(v) {\n\t    if (!g.hasNode(v)) {\n\t      throw new Error(\"Graph does not have node: \" + v);\n\t    }\n\n\t    doDfs(g, v, order === \"post\", visited, navigation, acc);\n\t  });\n\t  return acc;\n\t}\n\n\tfunction doDfs(g, v, postorder, visited, navigation, acc) {\n\t  if (!_.has(visited, v)) {\n\t    visited[v] = true;\n\n\t    if (!postorder) { acc.push(v); }\n\t    _.each(navigation(v), function(w) {\n\t      doDfs(g, w, postorder, visited, navigation, acc);\n\t    });\n\t    if (postorder) { acc.push(v); }\n\t  }\n\t}\n\treturn dfs_1;\n}\n\nexport { requireDfs as __require };\n//# sourceMappingURL=dfs.js.map\n","import { __require as requireDfs } from './dfs.js';\n\nvar postorder_1;\nvar hasRequiredPostorder;\n\nfunction requirePostorder () {\n\tif (hasRequiredPostorder) return postorder_1;\n\thasRequiredPostorder = 1;\n\tvar dfs = requireDfs();\n\n\tpostorder_1 = postorder;\n\n\tfunction postorder(g, vs) {\n\t  return dfs(g, vs, \"post\");\n\t}\n\treturn postorder_1;\n}\n\nexport { requirePostorder as __require };\n//# sourceMappingURL=postorder.js.map\n","import { __require as requireDfs } from './dfs.js';\n\nvar preorder_1;\nvar hasRequiredPreorder;\n\nfunction requirePreorder () {\n\tif (hasRequiredPreorder) return preorder_1;\n\thasRequiredPreorder = 1;\n\tvar dfs = requireDfs();\n\n\tpreorder_1 = preorder;\n\n\tfunction preorder(g, vs) {\n\t  return dfs(g, vs, \"pre\");\n\t}\n\treturn preorder_1;\n}\n\nexport { requirePreorder as __require };\n//# sourceMappingURL=preorder.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireGraph } from '../graph.js';\nimport { __require as requirePriorityQueue } from '../data/priority-queue.js';\n\nvar prim_1;\nvar hasRequiredPrim;\n\nfunction requirePrim () {\n\tif (hasRequiredPrim) return prim_1;\n\thasRequiredPrim = 1;\n\tvar _ = requireLodash();\n\tvar Graph = requireGraph();\n\tvar PriorityQueue = requirePriorityQueue();\n\n\tprim_1 = prim;\n\n\tfunction prim(g, weightFunc) {\n\t  var result = new Graph();\n\t  var parents = {};\n\t  var pq = new PriorityQueue();\n\t  var v;\n\n\t  function updateNeighbors(edge) {\n\t    var w = edge.v === v ? edge.w : edge.v;\n\t    var pri = pq.priority(w);\n\t    if (pri !== undefined) {\n\t      var edgeWeight = weightFunc(edge);\n\t      if (edgeWeight < pri) {\n\t        parents[w] = v;\n\t        pq.decrease(w, edgeWeight);\n\t      }\n\t    }\n\t  }\n\n\t  if (g.nodeCount() === 0) {\n\t    return result;\n\t  }\n\n\t  _.each(g.nodes(), function(v) {\n\t    pq.add(v, Number.POSITIVE_INFINITY);\n\t    result.setNode(v);\n\t  });\n\n\t  // Start from an arbitrary node\n\t  pq.decrease(g.nodes()[0], 0);\n\n\t  var init = false;\n\t  while (pq.size() > 0) {\n\t    v = pq.removeMin();\n\t    if (_.has(parents, v)) {\n\t      result.setEdge(v, parents[v]);\n\t    } else if (init) {\n\t      throw new Error(\"Input graph is not connected: \" + g);\n\t    } else {\n\t      init = true;\n\t    }\n\n\t    g.nodeEdges(v).forEach(updateNeighbors);\n\t  }\n\n\t  return result;\n\t}\n\treturn prim_1;\n}\n\nexport { requirePrim as __require };\n//# sourceMappingURL=prim.js.map\n","import { __require as requireComponents } from './components.js';\nimport { __require as requireDijkstra } from './dijkstra.js';\nimport { __require as requireDijkstraAll } from './dijkstra-all.js';\nimport { __require as requireFindCycles } from './find-cycles.js';\nimport { __require as requireFloydWarshall } from './floyd-warshall.js';\nimport { __require as requireIsAcyclic } from './is-acyclic.js';\nimport { __require as requirePostorder } from './postorder.js';\nimport { __require as requirePreorder } from './preorder.js';\nimport { __require as requirePrim } from './prim.js';\nimport { __require as requireTarjan } from './tarjan.js';\nimport { __require as requireTopsort } from './topsort.js';\n\nvar alg;\nvar hasRequiredAlg;\n\nfunction requireAlg () {\n\tif (hasRequiredAlg) return alg;\n\thasRequiredAlg = 1;\n\talg = {\n\t  components: requireComponents(),\n\t  dijkstra: requireDijkstra(),\n\t  dijkstraAll: requireDijkstraAll(),\n\t  findCycles: requireFindCycles(),\n\t  floydWarshall: requireFloydWarshall(),\n\t  isAcyclic: requireIsAcyclic(),\n\t  postorder: requirePostorder(),\n\t  preorder: requirePreorder(),\n\t  prim: requirePrim(),\n\t  tarjan: requireTarjan(),\n\t  topsort: requireTopsort()\n\t};\n\treturn alg;\n}\n\nexport { requireAlg as __require };\n//# sourceMappingURL=index.js.map\n","import { __require as requireLib } from './lib/index.js';\nimport { __require as requireJson } from './lib/json.js';\nimport { __require as requireAlg } from './lib/alg/index.js';\n\n/**\n * Copyright (c) 2014, Chris Pettitt\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its contributors\n * may be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar graphlib;\nvar hasRequiredGraphlib$1;\n\nfunction requireGraphlib$1 () {\n\tif (hasRequiredGraphlib$1) return graphlib;\n\thasRequiredGraphlib$1 = 1;\n\tvar lib = requireLib();\n\n\tgraphlib = {\n\t  Graph: lib.Graph,\n\t  json: requireJson(),\n\t  alg: requireAlg(),\n\t  version: lib.version\n\t};\n\treturn graphlib;\n}\n\nexport { requireGraphlib$1 as __require };\n//# sourceMappingURL=index.js.map\n","import { commonjsRequire } from '../../../_virtual/_commonjs-dynamic-modules.js';\nimport { __require as requireGraphlib$1 } from '../../graphlib/index.js';\n\n/* global window */\n\nvar graphlib_1;\nvar hasRequiredGraphlib;\n\nfunction requireGraphlib () {\n\tif (hasRequiredGraphlib) return graphlib_1;\n\thasRequiredGraphlib = 1;\n\tvar graphlib;\n\n\tif (typeof commonjsRequire === \"function\") {\n\t  try {\n\t    graphlib = requireGraphlib$1();\n\t  } catch (e) {\n\t    // continue regardless of error\n\t  }\n\t}\n\n\tif (!graphlib) {\n\t  graphlib = window.graphlib;\n\t}\n\n\tgraphlib_1 = graphlib;\n\treturn graphlib_1;\n}\n\nexport { requireGraphlib as __require };\n//# sourceMappingURL=graphlib.js.map\n","import { __require as require_baseClone } from './_baseClone.js';\n\nvar cloneDeep_1;\nvar hasRequiredCloneDeep;\n\nfunction requireCloneDeep () {\n\tif (hasRequiredCloneDeep) return cloneDeep_1;\n\thasRequiredCloneDeep = 1;\n\tvar baseClone = require_baseClone();\n\n\t/** Used to compose bitmasks for cloning. */\n\tvar CLONE_DEEP_FLAG = 1,\n\t    CLONE_SYMBOLS_FLAG = 4;\n\n\t/**\n\t * This method is like `_.clone` except that it recursively clones `value`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 1.0.0\n\t * @category Lang\n\t * @param {*} value The value to recursively clone.\n\t * @returns {*} Returns the deep cloned value.\n\t * @see _.clone\n\t * @example\n\t *\n\t * var objects = [{ 'a': 1 }, { 'b': 2 }];\n\t *\n\t * var deep = _.cloneDeep(objects);\n\t * console.log(deep[0] === objects[0]);\n\t * // => false\n\t */\n\tfunction cloneDeep(value) {\n\t  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n\t}\n\n\tcloneDeep_1 = cloneDeep;\n\treturn cloneDeep_1;\n}\n\nexport { requireCloneDeep as __require };\n//# sourceMappingURL=cloneDeep.js.map\n","import { __require as requireEq } from './eq.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\nimport { __require as require_isIndex } from './_isIndex.js';\nimport { __require as requireIsObject } from './isObject.js';\n\nvar _isIterateeCall;\nvar hasRequired_isIterateeCall;\n\nfunction require_isIterateeCall () {\n\tif (hasRequired_isIterateeCall) return _isIterateeCall;\n\thasRequired_isIterateeCall = 1;\n\tvar eq = requireEq(),\n\t    isArrayLike = requireIsArrayLike(),\n\t    isIndex = require_isIndex(),\n\t    isObject = requireIsObject();\n\n\t/**\n\t * Checks if the given arguments are from an iteratee call.\n\t *\n\t * @private\n\t * @param {*} value The potential iteratee value argument.\n\t * @param {*} index The potential iteratee index or key argument.\n\t * @param {*} object The potential iteratee object argument.\n\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t *  else `false`.\n\t */\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index;\n\t  if (type == 'number'\n\t        ? (isArrayLike(object) && isIndex(index, object.length))\n\t        : (type == 'string' && index in object)\n\t      ) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\n\t_isIterateeCall = isIterateeCall;\n\treturn _isIterateeCall;\n}\n\nexport { require_isIterateeCall as __require };\n//# sourceMappingURL=_isIterateeCall.js.map\n","import { __require as require_baseRest } from './_baseRest.js';\nimport { __require as requireEq } from './eq.js';\nimport { __require as require_isIterateeCall } from './_isIterateeCall.js';\nimport { __require as requireKeysIn } from './keysIn.js';\n\nvar defaults_1;\nvar hasRequiredDefaults;\n\nfunction requireDefaults () {\n\tif (hasRequiredDefaults) return defaults_1;\n\thasRequiredDefaults = 1;\n\tvar baseRest = require_baseRest(),\n\t    eq = requireEq(),\n\t    isIterateeCall = require_isIterateeCall(),\n\t    keysIn = requireKeysIn();\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/**\n\t * Assigns own and inherited enumerable string keyed properties of source\n\t * objects to the destination object for all destination properties that\n\t * resolve to `undefined`. Source objects are applied from left to right.\n\t * Once a property is set, additional values of the same property are ignored.\n\t *\n\t * **Note:** This method mutates `object`.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @see _.defaultsDeep\n\t * @example\n\t *\n\t * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n\t * // => { 'a': 1, 'b': 2 }\n\t */\n\tvar defaults = baseRest(function(object, sources) {\n\t  object = Object(object);\n\n\t  var index = -1;\n\t  var length = sources.length;\n\t  var guard = length > 2 ? sources[2] : undefined;\n\n\t  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t    length = 1;\n\t  }\n\n\t  while (++index < length) {\n\t    var source = sources[index];\n\t    var props = keysIn(source);\n\t    var propsIndex = -1;\n\t    var propsLength = props.length;\n\n\t    while (++propsIndex < propsLength) {\n\t      var key = props[propsIndex];\n\t      var value = object[key];\n\n\t      if (value === undefined ||\n\t          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n\t        object[key] = source[key];\n\t      }\n\t    }\n\t  }\n\n\t  return object;\n\t});\n\n\tdefaults_1 = defaults;\n\treturn defaults_1;\n}\n\nexport { requireDefaults as __require };\n//# sourceMappingURL=defaults.js.map\n","import { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as requireIsArrayLike } from './isArrayLike.js';\nimport { __require as requireKeys } from './keys.js';\n\nvar _createFind;\nvar hasRequired_createFind;\n\nfunction require_createFind () {\n\tif (hasRequired_createFind) return _createFind;\n\thasRequired_createFind = 1;\n\tvar baseIteratee = require_baseIteratee(),\n\t    isArrayLike = requireIsArrayLike(),\n\t    keys = requireKeys();\n\n\t/**\n\t * Creates a `_.find` or `_.findLast` function.\n\t *\n\t * @private\n\t * @param {Function} findIndexFunc The function to find the collection index.\n\t * @returns {Function} Returns the new find function.\n\t */\n\tfunction createFind(findIndexFunc) {\n\t  return function(collection, predicate, fromIndex) {\n\t    var iterable = Object(collection);\n\t    if (!isArrayLike(collection)) {\n\t      var iteratee = baseIteratee(predicate, 3);\n\t      collection = keys(collection);\n\t      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n\t    }\n\t    var index = findIndexFunc(collection, predicate, fromIndex);\n\t    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n\t  };\n\t}\n\n\t_createFind = createFind;\n\treturn _createFind;\n}\n\nexport { require_createFind as __require };\n//# sourceMappingURL=_createFind.js.map\n","/** Used to match a single whitespace character. */\n\nvar _trimmedEndIndex;\nvar hasRequired_trimmedEndIndex;\n\nfunction require_trimmedEndIndex () {\n\tif (hasRequired_trimmedEndIndex) return _trimmedEndIndex;\n\thasRequired_trimmedEndIndex = 1;\n\tvar reWhitespace = /\\s/;\n\n\t/**\n\t * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n\t * character of `string`.\n\t *\n\t * @private\n\t * @param {string} string The string to inspect.\n\t * @returns {number} Returns the index of the last non-whitespace character.\n\t */\n\tfunction trimmedEndIndex(string) {\n\t  var index = string.length;\n\n\t  while (index-- && reWhitespace.test(string.charAt(index))) {}\n\t  return index;\n\t}\n\n\t_trimmedEndIndex = trimmedEndIndex;\n\treturn _trimmedEndIndex;\n}\n\nexport { require_trimmedEndIndex as __require };\n//# sourceMappingURL=_trimmedEndIndex.js.map\n","import { __require as require_trimmedEndIndex } from './_trimmedEndIndex.js';\n\nvar _baseTrim;\nvar hasRequired_baseTrim;\n\nfunction require_baseTrim () {\n\tif (hasRequired_baseTrim) return _baseTrim;\n\thasRequired_baseTrim = 1;\n\tvar trimmedEndIndex = require_trimmedEndIndex();\n\n\t/** Used to match leading whitespace. */\n\tvar reTrimStart = /^\\s+/;\n\n\t/**\n\t * The base implementation of `_.trim`.\n\t *\n\t * @private\n\t * @param {string} string The string to trim.\n\t * @returns {string} Returns the trimmed string.\n\t */\n\tfunction baseTrim(string) {\n\t  return string\n\t    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n\t    : string;\n\t}\n\n\t_baseTrim = baseTrim;\n\treturn _baseTrim;\n}\n\nexport { require_baseTrim as __require };\n//# sourceMappingURL=_baseTrim.js.map\n","import { __require as require_baseTrim } from './_baseTrim.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as requireIsSymbol } from './isSymbol.js';\n\nvar toNumber_1;\nvar hasRequiredToNumber;\n\nfunction requireToNumber () {\n\tif (hasRequiredToNumber) return toNumber_1;\n\thasRequiredToNumber = 1;\n\tvar baseTrim = require_baseTrim(),\n\t    isObject = requireIsObject(),\n\t    isSymbol = requireIsSymbol();\n\n\t/** Used as references for various `Number` constants. */\n\tvar NAN = 0 / 0;\n\n\t/** Used to detect bad signed hexadecimal string values. */\n\tvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n\t/** Used to detect binary string values. */\n\tvar reIsBinary = /^0b[01]+$/i;\n\n\t/** Used to detect octal string values. */\n\tvar reIsOctal = /^0o[0-7]+$/i;\n\n\t/** Built-in method references without a dependency on `root`. */\n\tvar freeParseInt = parseInt;\n\n\t/**\n\t * Converts `value` to a number.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to process.\n\t * @returns {number} Returns the number.\n\t * @example\n\t *\n\t * _.toNumber(3.2);\n\t * // => 3.2\n\t *\n\t * _.toNumber(Number.MIN_VALUE);\n\t * // => 5e-324\n\t *\n\t * _.toNumber(Infinity);\n\t * // => Infinity\n\t *\n\t * _.toNumber('3.2');\n\t * // => 3.2\n\t */\n\tfunction toNumber(value) {\n\t  if (typeof value == 'number') {\n\t    return value;\n\t  }\n\t  if (isSymbol(value)) {\n\t    return NAN;\n\t  }\n\t  if (isObject(value)) {\n\t    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n\t    value = isObject(other) ? (other + '') : other;\n\t  }\n\t  if (typeof value != 'string') {\n\t    return value === 0 ? value : +value;\n\t  }\n\t  value = baseTrim(value);\n\t  var isBinary = reIsBinary.test(value);\n\t  return (isBinary || reIsOctal.test(value))\n\t    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n\t    : (reIsBadHex.test(value) ? NAN : +value);\n\t}\n\n\ttoNumber_1 = toNumber;\n\treturn toNumber_1;\n}\n\nexport { requireToNumber as __require };\n//# sourceMappingURL=toNumber.js.map\n","import { __require as requireToNumber } from './toNumber.js';\n\nvar toFinite_1;\nvar hasRequiredToFinite;\n\nfunction requireToFinite () {\n\tif (hasRequiredToFinite) return toFinite_1;\n\thasRequiredToFinite = 1;\n\tvar toNumber = requireToNumber();\n\n\t/** Used as references for various `Number` constants. */\n\tvar INFINITY = 1 / 0,\n\t    MAX_INTEGER = 1.7976931348623157e+308;\n\n\t/**\n\t * Converts `value` to a finite number.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.12.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {number} Returns the converted number.\n\t * @example\n\t *\n\t * _.toFinite(3.2);\n\t * // => 3.2\n\t *\n\t * _.toFinite(Number.MIN_VALUE);\n\t * // => 5e-324\n\t *\n\t * _.toFinite(Infinity);\n\t * // => 1.7976931348623157e+308\n\t *\n\t * _.toFinite('3.2');\n\t * // => 3.2\n\t */\n\tfunction toFinite(value) {\n\t  if (!value) {\n\t    return value === 0 ? value : 0;\n\t  }\n\t  value = toNumber(value);\n\t  if (value === INFINITY || value === -INFINITY) {\n\t    var sign = (value < 0 ? -1 : 1);\n\t    return sign * MAX_INTEGER;\n\t  }\n\t  return value === value ? value : 0;\n\t}\n\n\ttoFinite_1 = toFinite;\n\treturn toFinite_1;\n}\n\nexport { requireToFinite as __require };\n//# sourceMappingURL=toFinite.js.map\n","import { __require as requireToFinite } from './toFinite.js';\n\nvar toInteger_1;\nvar hasRequiredToInteger;\n\nfunction requireToInteger () {\n\tif (hasRequiredToInteger) return toInteger_1;\n\thasRequiredToInteger = 1;\n\tvar toFinite = requireToFinite();\n\n\t/**\n\t * Converts `value` to an integer.\n\t *\n\t * **Note:** This method is loosely based on\n\t * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {number} Returns the converted integer.\n\t * @example\n\t *\n\t * _.toInteger(3.2);\n\t * // => 3\n\t *\n\t * _.toInteger(Number.MIN_VALUE);\n\t * // => 0\n\t *\n\t * _.toInteger(Infinity);\n\t * // => 1.7976931348623157e+308\n\t *\n\t * _.toInteger('3.2');\n\t * // => 3\n\t */\n\tfunction toInteger(value) {\n\t  var result = toFinite(value),\n\t      remainder = result % 1;\n\n\t  return result === result ? (remainder ? result - remainder : result) : 0;\n\t}\n\n\ttoInteger_1 = toInteger;\n\treturn toInteger_1;\n}\n\nexport { requireToInteger as __require };\n//# sourceMappingURL=toInteger.js.map\n","import { __require as require_baseFindIndex } from './_baseFindIndex.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as requireToInteger } from './toInteger.js';\n\nvar findIndex_1;\nvar hasRequiredFindIndex;\n\nfunction requireFindIndex () {\n\tif (hasRequiredFindIndex) return findIndex_1;\n\thasRequiredFindIndex = 1;\n\tvar baseFindIndex = require_baseFindIndex(),\n\t    baseIteratee = require_baseIteratee(),\n\t    toInteger = requireToInteger();\n\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeMax = Math.max;\n\n\t/**\n\t * This method is like `_.find` except that it returns the index of the first\n\t * element `predicate` returns truthy for instead of the element itself.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 1.1.0\n\t * @category Array\n\t * @param {Array} array The array to inspect.\n\t * @param {Function} [predicate=_.identity] The function invoked per iteration.\n\t * @param {number} [fromIndex=0] The index to search from.\n\t * @returns {number} Returns the index of the found element, else `-1`.\n\t * @example\n\t *\n\t * var users = [\n\t *   { 'user': 'barney',  'active': false },\n\t *   { 'user': 'fred',    'active': false },\n\t *   { 'user': 'pebbles', 'active': true }\n\t * ];\n\t *\n\t * _.findIndex(users, function(o) { return o.user == 'barney'; });\n\t * // => 0\n\t *\n\t * // The `_.matches` iteratee shorthand.\n\t * _.findIndex(users, { 'user': 'fred', 'active': false });\n\t * // => 1\n\t *\n\t * // The `_.matchesProperty` iteratee shorthand.\n\t * _.findIndex(users, ['active', false]);\n\t * // => 0\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.findIndex(users, 'active');\n\t * // => 2\n\t */\n\tfunction findIndex(array, predicate, fromIndex) {\n\t  var length = array == null ? 0 : array.length;\n\t  if (!length) {\n\t    return -1;\n\t  }\n\t  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n\t  if (index < 0) {\n\t    index = nativeMax(length + index, 0);\n\t  }\n\t  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n\t}\n\n\tfindIndex_1 = findIndex;\n\treturn findIndex_1;\n}\n\nexport { requireFindIndex as __require };\n//# sourceMappingURL=findIndex.js.map\n","import { __require as require_createFind } from './_createFind.js';\nimport { __require as requireFindIndex } from './findIndex.js';\n\nvar find_1;\nvar hasRequiredFind;\n\nfunction requireFind () {\n\tif (hasRequiredFind) return find_1;\n\thasRequiredFind = 1;\n\tvar createFind = require_createFind(),\n\t    findIndex = requireFindIndex();\n\n\t/**\n\t * Iterates over elements of `collection`, returning the first element\n\t * `predicate` returns truthy for. The predicate is invoked with three\n\t * arguments: (value, index|key, collection).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to inspect.\n\t * @param {Function} [predicate=_.identity] The function invoked per iteration.\n\t * @param {number} [fromIndex=0] The index to search from.\n\t * @returns {*} Returns the matched element, else `undefined`.\n\t * @example\n\t *\n\t * var users = [\n\t *   { 'user': 'barney',  'age': 36, 'active': true },\n\t *   { 'user': 'fred',    'age': 40, 'active': false },\n\t *   { 'user': 'pebbles', 'age': 1,  'active': true }\n\t * ];\n\t *\n\t * _.find(users, function(o) { return o.age < 40; });\n\t * // => object for 'barney'\n\t *\n\t * // The `_.matches` iteratee shorthand.\n\t * _.find(users, { 'age': 1, 'active': true });\n\t * // => object for 'pebbles'\n\t *\n\t * // The `_.matchesProperty` iteratee shorthand.\n\t * _.find(users, ['active', false]);\n\t * // => object for 'fred'\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.find(users, 'active');\n\t * // => object for 'barney'\n\t */\n\tvar find = createFind(findIndex);\n\n\tfind_1 = find;\n\treturn find_1;\n}\n\nexport { requireFind as __require };\n//# sourceMappingURL=find.js.map\n","import { __require as require_baseFlatten } from './_baseFlatten.js';\n\nvar flatten_1;\nvar hasRequiredFlatten;\n\nfunction requireFlatten () {\n\tif (hasRequiredFlatten) return flatten_1;\n\thasRequiredFlatten = 1;\n\tvar baseFlatten = require_baseFlatten();\n\n\t/**\n\t * Flattens `array` a single level deep.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Array\n\t * @param {Array} array The array to flatten.\n\t * @returns {Array} Returns the new flattened array.\n\t * @example\n\t *\n\t * _.flatten([1, [2, [3, [4]], 5]]);\n\t * // => [1, 2, [3, [4]], 5]\n\t */\n\tfunction flatten(array) {\n\t  var length = array == null ? 0 : array.length;\n\t  return length ? baseFlatten(array, 1) : [];\n\t}\n\n\tflatten_1 = flatten;\n\treturn flatten_1;\n}\n\nexport { requireFlatten as __require };\n//# sourceMappingURL=flatten.js.map\n","import { __require as require_baseFor } from './_baseFor.js';\nimport { __require as require_castFunction } from './_castFunction.js';\nimport { __require as requireKeysIn } from './keysIn.js';\n\nvar forIn_1;\nvar hasRequiredForIn;\n\nfunction requireForIn () {\n\tif (hasRequiredForIn) return forIn_1;\n\thasRequiredForIn = 1;\n\tvar baseFor = require_baseFor(),\n\t    castFunction = require_castFunction(),\n\t    keysIn = requireKeysIn();\n\n\t/**\n\t * Iterates over own and inherited enumerable string keyed properties of an\n\t * object and invokes `iteratee` for each property. The iteratee is invoked\n\t * with three arguments: (value, key, object). Iteratee functions may exit\n\t * iteration early by explicitly returning `false`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.3.0\n\t * @category Object\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n\t * @returns {Object} Returns `object`.\n\t * @see _.forInRight\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.forIn(new Foo, function(value, key) {\n\t *   console.log(key);\n\t * });\n\t * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n\t */\n\tfunction forIn(object, iteratee) {\n\t  return object == null\n\t    ? object\n\t    : baseFor(object, castFunction(iteratee), keysIn);\n\t}\n\n\tforIn_1 = forIn;\n\treturn forIn_1;\n}\n\nexport { requireForIn as __require };\n//# sourceMappingURL=forIn.js.map\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\n\nvar last_1;\nvar hasRequiredLast;\n\nfunction requireLast () {\n\tif (hasRequiredLast) return last_1;\n\thasRequiredLast = 1;\n\tfunction last(array) {\n\t  var length = array == null ? 0 : array.length;\n\t  return length ? array[length - 1] : undefined;\n\t}\n\n\tlast_1 = last;\n\treturn last_1;\n}\n\nexport { requireLast as __require };\n//# sourceMappingURL=last.js.map\n","import { __require as require_baseAssignValue } from './_baseAssignValue.js';\nimport { __require as require_baseForOwn } from './_baseForOwn.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\n\nvar mapValues_1;\nvar hasRequiredMapValues;\n\nfunction requireMapValues () {\n\tif (hasRequiredMapValues) return mapValues_1;\n\thasRequiredMapValues = 1;\n\tvar baseAssignValue = require_baseAssignValue(),\n\t    baseForOwn = require_baseForOwn(),\n\t    baseIteratee = require_baseIteratee();\n\n\t/**\n\t * Creates an object with the same keys as `object` and values generated\n\t * by running each own enumerable string keyed property of `object` thru\n\t * `iteratee`. The iteratee is invoked with three arguments:\n\t * (value, key, object).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 2.4.0\n\t * @category Object\n\t * @param {Object} object The object to iterate over.\n\t * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n\t * @returns {Object} Returns the new mapped object.\n\t * @see _.mapKeys\n\t * @example\n\t *\n\t * var users = {\n\t *   'fred':    { 'user': 'fred',    'age': 40 },\n\t *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n\t * };\n\t *\n\t * _.mapValues(users, function(o) { return o.age; });\n\t * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.mapValues(users, 'age');\n\t * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n\t */\n\tfunction mapValues(object, iteratee) {\n\t  var result = {};\n\t  iteratee = baseIteratee(iteratee, 3);\n\n\t  baseForOwn(object, function(value, key, object) {\n\t    baseAssignValue(result, key, iteratee(value, key, object));\n\t  });\n\t  return result;\n\t}\n\n\tmapValues_1 = mapValues;\n\treturn mapValues_1;\n}\n\nexport { requireMapValues as __require };\n//# sourceMappingURL=mapValues.js.map\n","import { __require as requireIsSymbol } from './isSymbol.js';\n\nvar _baseExtremum;\nvar hasRequired_baseExtremum;\n\nfunction require_baseExtremum () {\n\tif (hasRequired_baseExtremum) return _baseExtremum;\n\thasRequired_baseExtremum = 1;\n\tvar isSymbol = requireIsSymbol();\n\n\t/**\n\t * The base implementation of methods like `_.max` and `_.min` which accepts a\n\t * `comparator` to determine the extremum value.\n\t *\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} iteratee The iteratee invoked per iteration.\n\t * @param {Function} comparator The comparator used to compare values.\n\t * @returns {*} Returns the extremum value.\n\t */\n\tfunction baseExtremum(array, iteratee, comparator) {\n\t  var index = -1,\n\t      length = array.length;\n\n\t  while (++index < length) {\n\t    var value = array[index],\n\t        current = iteratee(value);\n\n\t    if (current != null && (computed === undefined\n\t          ? (current === current && !isSymbol(current))\n\t          : comparator(current, computed)\n\t        )) {\n\t      var computed = current,\n\t          result = value;\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_baseExtremum = baseExtremum;\n\treturn _baseExtremum;\n}\n\nexport { require_baseExtremum as __require };\n//# sourceMappingURL=_baseExtremum.js.map\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\n\nvar _baseGt;\nvar hasRequired_baseGt;\n\nfunction require_baseGt () {\n\tif (hasRequired_baseGt) return _baseGt;\n\thasRequired_baseGt = 1;\n\tfunction baseGt(value, other) {\n\t  return value > other;\n\t}\n\n\t_baseGt = baseGt;\n\treturn _baseGt;\n}\n\nexport { require_baseGt as __require };\n//# sourceMappingURL=_baseGt.js.map\n","import { __require as require_baseExtremum } from './_baseExtremum.js';\nimport { __require as require_baseGt } from './_baseGt.js';\nimport { __require as requireIdentity } from './identity.js';\n\nvar max_1;\nvar hasRequiredMax;\n\nfunction requireMax () {\n\tif (hasRequiredMax) return max_1;\n\thasRequiredMax = 1;\n\tvar baseExtremum = require_baseExtremum(),\n\t    baseGt = require_baseGt(),\n\t    identity = requireIdentity();\n\n\t/**\n\t * Computes the maximum value of `array`. If `array` is empty or falsey,\n\t * `undefined` is returned.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Math\n\t * @param {Array} array The array to iterate over.\n\t * @returns {*} Returns the maximum value.\n\t * @example\n\t *\n\t * _.max([4, 2, 8, 6]);\n\t * // => 8\n\t *\n\t * _.max([]);\n\t * // => undefined\n\t */\n\tfunction max(array) {\n\t  return (array && array.length)\n\t    ? baseExtremum(array, identity, baseGt)\n\t    : undefined;\n\t}\n\n\tmax_1 = max;\n\treturn max_1;\n}\n\nexport { requireMax as __require };\n//# sourceMappingURL=max.js.map\n","import { __require as require_baseAssignValue } from './_baseAssignValue.js';\nimport { __require as requireEq } from './eq.js';\n\nvar _assignMergeValue;\nvar hasRequired_assignMergeValue;\n\nfunction require_assignMergeValue () {\n\tif (hasRequired_assignMergeValue) return _assignMergeValue;\n\thasRequired_assignMergeValue = 1;\n\tvar baseAssignValue = require_baseAssignValue(),\n\t    eq = requireEq();\n\n\t/**\n\t * This function is like `assignValue` except that it doesn't assign\n\t * `undefined` values.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignMergeValue(object, key, value) {\n\t  if ((value !== undefined && !eq(object[key], value)) ||\n\t      (value === undefined && !(key in object))) {\n\t    baseAssignValue(object, key, value);\n\t  }\n\t}\n\n\t_assignMergeValue = assignMergeValue;\n\treturn _assignMergeValue;\n}\n\nexport { require_assignMergeValue as __require };\n//# sourceMappingURL=_assignMergeValue.js.map\n","import { __require as require_baseGetTag } from './_baseGetTag.js';\nimport { __require as require_getPrototype } from './_getPrototype.js';\nimport { __require as requireIsObjectLike } from './isObjectLike.js';\n\nvar isPlainObject_1;\nvar hasRequiredIsPlainObject;\n\nfunction requireIsPlainObject () {\n\tif (hasRequiredIsPlainObject) return isPlainObject_1;\n\thasRequiredIsPlainObject = 1;\n\tvar baseGetTag = require_baseGetTag(),\n\t    getPrototype = require_getPrototype(),\n\t    isObjectLike = requireIsObjectLike();\n\n\t/** `Object#toString` result references. */\n\tvar objectTag = '[object Object]';\n\n\t/** Used for built-in method references. */\n\tvar funcProto = Function.prototype,\n\t    objectProto = Object.prototype;\n\n\t/** Used to resolve the decompiled source of functions. */\n\tvar funcToString = funcProto.toString;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/** Used to infer the `Object` constructor. */\n\tvar objectCtorString = funcToString.call(Object);\n\n\t/**\n\t * Checks if `value` is a plain object, that is, an object created by the\n\t * `Object` constructor or one with a `[[Prototype]]` of `null`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.8.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t * }\n\t *\n\t * _.isPlainObject(new Foo);\n\t * // => false\n\t *\n\t * _.isPlainObject([1, 2, 3]);\n\t * // => false\n\t *\n\t * _.isPlainObject({ 'x': 0, 'y': 0 });\n\t * // => true\n\t *\n\t * _.isPlainObject(Object.create(null));\n\t * // => true\n\t */\n\tfunction isPlainObject(value) {\n\t  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n\t    return false;\n\t  }\n\t  var proto = getPrototype(value);\n\t  if (proto === null) {\n\t    return true;\n\t  }\n\t  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n\t  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n\t    funcToString.call(Ctor) == objectCtorString;\n\t}\n\n\tisPlainObject_1 = isPlainObject;\n\treturn isPlainObject_1;\n}\n\nexport { requireIsPlainObject as __require };\n//# sourceMappingURL=isPlainObject.js.map\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\n\nvar _safeGet;\nvar hasRequired_safeGet;\n\nfunction require_safeGet () {\n\tif (hasRequired_safeGet) return _safeGet;\n\thasRequired_safeGet = 1;\n\tfunction safeGet(object, key) {\n\t  if (key === 'constructor' && typeof object[key] === 'function') {\n\t    return;\n\t  }\n\n\t  if (key == '__proto__') {\n\t    return;\n\t  }\n\n\t  return object[key];\n\t}\n\n\t_safeGet = safeGet;\n\treturn _safeGet;\n}\n\nexport { require_safeGet as __require };\n//# sourceMappingURL=_safeGet.js.map\n","import { __require as require_copyObject } from './_copyObject.js';\nimport { __require as requireKeysIn } from './keysIn.js';\n\nvar toPlainObject_1;\nvar hasRequiredToPlainObject;\n\nfunction requireToPlainObject () {\n\tif (hasRequiredToPlainObject) return toPlainObject_1;\n\thasRequiredToPlainObject = 1;\n\tvar copyObject = require_copyObject(),\n\t    keysIn = requireKeysIn();\n\n\t/**\n\t * Converts `value` to a plain object flattening inherited enumerable string\n\t * keyed properties of `value` to own properties of the plain object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 3.0.0\n\t * @category Lang\n\t * @param {*} value The value to convert.\n\t * @returns {Object} Returns the converted plain object.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.assign({ 'a': 1 }, new Foo);\n\t * // => { 'a': 1, 'b': 2 }\n\t *\n\t * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n\t * // => { 'a': 1, 'b': 2, 'c': 3 }\n\t */\n\tfunction toPlainObject(value) {\n\t  return copyObject(value, keysIn(value));\n\t}\n\n\ttoPlainObject_1 = toPlainObject;\n\treturn toPlainObject_1;\n}\n\nexport { requireToPlainObject as __require };\n//# sourceMappingURL=toPlainObject.js.map\n","import { __require as require_assignMergeValue } from './_assignMergeValue.js';\nimport { __require as require_cloneBuffer } from './_cloneBuffer.js';\nimport { __require as require_cloneTypedArray } from './_cloneTypedArray.js';\nimport { __require as require_copyArray } from './_copyArray.js';\nimport { __require as require_initCloneObject } from './_initCloneObject.js';\nimport { __require as requireIsArguments } from './isArguments.js';\nimport { __require as requireIsArray } from './isArray.js';\nimport { __require as requireIsArrayLikeObject } from './isArrayLikeObject.js';\nimport { __require as requireIsBuffer } from './isBuffer.js';\nimport { __require as requireIsFunction } from './isFunction.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as requireIsPlainObject } from './isPlainObject.js';\nimport { __require as requireIsTypedArray } from './isTypedArray.js';\nimport { __require as require_safeGet } from './_safeGet.js';\nimport { __require as requireToPlainObject } from './toPlainObject.js';\n\nvar _baseMergeDeep;\nvar hasRequired_baseMergeDeep;\n\nfunction require_baseMergeDeep () {\n\tif (hasRequired_baseMergeDeep) return _baseMergeDeep;\n\thasRequired_baseMergeDeep = 1;\n\tvar assignMergeValue = require_assignMergeValue(),\n\t    cloneBuffer = require_cloneBuffer(),\n\t    cloneTypedArray = require_cloneTypedArray(),\n\t    copyArray = require_copyArray(),\n\t    initCloneObject = require_initCloneObject(),\n\t    isArguments = requireIsArguments(),\n\t    isArray = requireIsArray(),\n\t    isArrayLikeObject = requireIsArrayLikeObject(),\n\t    isBuffer = requireIsBuffer(),\n\t    isFunction = requireIsFunction(),\n\t    isObject = requireIsObject(),\n\t    isPlainObject = requireIsPlainObject(),\n\t    isTypedArray = requireIsTypedArray(),\n\t    safeGet = require_safeGet(),\n\t    toPlainObject = requireToPlainObject();\n\n\t/**\n\t * A specialized version of `baseMerge` for arrays and objects which performs\n\t * deep merges and tracks traversed objects enabling objects with circular\n\t * references to be merged.\n\t *\n\t * @private\n\t * @param {Object} object The destination object.\n\t * @param {Object} source The source object.\n\t * @param {string} key The key of the value to merge.\n\t * @param {number} srcIndex The index of `source`.\n\t * @param {Function} mergeFunc The function to merge values.\n\t * @param {Function} [customizer] The function to customize assigned values.\n\t * @param {Object} [stack] Tracks traversed source values and their merged\n\t *  counterparts.\n\t */\n\tfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n\t  var objValue = safeGet(object, key),\n\t      srcValue = safeGet(source, key),\n\t      stacked = stack.get(srcValue);\n\n\t  if (stacked) {\n\t    assignMergeValue(object, key, stacked);\n\t    return;\n\t  }\n\t  var newValue = customizer\n\t    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n\t    : undefined;\n\n\t  var isCommon = newValue === undefined;\n\n\t  if (isCommon) {\n\t    var isArr = isArray(srcValue),\n\t        isBuff = !isArr && isBuffer(srcValue),\n\t        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n\t    newValue = srcValue;\n\t    if (isArr || isBuff || isTyped) {\n\t      if (isArray(objValue)) {\n\t        newValue = objValue;\n\t      }\n\t      else if (isArrayLikeObject(objValue)) {\n\t        newValue = copyArray(objValue);\n\t      }\n\t      else if (isBuff) {\n\t        isCommon = false;\n\t        newValue = cloneBuffer(srcValue, true);\n\t      }\n\t      else if (isTyped) {\n\t        isCommon = false;\n\t        newValue = cloneTypedArray(srcValue, true);\n\t      }\n\t      else {\n\t        newValue = [];\n\t      }\n\t    }\n\t    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n\t      newValue = objValue;\n\t      if (isArguments(objValue)) {\n\t        newValue = toPlainObject(objValue);\n\t      }\n\t      else if (!isObject(objValue) || isFunction(objValue)) {\n\t        newValue = initCloneObject(srcValue);\n\t      }\n\t    }\n\t    else {\n\t      isCommon = false;\n\t    }\n\t  }\n\t  if (isCommon) {\n\t    // Recursively merge objects and arrays (susceptible to call stack limits).\n\t    stack.set(srcValue, newValue);\n\t    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n\t    stack['delete'](srcValue);\n\t  }\n\t  assignMergeValue(object, key, newValue);\n\t}\n\n\t_baseMergeDeep = baseMergeDeep;\n\treturn _baseMergeDeep;\n}\n\nexport { require_baseMergeDeep as __require };\n//# sourceMappingURL=_baseMergeDeep.js.map\n","import { __require as require_Stack } from './_Stack.js';\nimport { __require as require_assignMergeValue } from './_assignMergeValue.js';\nimport { __require as require_baseFor } from './_baseFor.js';\nimport { __require as require_baseMergeDeep } from './_baseMergeDeep.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as requireKeysIn } from './keysIn.js';\nimport { __require as require_safeGet } from './_safeGet.js';\n\nvar _baseMerge;\nvar hasRequired_baseMerge;\n\nfunction require_baseMerge () {\n\tif (hasRequired_baseMerge) return _baseMerge;\n\thasRequired_baseMerge = 1;\n\tvar Stack = require_Stack(),\n\t    assignMergeValue = require_assignMergeValue(),\n\t    baseFor = require_baseFor(),\n\t    baseMergeDeep = require_baseMergeDeep(),\n\t    isObject = requireIsObject(),\n\t    keysIn = requireKeysIn(),\n\t    safeGet = require_safeGet();\n\n\t/**\n\t * The base implementation of `_.merge` without support for multiple sources.\n\t *\n\t * @private\n\t * @param {Object} object The destination object.\n\t * @param {Object} source The source object.\n\t * @param {number} srcIndex The index of `source`.\n\t * @param {Function} [customizer] The function to customize merged values.\n\t * @param {Object} [stack] Tracks traversed source values and their merged\n\t *  counterparts.\n\t */\n\tfunction baseMerge(object, source, srcIndex, customizer, stack) {\n\t  if (object === source) {\n\t    return;\n\t  }\n\t  baseFor(source, function(srcValue, key) {\n\t    stack || (stack = new Stack);\n\t    if (isObject(srcValue)) {\n\t      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n\t    }\n\t    else {\n\t      var newValue = customizer\n\t        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n\t        : undefined;\n\n\t      if (newValue === undefined) {\n\t        newValue = srcValue;\n\t      }\n\t      assignMergeValue(object, key, newValue);\n\t    }\n\t  }, keysIn);\n\t}\n\n\t_baseMerge = baseMerge;\n\treturn _baseMerge;\n}\n\nexport { require_baseMerge as __require };\n//# sourceMappingURL=_baseMerge.js.map\n","import { __require as require_baseRest } from './_baseRest.js';\nimport { __require as require_isIterateeCall } from './_isIterateeCall.js';\n\nvar _createAssigner;\nvar hasRequired_createAssigner;\n\nfunction require_createAssigner () {\n\tif (hasRequired_createAssigner) return _createAssigner;\n\thasRequired_createAssigner = 1;\n\tvar baseRest = require_baseRest(),\n\t    isIterateeCall = require_isIterateeCall();\n\n\t/**\n\t * Creates a function like `_.assign`.\n\t *\n\t * @private\n\t * @param {Function} assigner The function to assign values.\n\t * @returns {Function} Returns the new assigner function.\n\t */\n\tfunction createAssigner(assigner) {\n\t  return baseRest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\n\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t      ? (length--, customizer)\n\t      : undefined;\n\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\n\t_createAssigner = createAssigner;\n\treturn _createAssigner;\n}\n\nexport { require_createAssigner as __require };\n//# sourceMappingURL=_createAssigner.js.map\n","import { __require as require_baseMerge } from './_baseMerge.js';\nimport { __require as require_createAssigner } from './_createAssigner.js';\n\nvar merge_1;\nvar hasRequiredMerge;\n\nfunction requireMerge () {\n\tif (hasRequiredMerge) return merge_1;\n\thasRequiredMerge = 1;\n\tvar baseMerge = require_baseMerge(),\n\t    createAssigner = require_createAssigner();\n\n\t/**\n\t * This method is like `_.assign` except that it recursively merges own and\n\t * inherited enumerable string keyed properties of source objects into the\n\t * destination object. Source properties that resolve to `undefined` are\n\t * skipped if a destination value exists. Array and plain object properties\n\t * are merged recursively. Other objects and value types are overridden by\n\t * assignment. Source objects are applied from left to right. Subsequent\n\t * sources overwrite property assignments of previous sources.\n\t *\n\t * **Note:** This method mutates `object`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.5.0\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @example\n\t *\n\t * var object = {\n\t *   'a': [{ 'b': 2 }, { 'd': 4 }]\n\t * };\n\t *\n\t * var other = {\n\t *   'a': [{ 'c': 3 }, { 'e': 5 }]\n\t * };\n\t *\n\t * _.merge(object, other);\n\t * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n\t */\n\tvar merge = createAssigner(function(object, source, srcIndex) {\n\t  baseMerge(object, source, srcIndex);\n\t});\n\n\tmerge_1 = merge;\n\treturn merge_1;\n}\n\nexport { requireMerge as __require };\n//# sourceMappingURL=merge.js.map\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\n\nvar _baseLt;\nvar hasRequired_baseLt;\n\nfunction require_baseLt () {\n\tif (hasRequired_baseLt) return _baseLt;\n\thasRequired_baseLt = 1;\n\tfunction baseLt(value, other) {\n\t  return value < other;\n\t}\n\n\t_baseLt = baseLt;\n\treturn _baseLt;\n}\n\nexport { require_baseLt as __require };\n//# sourceMappingURL=_baseLt.js.map\n","import { __require as require_baseExtremum } from './_baseExtremum.js';\nimport { __require as require_baseLt } from './_baseLt.js';\nimport { __require as requireIdentity } from './identity.js';\n\nvar min_1;\nvar hasRequiredMin;\n\nfunction requireMin () {\n\tif (hasRequiredMin) return min_1;\n\thasRequiredMin = 1;\n\tvar baseExtremum = require_baseExtremum(),\n\t    baseLt = require_baseLt(),\n\t    identity = requireIdentity();\n\n\t/**\n\t * Computes the minimum value of `array`. If `array` is empty or falsey,\n\t * `undefined` is returned.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Math\n\t * @param {Array} array The array to iterate over.\n\t * @returns {*} Returns the minimum value.\n\t * @example\n\t *\n\t * _.min([4, 2, 8, 6]);\n\t * // => 2\n\t *\n\t * _.min([]);\n\t * // => undefined\n\t */\n\tfunction min(array) {\n\t  return (array && array.length)\n\t    ? baseExtremum(array, identity, baseLt)\n\t    : undefined;\n\t}\n\n\tmin_1 = min;\n\treturn min_1;\n}\n\nexport { requireMin as __require };\n//# sourceMappingURL=min.js.map\n","import { __require as require_baseExtremum } from './_baseExtremum.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as require_baseLt } from './_baseLt.js';\n\nvar minBy_1;\nvar hasRequiredMinBy;\n\nfunction requireMinBy () {\n\tif (hasRequiredMinBy) return minBy_1;\n\thasRequiredMinBy = 1;\n\tvar baseExtremum = require_baseExtremum(),\n\t    baseIteratee = require_baseIteratee(),\n\t    baseLt = require_baseLt();\n\n\t/**\n\t * This method is like `_.min` except that it accepts `iteratee` which is\n\t * invoked for each element in `array` to generate the criterion by which\n\t * the value is ranked. The iteratee is invoked with one argument: (value).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Math\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n\t * @returns {*} Returns the minimum value.\n\t * @example\n\t *\n\t * var objects = [{ 'n': 1 }, { 'n': 2 }];\n\t *\n\t * _.minBy(objects, function(o) { return o.n; });\n\t * // => { 'n': 1 }\n\t *\n\t * // The `_.property` iteratee shorthand.\n\t * _.minBy(objects, 'n');\n\t * // => { 'n': 1 }\n\t */\n\tfunction minBy(array, iteratee) {\n\t  return (array && array.length)\n\t    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n\t    : undefined;\n\t}\n\n\tminBy_1 = minBy;\n\treturn minBy_1;\n}\n\nexport { requireMinBy as __require };\n//# sourceMappingURL=minBy.js.map\n","import { __require as require_root } from './_root.js';\n\nvar now_1;\nvar hasRequiredNow;\n\nfunction requireNow () {\n\tif (hasRequiredNow) return now_1;\n\thasRequiredNow = 1;\n\tvar root = require_root();\n\n\t/**\n\t * Gets the timestamp of the number of milliseconds that have elapsed since\n\t * the Unix epoch (1 January 1970 00:00:00 UTC).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 2.4.0\n\t * @category Date\n\t * @returns {number} Returns the timestamp.\n\t * @example\n\t *\n\t * _.defer(function(stamp) {\n\t *   console.log(_.now() - stamp);\n\t * }, _.now());\n\t * // => Logs the number of milliseconds it took for the deferred invocation.\n\t */\n\tvar now = function() {\n\t  return root.Date.now();\n\t};\n\n\tnow_1 = now;\n\treturn now_1;\n}\n\nexport { requireNow as __require };\n//# sourceMappingURL=now.js.map\n","import { __require as require_assignValue } from './_assignValue.js';\nimport { __require as require_castPath } from './_castPath.js';\nimport { __require as require_isIndex } from './_isIndex.js';\nimport { __require as requireIsObject } from './isObject.js';\nimport { __require as require_toKey } from './_toKey.js';\n\nvar _baseSet;\nvar hasRequired_baseSet;\n\nfunction require_baseSet () {\n\tif (hasRequired_baseSet) return _baseSet;\n\thasRequired_baseSet = 1;\n\tvar assignValue = require_assignValue(),\n\t    castPath = require_castPath(),\n\t    isIndex = require_isIndex(),\n\t    isObject = requireIsObject(),\n\t    toKey = require_toKey();\n\n\t/**\n\t * The base implementation of `_.set`.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {Array|string} path The path of the property to set.\n\t * @param {*} value The value to set.\n\t * @param {Function} [customizer] The function to customize path creation.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction baseSet(object, path, value, customizer) {\n\t  if (!isObject(object)) {\n\t    return object;\n\t  }\n\t  path = castPath(path, object);\n\n\t  var index = -1,\n\t      length = path.length,\n\t      lastIndex = length - 1,\n\t      nested = object;\n\n\t  while (nested != null && ++index < length) {\n\t    var key = toKey(path[index]),\n\t        newValue = value;\n\n\t    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n\t      return object;\n\t    }\n\n\t    if (index != lastIndex) {\n\t      var objValue = nested[key];\n\t      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n\t      if (newValue === undefined) {\n\t        newValue = isObject(objValue)\n\t          ? objValue\n\t          : (isIndex(path[index + 1]) ? [] : {});\n\t      }\n\t    }\n\t    assignValue(nested, key, newValue);\n\t    nested = nested[key];\n\t  }\n\t  return object;\n\t}\n\n\t_baseSet = baseSet;\n\treturn _baseSet;\n}\n\nexport { require_baseSet as __require };\n//# sourceMappingURL=_baseSet.js.map\n","import { __require as require_baseGet } from './_baseGet.js';\nimport { __require as require_baseSet } from './_baseSet.js';\nimport { __require as require_castPath } from './_castPath.js';\n\nvar _basePickBy;\nvar hasRequired_basePickBy;\n\nfunction require_basePickBy () {\n\tif (hasRequired_basePickBy) return _basePickBy;\n\thasRequired_basePickBy = 1;\n\tvar baseGet = require_baseGet(),\n\t    baseSet = require_baseSet(),\n\t    castPath = require_castPath();\n\n\t/**\n\t * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n\t *\n\t * @private\n\t * @param {Object} object The source object.\n\t * @param {string[]} paths The property paths to pick.\n\t * @param {Function} predicate The function invoked per property.\n\t * @returns {Object} Returns the new object.\n\t */\n\tfunction basePickBy(object, paths, predicate) {\n\t  var index = -1,\n\t      length = paths.length,\n\t      result = {};\n\n\t  while (++index < length) {\n\t    var path = paths[index],\n\t        value = baseGet(object, path);\n\n\t    if (predicate(value, path)) {\n\t      baseSet(result, castPath(path, object), value);\n\t    }\n\t  }\n\t  return result;\n\t}\n\n\t_basePickBy = basePickBy;\n\treturn _basePickBy;\n}\n\nexport { require_basePickBy as __require };\n//# sourceMappingURL=_basePickBy.js.map\n","import { __require as require_basePickBy } from './_basePickBy.js';\nimport { __require as requireHasIn } from './hasIn.js';\n\nvar _basePick;\nvar hasRequired_basePick;\n\nfunction require_basePick () {\n\tif (hasRequired_basePick) return _basePick;\n\thasRequired_basePick = 1;\n\tvar basePickBy = require_basePickBy(),\n\t    hasIn = requireHasIn();\n\n\t/**\n\t * The base implementation of `_.pick` without support for individual\n\t * property identifiers.\n\t *\n\t * @private\n\t * @param {Object} object The source object.\n\t * @param {string[]} paths The property paths to pick.\n\t * @returns {Object} Returns the new object.\n\t */\n\tfunction basePick(object, paths) {\n\t  return basePickBy(object, paths, function(value, path) {\n\t    return hasIn(object, path);\n\t  });\n\t}\n\n\t_basePick = basePick;\n\treturn _basePick;\n}\n\nexport { require_basePick as __require };\n//# sourceMappingURL=_basePick.js.map\n","import { __require as requireFlatten } from './flatten.js';\nimport { __require as require_overRest } from './_overRest.js';\nimport { __require as require_setToString } from './_setToString.js';\n\nvar _flatRest;\nvar hasRequired_flatRest;\n\nfunction require_flatRest () {\n\tif (hasRequired_flatRest) return _flatRest;\n\thasRequired_flatRest = 1;\n\tvar flatten = requireFlatten(),\n\t    overRest = require_overRest(),\n\t    setToString = require_setToString();\n\n\t/**\n\t * A specialized version of `baseRest` which flattens the rest array.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction flatRest(func) {\n\t  return setToString(overRest(func, undefined, flatten), func + '');\n\t}\n\n\t_flatRest = flatRest;\n\treturn _flatRest;\n}\n\nexport { require_flatRest as __require };\n//# sourceMappingURL=_flatRest.js.map\n","import { __require as require_basePick } from './_basePick.js';\nimport { __require as require_flatRest } from './_flatRest.js';\n\nvar pick_1;\nvar hasRequiredPick;\n\nfunction requirePick () {\n\tif (hasRequiredPick) return pick_1;\n\thasRequiredPick = 1;\n\tvar basePick = require_basePick(),\n\t    flatRest = require_flatRest();\n\n\t/**\n\t * Creates an object composed of the picked `object` properties.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The source object.\n\t * @param {...(string|string[])} [paths] The property paths to pick.\n\t * @returns {Object} Returns the new object.\n\t * @example\n\t *\n\t * var object = { 'a': 1, 'b': '2', 'c': 3 };\n\t *\n\t * _.pick(object, ['a', 'c']);\n\t * // => { 'a': 1, 'c': 3 }\n\t */\n\tvar pick = flatRest(function(object, paths) {\n\t  return object == null ? {} : basePick(object, paths);\n\t});\n\n\tpick_1 = pick;\n\treturn pick_1;\n}\n\nexport { requirePick as __require };\n//# sourceMappingURL=pick.js.map\n","/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar _baseRange;\nvar hasRequired_baseRange;\n\nfunction require_baseRange () {\n\tif (hasRequired_baseRange) return _baseRange;\n\thasRequired_baseRange = 1;\n\tvar nativeCeil = Math.ceil,\n\t    nativeMax = Math.max;\n\n\t/**\n\t * The base implementation of `_.range` and `_.rangeRight` which doesn't\n\t * coerce arguments.\n\t *\n\t * @private\n\t * @param {number} start The start of the range.\n\t * @param {number} end The end of the range.\n\t * @param {number} step The value to increment or decrement by.\n\t * @param {boolean} [fromRight] Specify iterating from right to left.\n\t * @returns {Array} Returns the range of numbers.\n\t */\n\tfunction baseRange(start, end, step, fromRight) {\n\t  var index = -1,\n\t      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n\t      result = Array(length);\n\n\t  while (length--) {\n\t    result[fromRight ? length : ++index] = start;\n\t    start += step;\n\t  }\n\t  return result;\n\t}\n\n\t_baseRange = baseRange;\n\treturn _baseRange;\n}\n\nexport { require_baseRange as __require };\n//# sourceMappingURL=_baseRange.js.map\n","import { __require as require_baseRange } from './_baseRange.js';\nimport { __require as require_isIterateeCall } from './_isIterateeCall.js';\nimport { __require as requireToFinite } from './toFinite.js';\n\nvar _createRange;\nvar hasRequired_createRange;\n\nfunction require_createRange () {\n\tif (hasRequired_createRange) return _createRange;\n\thasRequired_createRange = 1;\n\tvar baseRange = require_baseRange(),\n\t    isIterateeCall = require_isIterateeCall(),\n\t    toFinite = requireToFinite();\n\n\t/**\n\t * Creates a `_.range` or `_.rangeRight` function.\n\t *\n\t * @private\n\t * @param {boolean} [fromRight] Specify iterating from right to left.\n\t * @returns {Function} Returns the new range function.\n\t */\n\tfunction createRange(fromRight) {\n\t  return function(start, end, step) {\n\t    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n\t      end = step = undefined;\n\t    }\n\t    // Ensure the sign of `-0` is preserved.\n\t    start = toFinite(start);\n\t    if (end === undefined) {\n\t      end = start;\n\t      start = 0;\n\t    } else {\n\t      end = toFinite(end);\n\t    }\n\t    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n\t    return baseRange(start, end, step, fromRight);\n\t  };\n\t}\n\n\t_createRange = createRange;\n\treturn _createRange;\n}\n\nexport { require_createRange as __require };\n//# sourceMappingURL=_createRange.js.map\n","import { __require as require_createRange } from './_createRange.js';\n\nvar range_1;\nvar hasRequiredRange;\n\nfunction requireRange () {\n\tif (hasRequiredRange) return range_1;\n\thasRequiredRange = 1;\n\tvar createRange = require_createRange();\n\n\t/**\n\t * Creates an array of numbers (positive and/or negative) progressing from\n\t * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n\t * `start` is specified without an `end` or `step`. If `end` is not specified,\n\t * it's set to `start` with `start` then set to `0`.\n\t *\n\t * **Note:** JavaScript follows the IEEE-754 standard for resolving\n\t * floating-point values which can produce unexpected results.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Util\n\t * @param {number} [start=0] The start of the range.\n\t * @param {number} end The end of the range.\n\t * @param {number} [step=1] The value to increment or decrement by.\n\t * @returns {Array} Returns the range of numbers.\n\t * @see _.inRange, _.rangeRight\n\t * @example\n\t *\n\t * _.range(4);\n\t * // => [0, 1, 2, 3]\n\t *\n\t * _.range(-4);\n\t * // => [0, -1, -2, -3]\n\t *\n\t * _.range(1, 5);\n\t * // => [1, 2, 3, 4]\n\t *\n\t * _.range(0, 20, 5);\n\t * // => [0, 5, 10, 15]\n\t *\n\t * _.range(0, -4, -1);\n\t * // => [0, -1, -2, -3]\n\t *\n\t * _.range(1, 4, 0);\n\t * // => [1, 1, 1]\n\t *\n\t * _.range(0);\n\t * // => []\n\t */\n\tvar range = createRange();\n\n\trange_1 = range;\n\treturn range_1;\n}\n\nexport { requireRange as __require };\n//# sourceMappingURL=range.js.map\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\n\nvar _baseSortBy;\nvar hasRequired_baseSortBy;\n\nfunction require_baseSortBy () {\n\tif (hasRequired_baseSortBy) return _baseSortBy;\n\thasRequired_baseSortBy = 1;\n\tfunction baseSortBy(array, comparer) {\n\t  var length = array.length;\n\n\t  array.sort(comparer);\n\t  while (length--) {\n\t    array[length] = array[length].value;\n\t  }\n\t  return array;\n\t}\n\n\t_baseSortBy = baseSortBy;\n\treturn _baseSortBy;\n}\n\nexport { require_baseSortBy as __require };\n//# sourceMappingURL=_baseSortBy.js.map\n","import { __require as requireIsSymbol } from './isSymbol.js';\n\nvar _compareAscending;\nvar hasRequired_compareAscending;\n\nfunction require_compareAscending () {\n\tif (hasRequired_compareAscending) return _compareAscending;\n\thasRequired_compareAscending = 1;\n\tvar isSymbol = requireIsSymbol();\n\n\t/**\n\t * Compares values to sort them in ascending order.\n\t *\n\t * @private\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {number} Returns the sort order indicator for `value`.\n\t */\n\tfunction compareAscending(value, other) {\n\t  if (value !== other) {\n\t    var valIsDefined = value !== undefined,\n\t        valIsNull = value === null,\n\t        valIsReflexive = value === value,\n\t        valIsSymbol = isSymbol(value);\n\n\t    var othIsDefined = other !== undefined,\n\t        othIsNull = other === null,\n\t        othIsReflexive = other === other,\n\t        othIsSymbol = isSymbol(other);\n\n\t    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n\t        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n\t        (valIsNull && othIsDefined && othIsReflexive) ||\n\t        (!valIsDefined && othIsReflexive) ||\n\t        !valIsReflexive) {\n\t      return 1;\n\t    }\n\t    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n\t        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n\t        (othIsNull && valIsDefined && valIsReflexive) ||\n\t        (!othIsDefined && valIsReflexive) ||\n\t        !othIsReflexive) {\n\t      return -1;\n\t    }\n\t  }\n\t  return 0;\n\t}\n\n\t_compareAscending = compareAscending;\n\treturn _compareAscending;\n}\n\nexport { require_compareAscending as __require };\n//# sourceMappingURL=_compareAscending.js.map\n","import { __require as require_compareAscending } from './_compareAscending.js';\n\nvar _compareMultiple;\nvar hasRequired_compareMultiple;\n\nfunction require_compareMultiple () {\n\tif (hasRequired_compareMultiple) return _compareMultiple;\n\thasRequired_compareMultiple = 1;\n\tvar compareAscending = require_compareAscending();\n\n\t/**\n\t * Used by `_.orderBy` to compare multiple properties of a value to another\n\t * and stable sort them.\n\t *\n\t * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n\t * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n\t * of corresponding values.\n\t *\n\t * @private\n\t * @param {Object} object The object to compare.\n\t * @param {Object} other The other object to compare.\n\t * @param {boolean[]|string[]} orders The order to sort by for each property.\n\t * @returns {number} Returns the sort order indicator for `object`.\n\t */\n\tfunction compareMultiple(object, other, orders) {\n\t  var index = -1,\n\t      objCriteria = object.criteria,\n\t      othCriteria = other.criteria,\n\t      length = objCriteria.length,\n\t      ordersLength = orders.length;\n\n\t  while (++index < length) {\n\t    var result = compareAscending(objCriteria[index], othCriteria[index]);\n\t    if (result) {\n\t      if (index >= ordersLength) {\n\t        return result;\n\t      }\n\t      var order = orders[index];\n\t      return result * (order == 'desc' ? -1 : 1);\n\t    }\n\t  }\n\t  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n\t  // that causes it, under certain circumstances, to provide the same value for\n\t  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n\t  // for more details.\n\t  //\n\t  // This also ensures a stable sort in V8 and other engines.\n\t  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n\t  return object.index - other.index;\n\t}\n\n\t_compareMultiple = compareMultiple;\n\treturn _compareMultiple;\n}\n\nexport { require_compareMultiple as __require };\n//# sourceMappingURL=_compareMultiple.js.map\n","import { __require as require_arrayMap } from './_arrayMap.js';\nimport { __require as require_baseGet } from './_baseGet.js';\nimport { __require as require_baseIteratee } from './_baseIteratee.js';\nimport { __require as require_baseMap } from './_baseMap.js';\nimport { __require as require_baseSortBy } from './_baseSortBy.js';\nimport { __require as require_baseUnary } from './_baseUnary.js';\nimport { __require as require_compareMultiple } from './_compareMultiple.js';\nimport { __require as requireIdentity } from './identity.js';\nimport { __require as requireIsArray } from './isArray.js';\n\nvar _baseOrderBy;\nvar hasRequired_baseOrderBy;\n\nfunction require_baseOrderBy () {\n\tif (hasRequired_baseOrderBy) return _baseOrderBy;\n\thasRequired_baseOrderBy = 1;\n\tvar arrayMap = require_arrayMap(),\n\t    baseGet = require_baseGet(),\n\t    baseIteratee = require_baseIteratee(),\n\t    baseMap = require_baseMap(),\n\t    baseSortBy = require_baseSortBy(),\n\t    baseUnary = require_baseUnary(),\n\t    compareMultiple = require_compareMultiple(),\n\t    identity = requireIdentity(),\n\t    isArray = requireIsArray();\n\n\t/**\n\t * The base implementation of `_.orderBy` without param guards.\n\t *\n\t * @private\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n\t * @param {string[]} orders The sort orders of `iteratees`.\n\t * @returns {Array} Returns the new sorted array.\n\t */\n\tfunction baseOrderBy(collection, iteratees, orders) {\n\t  if (iteratees.length) {\n\t    iteratees = arrayMap(iteratees, function(iteratee) {\n\t      if (isArray(iteratee)) {\n\t        return function(value) {\n\t          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n\t        }\n\t      }\n\t      return iteratee;\n\t    });\n\t  } else {\n\t    iteratees = [identity];\n\t  }\n\n\t  var index = -1;\n\t  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n\t  var result = baseMap(collection, function(value, key, collection) {\n\t    var criteria = arrayMap(iteratees, function(iteratee) {\n\t      return iteratee(value);\n\t    });\n\t    return { 'criteria': criteria, 'index': ++index, 'value': value };\n\t  });\n\n\t  return baseSortBy(result, function(object, other) {\n\t    return compareMultiple(object, other, orders);\n\t  });\n\t}\n\n\t_baseOrderBy = baseOrderBy;\n\treturn _baseOrderBy;\n}\n\nexport { require_baseOrderBy as __require };\n//# sourceMappingURL=_baseOrderBy.js.map\n","import { __require as require_baseFlatten } from './_baseFlatten.js';\nimport { __require as require_baseOrderBy } from './_baseOrderBy.js';\nimport { __require as require_baseRest } from './_baseRest.js';\nimport { __require as require_isIterateeCall } from './_isIterateeCall.js';\n\nvar sortBy_1;\nvar hasRequiredSortBy;\n\nfunction requireSortBy () {\n\tif (hasRequiredSortBy) return sortBy_1;\n\thasRequiredSortBy = 1;\n\tvar baseFlatten = require_baseFlatten(),\n\t    baseOrderBy = require_baseOrderBy(),\n\t    baseRest = require_baseRest(),\n\t    isIterateeCall = require_isIterateeCall();\n\n\t/**\n\t * Creates an array of elements, sorted in ascending order by the results of\n\t * running each element in a collection thru each iteratee. This method\n\t * performs a stable sort, that is, it preserves the original sort order of\n\t * equal elements. The iteratees are invoked with one argument: (value).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Collection\n\t * @param {Array|Object} collection The collection to iterate over.\n\t * @param {...(Function|Function[])} [iteratees=[_.identity]]\n\t *  The iteratees to sort by.\n\t * @returns {Array} Returns the new sorted array.\n\t * @example\n\t *\n\t * var users = [\n\t *   { 'user': 'fred',   'age': 48 },\n\t *   { 'user': 'barney', 'age': 36 },\n\t *   { 'user': 'fred',   'age': 30 },\n\t *   { 'user': 'barney', 'age': 34 }\n\t * ];\n\t *\n\t * _.sortBy(users, [function(o) { return o.user; }]);\n\t * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n\t *\n\t * _.sortBy(users, ['user', 'age']);\n\t * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n\t */\n\tvar sortBy = baseRest(function(collection, iteratees) {\n\t  if (collection == null) {\n\t    return [];\n\t  }\n\t  var length = iteratees.length;\n\t  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n\t    iteratees = [];\n\t  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n\t    iteratees = [iteratees[0]];\n\t  }\n\t  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n\t});\n\n\tsortBy_1 = sortBy;\n\treturn sortBy_1;\n}\n\nexport { requireSortBy as __require };\n//# sourceMappingURL=sortBy.js.map\n","import { __require as requireToString } from './toString.js';\n\nvar uniqueId_1;\nvar hasRequiredUniqueId;\n\nfunction requireUniqueId () {\n\tif (hasRequiredUniqueId) return uniqueId_1;\n\thasRequiredUniqueId = 1;\n\tvar toString = requireToString();\n\n\t/** Used to generate unique IDs. */\n\tvar idCounter = 0;\n\n\t/**\n\t * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Util\n\t * @param {string} [prefix=''] The value to prefix the ID with.\n\t * @returns {string} Returns the unique ID.\n\t * @example\n\t *\n\t * _.uniqueId('contact_');\n\t * // => 'contact_104'\n\t *\n\t * _.uniqueId();\n\t * // => '105'\n\t */\n\tfunction uniqueId(prefix) {\n\t  var id = ++idCounter;\n\t  return toString(prefix) + id;\n\t}\n\n\tuniqueId_1 = uniqueId;\n\treturn uniqueId_1;\n}\n\nexport { requireUniqueId as __require };\n//# sourceMappingURL=uniqueId.js.map\n","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\n\nvar _baseZipObject;\nvar hasRequired_baseZipObject;\n\nfunction require_baseZipObject () {\n\tif (hasRequired_baseZipObject) return _baseZipObject;\n\thasRequired_baseZipObject = 1;\n\tfunction baseZipObject(props, values, assignFunc) {\n\t  var index = -1,\n\t      length = props.length,\n\t      valsLength = values.length,\n\t      result = {};\n\n\t  while (++index < length) {\n\t    var value = index < valsLength ? values[index] : undefined;\n\t    assignFunc(result, props[index], value);\n\t  }\n\t  return result;\n\t}\n\n\t_baseZipObject = baseZipObject;\n\treturn _baseZipObject;\n}\n\nexport { require_baseZipObject as __require };\n//# sourceMappingURL=_baseZipObject.js.map\n","import { __require as require_assignValue } from './_assignValue.js';\nimport { __require as require_baseZipObject } from './_baseZipObject.js';\n\nvar zipObject_1;\nvar hasRequiredZipObject;\n\nfunction requireZipObject () {\n\tif (hasRequiredZipObject) return zipObject_1;\n\thasRequiredZipObject = 1;\n\tvar assignValue = require_assignValue(),\n\t    baseZipObject = require_baseZipObject();\n\n\t/**\n\t * This method is like `_.fromPairs` except that it accepts two arrays,\n\t * one of property identifiers and one of corresponding values.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.4.0\n\t * @category Array\n\t * @param {Array} [props=[]] The property identifiers.\n\t * @param {Array} [values=[]] The property values.\n\t * @returns {Object} Returns the new object.\n\t * @example\n\t *\n\t * _.zipObject(['a', 'b'], [1, 2]);\n\t * // => { 'a': 1, 'b': 2 }\n\t */\n\tfunction zipObject(props, values) {\n\t  return baseZipObject(props || [], values || [], assignValue);\n\t}\n\n\tzipObject_1 = zipObject;\n\treturn zipObject_1;\n}\n\nexport { requireZipObject as __require };\n//# sourceMappingURL=zipObject.js.map\n","import { commonjsRequire } from '../../../_virtual/_commonjs-dynamic-modules.js';\nimport { __require as requireCloneDeep } from '../../lodash/cloneDeep.js';\nimport { __require as requireConstant } from '../../lodash/constant.js';\nimport { __require as requireDefaults } from '../../lodash/defaults.js';\nimport { __require as requireEach } from '../../lodash/each.js';\nimport { __require as requireFilter } from '../../lodash/filter.js';\nimport { __require as requireFind } from '../../lodash/find.js';\nimport { __require as requireFlatten } from '../../lodash/flatten.js';\nimport { __require as requireForEach } from '../../lodash/forEach.js';\nimport { __require as requireForIn } from '../../lodash/forIn.js';\nimport { __require as requireHas } from '../../lodash/has.js';\nimport { __require as requireIsUndefined } from '../../lodash/isUndefined.js';\nimport { __require as requireLast } from '../../lodash/last.js';\nimport { __require as requireMap } from '../../lodash/map.js';\nimport { __require as requireMapValues } from '../../lodash/mapValues.js';\nimport { __require as requireMax } from '../../lodash/max.js';\nimport { __require as requireMerge } from '../../lodash/merge.js';\nimport { __require as requireMin } from '../../lodash/min.js';\nimport { __require as requireMinBy } from '../../lodash/minBy.js';\nimport { __require as requireNow } from '../../lodash/now.js';\nimport { __require as requirePick } from '../../lodash/pick.js';\nimport { __require as requireRange } from '../../lodash/range.js';\nimport { __require as requireReduce } from '../../lodash/reduce.js';\nimport { __require as requireSortBy } from '../../lodash/sortBy.js';\nimport { __require as requireUniqueId } from '../../lodash/uniqueId.js';\nimport { __require as requireValues } from '../../lodash/values.js';\nimport { __require as requireZipObject } from '../../lodash/zipObject.js';\n\n/* global window */\n\nvar lodash_1;\nvar hasRequiredLodash;\n\nfunction requireLodash () {\n\tif (hasRequiredLodash) return lodash_1;\n\thasRequiredLodash = 1;\n\tvar lodash;\n\n\tif (typeof commonjsRequire === \"function\") {\n\t  try {\n\t    lodash = {\n\t      cloneDeep: requireCloneDeep(),\n\t      constant: requireConstant(),\n\t      defaults: requireDefaults(),\n\t      each: requireEach(),\n\t      filter: requireFilter(),\n\t      find: requireFind(),\n\t      flatten: requireFlatten(),\n\t      forEach: requireForEach(),\n\t      forIn: requireForIn(),\n\t      has:  requireHas(),\n\t      isUndefined: requireIsUndefined(),\n\t      last: requireLast(),\n\t      map: requireMap(),\n\t      mapValues: requireMapValues(),\n\t      max: requireMax(),\n\t      merge: requireMerge(),\n\t      min: requireMin(),\n\t      minBy: requireMinBy(),\n\t      now: requireNow(),\n\t      pick: requirePick(),\n\t      range: requireRange(),\n\t      reduce: requireReduce(),\n\t      sortBy: requireSortBy(),\n\t      uniqueId: requireUniqueId(),\n\t      values: requireValues(),\n\t      zipObject: requireZipObject(),\n\t    };\n\t  } catch (e) {\n\t    // continue regardless of error\n\t  }\n\t}\n\n\tif (!lodash) {\n\t  lodash = window._;\n\t}\n\n\tlodash_1 = lodash;\n\treturn lodash_1;\n}\n\nexport { requireLodash as __require };\n//# sourceMappingURL=lodash.js.map\n","/*\n * Simple doubly linked list implementation derived from Cormen, et al.,\n * \"Introduction to Algorithms\".\n */\n\nvar list;\nvar hasRequiredList;\n\nfunction requireList () {\n\tif (hasRequiredList) return list;\n\thasRequiredList = 1;\n\tlist = List;\n\n\tfunction List() {\n\t  var sentinel = {};\n\t  sentinel._next = sentinel._prev = sentinel;\n\t  this._sentinel = sentinel;\n\t}\n\n\tList.prototype.dequeue = function() {\n\t  var sentinel = this._sentinel;\n\t  var entry = sentinel._prev;\n\t  if (entry !== sentinel) {\n\t    unlink(entry);\n\t    return entry;\n\t  }\n\t};\n\n\tList.prototype.enqueue = function(entry) {\n\t  var sentinel = this._sentinel;\n\t  if (entry._prev && entry._next) {\n\t    unlink(entry);\n\t  }\n\t  entry._next = sentinel._next;\n\t  sentinel._next._prev = entry;\n\t  sentinel._next = entry;\n\t  entry._prev = sentinel;\n\t};\n\n\tList.prototype.toString = function() {\n\t  var strs = [];\n\t  var sentinel = this._sentinel;\n\t  var curr = sentinel._prev;\n\t  while (curr !== sentinel) {\n\t    strs.push(JSON.stringify(curr, filterOutLinks));\n\t    curr = curr._prev;\n\t  }\n\t  return \"[\" + strs.join(\", \") + \"]\";\n\t};\n\n\tfunction unlink(entry) {\n\t  entry._prev._next = entry._next;\n\t  entry._next._prev = entry._prev;\n\t  delete entry._next;\n\t  delete entry._prev;\n\t}\n\n\tfunction filterOutLinks(k, v) {\n\t  if (k !== \"_next\" && k !== \"_prev\") {\n\t    return v;\n\t  }\n\t}\n\treturn list;\n}\n\nexport { requireList as __require };\n//# sourceMappingURL=list.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireGraphlib } from './graphlib.js';\nimport { __require as requireList } from './data/list.js';\n\nvar greedyFas;\nvar hasRequiredGreedyFas;\n\nfunction requireGreedyFas () {\n\tif (hasRequiredGreedyFas) return greedyFas;\n\thasRequiredGreedyFas = 1;\n\tvar _ = requireLodash();\n\tvar Graph = requireGraphlib().Graph;\n\tvar List = requireList();\n\n\t/*\n\t * A greedy heuristic for finding a feedback arc set for a graph. A feedback\n\t * arc set is a set of edges that can be removed to make a graph acyclic.\n\t * The algorithm comes from: P. Eades, X. Lin, and W. F. Smyth, \"A fast and\n\t * effective heuristic for the feedback arc set problem.\" This implementation\n\t * adjusts that from the paper to allow for weighted edges.\n\t */\n\tgreedyFas = greedyFAS;\n\n\tvar DEFAULT_WEIGHT_FN = _.constant(1);\n\n\tfunction greedyFAS(g, weightFn) {\n\t  if (g.nodeCount() <= 1) {\n\t    return [];\n\t  }\n\t  var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);\n\t  var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);\n\n\t  // Expand multi-edges\n\t  return _.flatten(_.map(results, function(e) {\n\t    return g.outEdges(e.v, e.w);\n\t  }), true);\n\t}\n\n\tfunction doGreedyFAS(g, buckets, zeroIdx) {\n\t  var results = [];\n\t  var sources = buckets[buckets.length - 1];\n\t  var sinks = buckets[0];\n\n\t  var entry;\n\t  while (g.nodeCount()) {\n\t    while ((entry = sinks.dequeue()))   { removeNode(g, buckets, zeroIdx, entry); }\n\t    while ((entry = sources.dequeue())) { removeNode(g, buckets, zeroIdx, entry); }\n\t    if (g.nodeCount()) {\n\t      for (var i = buckets.length - 2; i > 0; --i) {\n\t        entry = buckets[i].dequeue();\n\t        if (entry) {\n\t          results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));\n\t          break;\n\t        }\n\t      }\n\t    }\n\t  }\n\n\t  return results;\n\t}\n\n\tfunction removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {\n\t  var results = collectPredecessors ? [] : undefined;\n\n\t  _.forEach(g.inEdges(entry.v), function(edge) {\n\t    var weight = g.edge(edge);\n\t    var uEntry = g.node(edge.v);\n\n\t    if (collectPredecessors) {\n\t      results.push({ v: edge.v, w: edge.w });\n\t    }\n\n\t    uEntry.out -= weight;\n\t    assignBucket(buckets, zeroIdx, uEntry);\n\t  });\n\n\t  _.forEach(g.outEdges(entry.v), function(edge) {\n\t    var weight = g.edge(edge);\n\t    var w = edge.w;\n\t    var wEntry = g.node(w);\n\t    wEntry[\"in\"] -= weight;\n\t    assignBucket(buckets, zeroIdx, wEntry);\n\t  });\n\n\t  g.removeNode(entry.v);\n\n\t  return results;\n\t}\n\n\tfunction buildState(g, weightFn) {\n\t  var fasGraph = new Graph();\n\t  var maxIn = 0;\n\t  var maxOut = 0;\n\n\t  _.forEach(g.nodes(), function(v) {\n\t    fasGraph.setNode(v, { v: v, \"in\": 0, out: 0 });\n\t  });\n\n\t  // Aggregate weights on nodes, but also sum the weights across multi-edges\n\t  // into a single edge for the fasGraph.\n\t  _.forEach(g.edges(), function(e) {\n\t    var prevWeight = fasGraph.edge(e.v, e.w) || 0;\n\t    var weight = weightFn(e);\n\t    var edgeWeight = prevWeight + weight;\n\t    fasGraph.setEdge(e.v, e.w, edgeWeight);\n\t    maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);\n\t    maxIn  = Math.max(maxIn,  fasGraph.node(e.w)[\"in\"]  += weight);\n\t  });\n\n\t  var buckets = _.range(maxOut + maxIn + 3).map(function() { return new List(); });\n\t  var zeroIdx = maxIn + 1;\n\n\t  _.forEach(fasGraph.nodes(), function(v) {\n\t    assignBucket(buckets, zeroIdx, fasGraph.node(v));\n\t  });\n\n\t  return { graph: fasGraph, buckets: buckets, zeroIdx: zeroIdx };\n\t}\n\n\tfunction assignBucket(buckets, zeroIdx, entry) {\n\t  if (!entry.out) {\n\t    buckets[0].enqueue(entry);\n\t  } else if (!entry[\"in\"]) {\n\t    buckets[buckets.length - 1].enqueue(entry);\n\t  } else {\n\t    buckets[entry.out - entry[\"in\"] + zeroIdx].enqueue(entry);\n\t  }\n\t}\n\treturn greedyFas;\n}\n\nexport { requireGreedyFas as __require };\n//# sourceMappingURL=greedy-fas.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireGreedyFas } from './greedy-fas.js';\n\nvar acyclic;\nvar hasRequiredAcyclic;\n\nfunction requireAcyclic () {\n\tif (hasRequiredAcyclic) return acyclic;\n\thasRequiredAcyclic = 1;\n\n\tvar _ = requireLodash();\n\tvar greedyFAS = requireGreedyFas();\n\n\tacyclic = {\n\t  run: run,\n\t  undo: undo\n\t};\n\n\tfunction run(g) {\n\t  var fas = (g.graph().acyclicer === \"greedy\"\n\t    ? greedyFAS(g, weightFn(g))\n\t    : dfsFAS(g));\n\t  _.forEach(fas, function(e) {\n\t    var label = g.edge(e);\n\t    g.removeEdge(e);\n\t    label.forwardName = e.name;\n\t    label.reversed = true;\n\t    g.setEdge(e.w, e.v, label, _.uniqueId(\"rev\"));\n\t  });\n\n\t  function weightFn(g) {\n\t    return function(e) {\n\t      return g.edge(e).weight;\n\t    };\n\t  }\n\t}\n\n\tfunction dfsFAS(g) {\n\t  var fas = [];\n\t  var stack = {};\n\t  var visited = {};\n\n\t  function dfs(v) {\n\t    if (_.has(visited, v)) {\n\t      return;\n\t    }\n\t    visited[v] = true;\n\t    stack[v] = true;\n\t    _.forEach(g.outEdges(v), function(e) {\n\t      if (_.has(stack, e.w)) {\n\t        fas.push(e);\n\t      } else {\n\t        dfs(e.w);\n\t      }\n\t    });\n\t    delete stack[v];\n\t  }\n\n\t  _.forEach(g.nodes(), dfs);\n\t  return fas;\n\t}\n\n\tfunction undo(g) {\n\t  _.forEach(g.edges(), function(e) {\n\t    var label = g.edge(e);\n\t    if (label.reversed) {\n\t      g.removeEdge(e);\n\n\t      var forwardName = label.forwardName;\n\t      delete label.reversed;\n\t      delete label.forwardName;\n\t      g.setEdge(e.w, e.v, label, forwardName);\n\t    }\n\t  });\n\t}\n\treturn acyclic;\n}\n\nexport { requireAcyclic as __require };\n//# sourceMappingURL=acyclic.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireGraphlib } from './graphlib.js';\n\n/* eslint \"no-console\": off */\n\nvar util$1;\nvar hasRequiredUtil$1;\n\nfunction requireUtil$1 () {\n\tif (hasRequiredUtil$1) return util$1;\n\thasRequiredUtil$1 = 1;\n\n\tvar _ = requireLodash();\n\tvar Graph = requireGraphlib().Graph;\n\n\tutil$1 = {\n\t  addDummyNode: addDummyNode,\n\t  simplify: simplify,\n\t  asNonCompoundGraph: asNonCompoundGraph,\n\t  successorWeights: successorWeights,\n\t  predecessorWeights: predecessorWeights,\n\t  intersectRect: intersectRect,\n\t  buildLayerMatrix: buildLayerMatrix,\n\t  normalizeRanks: normalizeRanks,\n\t  removeEmptyRanks: removeEmptyRanks,\n\t  addBorderNode: addBorderNode,\n\t  maxRank: maxRank,\n\t  partition: partition,\n\t  time: time,\n\t  notime: notime\n\t};\n\n\t/*\n\t * Adds a dummy node to the graph and return v.\n\t */\n\tfunction addDummyNode(g, type, attrs, name) {\n\t  var v;\n\t  do {\n\t    v = _.uniqueId(name);\n\t  } while (g.hasNode(v));\n\n\t  attrs.dummy = type;\n\t  g.setNode(v, attrs);\n\t  return v;\n\t}\n\n\t/*\n\t * Returns a new graph with only simple edges. Handles aggregation of data\n\t * associated with multi-edges.\n\t */\n\tfunction simplify(g) {\n\t  var simplified = new Graph().setGraph(g.graph());\n\t  _.forEach(g.nodes(), function(v) { simplified.setNode(v, g.node(v)); });\n\t  _.forEach(g.edges(), function(e) {\n\t    var simpleLabel = simplified.edge(e.v, e.w) || { weight: 0, minlen: 1 };\n\t    var label = g.edge(e);\n\t    simplified.setEdge(e.v, e.w, {\n\t      weight: simpleLabel.weight + label.weight,\n\t      minlen: Math.max(simpleLabel.minlen, label.minlen)\n\t    });\n\t  });\n\t  return simplified;\n\t}\n\n\tfunction asNonCompoundGraph(g) {\n\t  var simplified = new Graph({ multigraph: g.isMultigraph() }).setGraph(g.graph());\n\t  _.forEach(g.nodes(), function(v) {\n\t    if (!g.children(v).length) {\n\t      simplified.setNode(v, g.node(v));\n\t    }\n\t  });\n\t  _.forEach(g.edges(), function(e) {\n\t    simplified.setEdge(e, g.edge(e));\n\t  });\n\t  return simplified;\n\t}\n\n\tfunction successorWeights(g) {\n\t  var weightMap = _.map(g.nodes(), function(v) {\n\t    var sucs = {};\n\t    _.forEach(g.outEdges(v), function(e) {\n\t      sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;\n\t    });\n\t    return sucs;\n\t  });\n\t  return _.zipObject(g.nodes(), weightMap);\n\t}\n\n\tfunction predecessorWeights(g) {\n\t  var weightMap = _.map(g.nodes(), function(v) {\n\t    var preds = {};\n\t    _.forEach(g.inEdges(v), function(e) {\n\t      preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;\n\t    });\n\t    return preds;\n\t  });\n\t  return _.zipObject(g.nodes(), weightMap);\n\t}\n\n\t/*\n\t * Finds where a line starting at point ({x, y}) would intersect a rectangle\n\t * ({x, y, width, height}) if it were pointing at the rectangle's center.\n\t */\n\tfunction intersectRect(rect, point) {\n\t  var x = rect.x;\n\t  var y = rect.y;\n\n\t  // Rectangle intersection algorithm from:\n\t  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n\t  var dx = point.x - x;\n\t  var dy = point.y - y;\n\t  var w = rect.width / 2;\n\t  var h = rect.height / 2;\n\n\t  if (!dx && !dy) {\n\t    throw new Error(\"Not possible to find intersection inside of the rectangle\");\n\t  }\n\n\t  var sx, sy;\n\t  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n\t    // Intersection is top or bottom of rect.\n\t    if (dy < 0) {\n\t      h = -h;\n\t    }\n\t    sx = h * dx / dy;\n\t    sy = h;\n\t  } else {\n\t    // Intersection is left or right of rect.\n\t    if (dx < 0) {\n\t      w = -w;\n\t    }\n\t    sx = w;\n\t    sy = w * dy / dx;\n\t  }\n\n\t  return { x: x + sx, y: y + sy };\n\t}\n\n\t/*\n\t * Given a DAG with each node assigned \"rank\" and \"order\" properties, this\n\t * function will produce a matrix with the ids of each node.\n\t */\n\tfunction buildLayerMatrix(g) {\n\t  var layering = _.map(_.range(maxRank(g) + 1), function() { return []; });\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v);\n\t    var rank = node.rank;\n\t    if (!_.isUndefined(rank)) {\n\t      layering[rank][node.order] = v;\n\t    }\n\t  });\n\t  return layering;\n\t}\n\n\t/*\n\t * Adjusts the ranks for all nodes in the graph such that all nodes v have\n\t * rank(v) >= 0 and at least one node w has rank(w) = 0.\n\t */\n\tfunction normalizeRanks(g) {\n\t  var min = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v);\n\t    if (_.has(node, \"rank\")) {\n\t      node.rank -= min;\n\t    }\n\t  });\n\t}\n\n\tfunction removeEmptyRanks(g) {\n\t  // Ranks may not start at 0, so we need to offset them\n\t  var offset = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n\n\t  var layers = [];\n\t  _.forEach(g.nodes(), function(v) {\n\t    var rank = g.node(v).rank - offset;\n\t    if (!layers[rank]) {\n\t      layers[rank] = [];\n\t    }\n\t    layers[rank].push(v);\n\t  });\n\n\t  var delta = 0;\n\t  var nodeRankFactor = g.graph().nodeRankFactor;\n\t  _.forEach(layers, function(vs, i) {\n\t    if (_.isUndefined(vs) && i % nodeRankFactor !== 0) {\n\t      --delta;\n\t    } else if (delta) {\n\t      _.forEach(vs, function(v) { g.node(v).rank += delta; });\n\t    }\n\t  });\n\t}\n\n\tfunction addBorderNode(g, prefix, rank, order) {\n\t  var node = {\n\t    width: 0,\n\t    height: 0\n\t  };\n\t  if (arguments.length >= 4) {\n\t    node.rank = rank;\n\t    node.order = order;\n\t  }\n\t  return addDummyNode(g, \"border\", node, prefix);\n\t}\n\n\tfunction maxRank(g) {\n\t  return _.max(_.map(g.nodes(), function(v) {\n\t    var rank = g.node(v).rank;\n\t    if (!_.isUndefined(rank)) {\n\t      return rank;\n\t    }\n\t  }));\n\t}\n\n\t/*\n\t * Partition a collection into two groups: `lhs` and `rhs`. If the supplied\n\t * function returns true for an entry it goes into `lhs`. Otherwise it goes\n\t * into `rhs.\n\t */\n\tfunction partition(collection, fn) {\n\t  var result = { lhs: [], rhs: [] };\n\t  _.forEach(collection, function(value) {\n\t    if (fn(value)) {\n\t      result.lhs.push(value);\n\t    } else {\n\t      result.rhs.push(value);\n\t    }\n\t  });\n\t  return result;\n\t}\n\n\t/*\n\t * Returns a new function that wraps `fn` with a timer. The wrapper logs the\n\t * time it takes to execute the function.\n\t */\n\tfunction time(name, fn) {\n\t  var start = _.now();\n\t  try {\n\t    return fn();\n\t  } finally {\n\t    console.log(name + \" time: \" + (_.now() - start) + \"ms\");\n\t  }\n\t}\n\n\tfunction notime(name, fn) {\n\t  return fn();\n\t}\n\treturn util$1;\n}\n\nexport { requireUtil$1 as __require };\n//# sourceMappingURL=util.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireUtil } from './util.js';\n\nvar normalize;\nvar hasRequiredNormalize;\n\nfunction requireNormalize () {\n\tif (hasRequiredNormalize) return normalize;\n\thasRequiredNormalize = 1;\n\n\tvar _ = requireLodash();\n\tvar util = requireUtil();\n\n\tnormalize = {\n\t  run: run,\n\t  undo: undo\n\t};\n\n\t/*\n\t * Breaks any long edges in the graph into short segments that span 1 layer\n\t * each. This operation is undoable with the denormalize function.\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. The input graph is a DAG.\n\t *    2. Each node in the graph has a \"rank\" property.\n\t *\n\t * Post-condition:\n\t *\n\t *    1. All edges in the graph have a length of 1.\n\t *    2. Dummy nodes are added where edges have been split into segments.\n\t *    3. The graph is augmented with a \"dummyChains\" attribute which contains\n\t *       the first dummy in each chain of dummy nodes produced.\n\t */\n\tfunction run(g) {\n\t  g.graph().dummyChains = [];\n\t  _.forEach(g.edges(), function(edge) { normalizeEdge(g, edge); });\n\t}\n\n\tfunction normalizeEdge(g, e) {\n\t  var v = e.v;\n\t  var vRank = g.node(v).rank;\n\t  var w = e.w;\n\t  var wRank = g.node(w).rank;\n\t  var name = e.name;\n\t  var edgeLabel = g.edge(e);\n\t  var labelRank = edgeLabel.labelRank;\n\n\t  if (wRank === vRank + 1) return;\n\n\t  g.removeEdge(e);\n\n\t  var dummy, attrs, i;\n\t  for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {\n\t    edgeLabel.points = [];\n\t    attrs = {\n\t      width: 0, height: 0,\n\t      edgeLabel: edgeLabel, edgeObj: e,\n\t      rank: vRank\n\t    };\n\t    dummy = util.addDummyNode(g, \"edge\", attrs, \"_d\");\n\t    if (vRank === labelRank) {\n\t      attrs.width = edgeLabel.width;\n\t      attrs.height = edgeLabel.height;\n\t      attrs.dummy = \"edge-label\";\n\t      attrs.labelpos = edgeLabel.labelpos;\n\t    }\n\t    g.setEdge(v, dummy, { weight: edgeLabel.weight }, name);\n\t    if (i === 0) {\n\t      g.graph().dummyChains.push(dummy);\n\t    }\n\t    v = dummy;\n\t  }\n\n\t  g.setEdge(v, w, { weight: edgeLabel.weight }, name);\n\t}\n\n\tfunction undo(g) {\n\t  _.forEach(g.graph().dummyChains, function(v) {\n\t    var node = g.node(v);\n\t    var origLabel = node.edgeLabel;\n\t    var w;\n\t    g.setEdge(node.edgeObj, origLabel);\n\t    while (node.dummy) {\n\t      w = g.successors(v)[0];\n\t      g.removeNode(v);\n\t      origLabel.points.push({ x: node.x, y: node.y });\n\t      if (node.dummy === \"edge-label\") {\n\t        origLabel.x = node.x;\n\t        origLabel.y = node.y;\n\t        origLabel.width = node.width;\n\t        origLabel.height = node.height;\n\t      }\n\t      v = w;\n\t      node = g.node(v);\n\t    }\n\t  });\n\t}\n\treturn normalize;\n}\n\nexport { requireNormalize as __require };\n//# sourceMappingURL=normalize.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar util;\nvar hasRequiredUtil;\n\nfunction requireUtil () {\n\tif (hasRequiredUtil) return util;\n\thasRequiredUtil = 1;\n\n\tvar _ = requireLodash();\n\n\tutil = {\n\t  longestPath: longestPath,\n\t  slack: slack\n\t};\n\n\t/*\n\t * Initializes ranks for the input graph using the longest path algorithm. This\n\t * algorithm scales well and is fast in practice, it yields rather poor\n\t * solutions. Nodes are pushed to the lowest layer possible, leaving the bottom\n\t * ranks wide and leaving edges longer than necessary. However, due to its\n\t * speed, this algorithm is good for getting an initial ranking that can be fed\n\t * into other algorithms.\n\t *\n\t * This algorithm does not normalize layers because it will be used by other\n\t * algorithms in most cases. If using this algorithm directly, be sure to\n\t * run normalize at the end.\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Input graph is a DAG.\n\t *    2. Input graph node labels can be assigned properties.\n\t *\n\t * Post-conditions:\n\t *\n\t *    1. Each node will be assign an (unnormalized) \"rank\" property.\n\t */\n\tfunction longestPath(g) {\n\t  var visited = {};\n\n\t  function dfs(v) {\n\t    var label = g.node(v);\n\t    if (_.has(visited, v)) {\n\t      return label.rank;\n\t    }\n\t    visited[v] = true;\n\n\t    var rank = _.min(_.map(g.outEdges(v), function(e) {\n\t      return dfs(e.w) - g.edge(e).minlen;\n\t    }));\n\n\t    if (rank === Number.POSITIVE_INFINITY || // return value of _.map([]) for Lodash 3\n\t        rank === undefined || // return value of _.map([]) for Lodash 4\n\t        rank === null) { // return value of _.map([null])\n\t      rank = 0;\n\t    }\n\n\t    return (label.rank = rank);\n\t  }\n\n\t  _.forEach(g.sources(), dfs);\n\t}\n\n\t/*\n\t * Returns the amount of slack for the given edge. The slack is defined as the\n\t * difference between the length of the edge and its minimum length.\n\t */\n\tfunction slack(g, e) {\n\t  return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;\n\t}\n\treturn util;\n}\n\nexport { requireUtil as __require };\n//# sourceMappingURL=util.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireGraphlib } from '../graphlib.js';\nimport { __require as requireUtil } from './util.js';\n\nvar feasibleTree_1;\nvar hasRequiredFeasibleTree;\n\nfunction requireFeasibleTree () {\n\tif (hasRequiredFeasibleTree) return feasibleTree_1;\n\thasRequiredFeasibleTree = 1;\n\n\tvar _ = requireLodash();\n\tvar Graph = requireGraphlib().Graph;\n\tvar slack = requireUtil().slack;\n\n\tfeasibleTree_1 = feasibleTree;\n\n\t/*\n\t * Constructs a spanning tree with tight edges and adjusted the input node's\n\t * ranks to achieve this. A tight edge is one that is has a length that matches\n\t * its \"minlen\" attribute.\n\t *\n\t * The basic structure for this function is derived from Gansner, et al., \"A\n\t * Technique for Drawing Directed Graphs.\"\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Graph must be a DAG.\n\t *    2. Graph must be connected.\n\t *    3. Graph must have at least one node.\n\t *    5. Graph nodes must have been previously assigned a \"rank\" property that\n\t *       respects the \"minlen\" property of incident edges.\n\t *    6. Graph edges must have a \"minlen\" property.\n\t *\n\t * Post-conditions:\n\t *\n\t *    - Graph nodes will have their rank adjusted to ensure that all edges are\n\t *      tight.\n\t *\n\t * Returns a tree (undirected graph) that is constructed using only \"tight\"\n\t * edges.\n\t */\n\tfunction feasibleTree(g) {\n\t  var t = new Graph({ directed: false });\n\n\t  // Choose arbitrary node from which to start our tree\n\t  var start = g.nodes()[0];\n\t  var size = g.nodeCount();\n\t  t.setNode(start, {});\n\n\t  var edge, delta;\n\t  while (tightTree(t, g) < size) {\n\t    edge = findMinSlackEdge(t, g);\n\t    delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);\n\t    shiftRanks(t, g, delta);\n\t  }\n\n\t  return t;\n\t}\n\n\t/*\n\t * Finds a maximal tree of tight edges and returns the number of nodes in the\n\t * tree.\n\t */\n\tfunction tightTree(t, g) {\n\t  function dfs(v) {\n\t    _.forEach(g.nodeEdges(v), function(e) {\n\t      var edgeV = e.v,\n\t        w = (v === edgeV) ? e.w : edgeV;\n\t      if (!t.hasNode(w) && !slack(g, e)) {\n\t        t.setNode(w, {});\n\t        t.setEdge(v, w, {});\n\t        dfs(w);\n\t      }\n\t    });\n\t  }\n\n\t  _.forEach(t.nodes(), dfs);\n\t  return t.nodeCount();\n\t}\n\n\t/*\n\t * Finds the edge with the smallest slack that is incident on tree and returns\n\t * it.\n\t */\n\tfunction findMinSlackEdge(t, g) {\n\t  return _.minBy(g.edges(), function(e) {\n\t    if (t.hasNode(e.v) !== t.hasNode(e.w)) {\n\t      return slack(g, e);\n\t    }\n\t  });\n\t}\n\n\tfunction shiftRanks(t, g, delta) {\n\t  _.forEach(t.nodes(), function(v) {\n\t    g.node(v).rank += delta;\n\t  });\n\t}\n\treturn feasibleTree_1;\n}\n\nexport { requireFeasibleTree as __require };\n//# sourceMappingURL=feasible-tree.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireFeasibleTree } from './feasible-tree.js';\nimport { __require as requireUtil } from './util.js';\nimport { __require as requireGraphlib } from '../graphlib.js';\nimport { __require as requireUtil$1 } from '../util.js';\n\nvar networkSimplex_1;\nvar hasRequiredNetworkSimplex;\n\nfunction requireNetworkSimplex () {\n\tif (hasRequiredNetworkSimplex) return networkSimplex_1;\n\thasRequiredNetworkSimplex = 1;\n\n\tvar _ = requireLodash();\n\tvar feasibleTree = requireFeasibleTree();\n\tvar slack = requireUtil().slack;\n\tvar initRank = requireUtil().longestPath;\n\tvar preorder = requireGraphlib().alg.preorder;\n\tvar postorder = requireGraphlib().alg.postorder;\n\tvar simplify = requireUtil$1().simplify;\n\n\tnetworkSimplex_1 = networkSimplex;\n\n\t// Expose some internals for testing purposes\n\tnetworkSimplex.initLowLimValues = initLowLimValues;\n\tnetworkSimplex.initCutValues = initCutValues;\n\tnetworkSimplex.calcCutValue = calcCutValue;\n\tnetworkSimplex.leaveEdge = leaveEdge;\n\tnetworkSimplex.enterEdge = enterEdge;\n\tnetworkSimplex.exchangeEdges = exchangeEdges;\n\n\t/*\n\t * The network simplex algorithm assigns ranks to each node in the input graph\n\t * and iteratively improves the ranking to reduce the length of edges.\n\t *\n\t * Preconditions:\n\t *\n\t *    1. The input graph must be a DAG.\n\t *    2. All nodes in the graph must have an object value.\n\t *    3. All edges in the graph must have \"minlen\" and \"weight\" attributes.\n\t *\n\t * Postconditions:\n\t *\n\t *    1. All nodes in the graph will have an assigned \"rank\" attribute that has\n\t *       been optimized by the network simplex algorithm. Ranks start at 0.\n\t *\n\t *\n\t * A rough sketch of the algorithm is as follows:\n\t *\n\t *    1. Assign initial ranks to each node. We use the longest path algorithm,\n\t *       which assigns ranks to the lowest position possible. In general this\n\t *       leads to very wide bottom ranks and unnecessarily long edges.\n\t *    2. Construct a feasible tight tree. A tight tree is one such that all\n\t *       edges in the tree have no slack (difference between length of edge\n\t *       and minlen for the edge). This by itself greatly improves the assigned\n\t *       rankings by shorting edges.\n\t *    3. Iteratively find edges that have negative cut values. Generally a\n\t *       negative cut value indicates that the edge could be removed and a new\n\t *       tree edge could be added to produce a more compact graph.\n\t *\n\t * Much of the algorithms here are derived from Gansner, et al., \"A Technique\n\t * for Drawing Directed Graphs.\" The structure of the file roughly follows the\n\t * structure of the overall algorithm.\n\t */\n\tfunction networkSimplex(g) {\n\t  g = simplify(g);\n\t  initRank(g);\n\t  var t = feasibleTree(g);\n\t  initLowLimValues(t);\n\t  initCutValues(t, g);\n\n\t  var e, f;\n\t  while ((e = leaveEdge(t))) {\n\t    f = enterEdge(t, g, e);\n\t    exchangeEdges(t, g, e, f);\n\t  }\n\t}\n\n\t/*\n\t * Initializes cut values for all edges in the tree.\n\t */\n\tfunction initCutValues(t, g) {\n\t  var vs = postorder(t, t.nodes());\n\t  vs = vs.slice(0, vs.length - 1);\n\t  _.forEach(vs, function(v) {\n\t    assignCutValue(t, g, v);\n\t  });\n\t}\n\n\tfunction assignCutValue(t, g, child) {\n\t  var childLab = t.node(child);\n\t  var parent = childLab.parent;\n\t  t.edge(child, parent).cutvalue = calcCutValue(t, g, child);\n\t}\n\n\t/*\n\t * Given the tight tree, its graph, and a child in the graph calculate and\n\t * return the cut value for the edge between the child and its parent.\n\t */\n\tfunction calcCutValue(t, g, child) {\n\t  var childLab = t.node(child);\n\t  var parent = childLab.parent;\n\t  // True if the child is on the tail end of the edge in the directed graph\n\t  var childIsTail = true;\n\t  // The graph's view of the tree edge we're inspecting\n\t  var graphEdge = g.edge(child, parent);\n\t  // The accumulated cut value for the edge between this node and its parent\n\t  var cutValue = 0;\n\n\t  if (!graphEdge) {\n\t    childIsTail = false;\n\t    graphEdge = g.edge(parent, child);\n\t  }\n\n\t  cutValue = graphEdge.weight;\n\n\t  _.forEach(g.nodeEdges(child), function(e) {\n\t    var isOutEdge = e.v === child,\n\t      other = isOutEdge ? e.w : e.v;\n\n\t    if (other !== parent) {\n\t      var pointsToHead = isOutEdge === childIsTail,\n\t        otherWeight = g.edge(e).weight;\n\n\t      cutValue += pointsToHead ? otherWeight : -otherWeight;\n\t      if (isTreeEdge(t, child, other)) {\n\t        var otherCutValue = t.edge(child, other).cutvalue;\n\t        cutValue += pointsToHead ? -otherCutValue : otherCutValue;\n\t      }\n\t    }\n\t  });\n\n\t  return cutValue;\n\t}\n\n\tfunction initLowLimValues(tree, root) {\n\t  if (arguments.length < 2) {\n\t    root = tree.nodes()[0];\n\t  }\n\t  dfsAssignLowLim(tree, {}, 1, root);\n\t}\n\n\tfunction dfsAssignLowLim(tree, visited, nextLim, v, parent) {\n\t  var low = nextLim;\n\t  var label = tree.node(v);\n\n\t  visited[v] = true;\n\t  _.forEach(tree.neighbors(v), function(w) {\n\t    if (!_.has(visited, w)) {\n\t      nextLim = dfsAssignLowLim(tree, visited, nextLim, w, v);\n\t    }\n\t  });\n\n\t  label.low = low;\n\t  label.lim = nextLim++;\n\t  if (parent) {\n\t    label.parent = parent;\n\t  } else {\n\t    // TODO should be able to remove this when we incrementally update low lim\n\t    delete label.parent;\n\t  }\n\n\t  return nextLim;\n\t}\n\n\tfunction leaveEdge(tree) {\n\t  return _.find(tree.edges(), function(e) {\n\t    return tree.edge(e).cutvalue < 0;\n\t  });\n\t}\n\n\tfunction enterEdge(t, g, edge) {\n\t  var v = edge.v;\n\t  var w = edge.w;\n\n\t  // For the rest of this function we assume that v is the tail and w is the\n\t  // head, so if we don't have this edge in the graph we should flip it to\n\t  // match the correct orientation.\n\t  if (!g.hasEdge(v, w)) {\n\t    v = edge.w;\n\t    w = edge.v;\n\t  }\n\n\t  var vLabel = t.node(v);\n\t  var wLabel = t.node(w);\n\t  var tailLabel = vLabel;\n\t  var flip = false;\n\n\t  // If the root is in the tail of the edge then we need to flip the logic that\n\t  // checks for the head and tail nodes in the candidates function below.\n\t  if (vLabel.lim > wLabel.lim) {\n\t    tailLabel = wLabel;\n\t    flip = true;\n\t  }\n\n\t  var candidates = _.filter(g.edges(), function(edge) {\n\t    return flip === isDescendant(t, t.node(edge.v), tailLabel) &&\n\t           flip !== isDescendant(t, t.node(edge.w), tailLabel);\n\t  });\n\n\t  return _.minBy(candidates, function(edge) { return slack(g, edge); });\n\t}\n\n\tfunction exchangeEdges(t, g, e, f) {\n\t  var v = e.v;\n\t  var w = e.w;\n\t  t.removeEdge(v, w);\n\t  t.setEdge(f.v, f.w, {});\n\t  initLowLimValues(t);\n\t  initCutValues(t, g);\n\t  updateRanks(t, g);\n\t}\n\n\tfunction updateRanks(t, g) {\n\t  var root = _.find(t.nodes(), function(v) { return !g.node(v).parent; });\n\t  var vs = preorder(t, root);\n\t  vs = vs.slice(1);\n\t  _.forEach(vs, function(v) {\n\t    var parent = t.node(v).parent,\n\t      edge = g.edge(v, parent),\n\t      flipped = false;\n\n\t    if (!edge) {\n\t      edge = g.edge(parent, v);\n\t      flipped = true;\n\t    }\n\n\t    g.node(v).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);\n\t  });\n\t}\n\n\t/*\n\t * Returns true if the edge is in the tree.\n\t */\n\tfunction isTreeEdge(tree, u, v) {\n\t  return tree.hasEdge(u, v);\n\t}\n\n\t/*\n\t * Returns true if the specified node is descendant of the root node per the\n\t * assigned low and lim attributes in the tree.\n\t */\n\tfunction isDescendant(tree, vLabel, rootLabel) {\n\t  return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;\n\t}\n\treturn networkSimplex_1;\n}\n\nexport { requireNetworkSimplex as __require };\n//# sourceMappingURL=network-simplex.js.map\n","import { __require as requireUtil } from './util.js';\nimport { __require as requireFeasibleTree } from './feasible-tree.js';\nimport { __require as requireNetworkSimplex } from './network-simplex.js';\n\nvar rank_1;\nvar hasRequiredRank;\n\nfunction requireRank () {\n\tif (hasRequiredRank) return rank_1;\n\thasRequiredRank = 1;\n\n\tvar rankUtil = requireUtil();\n\tvar longestPath = rankUtil.longestPath;\n\tvar feasibleTree = requireFeasibleTree();\n\tvar networkSimplex = requireNetworkSimplex();\n\n\trank_1 = rank;\n\n\t/*\n\t * Assigns a rank to each node in the input graph that respects the \"minlen\"\n\t * constraint specified on edges between nodes.\n\t *\n\t * This basic structure is derived from Gansner, et al., \"A Technique for\n\t * Drawing Directed Graphs.\"\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Graph must be a connected DAG\n\t *    2. Graph nodes must be objects\n\t *    3. Graph edges must have \"weight\" and \"minlen\" attributes\n\t *\n\t * Post-conditions:\n\t *\n\t *    1. Graph nodes will have a \"rank\" attribute based on the results of the\n\t *       algorithm. Ranks can start at any index (including negative), we'll\n\t *       fix them up later.\n\t */\n\tfunction rank(g) {\n\t  switch(g.graph().ranker) {\n\t  case \"network-simplex\": networkSimplexRanker(g); break;\n\t  case \"tight-tree\": tightTreeRanker(g); break;\n\t  case \"longest-path\": longestPathRanker(g); break;\n\t  default: networkSimplexRanker(g);\n\t  }\n\t}\n\n\t// A fast and simple ranker, but results are far from optimal.\n\tvar longestPathRanker = longestPath;\n\n\tfunction tightTreeRanker(g) {\n\t  longestPath(g);\n\t  feasibleTree(g);\n\t}\n\n\tfunction networkSimplexRanker(g) {\n\t  networkSimplex(g);\n\t}\n\treturn rank_1;\n}\n\nexport { requireRank as __require };\n//# sourceMappingURL=index.js.map\n","import { __require as requireLodash } from './lodash.js';\n\nvar parentDummyChains_1;\nvar hasRequiredParentDummyChains;\n\nfunction requireParentDummyChains () {\n\tif (hasRequiredParentDummyChains) return parentDummyChains_1;\n\thasRequiredParentDummyChains = 1;\n\tvar _ = requireLodash();\n\n\tparentDummyChains_1 = parentDummyChains;\n\n\tfunction parentDummyChains(g) {\n\t  var postorderNums = postorder(g);\n\n\t  _.forEach(g.graph().dummyChains, function(v) {\n\t    var node = g.node(v);\n\t    var edgeObj = node.edgeObj;\n\t    var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);\n\t    var path = pathData.path;\n\t    var lca = pathData.lca;\n\t    var pathIdx = 0;\n\t    var pathV = path[pathIdx];\n\t    var ascending = true;\n\n\t    while (v !== edgeObj.w) {\n\t      node = g.node(v);\n\n\t      if (ascending) {\n\t        while ((pathV = path[pathIdx]) !== lca &&\n\t               g.node(pathV).maxRank < node.rank) {\n\t          pathIdx++;\n\t        }\n\n\t        if (pathV === lca) {\n\t          ascending = false;\n\t        }\n\t      }\n\n\t      if (!ascending) {\n\t        while (pathIdx < path.length - 1 &&\n\t               g.node(pathV = path[pathIdx + 1]).minRank <= node.rank) {\n\t          pathIdx++;\n\t        }\n\t        pathV = path[pathIdx];\n\t      }\n\n\t      g.setParent(v, pathV);\n\t      v = g.successors(v)[0];\n\t    }\n\t  });\n\t}\n\n\t// Find a path from v to w through the lowest common ancestor (LCA). Return the\n\t// full path and the LCA.\n\tfunction findPath(g, postorderNums, v, w) {\n\t  var vPath = [];\n\t  var wPath = [];\n\t  var low = Math.min(postorderNums[v].low, postorderNums[w].low);\n\t  var lim = Math.max(postorderNums[v].lim, postorderNums[w].lim);\n\t  var parent;\n\t  var lca;\n\n\t  // Traverse up from v to find the LCA\n\t  parent = v;\n\t  do {\n\t    parent = g.parent(parent);\n\t    vPath.push(parent);\n\t  } while (parent &&\n\t           (postorderNums[parent].low > low || lim > postorderNums[parent].lim));\n\t  lca = parent;\n\n\t  // Traverse from w to LCA\n\t  parent = w;\n\t  while ((parent = g.parent(parent)) !== lca) {\n\t    wPath.push(parent);\n\t  }\n\n\t  return { path: vPath.concat(wPath.reverse()), lca: lca };\n\t}\n\n\tfunction postorder(g) {\n\t  var result = {};\n\t  var lim = 0;\n\n\t  function dfs(v) {\n\t    var low = lim;\n\t    _.forEach(g.children(v), dfs);\n\t    result[v] = { low: low, lim: lim++ };\n\t  }\n\t  _.forEach(g.children(), dfs);\n\n\t  return result;\n\t}\n\treturn parentDummyChains_1;\n}\n\nexport { requireParentDummyChains as __require };\n//# sourceMappingURL=parent-dummy-chains.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireUtil } from './util.js';\n\nvar nestingGraph;\nvar hasRequiredNestingGraph;\n\nfunction requireNestingGraph () {\n\tif (hasRequiredNestingGraph) return nestingGraph;\n\thasRequiredNestingGraph = 1;\n\tvar _ = requireLodash();\n\tvar util = requireUtil();\n\n\tnestingGraph = {\n\t  run: run,\n\t  cleanup: cleanup\n\t};\n\n\t/*\n\t * A nesting graph creates dummy nodes for the tops and bottoms of subgraphs,\n\t * adds appropriate edges to ensure that all cluster nodes are placed between\n\t * these boundries, and ensures that the graph is connected.\n\t *\n\t * In addition we ensure, through the use of the minlen property, that nodes\n\t * and subgraph border nodes to not end up on the same rank.\n\t *\n\t * Preconditions:\n\t *\n\t *    1. Input graph is a DAG\n\t *    2. Nodes in the input graph has a minlen attribute\n\t *\n\t * Postconditions:\n\t *\n\t *    1. Input graph is connected.\n\t *    2. Dummy nodes are added for the tops and bottoms of subgraphs.\n\t *    3. The minlen attribute for nodes is adjusted to ensure nodes do not\n\t *       get placed on the same rank as subgraph border nodes.\n\t *\n\t * The nesting graph idea comes from Sander, \"Layout of Compound Directed\n\t * Graphs.\"\n\t */\n\tfunction run(g) {\n\t  var root = util.addDummyNode(g, \"root\", {}, \"_root\");\n\t  var depths = treeDepths(g);\n\t  var height = _.max(_.values(depths)) - 1; // Note: depths is an Object not an array\n\t  var nodeSep = 2 * height + 1;\n\n\t  g.graph().nestingRoot = root;\n\n\t  // Multiply minlen by nodeSep to align nodes on non-border ranks.\n\t  _.forEach(g.edges(), function(e) { g.edge(e).minlen *= nodeSep; });\n\n\t  // Calculate a weight that is sufficient to keep subgraphs vertically compact\n\t  var weight = sumWeights(g) + 1;\n\n\t  // Create border nodes and link them up\n\t  _.forEach(g.children(), function(child) {\n\t    dfs(g, root, nodeSep, weight, height, depths, child);\n\t  });\n\n\t  // Save the multiplier for node layers for later removal of empty border\n\t  // layers.\n\t  g.graph().nodeRankFactor = nodeSep;\n\t}\n\n\tfunction dfs(g, root, nodeSep, weight, height, depths, v) {\n\t  var children = g.children(v);\n\t  if (!children.length) {\n\t    if (v !== root) {\n\t      g.setEdge(root, v, { weight: 0, minlen: nodeSep });\n\t    }\n\t    return;\n\t  }\n\n\t  var top = util.addBorderNode(g, \"_bt\");\n\t  var bottom = util.addBorderNode(g, \"_bb\");\n\t  var label = g.node(v);\n\n\t  g.setParent(top, v);\n\t  label.borderTop = top;\n\t  g.setParent(bottom, v);\n\t  label.borderBottom = bottom;\n\n\t  _.forEach(children, function(child) {\n\t    dfs(g, root, nodeSep, weight, height, depths, child);\n\n\t    var childNode = g.node(child);\n\t    var childTop = childNode.borderTop ? childNode.borderTop : child;\n\t    var childBottom = childNode.borderBottom ? childNode.borderBottom : child;\n\t    var thisWeight = childNode.borderTop ? weight : 2 * weight;\n\t    var minlen = childTop !== childBottom ? 1 : height - depths[v] + 1;\n\n\t    g.setEdge(top, childTop, {\n\t      weight: thisWeight,\n\t      minlen: minlen,\n\t      nestingEdge: true\n\t    });\n\n\t    g.setEdge(childBottom, bottom, {\n\t      weight: thisWeight,\n\t      minlen: minlen,\n\t      nestingEdge: true\n\t    });\n\t  });\n\n\t  if (!g.parent(v)) {\n\t    g.setEdge(root, top, { weight: 0, minlen: height + depths[v] });\n\t  }\n\t}\n\n\tfunction treeDepths(g) {\n\t  var depths = {};\n\t  function dfs(v, depth) {\n\t    var children = g.children(v);\n\t    if (children && children.length) {\n\t      _.forEach(children, function(child) {\n\t        dfs(child, depth + 1);\n\t      });\n\t    }\n\t    depths[v] = depth;\n\t  }\n\t  _.forEach(g.children(), function(v) { dfs(v, 1); });\n\t  return depths;\n\t}\n\n\tfunction sumWeights(g) {\n\t  return _.reduce(g.edges(), function(acc, e) {\n\t    return acc + g.edge(e).weight;\n\t  }, 0);\n\t}\n\n\tfunction cleanup(g) {\n\t  var graphLabel = g.graph();\n\t  g.removeNode(graphLabel.nestingRoot);\n\t  delete graphLabel.nestingRoot;\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    if (edge.nestingEdge) {\n\t      g.removeEdge(e);\n\t    }\n\t  });\n\t}\n\treturn nestingGraph;\n}\n\nexport { requireNestingGraph as __require };\n//# sourceMappingURL=nesting-graph.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireUtil } from './util.js';\n\nvar addBorderSegments_1;\nvar hasRequiredAddBorderSegments;\n\nfunction requireAddBorderSegments () {\n\tif (hasRequiredAddBorderSegments) return addBorderSegments_1;\n\thasRequiredAddBorderSegments = 1;\n\tvar _ = requireLodash();\n\tvar util = requireUtil();\n\n\taddBorderSegments_1 = addBorderSegments;\n\n\tfunction addBorderSegments(g) {\n\t  function dfs(v) {\n\t    var children = g.children(v);\n\t    var node = g.node(v);\n\t    if (children.length) {\n\t      _.forEach(children, dfs);\n\t    }\n\n\t    if (_.has(node, \"minRank\")) {\n\t      node.borderLeft = [];\n\t      node.borderRight = [];\n\t      for (var rank = node.minRank, maxRank = node.maxRank + 1;\n\t        rank < maxRank;\n\t        ++rank) {\n\t        addBorderNode(g, \"borderLeft\", \"_bl\", v, node, rank);\n\t        addBorderNode(g, \"borderRight\", \"_br\", v, node, rank);\n\t      }\n\t    }\n\t  }\n\n\t  _.forEach(g.children(), dfs);\n\t}\n\n\tfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n\t  var label = { width: 0, height: 0, rank: rank, borderType: prop };\n\t  var prev = sgNode[prop][rank - 1];\n\t  var curr = util.addDummyNode(g, \"border\", label, prefix);\n\t  sgNode[prop][rank] = curr;\n\t  g.setParent(curr, sg);\n\t  if (prev) {\n\t    g.setEdge(prev, curr, { weight: 1 });\n\t  }\n\t}\n\treturn addBorderSegments_1;\n}\n\nexport { requireAddBorderSegments as __require };\n//# sourceMappingURL=add-border-segments.js.map\n","import { __require as requireLodash } from './lodash.js';\n\nvar coordinateSystem;\nvar hasRequiredCoordinateSystem;\n\nfunction requireCoordinateSystem () {\n\tif (hasRequiredCoordinateSystem) return coordinateSystem;\n\thasRequiredCoordinateSystem = 1;\n\n\tvar _ = requireLodash();\n\n\tcoordinateSystem = {\n\t  adjust: adjust,\n\t  undo: undo\n\t};\n\n\tfunction adjust(g) {\n\t  var rankDir = g.graph().rankdir.toLowerCase();\n\t  if (rankDir === \"lr\" || rankDir === \"rl\") {\n\t    swapWidthHeight(g);\n\t  }\n\t}\n\n\tfunction undo(g) {\n\t  var rankDir = g.graph().rankdir.toLowerCase();\n\t  if (rankDir === \"bt\" || rankDir === \"rl\") {\n\t    reverseY(g);\n\t  }\n\n\t  if (rankDir === \"lr\" || rankDir === \"rl\") {\n\t    swapXY(g);\n\t    swapWidthHeight(g);\n\t  }\n\t}\n\n\tfunction swapWidthHeight(g) {\n\t  _.forEach(g.nodes(), function(v) { swapWidthHeightOne(g.node(v)); });\n\t  _.forEach(g.edges(), function(e) { swapWidthHeightOne(g.edge(e)); });\n\t}\n\n\tfunction swapWidthHeightOne(attrs) {\n\t  var w = attrs.width;\n\t  attrs.width = attrs.height;\n\t  attrs.height = w;\n\t}\n\n\tfunction reverseY(g) {\n\t  _.forEach(g.nodes(), function(v) { reverseYOne(g.node(v)); });\n\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    _.forEach(edge.points, reverseYOne);\n\t    if (_.has(edge, \"y\")) {\n\t      reverseYOne(edge);\n\t    }\n\t  });\n\t}\n\n\tfunction reverseYOne(attrs) {\n\t  attrs.y = -attrs.y;\n\t}\n\n\tfunction swapXY(g) {\n\t  _.forEach(g.nodes(), function(v) { swapXYOne(g.node(v)); });\n\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    _.forEach(edge.points, swapXYOne);\n\t    if (_.has(edge, \"x\")) {\n\t      swapXYOne(edge);\n\t    }\n\t  });\n\t}\n\n\tfunction swapXYOne(attrs) {\n\t  var x = attrs.x;\n\t  attrs.x = attrs.y;\n\t  attrs.y = x;\n\t}\n\treturn coordinateSystem;\n}\n\nexport { requireCoordinateSystem as __require };\n//# sourceMappingURL=coordinate-system.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar initOrder_1;\nvar hasRequiredInitOrder;\n\nfunction requireInitOrder () {\n\tif (hasRequiredInitOrder) return initOrder_1;\n\thasRequiredInitOrder = 1;\n\n\tvar _ = requireLodash();\n\n\tinitOrder_1 = initOrder;\n\n\t/*\n\t * Assigns an initial order value for each node by performing a DFS search\n\t * starting from nodes in the first rank. Nodes are assigned an order in their\n\t * rank as they are first visited.\n\t *\n\t * This approach comes from Gansner, et al., \"A Technique for Drawing Directed\n\t * Graphs.\"\n\t *\n\t * Returns a layering matrix with an array per layer and each layer sorted by\n\t * the order of its nodes.\n\t */\n\tfunction initOrder(g) {\n\t  var visited = {};\n\t  var simpleNodes = _.filter(g.nodes(), function(v) {\n\t    return !g.children(v).length;\n\t  });\n\t  var maxRank = _.max(_.map(simpleNodes, function(v) { return g.node(v).rank; }));\n\t  var layers = _.map(_.range(maxRank + 1), function() { return []; });\n\n\t  function dfs(v) {\n\t    if (_.has(visited, v)) return;\n\t    visited[v] = true;\n\t    var node = g.node(v);\n\t    layers[node.rank].push(v);\n\t    _.forEach(g.successors(v), dfs);\n\t  }\n\n\t  var orderedVs = _.sortBy(simpleNodes, function(v) { return g.node(v).rank; });\n\t  _.forEach(orderedVs, dfs);\n\n\t  return layers;\n\t}\n\treturn initOrder_1;\n}\n\nexport { requireInitOrder as __require };\n//# sourceMappingURL=init-order.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar crossCount_1;\nvar hasRequiredCrossCount;\n\nfunction requireCrossCount () {\n\tif (hasRequiredCrossCount) return crossCount_1;\n\thasRequiredCrossCount = 1;\n\n\tvar _ = requireLodash();\n\n\tcrossCount_1 = crossCount;\n\n\t/*\n\t * A function that takes a layering (an array of layers, each with an array of\n\t * ordererd nodes) and a graph and returns a weighted crossing count.\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Input graph must be simple (not a multigraph), directed, and include\n\t *       only simple edges.\n\t *    2. Edges in the input graph must have assigned weights.\n\t *\n\t * Post-conditions:\n\t *\n\t *    1. The graph and layering matrix are left unchanged.\n\t *\n\t * This algorithm is derived from Barth, et al., \"Bilayer Cross Counting.\"\n\t */\n\tfunction crossCount(g, layering) {\n\t  var cc = 0;\n\t  for (var i = 1; i < layering.length; ++i) {\n\t    cc += twoLayerCrossCount(g, layering[i-1], layering[i]);\n\t  }\n\t  return cc;\n\t}\n\n\tfunction twoLayerCrossCount(g, northLayer, southLayer) {\n\t  // Sort all of the edges between the north and south layers by their position\n\t  // in the north layer and then the south. Map these edges to the position of\n\t  // their head in the south layer.\n\t  var southPos = _.zipObject(southLayer,\n\t    _.map(southLayer, function (v, i) { return i; }));\n\t  var southEntries = _.flatten(_.map(northLayer, function(v) {\n\t    return _.sortBy(_.map(g.outEdges(v), function(e) {\n\t      return { pos: southPos[e.w], weight: g.edge(e).weight };\n\t    }), \"pos\");\n\t  }), true);\n\n\t  // Build the accumulator tree\n\t  var firstIndex = 1;\n\t  while (firstIndex < southLayer.length) firstIndex <<= 1;\n\t  var treeSize = 2 * firstIndex - 1;\n\t  firstIndex -= 1;\n\t  var tree = _.map(new Array(treeSize), function() { return 0; });\n\n\t  // Calculate the weighted crossings\n\t  var cc = 0;\n\t  _.forEach(southEntries.forEach(function(entry) {\n\t    var index = entry.pos + firstIndex;\n\t    tree[index] += entry.weight;\n\t    var weightSum = 0;\n\t    while (index > 0) {\n\t      if (index % 2) {\n\t        weightSum += tree[index + 1];\n\t      }\n\t      index = (index - 1) >> 1;\n\t      tree[index] += entry.weight;\n\t    }\n\t    cc += entry.weight * weightSum;\n\t  }));\n\n\t  return cc;\n\t}\n\treturn crossCount_1;\n}\n\nexport { requireCrossCount as __require };\n//# sourceMappingURL=cross-count.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar barycenter_1;\nvar hasRequiredBarycenter;\n\nfunction requireBarycenter () {\n\tif (hasRequiredBarycenter) return barycenter_1;\n\thasRequiredBarycenter = 1;\n\tvar _ = requireLodash();\n\n\tbarycenter_1 = barycenter;\n\n\tfunction barycenter(g, movable) {\n\t  return _.map(movable, function(v) {\n\t    var inV = g.inEdges(v);\n\t    if (!inV.length) {\n\t      return { v: v };\n\t    } else {\n\t      var result = _.reduce(inV, function(acc, e) {\n\t        var edge = g.edge(e),\n\t          nodeU = g.node(e.v);\n\t        return {\n\t          sum: acc.sum + (edge.weight * nodeU.order),\n\t          weight: acc.weight + edge.weight\n\t        };\n\t      }, { sum: 0, weight: 0 });\n\n\t      return {\n\t        v: v,\n\t        barycenter: result.sum / result.weight,\n\t        weight: result.weight\n\t      };\n\t    }\n\t  });\n\t}\n\treturn barycenter_1;\n}\n\nexport { requireBarycenter as __require };\n//# sourceMappingURL=barycenter.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar resolveConflicts_1;\nvar hasRequiredResolveConflicts;\n\nfunction requireResolveConflicts () {\n\tif (hasRequiredResolveConflicts) return resolveConflicts_1;\n\thasRequiredResolveConflicts = 1;\n\n\tvar _ = requireLodash();\n\n\tresolveConflicts_1 = resolveConflicts;\n\n\t/*\n\t * Given a list of entries of the form {v, barycenter, weight} and a\n\t * constraint graph this function will resolve any conflicts between the\n\t * constraint graph and the barycenters for the entries. If the barycenters for\n\t * an entry would violate a constraint in the constraint graph then we coalesce\n\t * the nodes in the conflict into a new node that respects the contraint and\n\t * aggregates barycenter and weight information.\n\t *\n\t * This implementation is based on the description in Forster, \"A Fast and\n\t * Simple Hueristic for Constrained Two-Level Crossing Reduction,\" thought it\n\t * differs in some specific details.\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Each entry has the form {v, barycenter, weight}, or if the node has\n\t *       no barycenter, then {v}.\n\t *\n\t * Returns:\n\t *\n\t *    A new list of entries of the form {vs, i, barycenter, weight}. The list\n\t *    `vs` may either be a singleton or it may be an aggregation of nodes\n\t *    ordered such that they do not violate constraints from the constraint\n\t *    graph. The property `i` is the lowest original index of any of the\n\t *    elements in `vs`.\n\t */\n\tfunction resolveConflicts(entries, cg) {\n\t  var mappedEntries = {};\n\t  _.forEach(entries, function(entry, i) {\n\t    var tmp = mappedEntries[entry.v] = {\n\t      indegree: 0,\n\t      \"in\": [],\n\t      out: [],\n\t      vs: [entry.v],\n\t      i: i\n\t    };\n\t    if (!_.isUndefined(entry.barycenter)) {\n\t      tmp.barycenter = entry.barycenter;\n\t      tmp.weight = entry.weight;\n\t    }\n\t  });\n\n\t  _.forEach(cg.edges(), function(e) {\n\t    var entryV = mappedEntries[e.v];\n\t    var entryW = mappedEntries[e.w];\n\t    if (!_.isUndefined(entryV) && !_.isUndefined(entryW)) {\n\t      entryW.indegree++;\n\t      entryV.out.push(mappedEntries[e.w]);\n\t    }\n\t  });\n\n\t  var sourceSet = _.filter(mappedEntries, function(entry) {\n\t    return !entry.indegree;\n\t  });\n\n\t  return doResolveConflicts(sourceSet);\n\t}\n\n\tfunction doResolveConflicts(sourceSet) {\n\t  var entries = [];\n\n\t  function handleIn(vEntry) {\n\t    return function(uEntry) {\n\t      if (uEntry.merged) {\n\t        return;\n\t      }\n\t      if (_.isUndefined(uEntry.barycenter) ||\n\t          _.isUndefined(vEntry.barycenter) ||\n\t          uEntry.barycenter >= vEntry.barycenter) {\n\t        mergeEntries(vEntry, uEntry);\n\t      }\n\t    };\n\t  }\n\n\t  function handleOut(vEntry) {\n\t    return function(wEntry) {\n\t      wEntry[\"in\"].push(vEntry);\n\t      if (--wEntry.indegree === 0) {\n\t        sourceSet.push(wEntry);\n\t      }\n\t    };\n\t  }\n\n\t  while (sourceSet.length) {\n\t    var entry = sourceSet.pop();\n\t    entries.push(entry);\n\t    _.forEach(entry[\"in\"].reverse(), handleIn(entry));\n\t    _.forEach(entry.out, handleOut(entry));\n\t  }\n\n\t  return _.map(_.filter(entries, function(entry) { return !entry.merged; }),\n\t    function(entry) {\n\t      return _.pick(entry, [\"vs\", \"i\", \"barycenter\", \"weight\"]);\n\t    });\n\n\t}\n\n\tfunction mergeEntries(target, source) {\n\t  var sum = 0;\n\t  var weight = 0;\n\n\t  if (target.weight) {\n\t    sum += target.barycenter * target.weight;\n\t    weight += target.weight;\n\t  }\n\n\t  if (source.weight) {\n\t    sum += source.barycenter * source.weight;\n\t    weight += source.weight;\n\t  }\n\n\t  target.vs = source.vs.concat(target.vs);\n\t  target.barycenter = sum / weight;\n\t  target.weight = weight;\n\t  target.i = Math.min(source.i, target.i);\n\t  source.merged = true;\n\t}\n\treturn resolveConflicts_1;\n}\n\nexport { requireResolveConflicts as __require };\n//# sourceMappingURL=resolve-conflicts.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireUtil } from '../util.js';\n\nvar sort_1;\nvar hasRequiredSort;\n\nfunction requireSort () {\n\tif (hasRequiredSort) return sort_1;\n\thasRequiredSort = 1;\n\tvar _ = requireLodash();\n\tvar util = requireUtil();\n\n\tsort_1 = sort;\n\n\tfunction sort(entries, biasRight) {\n\t  var parts = util.partition(entries, function(entry) {\n\t    return _.has(entry, \"barycenter\");\n\t  });\n\t  var sortable = parts.lhs,\n\t    unsortable = _.sortBy(parts.rhs, function(entry) { return -entry.i; }),\n\t    vs = [],\n\t    sum = 0,\n\t    weight = 0,\n\t    vsIndex = 0;\n\n\t  sortable.sort(compareWithBias(!!biasRight));\n\n\t  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n\n\t  _.forEach(sortable, function (entry) {\n\t    vsIndex += entry.vs.length;\n\t    vs.push(entry.vs);\n\t    sum += entry.barycenter * entry.weight;\n\t    weight += entry.weight;\n\t    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n\t  });\n\n\t  var result = { vs: _.flatten(vs, true) };\n\t  if (weight) {\n\t    result.barycenter = sum / weight;\n\t    result.weight = weight;\n\t  }\n\t  return result;\n\t}\n\n\tfunction consumeUnsortable(vs, unsortable, index) {\n\t  var last;\n\t  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n\t    unsortable.pop();\n\t    vs.push(last.vs);\n\t    index++;\n\t  }\n\t  return index;\n\t}\n\n\tfunction compareWithBias(bias) {\n\t  return function(entryV, entryW) {\n\t    if (entryV.barycenter < entryW.barycenter) {\n\t      return -1;\n\t    } else if (entryV.barycenter > entryW.barycenter) {\n\t      return 1;\n\t    }\n\n\t    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n\t  };\n\t}\n\treturn sort_1;\n}\n\nexport { requireSort as __require };\n//# sourceMappingURL=sort.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireBarycenter } from './barycenter.js';\nimport { __require as requireResolveConflicts } from './resolve-conflicts.js';\nimport { __require as requireSort } from './sort.js';\n\nvar sortSubgraph_1;\nvar hasRequiredSortSubgraph;\n\nfunction requireSortSubgraph () {\n\tif (hasRequiredSortSubgraph) return sortSubgraph_1;\n\thasRequiredSortSubgraph = 1;\n\tvar _ = requireLodash();\n\tvar barycenter = requireBarycenter();\n\tvar resolveConflicts = requireResolveConflicts();\n\tvar sort = requireSort();\n\n\tsortSubgraph_1 = sortSubgraph;\n\n\tfunction sortSubgraph(g, v, cg, biasRight) {\n\t  var movable = g.children(v);\n\t  var node = g.node(v);\n\t  var bl = node ? node.borderLeft : undefined;\n\t  var br = node ? node.borderRight: undefined;\n\t  var subgraphs = {};\n\n\t  if (bl) {\n\t    movable = _.filter(movable, function(w) {\n\t      return w !== bl && w !== br;\n\t    });\n\t  }\n\n\t  var barycenters = barycenter(g, movable);\n\t  _.forEach(barycenters, function(entry) {\n\t    if (g.children(entry.v).length) {\n\t      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n\t      subgraphs[entry.v] = subgraphResult;\n\t      if (_.has(subgraphResult, \"barycenter\")) {\n\t        mergeBarycenters(entry, subgraphResult);\n\t      }\n\t    }\n\t  });\n\n\t  var entries = resolveConflicts(barycenters, cg);\n\t  expandSubgraphs(entries, subgraphs);\n\n\t  var result = sort(entries, biasRight);\n\n\t  if (bl) {\n\t    result.vs = _.flatten([bl, result.vs, br], true);\n\t    if (g.predecessors(bl).length) {\n\t      var blPred = g.node(g.predecessors(bl)[0]),\n\t        brPred = g.node(g.predecessors(br)[0]);\n\t      if (!_.has(result, \"barycenter\")) {\n\t        result.barycenter = 0;\n\t        result.weight = 0;\n\t      }\n\t      result.barycenter = (result.barycenter * result.weight +\n\t                           blPred.order + brPred.order) / (result.weight + 2);\n\t      result.weight += 2;\n\t    }\n\t  }\n\n\t  return result;\n\t}\n\n\tfunction expandSubgraphs(entries, subgraphs) {\n\t  _.forEach(entries, function(entry) {\n\t    entry.vs = _.flatten(entry.vs.map(function(v) {\n\t      if (subgraphs[v]) {\n\t        return subgraphs[v].vs;\n\t      }\n\t      return v;\n\t    }), true);\n\t  });\n\t}\n\n\tfunction mergeBarycenters(target, other) {\n\t  if (!_.isUndefined(target.barycenter)) {\n\t    target.barycenter = (target.barycenter * target.weight +\n\t                         other.barycenter * other.weight) /\n\t                        (target.weight + other.weight);\n\t    target.weight += other.weight;\n\t  } else {\n\t    target.barycenter = other.barycenter;\n\t    target.weight = other.weight;\n\t  }\n\t}\n\treturn sortSubgraph_1;\n}\n\nexport { requireSortSubgraph as __require };\n//# sourceMappingURL=sort-subgraph.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireGraphlib } from '../graphlib.js';\n\nvar buildLayerGraph_1;\nvar hasRequiredBuildLayerGraph;\n\nfunction requireBuildLayerGraph () {\n\tif (hasRequiredBuildLayerGraph) return buildLayerGraph_1;\n\thasRequiredBuildLayerGraph = 1;\n\tvar _ = requireLodash();\n\tvar Graph = requireGraphlib().Graph;\n\n\tbuildLayerGraph_1 = buildLayerGraph;\n\n\t/*\n\t * Constructs a graph that can be used to sort a layer of nodes. The graph will\n\t * contain all base and subgraph nodes from the request layer in their original\n\t * hierarchy and any edges that are incident on these nodes and are of the type\n\t * requested by the \"relationship\" parameter.\n\t *\n\t * Nodes from the requested rank that do not have parents are assigned a root\n\t * node in the output graph, which is set in the root graph attribute. This\n\t * makes it easy to walk the hierarchy of movable nodes during ordering.\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Input graph is a DAG\n\t *    2. Base nodes in the input graph have a rank attribute\n\t *    3. Subgraph nodes in the input graph has minRank and maxRank attributes\n\t *    4. Edges have an assigned weight\n\t *\n\t * Post-conditions:\n\t *\n\t *    1. Output graph has all nodes in the movable rank with preserved\n\t *       hierarchy.\n\t *    2. Root nodes in the movable layer are made children of the node\n\t *       indicated by the root attribute of the graph.\n\t *    3. Non-movable nodes incident on movable nodes, selected by the\n\t *       relationship parameter, are included in the graph (without hierarchy).\n\t *    4. Edges incident on movable nodes, selected by the relationship\n\t *       parameter, are added to the output graph.\n\t *    5. The weights for copied edges are aggregated as need, since the output\n\t *       graph is not a multi-graph.\n\t */\n\tfunction buildLayerGraph(g, rank, relationship) {\n\t  var root = createRootNode(g),\n\t    result = new Graph({ compound: true }).setGraph({ root: root })\n\t      .setDefaultNodeLabel(function(v) { return g.node(v); });\n\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v),\n\t      parent = g.parent(v);\n\n\t    if (node.rank === rank || node.minRank <= rank && rank <= node.maxRank) {\n\t      result.setNode(v);\n\t      result.setParent(v, parent || root);\n\n\t      // This assumes we have only short edges!\n\t      _.forEach(g[relationship](v), function(e) {\n\t        var u = e.v === v ? e.w : e.v,\n\t          edge = result.edge(u, v),\n\t          weight = !_.isUndefined(edge) ? edge.weight : 0;\n\t        result.setEdge(u, v, { weight: g.edge(e).weight + weight });\n\t      });\n\n\t      if (_.has(node, \"minRank\")) {\n\t        result.setNode(v, {\n\t          borderLeft: node.borderLeft[rank],\n\t          borderRight: node.borderRight[rank]\n\t        });\n\t      }\n\t    }\n\t  });\n\n\t  return result;\n\t}\n\n\tfunction createRootNode(g) {\n\t  var v;\n\t  while (g.hasNode((v = _.uniqueId(\"_root\"))));\n\t  return v;\n\t}\n\treturn buildLayerGraph_1;\n}\n\nexport { requireBuildLayerGraph as __require };\n//# sourceMappingURL=build-layer-graph.js.map\n","import { __require as requireLodash } from '../lodash.js';\n\nvar addSubgraphConstraints_1;\nvar hasRequiredAddSubgraphConstraints;\n\nfunction requireAddSubgraphConstraints () {\n\tif (hasRequiredAddSubgraphConstraints) return addSubgraphConstraints_1;\n\thasRequiredAddSubgraphConstraints = 1;\n\tvar _ = requireLodash();\n\n\taddSubgraphConstraints_1 = addSubgraphConstraints;\n\n\tfunction addSubgraphConstraints(g, cg, vs) {\n\t  var prev = {},\n\t    rootPrev;\n\n\t  _.forEach(vs, function(v) {\n\t    var child = g.parent(v),\n\t      parent,\n\t      prevChild;\n\t    while (child) {\n\t      parent = g.parent(child);\n\t      if (parent) {\n\t        prevChild = prev[parent];\n\t        prev[parent] = child;\n\t      } else {\n\t        prevChild = rootPrev;\n\t        rootPrev = child;\n\t      }\n\t      if (prevChild && prevChild !== child) {\n\t        cg.setEdge(prevChild, child);\n\t        return;\n\t      }\n\t      child = parent;\n\t    }\n\t  });\n\n\t  /*\n\t  function dfs(v) {\n\t    var children = v ? g.children(v) : g.children();\n\t    if (children.length) {\n\t      var min = Number.POSITIVE_INFINITY,\n\t          subgraphs = [];\n\t      _.each(children, function(child) {\n\t        var childMin = dfs(child);\n\t        if (g.children(child).length) {\n\t          subgraphs.push({ v: child, order: childMin });\n\t        }\n\t        min = Math.min(min, childMin);\n\t      });\n\t      _.reduce(_.sortBy(subgraphs, \"order\"), function(prev, curr) {\n\t        cg.setEdge(prev.v, curr.v);\n\t        return curr;\n\t      });\n\t      return min;\n\t    }\n\t    return g.node(v).order;\n\t  }\n\t  dfs(undefined);\n\t  */\n\t}\n\treturn addSubgraphConstraints_1;\n}\n\nexport { requireAddSubgraphConstraints as __require };\n//# sourceMappingURL=add-subgraph-constraints.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireInitOrder } from './init-order.js';\nimport { __require as requireCrossCount } from './cross-count.js';\nimport { __require as requireSortSubgraph } from './sort-subgraph.js';\nimport { __require as requireBuildLayerGraph } from './build-layer-graph.js';\nimport { __require as requireAddSubgraphConstraints } from './add-subgraph-constraints.js';\nimport { __require as requireGraphlib } from '../graphlib.js';\nimport { __require as requireUtil } from '../util.js';\n\nvar order_1;\nvar hasRequiredOrder;\n\nfunction requireOrder () {\n\tif (hasRequiredOrder) return order_1;\n\thasRequiredOrder = 1;\n\n\tvar _ = requireLodash();\n\tvar initOrder = requireInitOrder();\n\tvar crossCount = requireCrossCount();\n\tvar sortSubgraph = requireSortSubgraph();\n\tvar buildLayerGraph = requireBuildLayerGraph();\n\tvar addSubgraphConstraints = requireAddSubgraphConstraints();\n\tvar Graph = requireGraphlib().Graph;\n\tvar util = requireUtil();\n\n\torder_1 = order;\n\n\t/*\n\t * Applies heuristics to minimize edge crossings in the graph and sets the best\n\t * order solution as an order attribute on each node.\n\t *\n\t * Pre-conditions:\n\t *\n\t *    1. Graph must be DAG\n\t *    2. Graph nodes must be objects with a \"rank\" attribute\n\t *    3. Graph edges must have the \"weight\" attribute\n\t *\n\t * Post-conditions:\n\t *\n\t *    1. Graph nodes will have an \"order\" attribute based on the results of the\n\t *       algorithm.\n\t */\n\tfunction order(g) {\n\t  var maxRank = util.maxRank(g),\n\t    downLayerGraphs = buildLayerGraphs(g, _.range(1, maxRank + 1), \"inEdges\"),\n\t    upLayerGraphs = buildLayerGraphs(g, _.range(maxRank - 1, -1, -1), \"outEdges\");\n\n\t  var layering = initOrder(g);\n\t  assignOrder(g, layering);\n\n\t  var bestCC = Number.POSITIVE_INFINITY,\n\t    best;\n\n\t  for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {\n\t    sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);\n\n\t    layering = util.buildLayerMatrix(g);\n\t    var cc = crossCount(g, layering);\n\t    if (cc < bestCC) {\n\t      lastBest = 0;\n\t      best = _.cloneDeep(layering);\n\t      bestCC = cc;\n\t    }\n\t  }\n\n\t  assignOrder(g, best);\n\t}\n\n\tfunction buildLayerGraphs(g, ranks, relationship) {\n\t  return _.map(ranks, function(rank) {\n\t    return buildLayerGraph(g, rank, relationship);\n\t  });\n\t}\n\n\tfunction sweepLayerGraphs(layerGraphs, biasRight) {\n\t  var cg = new Graph();\n\t  _.forEach(layerGraphs, function(lg) {\n\t    var root = lg.graph().root;\n\t    var sorted = sortSubgraph(lg, root, cg, biasRight);\n\t    _.forEach(sorted.vs, function(v, i) {\n\t      lg.node(v).order = i;\n\t    });\n\t    addSubgraphConstraints(lg, cg, sorted.vs);\n\t  });\n\t}\n\n\tfunction assignOrder(g, layering) {\n\t  _.forEach(layering, function(layer) {\n\t    _.forEach(layer, function(v, i) {\n\t      g.node(v).order = i;\n\t    });\n\t  });\n\t}\n\treturn order_1;\n}\n\nexport { requireOrder as __require };\n//# sourceMappingURL=index.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireGraphlib } from '../graphlib.js';\nimport { __require as requireUtil } from '../util.js';\n\nvar bk;\nvar hasRequiredBk;\n\nfunction requireBk () {\n\tif (hasRequiredBk) return bk;\n\thasRequiredBk = 1;\n\n\tvar _ = requireLodash();\n\tvar Graph = requireGraphlib().Graph;\n\tvar util = requireUtil();\n\n\t/*\n\t * This module provides coordinate assignment based on Brandes and Kpf, \"Fast\n\t * and Simple Horizontal Coordinate Assignment.\"\n\t */\n\n\tbk = {\n\t  positionX: positionX,\n\t  findType1Conflicts: findType1Conflicts,\n\t  findType2Conflicts: findType2Conflicts,\n\t  addConflict: addConflict,\n\t  hasConflict: hasConflict,\n\t  verticalAlignment: verticalAlignment,\n\t  horizontalCompaction: horizontalCompaction,\n\t  alignCoordinates: alignCoordinates,\n\t  findSmallestWidthAlignment: findSmallestWidthAlignment,\n\t  balance: balance\n\t};\n\n\t/*\n\t * Marks all edges in the graph with a type-1 conflict with the \"type1Conflict\"\n\t * property. A type-1 conflict is one where a non-inner segment crosses an\n\t * inner segment. An inner segment is an edge with both incident nodes marked\n\t * with the \"dummy\" property.\n\t *\n\t * This algorithm scans layer by layer, starting with the second, for type-1\n\t * conflicts between the current layer and the previous layer. For each layer\n\t * it scans the nodes from left to right until it reaches one that is incident\n\t * on an inner segment. It then scans predecessors to determine if they have\n\t * edges that cross that inner segment. At the end a final scan is done for all\n\t * nodes on the current rank to see if they cross the last visited inner\n\t * segment.\n\t *\n\t * This algorithm (safely) assumes that a dummy node will only be incident on a\n\t * single node in the layers being scanned.\n\t */\n\tfunction findType1Conflicts(g, layering) {\n\t  var conflicts = {};\n\n\t  function visitLayer(prevLayer, layer) {\n\t    var\n\t      // last visited node in the previous layer that is incident on an inner\n\t      // segment.\n\t      k0 = 0,\n\t      // Tracks the last node in this layer scanned for crossings with a type-1\n\t      // segment.\n\t      scanPos = 0,\n\t      prevLayerLength = prevLayer.length,\n\t      lastNode = _.last(layer);\n\n\t    _.forEach(layer, function(v, i) {\n\t      var w = findOtherInnerSegmentNode(g, v),\n\t        k1 = w ? g.node(w).order : prevLayerLength;\n\n\t      if (w || v === lastNode) {\n\t        _.forEach(layer.slice(scanPos, i +1), function(scanNode) {\n\t          _.forEach(g.predecessors(scanNode), function(u) {\n\t            var uLabel = g.node(u),\n\t              uPos = uLabel.order;\n\t            if ((uPos < k0 || k1 < uPos) &&\n\t                !(uLabel.dummy && g.node(scanNode).dummy)) {\n\t              addConflict(conflicts, u, scanNode);\n\t            }\n\t          });\n\t        });\n\t        scanPos = i + 1;\n\t        k0 = k1;\n\t      }\n\t    });\n\n\t    return layer;\n\t  }\n\n\t  _.reduce(layering, visitLayer);\n\t  return conflicts;\n\t}\n\n\tfunction findType2Conflicts(g, layering) {\n\t  var conflicts = {};\n\n\t  function scan(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {\n\t    var v;\n\t    _.forEach(_.range(southPos, southEnd), function(i) {\n\t      v = south[i];\n\t      if (g.node(v).dummy) {\n\t        _.forEach(g.predecessors(v), function(u) {\n\t          var uNode = g.node(u);\n\t          if (uNode.dummy &&\n\t              (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {\n\t            addConflict(conflicts, u, v);\n\t          }\n\t        });\n\t      }\n\t    });\n\t  }\n\n\n\t  function visitLayer(north, south) {\n\t    var prevNorthPos = -1,\n\t      nextNorthPos,\n\t      southPos = 0;\n\n\t    _.forEach(south, function(v, southLookahead) {\n\t      if (g.node(v).dummy === \"border\") {\n\t        var predecessors = g.predecessors(v);\n\t        if (predecessors.length) {\n\t          nextNorthPos = g.node(predecessors[0]).order;\n\t          scan(south, southPos, southLookahead, prevNorthPos, nextNorthPos);\n\t          southPos = southLookahead;\n\t          prevNorthPos = nextNorthPos;\n\t        }\n\t      }\n\t      scan(south, southPos, south.length, nextNorthPos, north.length);\n\t    });\n\n\t    return south;\n\t  }\n\n\t  _.reduce(layering, visitLayer);\n\t  return conflicts;\n\t}\n\n\tfunction findOtherInnerSegmentNode(g, v) {\n\t  if (g.node(v).dummy) {\n\t    return _.find(g.predecessors(v), function(u) {\n\t      return g.node(u).dummy;\n\t    });\n\t  }\n\t}\n\n\tfunction addConflict(conflicts, v, w) {\n\t  if (v > w) {\n\t    var tmp = v;\n\t    v = w;\n\t    w = tmp;\n\t  }\n\n\t  var conflictsV = conflicts[v];\n\t  if (!conflictsV) {\n\t    conflicts[v] = conflictsV = {};\n\t  }\n\t  conflictsV[w] = true;\n\t}\n\n\tfunction hasConflict(conflicts, v, w) {\n\t  if (v > w) {\n\t    var tmp = v;\n\t    v = w;\n\t    w = tmp;\n\t  }\n\t  return _.has(conflicts[v], w);\n\t}\n\n\t/*\n\t * Try to align nodes into vertical \"blocks\" where possible. This algorithm\n\t * attempts to align a node with one of its median neighbors. If the edge\n\t * connecting a neighbor is a type-1 conflict then we ignore that possibility.\n\t * If a previous node has already formed a block with a node after the node\n\t * we're trying to form a block with, we also ignore that possibility - our\n\t * blocks would be split in that scenario.\n\t */\n\tfunction verticalAlignment(g, layering, conflicts, neighborFn) {\n\t  var root = {},\n\t    align = {},\n\t    pos = {};\n\n\t  // We cache the position here based on the layering because the graph and\n\t  // layering may be out of sync. The layering matrix is manipulated to\n\t  // generate different extreme alignments.\n\t  _.forEach(layering, function(layer) {\n\t    _.forEach(layer, function(v, order) {\n\t      root[v] = v;\n\t      align[v] = v;\n\t      pos[v] = order;\n\t    });\n\t  });\n\n\t  _.forEach(layering, function(layer) {\n\t    var prevIdx = -1;\n\t    _.forEach(layer, function(v) {\n\t      var ws = neighborFn(v);\n\t      if (ws.length) {\n\t        ws = _.sortBy(ws, function(w) { return pos[w]; });\n\t        var mp = (ws.length - 1) / 2;\n\t        for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {\n\t          var w = ws[i];\n\t          if (align[v] === v &&\n\t              prevIdx < pos[w] &&\n\t              !hasConflict(conflicts, v, w)) {\n\t            align[w] = v;\n\t            align[v] = root[v] = root[w];\n\t            prevIdx = pos[w];\n\t          }\n\t        }\n\t      }\n\t    });\n\t  });\n\n\t  return { root: root, align: align };\n\t}\n\n\tfunction horizontalCompaction(g, layering, root, align, reverseSep) {\n\t  // This portion of the algorithm differs from BK due to a number of problems.\n\t  // Instead of their algorithm we construct a new block graph and do two\n\t  // sweeps. The first sweep places blocks with the smallest possible\n\t  // coordinates. The second sweep removes unused space by moving blocks to the\n\t  // greatest coordinates without violating separation.\n\t  var xs = {},\n\t    blockG = buildBlockGraph(g, layering, root, reverseSep),\n\t    borderType = reverseSep ? \"borderLeft\" : \"borderRight\";\n\n\t  function iterate(setXsFunc, nextNodesFunc) {\n\t    var stack = blockG.nodes();\n\t    var elem = stack.pop();\n\t    var visited = {};\n\t    while (elem) {\n\t      if (visited[elem]) {\n\t        setXsFunc(elem);\n\t      } else {\n\t        visited[elem] = true;\n\t        stack.push(elem);\n\t        stack = stack.concat(nextNodesFunc(elem));\n\t      }\n\n\t      elem = stack.pop();\n\t    }\n\t  }\n\n\t  // First pass, assign smallest coordinates\n\t  function pass1(elem) {\n\t    xs[elem] = blockG.inEdges(elem).reduce(function(acc, e) {\n\t      return Math.max(acc, xs[e.v] + blockG.edge(e));\n\t    }, 0);\n\t  }\n\n\t  // Second pass, assign greatest coordinates\n\t  function pass2(elem) {\n\t    var min = blockG.outEdges(elem).reduce(function(acc, e) {\n\t      return Math.min(acc, xs[e.w] - blockG.edge(e));\n\t    }, Number.POSITIVE_INFINITY);\n\n\t    var node = g.node(elem);\n\t    if (min !== Number.POSITIVE_INFINITY && node.borderType !== borderType) {\n\t      xs[elem] = Math.max(xs[elem], min);\n\t    }\n\t  }\n\n\t  iterate(pass1, blockG.predecessors.bind(blockG));\n\t  iterate(pass2, blockG.successors.bind(blockG));\n\n\t  // Assign x coordinates to all nodes\n\t  _.forEach(align, function(v) {\n\t    xs[v] = xs[root[v]];\n\t  });\n\n\t  return xs;\n\t}\n\n\n\tfunction buildBlockGraph(g, layering, root, reverseSep) {\n\t  var blockGraph = new Graph(),\n\t    graphLabel = g.graph(),\n\t    sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);\n\n\t  _.forEach(layering, function(layer) {\n\t    var u;\n\t    _.forEach(layer, function(v) {\n\t      var vRoot = root[v];\n\t      blockGraph.setNode(vRoot);\n\t      if (u) {\n\t        var uRoot = root[u],\n\t          prevMax = blockGraph.edge(uRoot, vRoot);\n\t        blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v, u), prevMax || 0));\n\t      }\n\t      u = v;\n\t    });\n\t  });\n\n\t  return blockGraph;\n\t}\n\n\t/*\n\t * Returns the alignment that has the smallest width of the given alignments.\n\t */\n\tfunction findSmallestWidthAlignment(g, xss) {\n\t  return _.minBy(_.values(xss), function (xs) {\n\t    var max = Number.NEGATIVE_INFINITY;\n\t    var min = Number.POSITIVE_INFINITY;\n\n\t    _.forIn(xs, function (x, v) {\n\t      var halfWidth = width(g, v) / 2;\n\n\t      max = Math.max(x + halfWidth, max);\n\t      min = Math.min(x - halfWidth, min);\n\t    });\n\n\t    return max - min;\n\t  });\n\t}\n\n\t/*\n\t * Align the coordinates of each of the layout alignments such that\n\t * left-biased alignments have their minimum coordinate at the same point as\n\t * the minimum coordinate of the smallest width alignment and right-biased\n\t * alignments have their maximum coordinate at the same point as the maximum\n\t * coordinate of the smallest width alignment.\n\t */\n\tfunction alignCoordinates(xss, alignTo) {\n\t  var alignToVals = _.values(alignTo),\n\t    alignToMin = _.min(alignToVals),\n\t    alignToMax = _.max(alignToVals);\n\n\t  _.forEach([\"u\", \"d\"], function(vert) {\n\t    _.forEach([\"l\", \"r\"], function(horiz) {\n\t      var alignment = vert + horiz,\n\t        xs = xss[alignment],\n\t        delta;\n\t      if (xs === alignTo) return;\n\n\t      var xsVals = _.values(xs);\n\t      delta = horiz === \"l\" ? alignToMin - _.min(xsVals) : alignToMax - _.max(xsVals);\n\n\t      if (delta) {\n\t        xss[alignment] = _.mapValues(xs, function(x) { return x + delta; });\n\t      }\n\t    });\n\t  });\n\t}\n\n\tfunction balance(xss, align) {\n\t  return _.mapValues(xss.ul, function(ignore, v) {\n\t    if (align) {\n\t      return xss[align.toLowerCase()][v];\n\t    } else {\n\t      var xs = _.sortBy(_.map(xss, v));\n\t      return (xs[1] + xs[2]) / 2;\n\t    }\n\t  });\n\t}\n\n\tfunction positionX(g) {\n\t  var layering = util.buildLayerMatrix(g);\n\t  var conflicts = _.merge(\n\t    findType1Conflicts(g, layering),\n\t    findType2Conflicts(g, layering));\n\n\t  var xss = {};\n\t  var adjustedLayering;\n\t  _.forEach([\"u\", \"d\"], function(vert) {\n\t    adjustedLayering = vert === \"u\" ? layering : _.values(layering).reverse();\n\t    _.forEach([\"l\", \"r\"], function(horiz) {\n\t      if (horiz === \"r\") {\n\t        adjustedLayering = _.map(adjustedLayering, function(inner) {\n\t          return _.values(inner).reverse();\n\t        });\n\t      }\n\n\t      var neighborFn = (vert === \"u\" ? g.predecessors : g.successors).bind(g);\n\t      var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);\n\t      var xs = horizontalCompaction(g, adjustedLayering,\n\t        align.root, align.align, horiz === \"r\");\n\t      if (horiz === \"r\") {\n\t        xs = _.mapValues(xs, function(x) { return -x; });\n\t      }\n\t      xss[vert + horiz] = xs;\n\t    });\n\t  });\n\n\t  var smallestWidth = findSmallestWidthAlignment(g, xss);\n\t  alignCoordinates(xss, smallestWidth);\n\t  return balance(xss, g.graph().align);\n\t}\n\n\tfunction sep(nodeSep, edgeSep, reverseSep) {\n\t  return function(g, v, w) {\n\t    var vLabel = g.node(v);\n\t    var wLabel = g.node(w);\n\t    var sum = 0;\n\t    var delta;\n\n\t    sum += vLabel.width / 2;\n\t    if (_.has(vLabel, \"labelpos\")) {\n\t      switch (vLabel.labelpos.toLowerCase()) {\n\t      case \"l\": delta = -vLabel.width / 2; break;\n\t      case \"r\": delta = vLabel.width / 2; break;\n\t      }\n\t    }\n\t    if (delta) {\n\t      sum += reverseSep ? delta : -delta;\n\t    }\n\t    delta = 0;\n\n\t    sum += (vLabel.dummy ? edgeSep : nodeSep) / 2;\n\t    sum += (wLabel.dummy ? edgeSep : nodeSep) / 2;\n\n\t    sum += wLabel.width / 2;\n\t    if (_.has(wLabel, \"labelpos\")) {\n\t      switch (wLabel.labelpos.toLowerCase()) {\n\t      case \"l\": delta = wLabel.width / 2; break;\n\t      case \"r\": delta = -wLabel.width / 2; break;\n\t      }\n\t    }\n\t    if (delta) {\n\t      sum += reverseSep ? delta : -delta;\n\t    }\n\t    delta = 0;\n\n\t    return sum;\n\t  };\n\t}\n\n\tfunction width(g, v) {\n\t  return g.node(v).width;\n\t}\n\treturn bk;\n}\n\nexport { requireBk as __require };\n//# sourceMappingURL=bk.js.map\n","import { __require as requireLodash } from '../lodash.js';\nimport { __require as requireUtil } from '../util.js';\nimport { __require as requireBk } from './bk.js';\n\nvar position_1;\nvar hasRequiredPosition;\n\nfunction requirePosition () {\n\tif (hasRequiredPosition) return position_1;\n\thasRequiredPosition = 1;\n\n\tvar _ = requireLodash();\n\tvar util = requireUtil();\n\tvar positionX = requireBk().positionX;\n\n\tposition_1 = position;\n\n\tfunction position(g) {\n\t  g = util.asNonCompoundGraph(g);\n\n\t  positionY(g);\n\t  _.forEach(positionX(g), function(x, v) {\n\t    g.node(v).x = x;\n\t  });\n\t}\n\n\tfunction positionY(g) {\n\t  var layering = util.buildLayerMatrix(g);\n\t  var rankSep = g.graph().ranksep;\n\t  var prevY = 0;\n\t  _.forEach(layering, function(layer) {\n\t    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\n\t    _.forEach(layer, function(v) {\n\t      g.node(v).y = prevY + maxHeight / 2;\n\t    });\n\t    prevY += maxHeight + rankSep;\n\t  });\n\t}\n\treturn position_1;\n}\n\nexport { requirePosition as __require };\n//# sourceMappingURL=index.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireAcyclic } from './acyclic.js';\nimport { __require as requireNormalize } from './normalize.js';\nimport { __require as requireRank } from './rank/index.js';\nimport { __require as requireUtil } from './util.js';\nimport { __require as requireParentDummyChains } from './parent-dummy-chains.js';\nimport { __require as requireNestingGraph } from './nesting-graph.js';\nimport { __require as requireAddBorderSegments } from './add-border-segments.js';\nimport { __require as requireCoordinateSystem } from './coordinate-system.js';\nimport { __require as requireOrder } from './order/index.js';\nimport { __require as requirePosition } from './position/index.js';\nimport { __require as requireGraphlib } from './graphlib.js';\n\nvar layout_1;\nvar hasRequiredLayout;\n\nfunction requireLayout () {\n\tif (hasRequiredLayout) return layout_1;\n\thasRequiredLayout = 1;\n\n\tvar _ = requireLodash();\n\tvar acyclic = requireAcyclic();\n\tvar normalize = requireNormalize();\n\tvar rank = requireRank();\n\tvar normalizeRanks = requireUtil().normalizeRanks;\n\tvar parentDummyChains = requireParentDummyChains();\n\tvar removeEmptyRanks = requireUtil().removeEmptyRanks;\n\tvar nestingGraph = requireNestingGraph();\n\tvar addBorderSegments = requireAddBorderSegments();\n\tvar coordinateSystem = requireCoordinateSystem();\n\tvar order = requireOrder();\n\tvar position = requirePosition();\n\tvar util = requireUtil();\n\tvar Graph = requireGraphlib().Graph;\n\n\tlayout_1 = layout;\n\n\tfunction layout(g, opts) {\n\t  var time = opts && opts.debugTiming ? util.time : util.notime;\n\t  time(\"layout\", function() {\n\t    var layoutGraph = \n\t      time(\"  buildLayoutGraph\", function() { return buildLayoutGraph(g); });\n\t    time(\"  runLayout\",        function() { runLayout(layoutGraph, time); });\n\t    time(\"  updateInputGraph\", function() { updateInputGraph(g, layoutGraph); });\n\t  });\n\t}\n\n\tfunction runLayout(g, time) {\n\t  time(\"    makeSpaceForEdgeLabels\", function() { makeSpaceForEdgeLabels(g); });\n\t  time(\"    removeSelfEdges\",        function() { removeSelfEdges(g); });\n\t  time(\"    acyclic\",                function() { acyclic.run(g); });\n\t  time(\"    nestingGraph.run\",       function() { nestingGraph.run(g); });\n\t  time(\"    rank\",                   function() { rank(util.asNonCompoundGraph(g)); });\n\t  time(\"    injectEdgeLabelProxies\", function() { injectEdgeLabelProxies(g); });\n\t  time(\"    removeEmptyRanks\",       function() { removeEmptyRanks(g); });\n\t  time(\"    nestingGraph.cleanup\",   function() { nestingGraph.cleanup(g); });\n\t  time(\"    normalizeRanks\",         function() { normalizeRanks(g); });\n\t  time(\"    assignRankMinMax\",       function() { assignRankMinMax(g); });\n\t  time(\"    removeEdgeLabelProxies\", function() { removeEdgeLabelProxies(g); });\n\t  time(\"    normalize.run\",          function() { normalize.run(g); });\n\t  time(\"    parentDummyChains\",      function() { parentDummyChains(g); });\n\t  time(\"    addBorderSegments\",      function() { addBorderSegments(g); });\n\t  time(\"    order\",                  function() { order(g); });\n\t  time(\"    insertSelfEdges\",        function() { insertSelfEdges(g); });\n\t  time(\"    adjustCoordinateSystem\", function() { coordinateSystem.adjust(g); });\n\t  time(\"    position\",               function() { position(g); });\n\t  time(\"    positionSelfEdges\",      function() { positionSelfEdges(g); });\n\t  time(\"    removeBorderNodes\",      function() { removeBorderNodes(g); });\n\t  time(\"    normalize.undo\",         function() { normalize.undo(g); });\n\t  time(\"    fixupEdgeLabelCoords\",   function() { fixupEdgeLabelCoords(g); });\n\t  time(\"    undoCoordinateSystem\",   function() { coordinateSystem.undo(g); });\n\t  time(\"    translateGraph\",         function() { translateGraph(g); });\n\t  time(\"    assignNodeIntersects\",   function() { assignNodeIntersects(g); });\n\t  time(\"    reversePoints\",          function() { reversePointsForReversedEdges(g); });\n\t  time(\"    acyclic.undo\",           function() { acyclic.undo(g); });\n\t}\n\n\t/*\n\t * Copies final layout information from the layout graph back to the input\n\t * graph. This process only copies whitelisted attributes from the layout graph\n\t * to the input graph, so it serves as a good place to determine what\n\t * attributes can influence layout.\n\t */\n\tfunction updateInputGraph(inputGraph, layoutGraph) {\n\t  _.forEach(inputGraph.nodes(), function(v) {\n\t    var inputLabel = inputGraph.node(v);\n\t    var layoutLabel = layoutGraph.node(v);\n\n\t    if (inputLabel) {\n\t      inputLabel.x = layoutLabel.x;\n\t      inputLabel.y = layoutLabel.y;\n\n\t      if (layoutGraph.children(v).length) {\n\t        inputLabel.width = layoutLabel.width;\n\t        inputLabel.height = layoutLabel.height;\n\t      }\n\t    }\n\t  });\n\n\t  _.forEach(inputGraph.edges(), function(e) {\n\t    var inputLabel = inputGraph.edge(e);\n\t    var layoutLabel = layoutGraph.edge(e);\n\n\t    inputLabel.points = layoutLabel.points;\n\t    if (_.has(layoutLabel, \"x\")) {\n\t      inputLabel.x = layoutLabel.x;\n\t      inputLabel.y = layoutLabel.y;\n\t    }\n\t  });\n\n\t  inputGraph.graph().width = layoutGraph.graph().width;\n\t  inputGraph.graph().height = layoutGraph.graph().height;\n\t}\n\n\tvar graphNumAttrs = [\"nodesep\", \"edgesep\", \"ranksep\", \"marginx\", \"marginy\"];\n\tvar graphDefaults = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: \"tb\" };\n\tvar graphAttrs = [\"acyclicer\", \"ranker\", \"rankdir\", \"align\"];\n\tvar nodeNumAttrs = [\"width\", \"height\"];\n\tvar nodeDefaults = { width: 0, height: 0 };\n\tvar edgeNumAttrs = [\"minlen\", \"weight\", \"width\", \"height\", \"labeloffset\"];\n\tvar edgeDefaults = {\n\t  minlen: 1, weight: 1, width: 0, height: 0,\n\t  labeloffset: 10, labelpos: \"r\"\n\t};\n\tvar edgeAttrs = [\"labelpos\"];\n\n\t/*\n\t * Constructs a new graph from the input graph, which can be used for layout.\n\t * This process copies only whitelisted attributes from the input graph to the\n\t * layout graph. Thus this function serves as a good place to determine what\n\t * attributes can influence layout.\n\t */\n\tfunction buildLayoutGraph(inputGraph) {\n\t  var g = new Graph({ multigraph: true, compound: true });\n\t  var graph = canonicalize(inputGraph.graph());\n\n\t  g.setGraph(_.merge({},\n\t    graphDefaults,\n\t    selectNumberAttrs(graph, graphNumAttrs),\n\t    _.pick(graph, graphAttrs)));\n\n\t  _.forEach(inputGraph.nodes(), function(v) {\n\t    var node = canonicalize(inputGraph.node(v));\n\t    g.setNode(v, _.defaults(selectNumberAttrs(node, nodeNumAttrs), nodeDefaults));\n\t    g.setParent(v, inputGraph.parent(v));\n\t  });\n\n\t  _.forEach(inputGraph.edges(), function(e) {\n\t    var edge = canonicalize(inputGraph.edge(e));\n\t    g.setEdge(e, _.merge({},\n\t      edgeDefaults,\n\t      selectNumberAttrs(edge, edgeNumAttrs),\n\t      _.pick(edge, edgeAttrs)));\n\t  });\n\n\t  return g;\n\t}\n\n\t/*\n\t * This idea comes from the Gansner paper: to account for edge labels in our\n\t * layout we split each rank in half by doubling minlen and halving ranksep.\n\t * Then we can place labels at these mid-points between nodes.\n\t *\n\t * We also add some minimal padding to the width to push the label for the edge\n\t * away from the edge itself a bit.\n\t */\n\tfunction makeSpaceForEdgeLabels(g) {\n\t  var graph = g.graph();\n\t  graph.ranksep /= 2;\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    edge.minlen *= 2;\n\t    if (edge.labelpos.toLowerCase() !== \"c\") {\n\t      if (graph.rankdir === \"TB\" || graph.rankdir === \"BT\") {\n\t        edge.width += edge.labeloffset;\n\t      } else {\n\t        edge.height += edge.labeloffset;\n\t      }\n\t    }\n\t  });\n\t}\n\n\t/*\n\t * Creates temporary dummy nodes that capture the rank in which each edge's\n\t * label is going to, if it has one of non-zero width and height. We do this\n\t * so that we can safely remove empty ranks while preserving balance for the\n\t * label's position.\n\t */\n\tfunction injectEdgeLabelProxies(g) {\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    if (edge.width && edge.height) {\n\t      var v = g.node(e.v);\n\t      var w = g.node(e.w);\n\t      var label = { rank: (w.rank - v.rank) / 2 + v.rank, e: e };\n\t      util.addDummyNode(g, \"edge-proxy\", label, \"_ep\");\n\t    }\n\t  });\n\t}\n\n\tfunction assignRankMinMax(g) {\n\t  var maxRank = 0;\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v);\n\t    if (node.borderTop) {\n\t      node.minRank = g.node(node.borderTop).rank;\n\t      node.maxRank = g.node(node.borderBottom).rank;\n\t      maxRank = _.max(maxRank, node.maxRank);\n\t    }\n\t  });\n\t  g.graph().maxRank = maxRank;\n\t}\n\n\tfunction removeEdgeLabelProxies(g) {\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v);\n\t    if (node.dummy === \"edge-proxy\") {\n\t      g.edge(node.e).labelRank = node.rank;\n\t      g.removeNode(v);\n\t    }\n\t  });\n\t}\n\n\tfunction translateGraph(g) {\n\t  var minX = Number.POSITIVE_INFINITY;\n\t  var maxX = 0;\n\t  var minY = Number.POSITIVE_INFINITY;\n\t  var maxY = 0;\n\t  var graphLabel = g.graph();\n\t  var marginX = graphLabel.marginx || 0;\n\t  var marginY = graphLabel.marginy || 0;\n\n\t  function getExtremes(attrs) {\n\t    var x = attrs.x;\n\t    var y = attrs.y;\n\t    var w = attrs.width;\n\t    var h = attrs.height;\n\t    minX = Math.min(minX, x - w / 2);\n\t    maxX = Math.max(maxX, x + w / 2);\n\t    minY = Math.min(minY, y - h / 2);\n\t    maxY = Math.max(maxY, y + h / 2);\n\t  }\n\n\t  _.forEach(g.nodes(), function(v) { getExtremes(g.node(v)); });\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    if (_.has(edge, \"x\")) {\n\t      getExtremes(edge);\n\t    }\n\t  });\n\n\t  minX -= marginX;\n\t  minY -= marginY;\n\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v);\n\t    node.x -= minX;\n\t    node.y -= minY;\n\t  });\n\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    _.forEach(edge.points, function(p) {\n\t      p.x -= minX;\n\t      p.y -= minY;\n\t    });\n\t    if (_.has(edge, \"x\")) { edge.x -= minX; }\n\t    if (_.has(edge, \"y\")) { edge.y -= minY; }\n\t  });\n\n\t  graphLabel.width = maxX - minX + marginX;\n\t  graphLabel.height = maxY - minY + marginY;\n\t}\n\n\tfunction assignNodeIntersects(g) {\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    var nodeV = g.node(e.v);\n\t    var nodeW = g.node(e.w);\n\t    var p1, p2;\n\t    if (!edge.points) {\n\t      edge.points = [];\n\t      p1 = nodeW;\n\t      p2 = nodeV;\n\t    } else {\n\t      p1 = edge.points[0];\n\t      p2 = edge.points[edge.points.length - 1];\n\t    }\n\t    edge.points.unshift(util.intersectRect(nodeV, p1));\n\t    edge.points.push(util.intersectRect(nodeW, p2));\n\t  });\n\t}\n\n\tfunction fixupEdgeLabelCoords(g) {\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    if (_.has(edge, \"x\")) {\n\t      if (edge.labelpos === \"l\" || edge.labelpos === \"r\") {\n\t        edge.width -= edge.labeloffset;\n\t      }\n\t      switch (edge.labelpos) {\n\t      case \"l\": edge.x -= edge.width / 2 + edge.labeloffset; break;\n\t      case \"r\": edge.x += edge.width / 2 + edge.labeloffset; break;\n\t      }\n\t    }\n\t  });\n\t}\n\n\tfunction reversePointsForReversedEdges(g) {\n\t  _.forEach(g.edges(), function(e) {\n\t    var edge = g.edge(e);\n\t    if (edge.reversed) {\n\t      edge.points.reverse();\n\t    }\n\t  });\n\t}\n\n\tfunction removeBorderNodes(g) {\n\t  _.forEach(g.nodes(), function(v) {\n\t    if (g.children(v).length) {\n\t      var node = g.node(v);\n\t      var t = g.node(node.borderTop);\n\t      var b = g.node(node.borderBottom);\n\t      var l = g.node(_.last(node.borderLeft));\n\t      var r = g.node(_.last(node.borderRight));\n\n\t      node.width = Math.abs(r.x - l.x);\n\t      node.height = Math.abs(b.y - t.y);\n\t      node.x = l.x + node.width / 2;\n\t      node.y = t.y + node.height / 2;\n\t    }\n\t  });\n\n\t  _.forEach(g.nodes(), function(v) {\n\t    if (g.node(v).dummy === \"border\") {\n\t      g.removeNode(v);\n\t    }\n\t  });\n\t}\n\n\tfunction removeSelfEdges(g) {\n\t  _.forEach(g.edges(), function(e) {\n\t    if (e.v === e.w) {\n\t      var node = g.node(e.v);\n\t      if (!node.selfEdges) {\n\t        node.selfEdges = [];\n\t      }\n\t      node.selfEdges.push({ e: e, label: g.edge(e) });\n\t      g.removeEdge(e);\n\t    }\n\t  });\n\t}\n\n\tfunction insertSelfEdges(g) {\n\t  var layers = util.buildLayerMatrix(g);\n\t  _.forEach(layers, function(layer) {\n\t    var orderShift = 0;\n\t    _.forEach(layer, function(v, i) {\n\t      var node = g.node(v);\n\t      node.order = i + orderShift;\n\t      _.forEach(node.selfEdges, function(selfEdge) {\n\t        util.addDummyNode(g, \"selfedge\", {\n\t          width: selfEdge.label.width,\n\t          height: selfEdge.label.height,\n\t          rank: node.rank,\n\t          order: i + (++orderShift),\n\t          e: selfEdge.e,\n\t          label: selfEdge.label\n\t        }, \"_se\");\n\t      });\n\t      delete node.selfEdges;\n\t    });\n\t  });\n\t}\n\n\tfunction positionSelfEdges(g) {\n\t  _.forEach(g.nodes(), function(v) {\n\t    var node = g.node(v);\n\t    if (node.dummy === \"selfedge\") {\n\t      var selfNode = g.node(node.e.v);\n\t      var x = selfNode.x + selfNode.width / 2;\n\t      var y = selfNode.y;\n\t      var dx = node.x - x;\n\t      var dy = selfNode.height / 2;\n\t      g.setEdge(node.e, node.label);\n\t      g.removeNode(v);\n\t      node.label.points = [\n\t        { x: x + 2 * dx / 3, y: y - dy },\n\t        { x: x + 5 * dx / 6, y: y - dy },\n\t        { x: x +     dx    , y: y },\n\t        { x: x + 5 * dx / 6, y: y + dy },\n\t        { x: x + 2 * dx / 3, y: y + dy }\n\t      ];\n\t      node.label.x = node.x;\n\t      node.label.y = node.y;\n\t    }\n\t  });\n\t}\n\n\tfunction selectNumberAttrs(obj, attrs) {\n\t  return _.mapValues(_.pick(obj, attrs), Number);\n\t}\n\n\tfunction canonicalize(attrs) {\n\t  var newAttrs = {};\n\t  _.forEach(attrs, function(v, k) {\n\t    newAttrs[k.toLowerCase()] = v;\n\t  });\n\t  return newAttrs;\n\t}\n\treturn layout_1;\n}\n\nexport { requireLayout as __require };\n//# sourceMappingURL=layout.js.map\n","import { __require as requireLodash } from './lodash.js';\nimport { __require as requireUtil } from './util.js';\nimport { __require as requireGraphlib } from './graphlib.js';\n\nvar debug;\nvar hasRequiredDebug;\n\nfunction requireDebug () {\n\tif (hasRequiredDebug) return debug;\n\thasRequiredDebug = 1;\n\tvar _ = requireLodash();\n\tvar util = requireUtil();\n\tvar Graph = requireGraphlib().Graph;\n\n\tdebug = {\n\t  debugOrdering: debugOrdering\n\t};\n\n\t/* istanbul ignore next */\n\tfunction debugOrdering(g) {\n\t  var layerMatrix = util.buildLayerMatrix(g);\n\n\t  var h = new Graph({ compound: true, multigraph: true }).setGraph({});\n\n\t  _.forEach(g.nodes(), function(v) {\n\t    h.setNode(v, { label: v });\n\t    h.setParent(v, \"layer\" + g.node(v).rank);\n\t  });\n\n\t  _.forEach(g.edges(), function(e) {\n\t    h.setEdge(e.v, e.w, {}, e.name);\n\t  });\n\n\t  _.forEach(layerMatrix, function(layer, i) {\n\t    var layerV = \"layer\" + i;\n\t    h.setNode(layerV, { rank: \"same\" });\n\t    _.reduce(layer, function(u, v) {\n\t      h.setEdge(u, v, { style: \"invis\" });\n\t      return v;\n\t    });\n\t  });\n\n\t  return h;\n\t}\n\treturn debug;\n}\n\nexport { requireDebug as __require };\n//# sourceMappingURL=debug.js.map\n","var version;\nvar hasRequiredVersion;\n\nfunction requireVersion () {\n\tif (hasRequiredVersion) return version;\n\thasRequiredVersion = 1;\n\tversion = \"0.8.5\";\n\treturn version;\n}\n\nexport { requireVersion as __require };\n//# sourceMappingURL=version.js.map\n","import { __require as requireGraphlib } from './lib/graphlib.js';\nimport { __require as requireLayout } from './lib/layout.js';\nimport { __require as requireDebug } from './lib/debug.js';\nimport { __require as requireUtil } from './lib/util.js';\nimport { __require as requireVersion } from './lib/version.js';\n\n/*\nCopyright (c) 2012-2014 Chris Pettitt\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nvar dagre$1;\nvar hasRequiredDagre;\n\nfunction requireDagre () {\n\tif (hasRequiredDagre) return dagre$1;\n\thasRequiredDagre = 1;\n\tdagre$1 = {\n\t  graphlib: requireGraphlib(),\n\n\t  layout: requireLayout(),\n\t  debug: requireDebug(),\n\t  util: {\n\t    time: requireUtil().time,\n\t    notime: requireUtil().notime\n\t  },\n\t  version: requireVersion()\n\t};\n\treturn dagre$1;\n}\n\nexport { requireDagre as __require };\n//# sourceMappingURL=index.js.map\n","import { getDefaultExportFromCjs } from './_commonjsHelpers.js';\nimport { __require as requireDagre } from '../node_modules/dagre/index.js';\n\nvar dagreExports = requireDagre();\nvar dagre = /*@__PURE__*/getDefaultExportFromCjs(dagreExports);\n\nexport { dagreExports as d, dagre as default };\n//# sourceMappingURL=index.js.map\n","import isType from './is-type.js';\n\n/**\n * \n *\n * @param {Object} value \n * @return {Boolean}\n */\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\n\nexport { isBoolean as default };\n//# sourceMappingURL=is-boolean.js.map\n","import isArray from './is-array.js';\nimport isObject from './is-object.js';\n\nfunction each$1(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (isArray(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (isObject(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\n\nexport { each$1 as default };\n//# sourceMappingURL=each.js.map\n","import each from './each.js';\nimport isPlainObject from './is-plain-object.js';\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar pick = (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n\nexport { pick as default };\n//# sourceMappingURL=pick.js.map\n","import { __awaiter } from '../../node_modules/tslib/tslib.es6.js';\nimport dagre, { d as dagreExports } from '../../_virtual/index.js';\nimport '../../node_modules/@antv/expr/dist/index.esm.js';\nimport { formatSizeFn, formatNumberFn, formatFn } from '../../util/format.js';\nimport { parsePoint } from '../../util/point.js';\nimport { parseSize } from '../../util/size.js';\nimport { BaseLayout } from '../base-layout.js';\nimport isBoolean from '../../node_modules/@antv/util/esm/lodash/is-boolean.js';\nimport isNil from '../../node_modules/@antv/util/esm/lodash/is-nil.js';\nimport pick from '../../node_modules/@antv/util/esm/lodash/pick.js';\n\n/**\n * <zh/> Dagre \n *\n * <en/> Dagre layout\n */\nclass DagreLayout extends BaseLayout {\n    constructor() {\n        super(...arguments);\n        this.id = 'dagre';\n        this.isCompoundGraph = null;\n        this.config = {\n            graphAttributes: [\n                'rankdir',\n                'align',\n                'nodesep',\n                'edgesep',\n                'ranksep',\n                'marginx',\n                'marginy',\n                'acyclicer',\n                'ranker',\n            ],\n            nodeAttributes: ['width', 'height'],\n            edgeAttributes: [\n                'minlen',\n                'weight',\n                'width',\n                'height',\n                'labelpos',\n                'labeloffset',\n            ],\n        };\n    }\n    getDefaultOptions() {\n        return {\n            directed: true,\n            multigraph: true,\n            rankdir: 'TB',\n            align: undefined,\n            nodesep: 50,\n            edgesep: 10,\n            ranksep: 50,\n            marginx: 0,\n            marginy: 0,\n            acyclicer: undefined,\n            ranker: 'network-simplex',\n            nodeSize: [0, 0],\n            edgeMinLen: 1,\n            edgeWeight: 1,\n            edgeLabelSize: [0, 0],\n            edgeLabelPos: 'r',\n            edgeLabelOffset: 10,\n        };\n    }\n    layout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const g = new dagreExports.graphlib.Graph({\n                directed: !!this.options.directed,\n                multigraph: !!this.options.multigraph,\n                compound: this.isCompound(),\n            });\n            g.setGraph(pick(this.options, this.config.graphAttributes));\n            g.setDefaultEdgeLabel(() => ({}));\n            const nodeSizeFn = formatSizeFn(this.options.nodeSize, 0);\n            this.model.forEachNode((node) => {\n                const raw = node._original;\n                const [width, height] = parseSize(nodeSizeFn(raw));\n                const label = { width, height };\n                g.setNode(String(node.id), label);\n                if (this.isCompound()) {\n                    if (isNil(node.parentId))\n                        return;\n                    g.setParent(String(node.id), String(node.parentId));\n                }\n            });\n            const { edgeLabelSize, edgeLabelOffset, edgeLabelPos, edgeMinLen, edgeWeight, } = this.options;\n            const edgeLabelSizeFn = formatSizeFn(edgeLabelSize, 0, 'edge');\n            const edgeLabelOffsetFn = formatNumberFn(edgeLabelOffset, 10, 'edge');\n            const edgeLabelPosFn = typeof edgeLabelPos === 'string'\n                ? () => edgeLabelPos\n                : formatFn(edgeLabelPos, ['edge']);\n            const edgeMinLenFn = formatNumberFn(edgeMinLen, 1, 'edge');\n            const edgeWeightFn = formatNumberFn(edgeWeight, 1, 'edge');\n            this.model.forEachEdge((edge) => {\n                const raw = edge._original;\n                const [lw, lh] = parseSize(edgeLabelSizeFn(raw));\n                const label = {\n                    width: lw,\n                    height: lh,\n                    labelpos: edgeLabelPosFn(raw),\n                    labeloffset: edgeLabelOffsetFn(raw),\n                    minlen: edgeMinLenFn(raw),\n                    weight: edgeWeightFn(raw),\n                };\n                g.setEdge(String(edge.source), String(edge.target), label, String(edge.id));\n            });\n            dagre.layout(g);\n            this.model.forEachNode((node) => {\n                const data = g.node(String(node.id));\n                if (!data)\n                    return;\n                node.x = data.x;\n                node.y = data.y;\n                node.size = [data.width, data.height];\n            });\n            this.model.forEachEdge((edge) => {\n                const data = g.edge(String(edge.source), String(edge.target), String(edge.id));\n                if (!data)\n                    return;\n                const { width, height, weight, minlen, labelpos, labeloffset, points } = data;\n                edge.labelSize = [width, height];\n                edge.weight = weight;\n                edge.minLen = minlen;\n                edge.labelPos = labelpos;\n                edge.labelOffset = labeloffset;\n                edge.points = points.map(parsePoint);\n            });\n        });\n    }\n    isCompound() {\n        if (this.isCompoundGraph !== null)\n            return this.isCompoundGraph;\n        if (isBoolean(this.options.compound)) {\n            return (this.isCompoundGraph = this.options.compound);\n        }\n        this.isCompoundGraph = this.model\n            .nodes()\n            .some((node) => !isNil(node.parentId));\n        return this.isCompoundGraph;\n    }\n}\n\nexport { DagreLayout };\n//# sourceMappingURL=index.js.map\n","import { DagreLayout } from '@antv/layout';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, getElementBounds, Group, Path, Polygon, Text } from '../../jsx';\nimport type { ItemDatum, RelationData, RelationEdgeDatum } from '../../types';\nimport { BtnAdd, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\ntype FlowNodeDatum = ItemDatum & {\n  id?: string;\n  parentId?: string;\n};\n\ntype NodeMeta = {\n  id: string;\n  indexes: number[];\n  datum: FlowNodeDatum;\n  themeColors?: ReturnType<typeof getThemeColors>;\n};\n\ntype NodeLayout = NodeMeta & {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  centerX: number;\n  centerY: number;\n};\n\nexport interface RelationDagreFlowProps extends BaseStructureProps {\n  rankdir?: 'TB' | 'BT' | 'LR' | 'RL';\n  nodesep?: number;\n  ranksep?: number;\n  edgesep?: number;\n  edgeWidth?: number;\n  showConnections?: boolean;\n  edgeColorMode?: 'solid' | 'gradient';\n  edgeStyle?: 'solid' | 'dashed';\n  edgeDashPattern?: string;\n  edgeCornerRadius?: number;\n  edgeRouting?: 'dagre' | 'orth';\n  showArrow?: boolean;\n  arrowType?: 'arrow' | 'triangle' | 'diamond';\n  padding?: number;\n  edgeAnimation?: 'none' | 'ant-line';\n  edgeAnimationSpeed?: number;\n}\n\nconst DEFAULT_NODE_SEP = 50;\nconst DEFAULT_RANK_SEP = 70;\nconst DEFAULT_EDGE_SEP = 10;\nconst DEFAULT_EDGE_WIDTH = 2;\nconst DEFAULT_PADDING = 30;\n\nconst checkUndirectedCycle = (\n  nodeIds: string[],\n  edges: { id: string; source: string; target: string }[],\n): boolean => {\n  const adj = new Map<string, { target: string; edgeId: string }[]>();\n  nodeIds.forEach((id) => adj.set(id, []));\n\n  for (const edge of edges) {\n    if (edge.source === edge.target) return true;\n    adj.get(edge.source)?.push({ target: edge.target, edgeId: edge.id });\n    adj.get(edge.target)?.push({ target: edge.source, edgeId: edge.id });\n  }\n\n  const visited = new Set<string>();\n  const dfs = (u: string, parentEdgeId: string | null): boolean => {\n    visited.add(u);\n    const neighbors = adj.get(u) || [];\n    for (const { target: v, edgeId } of neighbors) {\n      if (edgeId === parentEdgeId) continue;\n      if (visited.has(v)) return true;\n      if (dfs(v, edgeId)) return true;\n    }\n    return false;\n  };\n\n  for (const node of nodeIds) {\n    if (!visited.has(node)) {\n      if (dfs(node, null)) return true;\n    }\n  }\n  return false;\n};\n\nexport const RelationDagreFlow: ComponentType<RelationDagreFlowProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    rankdir = 'TB',\n    nodesep = DEFAULT_NODE_SEP,\n    ranksep = DEFAULT_RANK_SEP,\n    edgesep = DEFAULT_EDGE_SEP,\n    edgeWidth = DEFAULT_EDGE_WIDTH,\n    showConnections = true,\n    edgeColorMode = 'gradient',\n    edgeStyle = 'solid',\n    edgeDashPattern = '5,5',\n    edgeCornerRadius = 12,\n    edgeRouting = 'orth',\n    showArrow = true,\n    arrowType = 'triangle',\n    padding = DEFAULT_PADDING,\n    edgeAnimation = 'none',\n    edgeAnimationSpeed = 1,\n    options,\n  } = props;\n  const { title, desc, items = [], relations = [] } = data as RelationData;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (!Item || items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnAdd indexes={[0]} x={0} y={0} />\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const nodeMetaMap = new Map<string, NodeMeta>();\n  const nodeSizeMap = new Map<string, { width: number; height: number }>();\n  const nodeColorMap = new Map<string, string>();\n  const nodeIdsByIndex = new Map<number, string>();\n  const nodeIdSet = new Set<string>();\n  const colorGroupIndexMap = new Map<string, number>();\n  let nextColorGroupIndex = 0;\n\n  const nodes = items.map((item, index) => {\n    const datum = item as FlowNodeDatum;\n    const id = String(datum.id ?? index);\n    const indexes = [index];\n    let primary: string | undefined;\n    const groupKey = String((datum as { group?: unknown }).group ?? '');\n    if (groupKey) {\n      let groupIndex = colorGroupIndexMap.get(groupKey);\n      if (groupIndex == null) {\n        groupIndex = nextColorGroupIndex;\n        colorGroupIndexMap.set(groupKey, groupIndex);\n        nextColorGroupIndex += 1;\n      }\n      primary = getPaletteColor(options, [groupIndex]);\n    } else {\n      primary = getPaletteColor(options, indexes);\n    }\n    const themeColors = primary\n      ? getThemeColors({ colorPrimary: primary }, options)\n      : undefined;\n    if (primary) {\n      nodeColorMap.set(id, primary);\n    }\n    const bounds = getElementBounds(\n      <Item\n        indexes={indexes}\n        data={data}\n        datum={datum}\n        positionH=\"center\"\n        positionV=\"middle\"\n        themeColors={themeColors}\n      />,\n    );\n    nodeSizeMap.set(id, bounds);\n    nodeMetaMap.set(id, { id, indexes, datum, themeColors });\n    nodeIdsByIndex.set(index, id);\n    nodeIdSet.add(id);\n    return { id, parentId: datum.parentId };\n  });\n\n  const resolveNodeId = (value: string | number | undefined | null) => {\n    if (value == null) return null;\n    const direct = String(value);\n    if (nodeIdSet.has(direct)) return direct;\n    const asIndex = Number(value);\n    if (!Number.isNaN(asIndex)) {\n      const mapped = nodeIdsByIndex.get(asIndex);\n      if (mapped) return mapped;\n    }\n    return null;\n  };\n\n  const edges = relations\n    .map((relation, index) => {\n      const source = resolveNodeId(relation.from);\n      const target = resolveNodeId(relation.to);\n      if (!source || !target) return null;\n      return {\n        id: relation.id ? String(relation.id) : `edge-${index}`,\n        source,\n        target,\n        relation,\n      };\n    })\n    .filter(Boolean) as {\n    id: string;\n    source: string;\n    target: string;\n    relation: RelationEdgeDatum;\n  }[];\n\n  const hasCycle = checkUndirectedCycle(Array.from(nodeIdSet), edges);\n  const finalEdgeRouting = hasCycle ? 'dagre' : edgeRouting;\n\n  const layout = new DagreLayout({\n    rankdir,\n    nodesep,\n    ranksep,\n    edgesep,\n    controlPoints: true,\n    nodeSize: (node) => {\n      const id = String((node as { id?: string | number }).id ?? '');\n      const bounds = nodeSizeMap.get(id);\n      return bounds ? [bounds.width, bounds.height] : [0, 0];\n    },\n  });\n\n  layout.execute({ nodes, edges });\n\n  const nodeLayouts: NodeLayout[] = [];\n  layout.forEachNode((node) => {\n    const id = String(node.id);\n    const meta = nodeMetaMap.get(id);\n    if (!meta) return;\n    const bounds = nodeSizeMap.get(id);\n    const width = bounds?.width ?? 0;\n    const height = bounds?.height ?? 0;\n    const x = (node.x ?? 0) - width / 2;\n    const y = (node.y ?? 0) - height / 2;\n    nodeLayouts.push({\n      ...meta,\n      x,\n      y,\n      width,\n      height,\n      centerX: x + width / 2,\n      centerY: y + height / 2,\n    });\n  });\n\n  if (nodeLayouts.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnAdd indexes={[0]} x={0} y={0} />\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const minX = Math.min(...nodeLayouts.map((node) => node.x));\n  const minY = Math.min(...nodeLayouts.map((node) => node.y));\n  const offsetX = padding - minX;\n  const offsetY = padding - minY;\n\n  const nodeLayoutById = new Map<string, NodeLayout>();\n  const itemElements: JSXElement[] = [];\n  nodeLayouts.forEach((node) => {\n    const displayX = node.x + offsetX;\n    const displayY = node.y + offsetY;\n    const positionH =\n      rankdir === 'LR' ? 'normal' : rankdir === 'RL' ? 'flipped' : 'center';\n    const positionV =\n      rankdir === 'TB' ? 'normal' : rankdir === 'BT' ? 'flipped' : 'middle';\n\n    itemElements.push(\n      <Item\n        indexes={node.indexes}\n        datum={node.datum}\n        data={data}\n        x={displayX}\n        y={displayY}\n        positionH={positionH}\n        positionV={positionV}\n        themeColors={node.themeColors}\n      />,\n    );\n\n    nodeLayoutById.set(node.id, {\n      ...node,\n      x: displayX,\n      y: displayY,\n      centerX: displayX + node.width / 2,\n      centerY: displayY + node.height / 2,\n    });\n  });\n\n  const defsElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n  if (showConnections) {\n    const defaultStroke = getColorPrimary(options);\n    const themeColors = getThemeColors(options.themeConfig, options);\n    const labelBackground = themeColors?.colorBg ?? '#ffffff';\n    const labelTextColor = themeColors?.colorText ?? defaultStroke;\n    const arrowSize = Math.max(10, edgeWidth * 4);\n    const isVertical = rankdir === 'TB' || rankdir === 'BT';\n\n    const enableAnimation = edgeAnimation === 'ant-line';\n    const animationDashArray = enableAnimation ? edgeDashPattern : '';\n    const staticDashArray =\n      !enableAnimation && edgeStyle === 'dashed' ? edgeDashPattern : '';\n    const actualDashArray = enableAnimation\n      ? animationDashArray\n      : staticDashArray;\n\n    const dashPatternLength = enableAnimation\n      ? animationDashArray\n          .split(',')\n          .reduce((sum, val) => sum + parseFloat(val.trim() || '0'), 0)\n      : 0;\n    const animationDuration =\n      enableAnimation && dashPatternLength > 0\n        ? `${dashPatternLength / (edgeAnimationSpeed * 10)}s`\n        : '1s';\n\n    const straightCornerRadius = edgeCornerRadius;\n    const createStraightPath = (\n      points: [number, number][],\n      dx: number,\n      dy: number,\n    ) =>\n      points\n        .map(([x, y], index) => {\n          const prefix = index === 0 ? 'M' : 'L';\n          return `${prefix} ${x + dx} ${y + dy}`;\n        })\n        .join(' ');\n\n    const createRoundedPath = (\n      points: [number, number][],\n      radius: number,\n      dx: number,\n      dy: number,\n    ) => {\n      if (points.length < 2) return '';\n      const clamp = (value: number, min: number, max: number) =>\n        Math.min(max, Math.max(min, value));\n      const toPoint = ([x, y]: [number, number]) => ({\n        x: x + dx,\n        y: y + dy,\n      });\n      const output: string[] = [];\n      const first = toPoint(points[0]);\n      output.push(`M ${first.x} ${first.y}`);\n\n      if (points.length === 2) {\n        const last = toPoint(points[1]);\n        output.push(`L ${last.x} ${last.y}`);\n        return output.join(' ');\n      }\n\n      for (let i = 1; i < points.length - 1; i += 1) {\n        const prev = points[i - 1];\n        const curr = points[i];\n        const next = points[i + 1];\n        const v0x = curr[0] - prev[0];\n        const v0y = curr[1] - prev[1];\n        const v1x = next[0] - curr[0];\n        const v1y = next[1] - curr[1];\n        const d0 = Math.hypot(v0x, v0y);\n        const d1 = Math.hypot(v1x, v1y);\n        if (d0 === 0 || d1 === 0) {\n          const currPoint = toPoint(curr);\n          output.push(`L ${currPoint.x} ${currPoint.y}`);\n          continue;\n        }\n        const r = clamp(radius, 0, Math.min(d0, d1) / 2);\n        if (r === 0) {\n          const currPoint = toPoint(curr);\n          output.push(`L ${currPoint.x} ${currPoint.y}`);\n          continue;\n        }\n        const u0x = v0x / d0;\n        const u0y = v0y / d0;\n        const u1x = v1x / d1;\n        const u1y = v1y / d1;\n        const start = toPoint([curr[0] - u0x * r, curr[1] - u0y * r]);\n        const end = toPoint([curr[0] + u1x * r, curr[1] + u1y * r]);\n        output.push(`L ${start.x} ${start.y}`);\n        const currPoint = toPoint(curr);\n        output.push(`Q ${currPoint.x} ${currPoint.y} ${end.x} ${end.y}`);\n      }\n\n      const last = toPoint(points[points.length - 1]);\n      output.push(`L ${last.x} ${last.y}`);\n      return output.join(' ');\n    };\n    const createArrowElements = (\n      x: number,\n      y: number,\n      angle: number,\n      type: 'arrow' | 'triangle' | 'diamond',\n      fillColor: string,\n    ): JSXElement[] => {\n      const ux = Math.cos(angle);\n      const uy = Math.sin(angle);\n      const px = -uy;\n      const py = ux;\n      const length = arrowSize;\n      const halfWidth = arrowSize * 0.55;\n\n      if (type === 'arrow') {\n        const leftX = x - ux * length + px * halfWidth;\n        const leftY = y - uy * length + py * halfWidth;\n        const rightX = x - ux * length - px * halfWidth;\n        const rightY = y - uy * length - py * halfWidth;\n        return [\n          <Path\n            d={`M ${leftX} ${leftY} L ${x} ${y} L ${rightX} ${rightY}`}\n            stroke={fillColor}\n            strokeWidth={Math.max(1.5, edgeWidth)}\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            fill=\"none\"\n          />,\n        ];\n      }\n\n      if (type === 'diamond') {\n        const diamondLength = length * 1.25;\n        const diamondWidth = halfWidth * 0.75;\n        const midX = x - ux * diamondLength * 0.5;\n        const midY = y - uy * diamondLength * 0.5;\n        const diamondPoints = [\n          { x, y },\n          { x: midX + px * diamondWidth, y: midY + py * diamondWidth },\n          { x: x - ux * diamondLength, y: y - uy * diamondLength },\n          { x: midX - px * diamondWidth, y: midY - py * diamondWidth },\n        ];\n        return [\n          <Polygon\n            points={diamondPoints}\n            fill={fillColor}\n            stroke={fillColor}\n            strokeWidth={Math.max(1, edgeWidth * 0.8)}\n          />,\n        ];\n      }\n\n      const trianglePoints = [\n        { x, y },\n        {\n          x: x - ux * length + px * halfWidth,\n          y: y - uy * length + py * halfWidth,\n        },\n        {\n          x: x - ux * length - px * halfWidth,\n          y: y - uy * length - py * halfWidth,\n        },\n      ];\n      return [\n        <Polygon\n          points={trianglePoints}\n          fill={fillColor}\n          stroke={fillColor}\n          strokeWidth={Math.max(1, edgeWidth * 0.8)}\n        />,\n      ];\n    };\n    const getMidPoint = (points: [number, number][]) => {\n      if (points.length === 0) return null;\n      if (points.length === 1) return points[0];\n      let total = 0;\n      const segments: {\n        length: number;\n        start: [number, number];\n        end: [number, number];\n      }[] = [];\n      for (let i = 0; i < points.length - 1; i += 1) {\n        const start = points[i];\n        const end = points[i + 1];\n        const length = Math.hypot(end[0] - start[0], end[1] - start[1]);\n        segments.push({ length, start, end });\n        total += length;\n      }\n      if (total === 0) return points[0];\n      let target = total / 2;\n      for (let i = 0; i < segments.length; i += 1) {\n        const segment = segments[i];\n        if (target <= segment.length || i === segments.length - 1) {\n          const ratio =\n            segment.length === 0\n              ? 0\n              : Math.max(0, Math.min(1, target / segment.length));\n          return [\n            segment.start[0] + (segment.end[0] - segment.start[0]) * ratio,\n            segment.start[1] + (segment.end[1] - segment.start[1]) * ratio,\n          ] as [number, number];\n        }\n        target -= segment.length;\n      }\n      return points[Math.floor(points.length / 2)];\n    };\n    const getOrthEdgeEndpoints = (sourceId: string, targetId: string) => {\n      const source = nodeLayoutById.get(sourceId);\n      const target = nodeLayoutById.get(targetId);\n      if (!source || !target) return null;\n      if (rankdir === 'TB') {\n        return {\n          start: [source.centerX, source.y + source.height] as [number, number],\n          end: [target.centerX, target.y] as [number, number],\n        };\n      }\n      if (rankdir === 'BT') {\n        return {\n          start: [source.centerX, source.y] as [number, number],\n          end: [target.centerX, target.y + target.height] as [number, number],\n        };\n      }\n      if (rankdir === 'LR') {\n        return {\n          start: [source.x + source.width, source.centerY] as [number, number],\n          end: [target.x, target.centerY] as [number, number],\n        };\n      }\n      return {\n        start: [source.x, source.centerY] as [number, number],\n        end: [target.x + target.width, target.centerY] as [number, number],\n      };\n    };\n    const getOrthEdgePoints = (\n      sourceId: string,\n      targetId: string,\n    ): {\n      start: [number, number];\n      end: [number, number];\n      points: [number, number][];\n    } | null => {\n      const endpoints = getOrthEdgeEndpoints(sourceId, targetId);\n      if (!endpoints) return null;\n      const { start, end } = endpoints;\n      if (isVertical) {\n        const midY = start[1] + (end[1] - start[1]) / 2;\n        return {\n          start,\n          end,\n          points: [start, [start[0], midY], [end[0], midY], end],\n        };\n      }\n      const midX = start[0] + (end[0] - start[0]) / 2;\n      return {\n        start,\n        end,\n        points: [start, [midX, start[1]], [midX, end[1]], end],\n      };\n    };\n    layout.forEachEdge((edge) => {\n      const normalizePoints = (rawPoints: any): [number, number][] => {\n        if (!Array.isArray(rawPoints)) return [];\n        return rawPoints\n          .map((point) => {\n            if (!point) return null;\n            if (Array.isArray(point) && point.length >= 2) {\n              return [Number(point[0]), Number(point[1])] as [number, number];\n            }\n            return null;\n          })\n          .filter(\n            (point): point is [number, number] =>\n              !!point && Number.isFinite(point[0]) && Number.isFinite(point[1]),\n          );\n      };\n      const fallbackPoints = () => {\n        const source = nodeLayoutById.get(String(edge.source));\n        const target = nodeLayoutById.get(String(edge.target));\n        if (!source || !target) return [];\n        return [\n          [source.centerX - offsetX, source.centerY - offsetY] as [\n            number,\n            number,\n          ],\n          [target.centerX - offsetX, target.centerY - offsetY] as [\n            number,\n            number,\n          ],\n        ];\n      };\n      const useOrthRouting = finalEdgeRouting === 'orth';\n      const orthEdge = useOrthRouting\n        ? getOrthEdgePoints(String(edge.source), String(edge.target))\n        : null;\n      const normalized = useOrthRouting ? [] : normalizePoints(edge.points);\n      const points = useOrthRouting\n        ? (orthEdge?.points ?? [])\n        : normalized.length\n          ? normalized\n          : fallbackPoints();\n      if (!points.length) return;\n      const pointsOffsetX = useOrthRouting ? 0 : offsetX;\n      const pointsOffsetY = useOrthRouting ? 0 : offsetY;\n      const startPoint = useOrthRouting\n        ? (orthEdge?.start ?? points[0])\n        : points[0];\n      const endPoint = useOrthRouting\n        ? (orthEdge?.end ?? points[points.length - 1])\n        : points[points.length - 1];\n      const relation = (\n        edge as { _original?: { relation?: RelationEdgeDatum } }\n      )._original?.relation;\n      const sourceColor =\n        nodeColorMap.get(String(edge.source)) ?? defaultStroke;\n      const targetColor =\n        nodeColorMap.get(String(edge.target)) ?? defaultStroke;\n      const gradientKey =\n        `edge-gradient-${String(sourceColor)}-${String(targetColor)}`.replace(\n          /[^a-zA-Z0-9_-]/g,\n          '',\n        );\n      const edgeStroke =\n        edgeColorMode === 'gradient' ? `url(#${gradientKey})` : defaultStroke;\n      let pathD = '';\n      if (straightCornerRadius > 0) {\n        pathD = createRoundedPath(\n          points,\n          straightCornerRadius,\n          pointsOffsetX,\n          pointsOffsetY,\n        );\n      } else {\n        pathD = createStraightPath(points, pointsOffsetX, pointsOffsetY);\n      }\n      if (!pathD) return;\n\n      const pathElement = (\n        <Path\n          d={pathD}\n          stroke={edgeStroke}\n          strokeWidth={edgeWidth}\n          strokeDasharray={actualDashArray}\n          fill=\"none\"\n          data-element-type=\"shape\"\n        >\n          {enableAnimation && (\n            <animate\n              attributeName=\"stroke-dashoffset\"\n              from={String(dashPatternLength)}\n              to=\"0\"\n              dur={animationDuration}\n              repeatCount=\"indefinite\"\n            />\n          )}\n        </Path>\n      );\n\n      decorElements.push(pathElement);\n      if (edgeColorMode === 'gradient') {\n        const start = startPoint;\n        const end = endPoint;\n        defsElements.push(\n          <linearGradient\n            id={gradientKey}\n            gradientUnits=\"userSpaceOnUse\"\n            x1={start[0] + pointsOffsetX}\n            y1={start[1] + pointsOffsetY}\n            x2={end[0] + pointsOffsetX}\n            y2={end[1] + pointsOffsetY}\n          >\n            <stop offset=\"0%\" stopColor={sourceColor} />\n            <stop offset=\"100%\" stopColor={targetColor} />\n          </linearGradient>,\n        );\n      }\n\n      if (relation?.label) {\n        let labelPoint: [number, number] | null = null;\n        const midPoint = getMidPoint(points);\n        if (midPoint) {\n          labelPoint = [\n            midPoint[0] + pointsOffsetX,\n            midPoint[1] + pointsOffsetY,\n          ];\n        }\n        if (labelPoint) {\n          const labelText = String(relation.label);\n          const labelBounds = getElementBounds(\n            <Text fontSize={14} fontWeight=\"normal\">\n              {labelText}\n            </Text>,\n          );\n          const labelX = labelPoint[0] - labelBounds.width / 2;\n          const labelY = labelPoint[1] - labelBounds.height / 2;\n          decorElements.push(\n            <Text\n              x={labelX}\n              y={labelY}\n              width={labelBounds.width}\n              height={labelBounds.height}\n              fontSize={14}\n              fontWeight=\"normal\"\n              alignHorizontal=\"center\"\n              alignVertical=\"middle\"\n              fill={labelTextColor}\n              backgroundColor={labelBackground}\n            >\n              {labelText}\n            </Text>,\n          );\n        }\n      }\n\n      const effectiveShowArrow = relation?.showArrow ?? showArrow;\n      const direction = relation?.direction ?? 'forward';\n      const edgeArrowType = relation?.arrowType ?? arrowType;\n      const lastIndex = points.length - 1;\n      if (effectiveShowArrow && points.length > 1) {\n        if (direction === 'forward' || direction === 'both') {\n          const head = points[lastIndex];\n          const tail = points[lastIndex - 1];\n          const angle = Math.atan2(head[1] - tail[1], head[0] - tail[0]);\n          const arrowFill =\n            edgeColorMode === 'gradient' ? targetColor : defaultStroke;\n          const arrowElements = createArrowElements(\n            head[0] + pointsOffsetX,\n            head[1] + pointsOffsetY,\n            angle,\n            edgeArrowType,\n            arrowFill,\n          );\n          decorElements.push(...arrowElements);\n        }\n        if (direction === 'both') {\n          const head = points[0];\n          const tail = points[1];\n          const angle = Math.atan2(head[1] - tail[1], head[0] - tail[0]);\n          const arrowFill =\n            edgeColorMode === 'gradient' ? sourceColor : defaultStroke;\n          const arrowElements = createArrowElements(\n            head[0] + pointsOffsetX,\n            head[1] + pointsOffsetY,\n            angle,\n            edgeArrowType,\n            arrowFill,\n          );\n          decorElements.push(...arrowElements);\n        }\n      }\n    });\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Defs>{defsElements}</Defs>\n        <Group width={0} height={0}>\n          {decorElements}\n        </Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup />\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('relation-dagre-flow', {\n  component: RelationDagreFlow,\n  composites: ['title', 'item'],\n});\n","import * as d3 from 'd3';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Path } from '../../jsx';\nimport { ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface NetworkNode extends d3.SimulationNodeDatum {\n  id: number;\n  data: any;\n  isCenter: boolean;\n  _originalIndex: number[];\n}\n\nexport interface NetworkLink extends d3.SimulationLinkDatum<NetworkNode> {\n  source: number | NetworkNode;\n  target: number | NetworkNode;\n}\n\nexport interface RelationNetworkProps extends BaseStructureProps {\n  spacing?: number;\n  showConnections?: boolean;\n}\n\nexport const RelationNetwork: ComponentType<RelationNetworkProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    spacing = 120,\n    showConnections = true,\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <ItemsGroup />\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  /** --- Force Layout --- */\n  function runForceLayout(): { nodes: NetworkNode[]; links: NetworkLink[] } {\n    const nodes: NetworkNode[] = items.map((item, index) => ({\n      id: index,\n      data: item,\n      isCenter: index === 0,\n      _originalIndex: [index],\n    }));\n\n    const links: NetworkLink[] = items.slice(1).map((_, index) => ({\n      source: 0,\n      target: index + 1,\n    }));\n\n    const simulation = d3\n      .forceSimulation(nodes)\n      .force(\n        'link',\n        d3\n          .forceLink<NetworkNode, NetworkLink>(links)\n          .id((d: any) => d.id)\n          .distance(spacing),\n      )\n      .force('charge', d3.forceManyBody().strength(-50))\n      .force('center', d3.forceCenter(0, 0))\n      .force(\n        'collision',\n        d3\n          .forceCollide()\n          .radius(Math.max(itemBounds.width, itemBounds.height) / 2 + 10),\n      );\n\n    for (let i = 0; i < 300; ++i) simulation.tick();\n\n    return { nodes, links };\n  }\n\n  const { nodes, links } = runForceLayout();\n\n  /** ---  --- */\n  const minX = Math.min(...nodes.map((d) => d.x ?? 0));\n  const minY = Math.min(...nodes.map((d) => d.y ?? 0));\n  const offsetX = Math.max(0, -minX + itemBounds.width / 2);\n  const offsetY = Math.max(0, -minY + itemBounds.height / 2);\n\n  const positionBy = (x: number, y: number) => ({\n    positionH: x < -50 ? 'flipped' : x > 50 ? 'normal' : 'center',\n    positionV: y < -50 ? 'flipped' : y > 50 ? 'normal' : 'middle',\n  });\n\n  /** ---  --- */\n  const nodesEls: JSXElement[] = nodes\n    .map((node) => {\n      if (node.x == null || node.y == null) return null;\n\n      const x = node.x + offsetX - itemBounds.width / 2;\n      const y = node.y + offsetY - itemBounds.height / 2;\n      const { positionH, positionV } = positionBy(node.x, node.y);\n\n      return (\n        <Item\n          key={node.id}\n          indexes={node._originalIndex}\n          datum={node.data}\n          data={data}\n          x={x}\n          y={y}\n          positionH={positionH}\n          positionV={positionV}\n        />\n      );\n    })\n    .filter(Boolean) as JSXElement[];\n\n  /** ---  --- */\n  const linksMap = new Map(nodes.map((n) => [n.id, n]));\n  const linksEls: JSXElement[] = showConnections\n    ? (links\n        .map((link) => {\n          const src =\n            typeof link.source === 'object'\n              ? link.source\n              : linksMap.get(link.source);\n          const tgt =\n            typeof link.target === 'object'\n              ? link.target\n              : linksMap.get(link.target);\n\n          if (\n            !src ||\n            !tgt ||\n            src.x == null ||\n            src.y == null ||\n            tgt.x == null ||\n            tgt.y == null\n          )\n            return null;\n\n          const linePath = `M ${src.x + offsetX} ${src.y + offsetY} L ${tgt.x + offsetX} ${tgt.y + offsetY}`;\n          return (\n            <Path\n              d={linePath}\n              stroke={getColorPrimary(options)}\n              strokeWidth={2}\n              strokeOpacity={0.6}\n            />\n          );\n        })\n        .filter(Boolean) as JSXElement[])\n    : [];\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Group>{linksEls}</Group>\n        <ItemsGroup>{nodesEls}</ItemsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('relation-network', {\n  component: RelationNetwork,\n  composites: ['title', 'item'],\n});\n","import { Defs, Polygon, RectProps } from '../../jsx';\n\nexport const SimpleArrow = ({\n  width = 25,\n  height = 25,\n  colorPrimary = '#6699FF',\n  rotation = 0,\n  ...rest\n}: RectProps & {\n  colorPrimary: string;\n  rotation?: number;\n}) => {\n  const strokeId = `gradient-arrow-stroke-${colorPrimary.replace('#', '')}`;\n  const fillId = `gradient-arrow-fill-${colorPrimary.replace('#', '')}`;\n\n  const shaftWidth = Math.round(width * 0.515);\n  const shaftTop = Math.round(height * 0.275);\n  const shaftBottom = Math.round(height * 0.875);\n  const points = [\n    { x: 0, y: shaftTop },\n    { x: shaftWidth, y: shaftTop },\n    { x: shaftWidth, y: height * 0.075 },\n    { x: width, y: height * 0.575 },\n    { x: shaftWidth, y: height * 1.075 },\n    { x: shaftWidth, y: shaftBottom },\n    { x: 0, y: shaftBottom },\n  ];\n\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const transform = `rotate(${rotation} ${centerX} ${centerY})`;\n\n  return (\n    <>\n      <Polygon\n        {...rest}\n        width={width}\n        height={height}\n        points={points}\n        fill={`url(#${fillId})`}\n        stroke={`url(#${strokeId})`}\n        transform={transform}\n        data-element-type=\"shape\"\n      />\n      <Defs>\n        <linearGradient id={fillId} x1=\"100%\" y1=\"0%\" x2=\"0%\" y2=\"0%\">\n          <stop offset=\"0%\" stop-color={colorPrimary} stop-opacity=\"0.36\" />\n          <stop offset=\"100%\" stop-color={colorPrimary} stop-opacity=\"0\" />\n        </linearGradient>\n        <linearGradient id={strokeId} x1=\"100%\" y1=\"0%\" x2=\"0%\" y2=\"0%\">\n          <stop offset=\"0%\" stop-color={colorPrimary} />\n          <stop offset=\"58%\" stop-color={colorPrimary} stop-opacity=\"0\" />\n        </linearGradient>\n      </Defs>\n    </>\n  );\n};\n","import type { ComponentType } from '../../jsx';\nimport { Group } from '../../jsx';\n\nexport interface Text3dProps {\n  /**\n   * Text content to display\n   */\n  text: string | number;\n  /**\n   * X position of the text\n   * @default 0\n   */\n  x?: number;\n  /**\n   * Y position of the text\n   * @default 0\n   */\n  y?: number;\n  /**\n   * Font size\n   * @default 56\n   */\n  fontSize?: number;\n  /**\n   * Font weight\n   * @default 'bold'\n   */\n  fontWeight?: string | number;\n  /**\n   * Text fill color\n   * @default '#FFFFFF'\n   */\n  fill?: string;\n  /**\n   * Text anchor alignment\n   * @default 'middle'\n   */\n  textAnchor?: 'start' | 'middle' | 'end';\n  /**\n   * Dominant baseline\n   * @default 'middle'\n   */\n  dominantBaseline?:\n    | 'auto'\n    | 'middle'\n    | 'hanging'\n    | 'alphabetic'\n    | 'ideographic'\n    | 'mathematical'\n    | 'central'\n    | 'text-before-edge'\n    | 'text-after-edge'\n    | 'inherit'\n    | 'use-script'\n    | 'no-change'\n    | 'reset-size';\n  /**\n   * Shadow offset X for the deepest layer\n   * @default 2\n   */\n  shadowOffsetX?: number;\n  /**\n   * Shadow offset Y for the deepest layer\n   * @default 4\n   */\n  shadowOffsetY?: number;\n  /**\n   * Mid-layer shadow offset X\n   * @default 1\n   */\n  midShadowOffsetX?: number;\n  /**\n   * Mid-layer shadow offset Y\n   * @default 2\n   */\n  midShadowOffsetY?: number;\n  /**\n   * Opacity of the deepest shadow layer\n   * @default 0.3\n   */\n  deepShadowOpacity?: number;\n  /**\n   * Opacity of the mid shadow layer\n   * @default 0.5\n   */\n  midShadowOpacity?: number;\n}\n\n/**\n * A 3D text component with layered shadows to create a depth effect\n *\n * The component renders three layers of text:\n * 1. Deep shadow layer (most offset, lowest opacity)\n * 2. Mid shadow layer (medium offset, medium opacity)\n * 3. Main text layer (no offset, full opacity)\n */\nexport const Text3d: ComponentType<Text3dProps> = ({\n  text,\n  x = 0,\n  y = 0,\n  fontSize = 56,\n  fontWeight = 'bold',\n  fill = '#FFFFFF',\n  textAnchor = 'middle',\n  dominantBaseline = 'middle',\n  shadowOffsetX = 2,\n  shadowOffsetY = 4,\n  midShadowOffsetX = 1,\n  midShadowOffsetY = 2,\n  deepShadowOpacity = 0.3,\n  midShadowOpacity = 0.5,\n}) => {\n  return (\n    <Group>\n      {/* Deep shadow layer */}\n      <text\n        x={x}\n        y={y}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fill={fill}\n        fillOpacity={deepShadowOpacity}\n        textAnchor={textAnchor}\n        dominantBaseline={dominantBaseline}\n        transform={`translate(${shadowOffsetX}, ${shadowOffsetY})`}\n      >\n        {text}\n      </text>\n      {/* Mid shadow layer */}\n      <text\n        x={x}\n        y={y}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fill={fill}\n        fillOpacity={midShadowOpacity}\n        textAnchor={textAnchor}\n        dominantBaseline={dominantBaseline}\n        transform={`translate(${midShadowOffsetX}, ${midShadowOffsetY})`}\n      >\n        {text}\n      </text>\n      {/* Main text layer */}\n      <text\n        x={x}\n        y={y}\n        fontSize={fontSize}\n        fontWeight={fontWeight}\n        fill={fill}\n        textAnchor={textAnchor}\n        dominantBaseline={dominantBaseline}\n      >\n        {text}\n      </text>\n    </Group>\n  );\n};\n","import { Polygon, RectProps } from '../../jsx';\n\nexport const Triangle = ({\n  width = 25,\n  height = 25,\n  colorPrimary = '#6699FF',\n  rotation = 0,\n  strokeWidth = 4,\n  ...rest\n}: RectProps & {\n  colorPrimary: string;\n  rotation?: number;\n}) => {\n  // \n  const points = [\n    { x: width / 2, y: 0 }, // \n    { x: width, y: height }, // \n    { x: 0, y: height }, // \n  ];\n\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const transform = `rotate(${rotation} ${centerX} ${centerY})`;\n\n  return (\n    <Polygon\n      {...rest}\n      width={width}\n      height={height}\n      points={points}\n      fill={colorPrimary}\n      stroke={colorPrimary}\n      strokeWidth={strokeWidth}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      transform={transform}\n    />\n  );\n};\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, getElementBounds, Group, Path } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { Text3d } from '../decorations';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nconst CUBE_GAP_X = -118;\nconst CUBE_GAP_Y = 118;\nconst CUBE_WIDTH = 240;\nconst CUBE_HEIGHT = 180;\nconst ITEM_GAP = 40;\n\nconst CUBE_PATH_BOTTOM =\n  'M238.9 69.7a6 6 0 0 1-.1 1v.2l-.2.3v.3l-.1.3a6.2 6.2 0 0 1-.3.6l-.1.3-.2.3-.2.4-.3.5-.1.1a10.9 10.9 0 0 1-.8 1v.1l-.5.5h-.1l-.4.4-.3.3-.3.2-.3.3-.4.2a13 13 0 0 1-.7.5l-.4.3-.5.3-97.5 56.7-.7.4h-.2l-.6.4h-.1l-.8.4h-.2l-.6.4h-.2l-.8.3h-.2l-.5.3-.5.1-.5.1-.5.2h-.5a33.7 33.7 0 0 1-3.2.7h-.2l-1 .2h-1.6l-.7.1h-4.7l-.8-.1h-.2a38.2 38.2 0 0 1-2-.4h-.4l-.7-.2h-.4l-.7-.2-.4-.1a27.3 27.3 0 0 1-2.2-.7h-.2a44.2 44.2 0 0 1-.9-.3l-.5-.3-.4-.1-.5-.2-.3-.2-.5-.2-.3-.2-.8-.4L6.5 78C2.2 75.6 0 72.4 0 69v41.7c0 3.2 2.1 6.5 6.4 9l98.1 56.6a23.2 23.2 0 0 0 1 .6l.6.3.3.1.5.2.4.2.3.1h.2l.2.2a21.4 21.4 0 0 0 1.9.6l.3.1h.2l.7.2a77.6 77.6 0 0 1 1.1.3h.3l.7.2h.4a42.5 42.5 0 0 0 1 .2l1 .2h1.1l.4.1h2.1l.7.1h1.5a22 22 0 0 0 1.8-.2h.4l1.1-.1h.2l1.2-.2h.1l.3-.1.6-.1a12.5 12.5 0 0 0 1-.3h.5l.5-.2a29 29 0 0 0 1-.3h.2l.3-.2h.2a27 27 0 0 0 1.6-.7h.2l.8-.4a19.4 19.4 0 0 0 1.6-.9l97.5-56.7.3-.1.2-.2.4-.2.4-.3.3-.2.3-.3.4-.2.3-.3.3-.3h.1l.3-.3.5-.6h.1l.3-.5h.1v-.1l.4-.4v-.1l.4-.5v-.1l.1-.2.1-.2.2-.3.1-.3.1-.3.1-.1a6.9 6.9 0 0 0 .2-.8l.1-.3v-.4l.1-.3v-1l.2-41.4v.4Z';\n\nconst CUBE_PATH_TOP =\n  'M232.5 60.4c8.5 4.9 8.5 12.8.1 17.7l-97.5 56.7c-8.4 4.9-22 4.9-30.5 0L6.5 78C-2 73-2 65.3 6.4 60.4l97.5-56.7c8.4-5 22-5 30.5 0l98.1 56.7Z';\n\nconst CUBE_PATH_STROKE =\n  'M119.1 0A31 31 0 0 0 104 3.7L6.4 60.4C-2 65.3-2 73.2 6.4 78l98.2 56.7c4.2 2.4 9.8 3.7 15.3 3.7a31 31 0 0 0 15.2-3.7L232.6 78c8.4-5 8.4-12.8 0-17.7L134.3 3.7A31.2 31.2 0 0 0 119.1 0Zm0 2.5c5.4 0 10.3 1.2 14 3.3l98.2 56.7c3.3 2 5.1 4.3 5.1 6.8 0 2.4-1.8 4.7-5 6.6l-97.5 56.7a28.3 28.3 0 0 1-14 3.4c-5.3 0-10.3-1.2-14-3.4L7.7 76c-3.3-1.9-5-4.3-5-6.7 0-2.4 1.7-4.8 5-6.7L105 5.8a29 29 0 0 1 14-3.3Z';\n\nconst DropShadowFilter = (\n  <filter\n    id=\"sequence-ascending-stairs-3d-shadow-filter\"\n    x=\"-50%\"\n    y=\"-50%\"\n    width=\"200%\"\n    height=\"200%\"\n    filterUnits=\"userSpaceOnUse\"\n    colorInterpolationFilters=\"sRGB\"\n  >\n    <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n    <feColorMatrix\n      in=\"SourceAlpha\"\n      type=\"matrix\"\n      values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n      result=\"hardAlpha\"\n    />\n    <feOffset dx=\"0\" dy=\"4\" />\n    <feGaussianBlur stdDeviation=\"6\" />\n    <feComposite in2=\"hardAlpha\" operator=\"out\" />\n    <feColorMatrix\n      type=\"matrix\"\n      values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"\n    />\n    <feBlend\n      mode=\"normal\"\n      in2=\"BackgroundImageFix\"\n      result=\"effect1_dropShadow\"\n    />\n    <feBlend\n      mode=\"normal\"\n      in=\"SourceGraphic\"\n      in2=\"effect1_dropShadow\"\n      result=\"shape\"\n    />\n  </filter>\n);\n\nexport interface SequenceAscendingStairs3dProps extends BaseStructureProps {\n  cubeWidth?: number;\n}\n\nexport const SequenceAscendingStairs3d: ComponentType<\n  SequenceAscendingStairs3dProps\n> = (props) => {\n  const { Title, Item, data, options, cubeWidth = CUBE_WIDTH } = props;\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    const btnAddElement = <BtnAdd indexes={[0]} x={0} y={0} />;\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Defs>{DropShadowFilter}</Defs>\n        {titleContent}\n        <Group>\n          <BtnsGroup>{btnAddElement}</BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const cubeElements: JSXElement[] = [];\n\n  const cubeScale = cubeWidth / CUBE_WIDTH;\n  const scaledCubeHeight = CUBE_HEIGHT * cubeScale;\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const currentColor = getPaletteColor(options, indexes);\n\n    const cubeX = index * (cubeWidth + CUBE_GAP_X);\n    const cubeY = (items.length - 1 - index) * CUBE_GAP_Y;\n\n    const gradientIdBottom = `cube-gradient-bottom-${index}`;\n    const gradientIdTop = `cube-gradient-top-${index}`;\n    const gradientIdStroke = `cube-gradient-stroke-${index}`;\n\n    cubeElements.push(\n      <Group\n        x={cubeX}\n        y={cubeY}\n        id={`cube-${index}`}\n        width={cubeWidth}\n        height={scaledCubeHeight}\n        filter=\"url(#sequence-ascending-stairs-3d-shadow-filter)\"\n      >\n        <Defs>\n          <linearGradient\n            id={gradientIdBottom}\n            x1=\"0\"\n            y1=\"124.5\"\n            x2=\"238.9\"\n            y2=\"124.5\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset=\"0\" stopColor={currentColor} stopOpacity=\"0.8\" />\n            <stop offset=\"1\" stopColor={currentColor} stopOpacity=\"0.4\" />\n          </linearGradient>\n          <linearGradient\n            id={gradientIdTop}\n            x1=\"119.5\"\n            y1=\"0\"\n            x2=\"119.5\"\n            y2=\"138.5\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset=\"0\" stopColor={currentColor} stopOpacity=\"0.9\" />\n            <stop offset=\"1\" stopColor={currentColor} stopOpacity=\"0.5\" />\n          </linearGradient>\n          <linearGradient\n            id={gradientIdStroke}\n            x1=\"119.5\"\n            y1=\"0\"\n            x2=\"119.5\"\n            y2=\"138.5\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset=\"0\" stopColor={currentColor} />\n            <stop offset=\"1\" stopColor={currentColor} stopOpacity=\"0.7\" />\n          </linearGradient>\n        </Defs>\n        <ShapesGroup transform={`scale(${cubeScale})`}>\n          <Path d={CUBE_PATH_BOTTOM} fill={`url(#${gradientIdBottom})`} />\n          <Path d={CUBE_PATH_TOP} fill={`url(#${gradientIdTop})`} />\n          <Path d={CUBE_PATH_STROKE} fill={`url(#${gradientIdStroke})`} />\n        </ShapesGroup>\n        <Text3d text={index + 1} x={115} y={65} fontSize={56} />\n      </Group>,\n    );\n\n    const itemX = cubeX + cubeWidth + ITEM_GAP;\n    const itemY = cubeY + scaledCubeHeight / 2;\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"normal\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={cubeX + cubeWidth - btnBounds.width / 2}\n        y={cubeY - btnBounds.height / 2}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[0]}\n          x={cubeX - 30 - btnBounds.width / 2}\n          y={cubeY + scaledCubeHeight / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n\n    if (index < items.length - 1) {\n      const nextCubeY = (items.length - 1 - (index + 1)) * CUBE_GAP_Y;\n      const btnAddX = cubeX + cubeWidth - btnBounds.width / 2;\n      const btnAddY =\n        (cubeY + scaledCubeHeight / 2 + nextCubeY + scaledCubeHeight / 2) / 2 -\n        btnBounds.height / 2;\n\n      btnElements.push(\n        <BtnAdd indexes={[index + 1]} x={btnAddX} y={btnAddY} />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={[items.length]}\n          x={cubeX + cubeWidth + 30 - btnBounds.width / 2}\n          y={cubeY + scaledCubeHeight / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      gap={30}\n    >\n      <Defs>{DropShadowFilter}</Defs>\n      {titleContent}\n      <Group x={0} y={0}>\n        <Group>{cubeElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-ascending-stairs-3d', {\n  component: SequenceAscendingStairs3d,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceAscendingStepsProps extends BaseStructureProps {\n  hGap?: number;\n  vGap?: number;\n}\n\nexport const SequenceAscendingSteps: ComponentType<\n  SequenceAscendingStepsProps\n> = (props) => {\n  const { Title, Item, data, hGap = 0, vGap = 0 } = props as any;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} />,\n  );\n\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n\n  const n = items.length;\n  const stepX = itemBounds.width + hGap;\n  const stepY = itemBounds.height / 2 + vGap;\n\n  const startX = itemBounds.width / 2;\n  const endY = 0;\n  const startY = endY + (n - 1) * stepY;\n\n  items.forEach((datum: any, index: number) => {\n    const x = startX + index * stepX;\n    const y = startY - index * stepY;\n    const indexes = [index];\n\n    itemElements.push(\n      <Item indexes={indexes} datum={datum} data={data} x={x} y={y} />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={x + itemBounds.width - 30}\n        y={y + itemBounds.height / 2 + 10}\n      />,\n    );\n\n    btnElements.push(\n      <BtnAdd\n        indexes={indexes}\n        x={x + itemBounds.width + hGap / 2}\n        y={y - 30}\n      />,\n    );\n  });\n\n  return (\n    <FlexLayout\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-ascending-steps', {\n  component: SequenceAscendingSteps,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Ellipse, getElementBounds, Group, Path } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemIcon,\n  ItemsGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nimport * as d3 from 'd3';\n\nconst ITEM_DISTANCE = 20;\nconst LINE_GAP = 5;\n\nexport interface SequenceCircleArrowsProps extends BaseStructureProps {\n  radius?: number;\n  arrowSize?: number;\n  strokeWidth?: number;\n}\n\nexport const SequenceCircleArrows: ComponentType<SequenceCircleArrowsProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    options,\n    radius = 150,\n    arrowSize = 4,\n    strokeWidth = 10,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const colorPrimary = getColorPrimary(options);\n\n  if (!Item) {\n    const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n    return (\n      <FlexLayout\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>\n            <BtnAdd indexes={[0]} x={0} y={0} />\n          </BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const count = items.length;\n\n  if (count === 0) {\n    const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n    return (\n      <FlexLayout\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>\n            <BtnAdd indexes={[0]} x={0} y={0} />\n          </BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} />,\n  );\n\n  const centerX = 0;\n  const centerY = 0;\n  const angleStep = (2 * Math.PI) / count;\n\n  const positions: { x: number; y: number }[] = [];\n  let minX = Infinity;\n  let minY = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n\n  // -90\n  for (let i = 0; i < count; i++) {\n    const angle = i * angleStep - Math.PI / 2;\n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    positions.push({ x, y });\n\n    minX = Math.min(minX, x);\n    minY = Math.min(minY, y);\n    maxX = Math.max(maxX, x);\n    maxY = Math.max(maxY, y);\n  }\n\n  //  Item \n  const lineData: Array<{\n    lineLength: number;\n    circleBigW: number;\n    midX: number;\n    midY: number;\n    itemX: number;\n    itemY: number;\n  }> = [];\n\n  for (let i = 0; i < count; i++) {\n    const startPos = positions[i];\n    const endPos = positions[(i + 1) % count];\n\n    const lineLength = Math.sqrt(\n      Math.pow(endPos.x - startPos.x, 2) + Math.pow(endPos.y - startPos.y, 2),\n    );\n    const circleBigW = Math.min(lineLength * 0.5, 100);\n\n    const midX = (startPos.x + endPos.x) / 2;\n    const midY = (startPos.y + endPos.y) / 2;\n\n    minX = Math.min(minX, midX - circleBigW / 2);\n    minY = Math.min(minY, midY - circleBigW / 2);\n    maxX = Math.max(maxX, midX + circleBigW / 2);\n    maxY = Math.max(maxY, midY + circleBigW / 2);\n\n    // \n    const midAngle = Math.atan2(midY - centerY, midX - centerX);\n\n    //  [0, 2*PI)\n    const normalizedAngle = midAngle < 0 ? midAngle + 2 * Math.PI : midAngle;\n\n    let itemX: number;\n    let itemY: number;\n\n    //  Item \n    // 845\n    const deg = (normalizedAngle * 180) / Math.PI;\n\n    //  Item  + \n    const distanceFromCenter = circleBigW / 2 + ITEM_DISTANCE;\n\n    //  Item \n    const itemCenterX = midX + Math.cos(midAngle) * distanceFromCenter;\n    const itemCenterY = midY + Math.sin(midAngle) * distanceFromCenter;\n\n    //  Item \n    if (deg >= 337.5 || deg < 22.5) {\n      //  (0)Item \n      itemX = itemCenterX;\n      itemY = itemCenterY - itemBounds.height / 2;\n    } else if (deg >= 22.5 && deg < 67.5) {\n      // Item \n      itemX = itemCenterX;\n      itemY = itemCenterY;\n    } else if (deg >= 67.5 && deg < 112.5) {\n      //  (90)Item \n      itemX = itemCenterX - itemBounds.width / 2;\n      itemY = itemCenterY;\n    } else if (deg >= 112.5 && deg < 157.5) {\n      // Item \n      itemX = itemCenterX - itemBounds.width;\n      itemY = itemCenterY;\n    } else if (deg >= 157.5 && deg < 202.5) {\n      //  (180)Item \n      itemX = itemCenterX - itemBounds.width;\n      itemY = itemCenterY - itemBounds.height / 2;\n    } else if (deg >= 202.5 && deg < 247.5) {\n      // Item \n      itemX = itemCenterX - itemBounds.width;\n      itemY = itemCenterY - itemBounds.height;\n    } else if (deg >= 247.5 && deg < 292.5) {\n      //  (270)Item \n      itemX = itemCenterX - itemBounds.width / 2;\n      itemY = itemCenterY - itemBounds.height;\n    } else {\n      //  (deg >= 292.5 && deg < 337.5)Item \n      itemX = itemCenterX;\n      itemY = itemCenterY - itemBounds.height;\n    }\n\n    lineData.push({ lineLength, circleBigW, midX, midY, itemX, itemY });\n\n    minX = Math.min(minX, itemX);\n    minY = Math.min(minY, itemY);\n    maxX = Math.max(maxX, itemX + itemBounds.width + btnBounds.width + 5);\n    maxY = Math.max(maxY, itemY + itemBounds.height);\n  }\n\n  const offsetX = Math.max(0, -minX);\n  const offsetY = Math.max(0, -minY);\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n  const defsElements: JSXElement[] = [];\n\n  const itemPositions: { x: number; y: number }[] = positions.map((pos) => ({\n    x: pos.x + offsetX,\n    y: pos.y + offsetY,\n  }));\n\n  for (let i = 0; i < count; i++) {\n    const startPos = itemPositions[i];\n    const endPos = itemPositions[(i + 1) % count];\n    const nextIndex = (i + 1) % count;\n    const indexes = [i];\n\n    // \n    const { lineLength, circleBigW, midX, midY } = lineData[i];\n    const CIRCLE_SMALL_W = Math.max(circleBigW - 20, 20);\n    const ICON_SIZE = Math.max(CIRCLE_SMALL_W * 0.4, 16);\n\n    const color = getPaletteColor(options, indexes) || colorPrimary;\n\n    const dx = endPos.x - startPos.x;\n    const dy = endPos.y - startPos.y;\n    const length = lineLength;\n    const unitX = dx / length;\n    const unitY = dy / length;\n\n    const minLineLength = LINE_GAP * 2 + arrowSize;\n    const actualGap = Math.min(LINE_GAP, (length - minLineLength) / 2);\n\n    const adjustedStartX = Math.max(0, startPos.x + unitX * actualGap);\n    const adjustedStartY = Math.max(0, startPos.y + unitY * actualGap);\n    const adjustedEndX = Math.max(0, endPos.x - unitX * actualGap);\n    const adjustedEndY = Math.max(0, endPos.y - unitY * actualGap);\n\n    const line = d3\n      .line<{ x: number; y: number }>()\n      .x((d) => Math.max(0, d.x))\n      .y((d) => Math.max(0, d.y))\n      .curve(d3.curveLinear);\n\n    const pathD =\n      line([\n        { x: adjustedStartX, y: adjustedStartY },\n        { x: adjustedEndX, y: adjustedEndY },\n      ]) || '';\n\n    const colorClean = color.replace(/[^a-zA-Z0-9]/g, '');\n    const arrowId = `fork-arrow-${colorClean}-${i}`;\n\n    const forkArrowPath = `\n      M ${-arrowSize * 0.6} ${-arrowSize * 0.4}\n      L 0 0\n      L ${-arrowSize * 0.6} ${arrowSize * 0.4}\n    `;\n\n    defsElements.push(\n      <marker\n        id={arrowId}\n        viewBox={`${-arrowSize} ${-arrowSize * 0.6} ${arrowSize * 1.2} ${arrowSize * 1.2}`}\n        refX={-arrowSize * 0.08}\n        refY={0}\n        markerWidth={arrowSize}\n        markerHeight={arrowSize}\n        orient=\"auto\"\n        markerUnits=\"strokeWidth\"\n      >\n        <path\n          d={forkArrowPath}\n          fill=\"none\"\n          stroke={color}\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          data-element-type=\"shape\"\n        />\n      </marker>,\n    );\n\n    decorElements.push(\n      <Path\n        d={pathD}\n        stroke={color}\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n        markerEnd={`url(#${arrowId})`}\n        strokeLinecap=\"round\"\n        data-element-type=\"shape\"\n      />,\n    );\n\n    //  midX  midY offset\n    const adjustedMidX = midX + offsetX;\n    const adjustedMidY = midY + offsetY;\n\n    const themeColors = getThemeColors(\n      {\n        colorPrimary: color || colorPrimary,\n      },\n      options,\n    );\n\n    decorElements.push(\n      <Ellipse\n        x={Math.max(0, adjustedMidX - circleBigW / 2)}\n        y={Math.max(0, adjustedMidY - circleBigW / 2)}\n        width={circleBigW}\n        height={circleBigW}\n        fill={themeColors.colorPrimaryBg}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    decorElements.push(\n      <Ellipse\n        x={Math.max(0, adjustedMidX - CIRCLE_SMALL_W / 2)}\n        y={Math.max(0, adjustedMidY - CIRCLE_SMALL_W / 2)}\n        width={CIRCLE_SMALL_W}\n        height={CIRCLE_SMALL_W}\n        fill=\"#ffffff\"\n      />,\n    );\n\n    decorElements.push(\n      <ItemIcon\n        x={Math.max(0, adjustedMidX - ICON_SIZE / 2)}\n        y={Math.max(0, adjustedMidY - ICON_SIZE / 2)}\n        size={ICON_SIZE}\n        indexes={indexes}\n        fill={color}\n      />,\n    );\n\n    const btnAddX = Math.max(0, adjustedMidX - btnBounds.width / 2);\n    const btnAddY = Math.max(0, adjustedMidY - btnBounds.height / 2);\n\n    btnElements.push(<BtnAdd indexes={[nextIndex]} x={btnAddX} y={btnAddY} />);\n  }\n\n  for (let i = 0; i < count; i++) {\n    const indexes = [i];\n    const item = items[i];\n\n    //  Item  offset\n    const { itemX: preItemX, itemY: preItemY } = lineData[i];\n    const itemX = Math.max(0, preItemX + offsetX);\n    const itemY = Math.max(0, preItemY + offsetY);\n\n    itemElements.push(\n      <Item indexes={indexes} datum={item} data={data} x={itemX} y={itemY} />,\n    );\n\n    const btnRemoveX = Math.max(0, itemX + itemBounds.width + 5);\n    const btnRemoveY = Math.max(\n      0,\n      itemY + itemBounds.height / 2 - btnBounds.height / 2,\n    );\n\n    btnElements.push(\n      <BtnRemove indexes={indexes} x={btnRemoveX} y={btnRemoveY} />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      gap={30}\n    >\n      {titleContent}\n      <Group x={0} y={0}>\n        <Defs>{defsElements}</Defs>\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-circle-arrows', {\n  component: SequenceCircleArrows,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Ellipse, getElementBounds, Group, Path } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemIcon,\n  ItemsGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nconst ITEM_AREA_HORIZONTAL_PADDING = 100;\nconst CIRCLE_AREA_HORIZONTAL_PADDING = 50;\nconst INNER_ARC_PADDING = 6;\nconst ARC_BACKGROUND_OPACITY_HEX = '40';\n\nexport interface SequenceCircularProps extends BaseStructureProps {\n  outerRadius?: number;\n  innerRadius?: number;\n  itemDistance?: number;\n  gapAngle?: number;\n  iconRadius?: number;\n  iconBgRadius?: number;\n  iconSize?: number;\n}\n\nexport const SequenceCircular: ComponentType<SequenceCircularProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    options,\n    outerRadius = 180,\n    innerRadius = 120,\n    itemDistance = 310,\n    gapAngle = 5,\n    iconRadius = 34,\n    iconBgRadius = 38,\n    iconSize = 36,\n  } = props;\n\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  // 0\n  const centerX = Math.max(\n    itemDistance + ITEM_AREA_HORIZONTAL_PADDING,\n    outerRadius + CIRCLE_AREA_HORIZONTAL_PADDING,\n  );\n  const centerY = Math.min(itemDistance, outerRadius);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  // \n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>\n            <BtnAdd indexes={[0]} x={centerX - 20} y={centerY - 20} />\n          </BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const arcElements: JSXElement[] = [];\n  const iconElements: JSXElement[] = [];\n\n  // Item\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} />,\n  );\n\n  // \n  const totalGapAngle = items.length * gapAngle;\n  const availableAngle = 360 - totalGapAngle;\n  const arcAngle = availableAngle / items.length;\n\n  // \n  const createArcPath = (\n    centerX: number,\n    centerY: number,\n    innerR: number,\n    outerR: number,\n    startAngle: number,\n    endAngle: number,\n  ): string => {\n    const startAngleRad = (startAngle * Math.PI) / 180;\n    const endAngleRad = (endAngle * Math.PI) / 180;\n\n    const x1 = centerX + innerR * Math.cos(startAngleRad);\n    const y1 = centerY + innerR * Math.sin(startAngleRad);\n    const x2 = centerX + outerR * Math.cos(startAngleRad);\n    const y2 = centerY + outerR * Math.sin(startAngleRad);\n\n    const x3 = centerX + outerR * Math.cos(endAngleRad);\n    const y3 = centerY + outerR * Math.sin(endAngleRad);\n    const x4 = centerX + innerR * Math.cos(endAngleRad);\n    const y4 = centerY + innerR * Math.sin(endAngleRad);\n\n    const largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\n\n    return [\n      `M ${x1} ${y1}`,\n      `L ${x2} ${y2}`,\n      `A ${outerR} ${outerR} 0 ${largeArcFlag} 1 ${x3} ${y3}`,\n      `L ${x4} ${y4}`,\n      `A ${innerR} ${innerR} 0 ${largeArcFlag} 0 ${x1} ${y1}`,\n      'Z',\n    ].join(' ');\n  };\n\n  const computePosition = ({\n    centerX,\n    outerRadius,\n    angleRad,\n    btnBounds,\n  }: {\n    centerX: number;\n    outerRadius: number;\n    angleRad: number;\n    btnBounds: { width: number; height: number };\n  }) => {\n    const x =\n      centerX + (outerRadius + 20) * Math.cos(angleRad) - btnBounds.width / 2;\n\n    const y =\n      centerY + (outerRadius + 20) * Math.sin(angleRad) - btnBounds.height / 2;\n\n    return {\n      x,\n      y,\n    };\n  };\n\n  // \n  const padding = INNER_ARC_PADDING;\n  const avgRadius = (innerRadius + outerRadius) / 2;\n  const anglePadding = (padding / avgRadius) * (180 / Math.PI);\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n\n    // 270\n    const startAngle = index * (arcAngle + gapAngle) + 270;\n    const endAngle = startAngle + arcAngle;\n\n    // Item\n    const midAngle = (startAngle + endAngle) / 2;\n    const midAngleRad = (midAngle * Math.PI) / 180;\n\n    // \n    const itemColor = getPaletteColor(options, indexes);\n    const lightColor = itemColor + ARC_BACKGROUND_OPACITY_HEX;\n\n    // \n    const outerArcPath = createArcPath(\n      centerX,\n      centerY,\n      innerRadius,\n      outerRadius,\n      startAngle,\n      endAngle,\n    );\n\n    arcElements.push(\n      <Path\n        d={outerArcPath}\n        fill={lightColor}\n        width={outerRadius * 2}\n        height={outerRadius * 2}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // \n    const innerArcPath = createArcPath(\n      centerX,\n      centerY,\n      innerRadius + padding,\n      outerRadius - padding,\n      startAngle + anglePadding,\n      endAngle - anglePadding,\n    );\n\n    arcElements.push(\n      <Path\n        d={innerArcPath}\n        fill={itemColor}\n        width={outerRadius * 2}\n        height={outerRadius * 2}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // \n    const iconDistance = (innerRadius + outerRadius) / 2;\n    const iconCenterX = centerX + iconDistance * Math.cos(midAngleRad);\n    const iconCenterY = centerY + iconDistance * Math.sin(midAngleRad);\n\n    // \n    iconElements.push(\n      <Ellipse\n        x={iconCenterX - iconBgRadius}\n        y={iconCenterY - iconBgRadius}\n        width={iconBgRadius * 2}\n        height={iconBgRadius * 2}\n        fill=\"#ffffff\"\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // \n    iconElements.push(\n      <Ellipse\n        x={iconCenterX - iconRadius}\n        y={iconCenterY - iconRadius}\n        width={iconRadius * 2}\n        height={iconRadius * 2}\n        fill={itemColor}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // \n    if (item.icon) {\n      iconElements.push(\n        <ItemIcon\n          x={iconCenterX - iconSize / 2}\n          y={iconCenterY - iconSize / 2}\n          indexes={indexes}\n          size={iconSize}\n          fill=\"#fff\"\n        />,\n      );\n    }\n\n    // Item\n    const normalizedAngle = ((midAngle % 360) + 360) % 360;\n    const isRightSide = normalizedAngle >= 270 || normalizedAngle <= 90;\n    // 75 - 1059015\n    const isBottomArea = normalizedAngle >= 75 && normalizedAngle <= 105;\n\n    // Item\n    let itemAngle: number;\n    let positionH: 'normal' | 'flipped' | 'center' = 'normal';\n    let positionV: 'normal' | 'flipped' | 'center' = 'normal';\n\n    if (isBottomArea) {\n      itemAngle = normalizedAngle;\n      positionV = 'normal';\n      positionH = 'center';\n    } else if (isRightSide) {\n      //  (-60  60)\n      if (normalizedAngle >= 270) {\n        // 270 - 360  -60 - 0\n        itemAngle = -60 + ((normalizedAngle - 270) / 90) * 60;\n      } else {\n        // 0 - 90  0 - 60\n        itemAngle = (normalizedAngle / 90) * 60;\n      }\n      positionH = 'normal';\n    } else {\n      //  (120  240)\n      // 90 - 270  120 - 240\n      itemAngle = 120 + ((normalizedAngle - 90) / 180) * 120;\n      positionH = 'flipped';\n    }\n\n    // Item\n    const itemAngleRad = (itemAngle * Math.PI) / 180;\n    const itemX =\n      centerX + itemDistance * Math.cos(itemAngleRad) - itemBounds.width / 2;\n    let itemY =\n      centerY + itemDistance * Math.sin(itemAngleRad) - itemBounds.height / 2;\n\n    if (isBottomArea) {\n      itemY = centerY + outerRadius + itemBounds.height / 2;\n    }\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH={positionH}\n        positionV={positionV}\n      />,\n    );\n\n    // Item\n    const removeBtnDistance = itemDistance + 40;\n    const removeBtnX =\n      centerX +\n      removeBtnDistance * Math.cos(itemAngleRad) -\n      btnBounds.width / 2;\n    const removeBtnY =\n      centerY +\n      removeBtnDistance * Math.sin(itemAngleRad) -\n      btnBounds.height / 2;\n\n    btnElements.push(\n      <BtnRemove indexes={indexes} x={removeBtnX} y={removeBtnY} />,\n    );\n\n    // \n    const nextGapAngle = startAngle + arcAngle + gapAngle / 2;\n    const nextGapAngleRad = (nextGapAngle * Math.PI) / 180;\n    const { x: addBtnX, y: addBtnY } = computePosition({\n      centerX,\n      outerRadius,\n      angleRad: nextGapAngleRad,\n      btnBounds,\n    });\n\n    btnElements.push(<BtnAdd indexes={[index + 1]} x={addBtnX} y={addBtnY} />);\n  });\n\n  // \n  const firstGapAngle = 270 - gapAngle / 2;\n  const firstGapAngleRad = (firstGapAngle * Math.PI) / 180;\n\n  const { x: firstAddBtnX, y: firstAddBtnY } = computePosition({\n    centerX,\n    outerRadius,\n    angleRad: firstGapAngleRad,\n    btnBounds,\n  });\n\n  btnElements.unshift(\n    <BtnAdd indexes={[0]} x={firstAddBtnX} y={firstAddBtnY} />,\n  );\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      gap={70}\n    >\n      {titleContent}\n      <Group>\n        <Group>{arcElements}</Group>\n        <Group>{iconElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-circular', {\n  component: SequenceCircular,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, getElementBounds, Group, Path, Rect } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceColorSnakeStepsProps extends BaseStructureProps {\n  gap?: number;\n  itemsPerRow?: number;\n  rowGap?: number;\n  columnGap?: number;\n  circleStrokeWidth?: number;\n}\n\nexport const SequenceColorSnakeSteps: ComponentType<\n  SequenceColorSnakeStepsProps\n> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    gap = 0,\n    rowGap = 0,\n    itemsPerRow = 3,\n    circleStrokeWidth = 18,\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n\n  const arcRadius = (rowGap + itemBounds.height) / 2;\n  const arcWidth = arcRadius;\n\n  items.forEach((item, index) => {\n    const rowIndex = Math.floor(index / itemsPerRow);\n    const colIndex = index % itemsPerRow;\n    const isReversedRow = rowIndex % 2 === 1;\n    const actualColIndex = isReversedRow\n      ? itemsPerRow - 1 - colIndex\n      : colIndex;\n\n    const itemX = actualColIndex * (itemBounds.width + gap) + arcWidth;\n    const itemY = rowIndex * (itemBounds.height + rowGap);\n    const indexes = [index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"center\"\n        positionV={index % 2 === 1 ? 'flipped' : 'normal'}\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={itemY + itemBounds.height + 10}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={itemY - btnBounds.height - 10}\n        />,\n      );\n    }\n    if (index < items.length - 1) {\n      const nextRowIndex = Math.floor((index + 1) / itemsPerRow);\n\n      const isSameRow = rowIndex === nextRowIndex;\n\n      if (isSameRow) {\n        btnElements.push(\n          <BtnAdd\n            indexes={[index + 1]}\n            x={itemX + (itemBounds.width - btnBounds.width) / 2}\n            y={itemY - btnBounds.height - 10}\n          />,\n        );\n      } else {\n        const currentItemY = itemY + itemBounds.height / 2;\n        const nextItemY =\n          itemY + itemBounds.height + rowGap + itemBounds.height / 2;\n\n        let arcX, pathD, sweepFlag;\n\n        if (isReversedRow) {\n          arcX = itemX;\n          sweepFlag = 0;\n          pathD = `M ${arcX} ${currentItemY} A ${arcRadius} ${arcRadius} 0 0 ${sweepFlag} ${arcX} ${nextItemY}`;\n        } else {\n          arcX = itemX + itemBounds.width;\n          sweepFlag = 1;\n          pathD = `M ${arcX} ${currentItemY} A ${arcRadius} ${arcRadius} 0 0 ${sweepFlag} ${arcX} ${nextItemY}`;\n        }\n\n        const arcHeight = nextItemY - currentItemY;\n\n        const currentColor = getPaletteColor(options, indexes);\n        const nextColor = getPaletteColor(options, [index + 1]);\n        const linearGradientId = `gradient-arc-${index}`;\n\n        decorElements.push(\n          <>\n            <Defs>\n              <linearGradient\n                id={linearGradientId}\n                x1=\"0%\"\n                y1=\"0%\"\n                x2=\"0%\"\n                y2=\"100%\"\n              >\n                <stop offset=\"0%\" stopColor={currentColor || colorPrimary} />\n                <stop offset=\"100%\" stopColor={nextColor || colorPrimary} />\n              </linearGradient>\n            </Defs>\n            <Path\n              d={pathD}\n              stroke={`url(#${linearGradientId})`}\n              strokeWidth={circleStrokeWidth}\n              fill=\"none\"\n              width={arcWidth}\n              height={arcHeight}\n              data-element-type=\"shape\"\n            />\n          </>,\n        );\n\n        const btnX = isReversedRow\n          ? arcX - arcRadius - btnBounds.width / 2\n          : arcX + arcRadius - btnBounds.width / 2;\n        const btnY =\n          itemY + itemBounds.height + rowGap / 2 - btnBounds.height / 2;\n\n        btnElements.push(<BtnAdd indexes={[index + 1]} x={btnX} y={btnY} />);\n      }\n    }\n  });\n\n  if (items.length > 0) {\n    const lastIndex = items.length - 1;\n    const lastRowIndex = Math.floor(lastIndex / itemsPerRow);\n    const lastColIndex = lastIndex % itemsPerRow;\n    const isLastReversedRow = lastRowIndex % 2 === 1;\n    const lastActualColIndex = isLastReversedRow\n      ? itemsPerRow - 1 - lastColIndex\n      : lastColIndex;\n\n    const lastItemX = lastActualColIndex * (itemBounds.width + gap);\n    const lastItemY = lastRowIndex * (itemBounds.height + rowGap);\n\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={lastItemX + (itemBounds.width - btnBounds.width) / 2}\n        y={lastItemY + itemBounds.height + btnBounds.height + 20}\n      />,\n    );\n  }\n\n  // Add left rectangle bar for the first item when there's an arc on the left side\n  if (items.length / itemsPerRow > 2) {\n    const arcRadius = (rowGap + itemBounds.height) / 2;\n    const firstItemColor = getPaletteColor(options, [0]);\n\n    decorElements.push(\n      <Rect\n        x={0}\n        y={itemBounds.height / 2 - circleStrokeWidth / 2}\n        width={arcRadius}\n        height={circleStrokeWidth}\n        fill={firstItemColor || colorPrimary}\n        data-element-type=\"shape\"\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group\n        width={\n          itemsPerRow * itemBounds.width +\n          (itemsPerRow - 1) * gap +\n          arcRadius * 2\n        }\n        height={\n          Math.ceil(items.length / itemsPerRow) * (itemBounds.height + rowGap)\n        }\n      >\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-color-snake-steps', {\n  component: SequenceColorSnakeSteps,\n  composites: ['title', 'item'],\n});\n","import tinycolor from 'tinycolor2';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, getElementBounds, Group, Path, Rect, Text } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface sequenceCylinders3dProps extends BaseStructureProps {\n  cylinderRx?: number;\n  cylinderRy?: number;\n  baseHeight?: number;\n  heightIncrement?: number;\n  horizontalSpacing?: number;\n  depthSpacing?: number;\n  itemVerticalAlign?: 'top' | 'center' | 'bottom';\n  itemVerticalOffset?: number;\n  firstDecorationWidth?: number;\n}\n\ninterface CylinderPosition {\n  x: number;\n  y: number;\n  height: number;\n  bottomY: number;\n  topY: number;\n}\n\ninterface ItemPosition {\n  x: number;\n  y: number;\n}\n\ninterface LayoutMetrics {\n  canvasHeight: number;\n  startY: number;\n  leftItemAlignedX: number;\n  rightItemAlignedX: number;\n  cylinderAreaStartX: number;\n}\n\nconst calculateDepthOffset = (\n  pairIndex: number,\n  cylinderRx: number,\n): number => {\n  if (pairIndex === 0) return 0;\n  if (pairIndex === 1) return cylinderRx / 2;\n  return cylinderRx / 2 + (pairIndex - 1) * ((cylinderRx / 2) * 3);\n};\n\nconst calculateLateralOffset = (\n  isLeft: boolean,\n  pairIndex: number,\n  cylinderRx: number,\n): number => {\n  if (isLeft) return 0;\n  const firstPairGap = 2;\n  const normalGap = cylinderRx;\n  const gap = pairIndex === 0 ? firstPairGap : normalGap;\n  return cylinderRx * 2 + gap;\n};\n\nconst calculateLayoutMetrics = (\n  itemsCount: number,\n  itemBounds: { width: number; height: number },\n  cylinderRx: number,\n  baseHeight: number,\n  heightIncrement: number,\n  depthSpacing: number,\n  firstDecorationWidth: number,\n  gapFromCylinder: number,\n): LayoutMetrics => {\n  const planeStepY = Math.max(6, depthSpacing * 0.15);\n  const lastCylinderHeight = baseHeight + (itemsCount - 1) * heightIncrement;\n  const totalPlaneOffset = itemsCount * planeStepY;\n  const bottomMargin = 100;\n  const topMargin = 50;\n  const canvasHeight =\n    lastCylinderHeight + totalPlaneOffset + bottomMargin + topMargin;\n  const startY = canvasHeight - bottomMargin;\n\n  let leftItemAlignedX = 0;\n  let rightItemAlignedX = 0;\n  let cylindersCenterX = 0;\n  let cylinderAreaStartX = 0;\n\n  if (itemsCount > 0) {\n    const tempCylinderStart = 0;\n    let minCylinderX = Infinity;\n    let maxCylinderX = -Infinity;\n\n    for (let index = 0; index < itemsCount; index++) {\n      const isLeft = index % 2 === 0;\n      const pairIndex = Math.floor(index / 2);\n      const depthOffset = calculateDepthOffset(pairIndex, cylinderRx);\n      const lateralOffset = calculateLateralOffset(\n        isLeft,\n        pairIndex,\n        cylinderRx,\n      );\n      const x = tempCylinderStart + lateralOffset + depthOffset;\n\n      minCylinderX = Math.min(minCylinderX, x - cylinderRx);\n      maxCylinderX = Math.max(maxCylinderX, x + cylinderRx);\n    }\n\n    const relativeCylindersCenterX = (minCylinderX + maxCylinderX) / 2;\n    const firstCylinderRelativeX = tempCylinderStart;\n\n    leftItemAlignedX = 0;\n    const leftLineEndX = leftItemAlignedX + itemBounds.width + gapFromCylinder;\n    const firstCylinderLeftEdge = leftLineEndX + firstDecorationWidth;\n    const requiredFirstCylinderX = firstCylinderLeftEdge + cylinderRx;\n\n    cylinderAreaStartX = requiredFirstCylinderX;\n    cylindersCenterX =\n      cylinderAreaStartX - firstCylinderRelativeX + relativeCylindersCenterX;\n\n    const firstItemCenterX = leftItemAlignedX + itemBounds.width / 2;\n    const distanceToCenter = cylindersCenterX - firstItemCenterX;\n    const rightItemCenterX = cylindersCenterX + distanceToCenter;\n    rightItemAlignedX = rightItemCenterX - itemBounds.width / 2;\n  }\n\n  return {\n    canvasHeight,\n    startY,\n    leftItemAlignedX,\n    rightItemAlignedX,\n    cylinderAreaStartX,\n  };\n};\n\nconst calculateCylinderPosition = (\n  index: number,\n  cylinderRx: number,\n  baseHeight: number,\n  heightIncrement: number,\n  planeStepY: number,\n  startY: number,\n  cylinderAreaStartX: number,\n): CylinderPosition => {\n  const isLeft = index % 2 === 0;\n  const pairIndex = Math.floor(index / 2);\n  const depthOffset = calculateDepthOffset(pairIndex, cylinderRx);\n  const lateralOffset = calculateLateralOffset(isLeft, pairIndex, cylinderRx);\n\n  const x = cylinderAreaStartX + lateralOffset + depthOffset;\n  const bottomY = startY - index * planeStepY;\n  const height = baseHeight + index * heightIncrement;\n  const topY = bottomY - height;\n\n  return { x, y: topY, height, bottomY, topY };\n};\n\nconst calculateItemPosition = (\n  index: number,\n  cylinderPos: CylinderPosition,\n  itemBounds: { width: number; height: number },\n  cylinderRx: number,\n  leftItemAlignedX: number,\n  rightItemAlignedX: number,\n  itemVerticalAlign: 'top' | 'center' | 'bottom',\n  itemVerticalOffset: number,\n  gapFromCylinder: number,\n): {\n  itemPos: ItemPosition;\n  lineStartX: number;\n  lineEndX: number;\n  lineY: number;\n} => {\n  const isLeft = index % 2 === 0;\n  const lineY = cylinderPos.topY + cylinderPos.height * 0.05;\n\n  let itemX: number;\n  let lineEndX: number;\n\n  if (isLeft) {\n    itemX = leftItemAlignedX;\n    lineEndX = itemX + itemBounds.width + gapFromCylinder;\n  } else {\n    itemX = rightItemAlignedX;\n    lineEndX = itemX - gapFromCylinder;\n  }\n\n  let itemY: number;\n  if (itemVerticalAlign === 'top') {\n    itemY = lineY;\n  } else if (itemVerticalAlign === 'bottom') {\n    itemY = lineY - itemBounds.height;\n  } else {\n    itemY = lineY - itemBounds.height / 2;\n  }\n  itemY += itemVerticalOffset;\n\n  const cylinderEdgeX = isLeft\n    ? cylinderPos.x - cylinderRx\n    : cylinderPos.x + cylinderRx;\n  const lineStartX = isLeft\n    ? cylinderEdgeX - gapFromCylinder\n    : cylinderEdgeX + gapFromCylinder;\n\n  return { itemPos: { x: itemX, y: itemY }, lineStartX, lineEndX, lineY };\n};\n\nconst createGradientDefs = (index: number, color: string): JSXElement[] => {\n  const baseColor = tinycolor(color);\n  const defs: JSXElement[] = [];\n\n  defs.push(\n    <linearGradient\n      id={`cylinderGradient${index}`}\n      x1=\"0%\"\n      y1=\"0%\"\n      x2=\"0%\"\n      y2=\"100%\"\n    >\n      <stop offset=\"0%\" stopColor={baseColor.toRgbString()} stopOpacity={0.7} />\n      <stop\n        offset=\"40%\"\n        stopColor={baseColor.clone().lighten(5).toRgbString()}\n        stopOpacity={0.65}\n      />\n      <stop\n        offset=\"70%\"\n        stopColor={baseColor.clone().lighten(15).toRgbString()}\n        stopOpacity={0.6}\n      />\n      <stop\n        offset=\"100%\"\n        stopColor={baseColor.clone().lighten(20).toRgbString()}\n        stopOpacity={0.55}\n      />\n    </linearGradient>,\n  );\n\n  defs.push(\n    <linearGradient\n      id={`topGradient${index}`}\n      x1=\"0%\"\n      y1=\"0%\"\n      x2=\"0%\"\n      y2=\"100%\"\n    >\n      <stop\n        offset=\"0%\"\n        stopColor={baseColor.clone().lighten(15).toRgbString()}\n        stopOpacity={1}\n      />\n      <stop offset=\"100%\" stopColor=\"#fafafa\" stopOpacity={1} />\n    </linearGradient>,\n  );\n\n  defs.push(\n    <linearGradient\n      id={`bottomGradient${index}`}\n      x1=\"0%\"\n      y1=\"0%\"\n      x2=\"0%\"\n      y2=\"100%\"\n    >\n      <stop\n        offset=\"0%\"\n        stopColor={baseColor.clone().darken(8).toRgbString()}\n        stopOpacity={0.75}\n      />\n      <stop\n        offset=\"50%\"\n        stopColor={baseColor.clone().darken(5).toRgbString()}\n        stopOpacity={0.7}\n      />\n      <stop\n        offset=\"100%\"\n        stopColor={baseColor.clone().darken(12).toRgbString()}\n        stopOpacity={0.65}\n      />\n    </linearGradient>,\n  );\n\n  defs.push(\n    <linearGradient\n      id={`numberGradient${index}`}\n      x1=\"0%\"\n      y1=\"0%\"\n      x2=\"100%\"\n      y2=\"100%\"\n    >\n      <stop\n        offset=\"0%\"\n        stopColor={baseColor.clone().darken(0).toRgbString()}\n        stopOpacity={0.9}\n      />\n      <stop\n        offset=\"50%\"\n        stopColor={baseColor.clone().lighten(5).toRgbString()}\n        stopOpacity={0.85}\n      />\n      <stop\n        offset=\"100%\"\n        stopColor={baseColor.clone().lighten(10).toRgbString()}\n        stopOpacity={0.8}\n      />\n    </linearGradient>,\n  );\n\n  defs.push(\n    <linearGradient\n      id={`glowGradient${index}`}\n      x1=\"0%\"\n      y1=\"100%\"\n      x2=\"0%\"\n      y2=\"0%\"\n    >\n      <stop offset=\"0%\" stopColor=\"#FFFFFF\" stopOpacity={0.2} />\n      <stop offset=\"90%\" stopColor=\"#FFFFFF\" stopOpacity={0} />\n    </linearGradient>,\n  );\n\n  return defs;\n};\n\nconst createCylinderElements = (\n  index: number,\n  cylinderPos: CylinderPosition,\n  cylinderRx: number,\n  cylinderRy: number,\n): JSXElement[] => {\n  const { x, topY, bottomY } = cylinderPos;\n  const elements: JSXElement[] = [];\n\n  elements.push(\n    <ellipse\n      id={`cylinder-bottom-${index}`}\n      cx={x}\n      cy={bottomY}\n      rx={cylinderRx}\n      ry={cylinderRy}\n      fill={`url(#bottomGradient${index})`}\n      opacity={0.7}\n    />,\n  );\n\n  elements.push(\n    <Path\n      id={`cylinder-body-${index}`}\n      d={`\n        M ${x - cylinderRx} ${topY}\n        A ${cylinderRx} ${cylinderRy} 0 0 0 ${x} ${topY + cylinderRy}\n        A ${cylinderRx} ${cylinderRy} 0 0 0 ${x + cylinderRx} ${topY}\n        L ${x + cylinderRx} ${bottomY}\n        A ${cylinderRx} ${cylinderRy} 0 0 1 ${x} ${bottomY + cylinderRy}\n        A ${cylinderRx} ${cylinderRy} 0 0 1 ${x - cylinderRx} ${bottomY}\n        Z\n      `}\n      fill={`url(#cylinderGradient${index})`}\n      stroke=\"none\"\n    />,\n  );\n\n  elements.push(\n    <Rect\n      id={`cylinder-glow-${index}`}\n      x={x - cylinderRx}\n      y={topY - cylinderRy * 3}\n      width={cylinderRx * 2}\n      height={cylinderRy * 3}\n      fill={`url(#glowGradient${index})`}\n    />,\n  );\n\n  elements.push(\n    <ellipse\n      id={`cylinder-top-${index}`}\n      cx={x}\n      cy={topY}\n      rx={cylinderRx}\n      ry={cylinderRy}\n      fill={`url(#topGradient${index})`}\n    />,\n  );\n\n  const numberX = x - 10;\n  const numberY = topY - 15;\n  const scaleY = 0.6;\n  const skewX = -0.6;\n  const transformValue = `translate(${numberX}, ${numberY}) matrix(1, 0, ${skewX}, ${scaleY}, 0, 0)`;\n\n  elements.push(\n    <Text\n      id={`cylinder-number-${index}`}\n      width={50}\n      height={50}\n      fontFamily=\"Arial Black, sans-serif\"\n      fontSize={32}\n      fontWeight={900}\n      fill={`url(#numberGradient${index})`}\n      alignHorizontal=\"center\"\n      alignVertical=\"middle\"\n      transform={transformValue}\n    >\n      {index + 1}\n    </Text>,\n  );\n\n  return elements;\n};\n\nconst createDecorationElements = (\n  index: number,\n  lineStartX: number,\n  lineEndX: number,\n  lineY: number,\n  color: string,\n): JSXElement[] => {\n  const dotRadius = 2;\n  const elements: JSXElement[] = [];\n\n  elements.push(\n    <circle\n      id={`decoration-dot-start-${index}`}\n      cx={lineStartX}\n      cy={lineY}\n      r={dotRadius}\n      fill={color}\n    />,\n  );\n\n  elements.push(\n    <line\n      id={`decoration-line-${index}`}\n      x1={lineStartX}\n      y1={lineY}\n      x2={lineEndX}\n      y2={lineY}\n      stroke={color}\n      strokeWidth={1}\n      opacity={0.8}\n    />,\n  );\n\n  elements.push(\n    <circle\n      id={`decoration-dot-end-${index}`}\n      cx={lineEndX}\n      cy={lineY}\n      r={dotRadius}\n      fill={color}\n      opacity={0.9}\n    />,\n  );\n\n  return elements;\n};\n\nconst createBasePlate = (\n  itemsCount: number,\n  cylinderRx: number,\n  cylinderAreaStartX: number,\n  startY: number,\n  planeStepY: number,\n): JSXElement | null => {\n  if (itemsCount === 0) return null;\n\n  const positions: Array<{ x: number; y: number }> = [];\n\n  for (let index = 0; index < itemsCount; index++) {\n    const isLeft = index % 2 === 0;\n    const pairIndex = Math.floor(index / 2);\n    const depthOffset = calculateDepthOffset(pairIndex, cylinderRx);\n    const lateralOffset = calculateLateralOffset(isLeft, pairIndex, cylinderRx);\n    const x = cylinderAreaStartX + lateralOffset + depthOffset;\n    const bottomY = startY - index * planeStepY;\n    positions.push({ x, y: bottomY });\n  }\n\n  const leftmostPos = positions[0];\n  const rightmostPos = positions[positions.length - 1];\n\n  // \n  const plateThickness = 6;\n  const plateMargin = itemsCount > 5 ? itemsCount * 16 : 100;\n\n  const frontLeftX = leftmostPos.x - cylinderRx - plateMargin;\n  const frontRightX = leftmostPos.x + cylinderRx + plateMargin;\n  const frontY = leftmostPos.y + plateThickness + plateMargin / 6;\n\n  const backLeftX = rightmostPos.x - cylinderRx - plateMargin;\n  const backRightX = rightmostPos.x + cylinderRx + plateMargin;\n  const backY = rightmostPos.y + plateThickness - plateMargin / 6;\n\n  const platePath = `\n    M ${frontLeftX} ${frontY}\n    L ${frontRightX} ${frontY}\n    L ${backRightX} ${backY}\n    L ${backLeftX} ${backY}\n    Z\n  `;\n\n  const sidePath = `\n    M ${frontRightX} ${frontY}\n    L ${frontRightX} ${frontY + plateThickness}\n    L ${backRightX} ${backY + plateThickness}\n    L ${backRightX} ${backY}\n    Z\n  `;\n\n  const frontPath = `\n    M ${frontLeftX} ${frontY}\n    L ${frontRightX} ${frontY}\n    L ${frontRightX} ${frontY + plateThickness}\n    L ${frontLeftX} ${frontY + plateThickness}\n    Z\n  `;\n\n  const plateGradients = (\n    <>\n      {/*  */}\n      <linearGradient\n        id=\"basePlateTopGradient\"\n        x1=\"0%\"\n        y1=\"0%\"\n        x2=\"100%\"\n        y2=\"100%\"\n      >\n        <stop offset=\"0%\" stopColor=\"#fafafa\" stopOpacity={1} />\n        <stop offset=\"50%\" stopColor=\"#ffffff\" stopOpacity={0.98} />\n        <stop offset=\"100%\" stopColor=\"#ececec\" stopOpacity={0.95} />\n      </linearGradient>\n\n      {/*  */}\n      <linearGradient\n        id=\"basePlateFrontGradient\"\n        x1=\"0%\"\n        y1=\"0%\"\n        x2=\"0%\"\n        y2=\"100%\"\n      >\n        <stop offset=\"0%\" stopColor=\"#e0e0e0\" stopOpacity={0.95} />\n        <stop offset=\"50%\" stopColor=\"#d2d2d2\" stopOpacity={0.93} />\n        <stop offset=\"100%\" stopColor=\"#c5c5c5\" stopOpacity={0.9} />\n      </linearGradient>\n\n      {/*  */}\n      <linearGradient\n        id=\"basePlateSideGradient\"\n        x1=\"0%\"\n        y1=\"0%\"\n        x2=\"100%\"\n        y2=\"100%\"\n      >\n        <stop offset=\"0%\" stopColor=\"#b8b8b8\" stopOpacity={0.92} />\n        <stop offset=\"50%\" stopColor=\"#c0c0c0\" stopOpacity={0.88} />\n        <stop offset=\"100%\" stopColor=\"#adadad\" stopOpacity={0.85} />\n      </linearGradient>\n    </>\n  );\n\n  return (\n    <Group>\n      <Defs>{plateGradients}</Defs>\n      <Path\n        id=\"base-plate-front\"\n        d={frontPath}\n        fill=\"url(#basePlateFrontGradient)\"\n        stroke=\"#c5c5c5\"\n        strokeWidth={0.3}\n        opacity={0.92}\n      />\n      <Path\n        id=\"base-plate-side\"\n        d={sidePath}\n        fill=\"url(#basePlateSideGradient)\"\n        stroke=\"#aaaaaa\"\n        strokeWidth={0.3}\n        opacity={0.88}\n      />\n      <Path\n        id=\"base-plate-top\"\n        d={platePath}\n        fill=\"url(#basePlateTopGradient)\"\n        stroke=\"#e5e5e5\"\n        strokeWidth={0.5}\n        opacity={0.93}\n      />\n    </Group>\n  );\n};\n\nexport const sequenceCylinders3d: ComponentType<sequenceCylinders3dProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    options,\n    cylinderRx = 28,\n    cylinderRy = 18,\n    baseHeight = 120,\n    heightIncrement = 40,\n    depthSpacing = 60,\n    itemVerticalAlign = 'top',\n    itemVerticalOffset = -12,\n    firstDecorationWidth = 90,\n  } = props;\n\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const colorPrimary = getColorPrimary(options);\n  const gapFromCylinder = 10;\n\n  const planeStepY = Math.max(6, depthSpacing * 0.15);\n  const layoutMetrics = calculateLayoutMetrics(\n    items.length,\n    itemBounds,\n    cylinderRx,\n    baseHeight,\n    heightIncrement,\n    depthSpacing,\n    firstDecorationWidth,\n    gapFromCylinder,\n  );\n\n  const { startY, leftItemAlignedX, rightItemAlignedX, cylinderAreaStartX } =\n    layoutMetrics;\n\n  const defsElements: JSXElement[] = [];\n  const perItemGroups: Array<{\n    cylinderNodes: JSXElement[];\n    itemNode: JSXElement;\n    btnNodes: JSXElement[];\n    itemX: number;\n    itemY: number;\n  }> = [];\n\n  items.forEach((item, index) => {\n    const color = getPaletteColor(options, [index]) || colorPrimary;\n    defsElements.push(...createGradientDefs(index, color));\n\n    const cylinderPos = calculateCylinderPosition(\n      index,\n      cylinderRx,\n      baseHeight,\n      heightIncrement,\n      planeStepY,\n      startY,\n      cylinderAreaStartX,\n    );\n\n    const cylinderNodes = createCylinderElements(\n      index,\n      cylinderPos,\n      cylinderRx,\n      cylinderRy,\n    );\n\n    const { itemPos, lineStartX, lineEndX, lineY } = calculateItemPosition(\n      index,\n      cylinderPos,\n      itemBounds,\n      cylinderRx,\n      leftItemAlignedX,\n      rightItemAlignedX,\n      itemVerticalAlign,\n      itemVerticalOffset,\n      gapFromCylinder,\n    );\n\n    const decorationNodes = createDecorationElements(\n      index,\n      lineStartX,\n      lineEndX,\n      lineY,\n      color,\n    );\n\n    cylinderNodes.push(...decorationNodes);\n\n    const itemNode = (\n      <Item\n        indexes={[index]}\n        datum={item}\n        data={data}\n        x={itemPos.x}\n        y={itemPos.y}\n        positionH={index % 2 === 0 ? 'flipped' : 'normal'}\n      />\n    );\n\n    const btnNodes: JSXElement[] = [\n      <BtnRemove\n        indexes={[index]}\n        x={itemPos.x + itemBounds.width / 2 - btnBounds.width / 2}\n        y={itemPos.y + itemBounds.height + 10}\n      />,\n      <BtnAdd\n        indexes={[index]}\n        x={itemPos.x + itemBounds.width / 2 - btnBounds.width / 2}\n        y={itemPos.y - btnBounds.height - 10}\n      />,\n    ];\n\n    perItemGroups[index] = {\n      cylinderNodes,\n      itemNode,\n      btnNodes,\n      itemX: itemPos.x,\n      itemY: itemPos.y,\n    };\n  });\n\n  let minX = Infinity;\n  let minY = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n\n  perItemGroups.forEach((group) => {\n    const { itemX, itemY } = group;\n    minX = Math.min(minX, itemX);\n    minY = Math.min(minY, itemY);\n    maxX = Math.max(maxX, itemX + itemBounds.width);\n    maxY = Math.max(maxY, itemY + itemBounds.height);\n  });\n\n  const itemsBoundsWidth = maxX - minX;\n  const itemsBoundsHeight = maxY - minY;\n\n  const itemElements: JSXElement[] = [<Defs>{defsElements}</Defs>];\n  const btnElements: JSXElement[] = [];\n\n  // \n  const basePlate = createBasePlate(\n    items.length,\n    cylinderRx,\n    cylinderAreaStartX,\n    startY,\n    planeStepY,\n  );\n  if (basePlate) {\n    itemElements.push(basePlate);\n  }\n\n  for (let i = items.length - 1; i >= 0; i--) {\n    const g = perItemGroups[i];\n    if (!g) continue;\n    itemElements.push(\n      <Group>\n        <Group>{g.cylinderNodes}</Group>\n        {g.itemNode}\n      </Group>,\n    );\n    btnElements.push(...g.btnNodes);\n  }\n\n  if (items.length > 0) {\n    const isNextLeft = items.length % 2 === 0;\n    const nextPairIndex = Math.floor(items.length / 2);\n    const nextDepthOffset = calculateDepthOffset(nextPairIndex, cylinderRx);\n    const nextLateralOffset = calculateLateralOffset(\n      isNextLeft,\n      nextPairIndex,\n      cylinderRx,\n    );\n    const nextX = cylinderAreaStartX + nextLateralOffset + nextDepthOffset;\n    const nextY = startY - items.length * planeStepY;\n\n    btnElements.push(\n      <BtnAdd indexes={[items.length]} x={nextX} y={nextY - 100} />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={itemsBoundsWidth} height={itemsBoundsHeight}>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-cylinders-3d', {\n  component: sequenceCylinders3d,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Path, Rect, Text } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceFilterMeshProps extends BaseStructureProps {\n  gap?: number;\n}\n\n// \nconst SHAPE_CONFIG = {\n  WIDTH: 160,\n  HEIGHT: 260,\n  ARROW_HEIGHT: 148,\n  ARROW_WIDTH: 100,\n  LINE_X: 100,\n  RECT_X: 0,\n  RECT_Y: 80,\n  RECT_WIDTH: 100,\n  RECT_HEIGHT: 130,\n} as const;\n\nconst PARTICLE_CONFIG = {\n  SIZE: 8,\n  MAX_COUNT: 40,\n  MIN_COUNT: 5,\n  ARROW_RATIO: 0.6,\n  MIN_ARROW_COUNT: 3,\n} as const;\n\ninterface Particle {\n  x: number;\n  y: number;\n  colorIndex: number;\n}\n\ninterface ParticleGeneratorParams {\n  count: number;\n  rectX: number;\n  rectY: number;\n  rectWidth: number;\n  rectHeight: number;\n  seed: number;\n}\n\n/**\n * \n */\nfunction pseudoRandom(seed: number, row: number, col: number): number {\n  return (seed + row * 7 + col * 13) % 100;\n}\n\n/**\n * \n */\nfunction calculateGridLayout(count: number) {\n  const cols = Math.ceil(Math.sqrt(count * 1.5));\n  const rows = Math.ceil(count / cols);\n  return { cols, rows };\n}\n\n/**\n * \n */\nfunction calculateParticlePosition(\n  baseX: number,\n  baseY: number,\n  offsetX: number,\n  offsetY: number,\n  minX: number,\n  maxX: number,\n  minY: number,\n  maxY: number,\n): { x: number; y: number } {\n  const x = Math.max(minX, Math.min(baseX + offsetX, maxX));\n  const y = Math.max(minY, Math.min(baseY + offsetY, maxY));\n  return { x, y };\n}\n\n/**\n * \n */\nfunction generateParticles({\n  count,\n  rectX,\n  rectY,\n  rectWidth,\n  rectHeight,\n  seed,\n}: ParticleGeneratorParams): Particle[] {\n  const particles: Particle[] = [];\n  const padding = PARTICLE_CONFIG.SIZE / 2;\n  const { cols, rows } = calculateGridLayout(count);\n\n  const cellWidth = (rectWidth - padding * 2) / (cols + 1);\n  const cellHeight = (rectHeight - padding * 2) / (rows + 1);\n\n  let particleCount = 0;\n\n  for (let row = 0; row < rows && particleCount < count; row++) {\n    for (let col = 0; col < cols && particleCount < count; col++) {\n      const random = pseudoRandom(seed, row, col);\n      const offsetX = (random % 16) - 8;\n      const offsetY = ((random * 3) % 12) - 6;\n      const rowOffset = row % 2 === 1 ? cellWidth / 2 : 0;\n\n      const baseX = rectX + padding + (col + 1) * cellWidth + rowOffset;\n      const baseY = rectY + padding + (row + 1) * cellHeight;\n\n      const { x, y } = calculateParticlePosition(\n        baseX,\n        baseY,\n        offsetX,\n        offsetY,\n        rectX + padding,\n        rectX + rectWidth - padding,\n        rectY + padding,\n        rectY + rectHeight - padding,\n      );\n\n      particles.push({ x, y, colorIndex: particleCount });\n      particleCount++;\n    }\n  }\n\n  return particles;\n}\n\n/**\n * \n */\nfunction calculateParticleCount(index: number, totalItems: number): number {\n  if (totalItems <= 1) return PARTICLE_CONFIG.MAX_COUNT;\n\n  const progress = index / (totalItems - 1);\n  const range = PARTICLE_CONFIG.MAX_COUNT - PARTICLE_CONFIG.MIN_COUNT;\n  return Math.round(PARTICLE_CONFIG.MAX_COUNT - range * progress);\n}\n\n/**\n * \n */\nfunction createMeshPath(): string {\n  const GRID_COUNT = 12;\n  const MESH_WIDTH = 120;\n  const MESH_HEIGHT = 180;\n  const START_X = 40;\n  const START_Y = 25;\n  const PERSPECTIVE_OFFSET = 50; // \n\n  // \n  const corners = {\n    topLeft: { x: START_X, y: START_Y },\n    topRight: { x: START_X + MESH_WIDTH, y: START_Y + PERSPECTIVE_OFFSET },\n    bottomLeft: { x: START_X, y: START_Y + MESH_HEIGHT },\n    bottomRight: {\n      x: START_X + MESH_WIDTH,\n      y: START_Y + MESH_HEIGHT + PERSPECTIVE_OFFSET,\n    },\n  };\n\n  const lines: string[] = [];\n\n  // \n  for (let i = 0; i <= GRID_COUNT; i++) {\n    const t = i / GRID_COUNT;\n\n    // \n    const horizontalStart = {\n      x: corners.topLeft.x + (corners.bottomLeft.x - corners.topLeft.x) * t,\n      y: corners.topLeft.y + (corners.bottomLeft.y - corners.topLeft.y) * t,\n    };\n    const horizontalEnd = {\n      x: corners.topRight.x + (corners.bottomRight.x - corners.topRight.x) * t,\n      y: corners.topRight.y + (corners.bottomRight.y - corners.topRight.y) * t,\n    };\n    lines.push(\n      `M${horizontalStart.x} ${horizontalStart.y}L${horizontalEnd.x} ${horizontalEnd.y}`,\n    );\n\n    // \n    const verticalStart = {\n      x: corners.topLeft.x + (corners.topRight.x - corners.topLeft.x) * t,\n      y: corners.topLeft.y + (corners.topRight.y - corners.topLeft.y) * t,\n    };\n    const verticalEnd = {\n      x:\n        corners.bottomLeft.x +\n        (corners.bottomRight.x - corners.bottomLeft.x) * t,\n      y:\n        corners.bottomLeft.y +\n        (corners.bottomRight.y - corners.bottomLeft.y) * t,\n    };\n    lines.push(\n      `M${verticalStart.x} ${verticalStart.y}L${verticalEnd.x} ${verticalEnd.y}`,\n    );\n  }\n\n  return lines.join('');\n}\n\n/**\n * \n */\nfunction renderParticles(particles: Particle[], options: any): JSXElement[] {\n  return particles.map((particle) => {\n    const color = getPaletteColor(options, [particle.colorIndex]);\n    return (\n      <Path\n        d=\"M4 0L8 4L4 8L0 4Z\"\n        fill={color}\n        x={particle.x}\n        y={particle.y}\n        width={PARTICLE_CONFIG.SIZE}\n        height={PARTICLE_CONFIG.SIZE}\n        data-element-type=\"shape\"\n      />\n    );\n  });\n}\n\n/**\n * \n */\nfunction createDecorElement(\n  index: number,\n  itemX: number,\n  color: string,\n  particles: Particle[],\n  options: any,\n): JSXElement {\n  return (\n    <Group\n      x={itemX}\n      y={0}\n      width={SHAPE_CONFIG.WIDTH}\n      height={SHAPE_CONFIG.HEIGHT}\n    >\n      <ShapesGroup>\n        <Path d={createMeshPath()} stroke=\"#D9D9D9\" strokeWidth={2} />\n        <Path\n          d={`M${SHAPE_CONFIG.LINE_X} 25V260`}\n          stroke=\"#BFBFBF\"\n          strokeWidth={2}\n          strokeLinecap=\"round\"\n        />\n        <Rect\n          x={SHAPE_CONFIG.RECT_X}\n          y={SHAPE_CONFIG.RECT_Y}\n          width={SHAPE_CONFIG.RECT_WIDTH}\n          height={SHAPE_CONFIG.RECT_HEIGHT}\n          fill=\"#FFCB0E\"\n          fillOpacity={0.2}\n        />\n      </ShapesGroup>\n      <>{renderParticles(particles, options)}</>\n      <Text\n        x={SHAPE_CONFIG.LINE_X - 25}\n        y={0}\n        width={50}\n        height={20}\n        fontSize={20}\n        fontWeight=\"bold\"\n        alignHorizontal=\"center\"\n        alignVertical=\"top\"\n        fill={color}\n      >\n        {String(index + 1).padStart(2, '0')}\n      </Text>\n    </Group>\n  );\n}\n\n/**\n * \n */\nfunction createArrowElement(itemX: number, options: any): JSXElement {\n  const arrowY =\n    SHAPE_CONFIG.RECT_Y +\n    SHAPE_CONFIG.RECT_HEIGHT / 2 -\n    SHAPE_CONFIG.ARROW_HEIGHT / 2;\n  const arrowParticleCount = Math.max(\n    Math.round(PARTICLE_CONFIG.MIN_COUNT * PARTICLE_CONFIG.ARROW_RATIO),\n    PARTICLE_CONFIG.MIN_ARROW_COUNT,\n  );\n\n  const arrowParticles = generateParticles({\n    count: arrowParticleCount,\n    rectX: 0,\n    rectY: 14,\n    rectWidth: 57,\n    rectHeight: 120,\n    seed: 999,\n  });\n\n  return (\n    <Group x={itemX + SHAPE_CONFIG.WIDTH} y={arrowY}>\n      <Path\n        d=\"M0 13.9679H57.1429V0L100 74L57.1429 148V134.032H0V13.9679Z\"\n        width={SHAPE_CONFIG.ARROW_WIDTH}\n        height={SHAPE_CONFIG.ARROW_HEIGHT}\n        fill=\"#FFCB0E\"\n        fillOpacity={0.2}\n        data-element-type=\"shape\"\n      />\n      <>{renderParticles(arrowParticles, options)}</>\n    </Group>\n  );\n}\n\nexport const SequenceFilterMesh: ComponentType<SequenceFilterMeshProps> = (\n  props,\n) => {\n  const { Title, Item, data, gap = 20, options } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item\n      indexes={[0]}\n      data={data}\n      datum={items[0]}\n      width={SHAPE_CONFIG.WIDTH}\n      positionH=\"center\"\n    />,\n  );\n\n  const decorElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n\n  const itemYPos = SHAPE_CONFIG.HEIGHT + gap;\n  const btnY = itemYPos + itemBounds.height + 10;\n\n  // \n  items.forEach((item, index) => {\n    const itemX = index * SHAPE_CONFIG.WIDTH;\n    const indexes = [index];\n    const color = getPaletteColor(options, indexes);\n\n    // \n    const particleCount = calculateParticleCount(index, items.length);\n    const particles = generateParticles({\n      count: particleCount,\n      rectX: SHAPE_CONFIG.RECT_X,\n      rectY: SHAPE_CONFIG.RECT_Y,\n      rectWidth: SHAPE_CONFIG.RECT_WIDTH,\n      rectHeight: SHAPE_CONFIG.RECT_HEIGHT,\n      seed: index * 100,\n    });\n\n    // \n    decorElements.push(\n      createDecorElement(index, itemX, color!, particles, options),\n    );\n\n    // \n    if (index === items.length - 1) {\n      decorElements.push(createArrowElement(itemX, options));\n    }\n\n    // \n    itemElements.push(\n      <Item\n        key={`item-${index}`}\n        indexes={indexes}\n        datum={item}\n        data={data}\n        width={SHAPE_CONFIG.WIDTH}\n        x={itemX + SHAPE_CONFIG.LINE_X - SHAPE_CONFIG.WIDTH / 2}\n        y={itemYPos}\n        positionH=\"center\"\n      />,\n    );\n\n    // \n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + SHAPE_CONFIG.LINE_X - btnBounds.width / 2}\n        y={btnY}\n      />,\n    );\n\n    // \n    if (index < items.length - 1) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[index + 1]}\n          x={itemX + SHAPE_CONFIG.WIDTH - btnBounds.width / 2}\n          y={btnY}\n        />,\n      );\n    }\n  });\n\n  // \n  if (items.length > 0) {\n    btnElements.unshift(\n      <BtnAdd indexes={[0]} x={-btnBounds.width / 2} y={btnY} />,\n    );\n\n    const lastItemX = (items.length - 1) * SHAPE_CONFIG.WIDTH;\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={lastItemX + SHAPE_CONFIG.WIDTH - btnBounds.width / 2}\n        y={btnY}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group\n        width={SHAPE_CONFIG.WIDTH * items.length + SHAPE_CONFIG.ARROW_WIDTH}\n        height={SHAPE_CONFIG.HEIGHT + gap + itemBounds.height}\n      >\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-filter-mesh', {\n  component: SequenceFilterMesh,\n  composites: ['title', 'item'],\n});\n","const round = (n) => Math.round(n * 1e10) / 1e10\nconst getLength = (A, B) => round(Math.sqrt((B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y)))\nconst PI$1 = Math.PI, TAU = PI$1 * 2\nconst getClockDir = (angle1, angle2) => {\n  const diff = angle2 - angle1\n  return diff > PI$1 && diff < TAU || diff < 0 && diff > -PI$1 ? -1 : 1\n}\nconst getAngles = (prevpoint, currpoint, nextpoint, prevlen, mainlen, nextlen) => {\n  const prev = Math.atan2(prevpoint.y - currpoint.y, prevpoint.x - currpoint.x), next = Math.atan2(nextpoint.y - currpoint.y, nextpoint.x - currpoint.x), main = Math.acos((prevlen * prevlen + nextlen * nextlen - mainlen * mainlen) / (2 * prevlen * nextlen)), vel = 1 / Math.tan(main / 2), dir = getClockDir(prev, next), bis = prev + dir * main / 2\n  return { prev, next, main, vel, dir, bis }\n}\n\nconst PI = Math.PI\nconst getSegments = (points, type, opt) => points.reduce((segmented, point) => {\n  const { x, y, angle: { prev, next }, arc: { x: rx, y: ry, radius }} = point, dir = point.angle.dir * -1, startangle = prev + dir * PI / 2, angle = (dir * PI + next - prev) % PI, amount = type === \"LENGTH\" ? Math.round(dir * angle * radius / opt) : (opt || 1) - 1, unitangle = angle / amount, vertices = []\n  if (!amount || !unitangle) return segmented.concat({ x, y })\n  for (let i = 0; i <= amount; i++) vertices.push({\n    x: rx + Math.cos(startangle + unitangle * i) * radius,\n    y: ry + Math.sin(startangle + unitangle * i) * radius,\n  })\n  return segmented.concat(vertices)\n}, [])\n\nconst roundPolygon = (points, radius = 0) => {\n  const len = points.length, preRoundedPoints = [], limPoints = [], zeroLimPoints = []\n  points.forEach((curr, id) => {\n    const prev = points[(id - 1 + len) % len], next = points[(id + 1) % len], prevlen = getLength(prev, curr), mainlen = getLength(prev, next), nextlen = getLength(curr, next), angle = getAngles(prev, curr, next, prevlen, mainlen, nextlen)\n    if (angle.main === 0) {\n      angle.main = Number.EPSILON\n      angle.vel = Number.MAX_SAFE_INTEGER\n    }\n    if (angle.main === PI$1) angle.vel = 0\n    const preRoundedPoint = {\n      x: curr.x,\n      y: curr.y,\n      angle,\n      offset: 0,\n      arc: {\n        radius,\n        hit: radius,\n        lim: Math.min(nextlen / angle.vel, prevlen / angle.vel, curr.r || 0),\n      },\n      in: { length: prevlen, rest: prevlen },\n      out: { length: nextlen, rest: nextlen },\n      locked: false,\n      id,\n      get prev() {\n        return preRoundedPoints[(id - 1 + len) % len]\n      },\n      get next() {\n        return preRoundedPoints[(id + 1) % len]\n      },\n    }\n    if (isNaN(angle.main)) {\n      angle.main = 0\n      angle.bis = angle.prev || angle.next\n      zeroLimPoints.push(preRoundedPoint)\n    }\n    if (typeof curr.r === \"number\") if (curr.r === 0) zeroLimPoints.push(preRoundedPoint)\n    else limPoints.push(preRoundedPoint)\n    preRoundedPoints.push(preRoundedPoint)\n  })\n  zeroLimPoints.forEach((p) => {\n    p.angle.vel = 0\n    p.arc.radius = 0\n    lockPoint(p)\n  })\n  preRoundedPoints.forEach((p) => {\n    p.arc.hit = Math.min(p.out.rest / (p.angle.vel + p.next.angle.vel), p.in.rest / (p.angle.vel + p.prev.angle.vel))\n  })\n  let minHitPoint = getMinHit(limPoints)\n  while (minHitPoint) {\n    calcLimitRadius(minHitPoint)\n    minHitPoint = getMinHit(limPoints)\n  }\n  minHitPoint = getMinHit(preRoundedPoints)\n  while (minHitPoint) {\n    calcCommonRadius(minHitPoint, radius)\n    minHitPoint = getMinHit(preRoundedPoints)\n  }\n  const roundedPoints = preRoundedPoints.map((p) => {\n    const bislen = p.arc.radius / Math.sin(p.angle.main / 2)\n    return {\n      id: p.id,\n      x: p.x,\n      y: p.y,\n      angle: {\n        main: round(p.angle.main),\n        prev: p.angle.prev,\n        next: p.angle.next,\n        bis: p.angle.bis,\n        dir: p.angle.dir,\n      },\n      offset: round(p.offset),\n      arc: {\n        radius: round(p.arc.radius),\n        x: p.x + (Math.cos(p.angle.bis) * bislen || 0),\n        y: p.y + (Math.sin(p.angle.bis) * bislen || 0),\n      },\n      in: {\n        length: p.in.length,\n        x: p.x + Math.cos(p.angle.prev) * p.offset,\n        y: p.y + Math.sin(p.angle.prev) * p.offset,\n      },\n      out: {\n        length: p.out.length,\n        x: p.x + Math.cos(p.angle.next) * p.offset,\n        y: p.y + Math.sin(p.angle.next) * p.offset,\n      },\n      get prev() {\n        return roundedPoints[(p.id - 1 + len) % len]\n      },\n      get next() {\n        return roundedPoints[(p.id + 1) % len]\n      },\n    }\n  })\n  return roundedPoints\n}\nconst calcLimitRadius = (curr) => {\n  const { prev, next } = curr\n  if (prev.locked && !next.locked) curr.arc.radius = Math.min(Math.max((curr.out.length - next.arc.lim * next.angle.vel) / curr.angle.vel, curr.out.length / (curr.angle.vel + next.angle.vel)), curr.in.rest / curr.angle.vel, curr.arc.lim)\n  else if (next.locked && !prev.locked) curr.arc.radius = Math.min(Math.max((curr.in.length - prev.arc.lim * prev.angle.vel) / curr.angle.vel, curr.in.length / (curr.angle.vel + prev.angle.vel)), curr.out.rest / curr.angle.vel, curr.arc.lim)\n  else if (next.locked && prev.locked) curr.arc.radius = Math.min(curr.in.rest / curr.angle.vel, curr.out.rest / curr.angle.vel, curr.arc.lim)\n  else curr.arc.radius = Math.min(Math.max((curr.in.length - prev.arc.lim * prev.angle.vel) / curr.angle.vel, curr.in.length / (curr.angle.vel + prev.angle.vel)), Math.max((curr.out.length - next.arc.lim * next.angle.vel) / curr.angle.vel, curr.out.length / (curr.angle.vel + next.angle.vel)), curr.arc.lim)\n  lockPoint(curr)\n}\nconst calcCommonRadius = (curr, radius) => {\n  if (radius > curr.arc.hit) {\n    const { prev, next } = curr\n    if (prev.locked && !next.locked) curr.arc.radius = Math.max(Math.min(curr.in.rest / curr.angle.vel, curr.out.length / (curr.angle.vel + next.angle.vel), curr.arc.radius), 0)\n    else if (next.locked && !prev.locked) curr.arc.radius = Math.max(Math.min(curr.out.rest / curr.angle.vel, curr.in.length / (curr.angle.vel + prev.angle.vel), curr.arc.radius), 0)\n    else if (next.locked && prev.locked) curr.arc.radius = Math.max(Math.min(curr.in.rest / curr.angle.vel, curr.out.rest / curr.angle.vel, curr.arc.radius), 0)\n    else curr.arc.radius = curr.arc.hit\n  }\n  lockPoint(curr)\n}\nconst lockPoint = (curr) => {\n  const { prev, next } = curr\n  curr.offset = curr.arc.radius * curr.angle.vel\n  prev.out.rest -= curr.offset\n  curr.in.rest -= curr.offset\n  curr.out.rest -= curr.offset\n  next.in.rest -= curr.offset\n  curr.locked = true\n  prev.arc.hit = Math.min(prev.in.length / (prev.angle.vel + prev.prev.angle.vel), prev.in.rest / prev.angle.vel, prev.out.rest / prev.angle.vel)\n  next.arc.hit = Math.min(next.out.length / (next.angle.vel + next.next.angle.vel), next.out.rest / next.angle.vel, next.in.rest / next.angle.vel)\n}\nconst getMinHit = (arr) => arr.reduce((min, p) => p.locked ? min : !min ? p : p.arc.hit < min.arc.hit ? p : min, null)\n\nexport { roundPolygon as default, getSegments }\n","/**\n * SequenceFunnel\n * \n * -  item \n * - \n */\nimport roundPolygon, { getSegments } from 'round-polygon';\nimport tinycolor from 'tinycolor2';\nimport type { ComponentType } from '../../jsx';\nimport { Defs, Group, Point, Polygon, Rect } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemIcon,\n  ItemsGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\n// Constants\nconst FUNNEL_CORNER_RADIUS = 6;\nconst ICON_SIZE = 32;\nconst FUNNEL_LAYER_HEIGHT_RATIO = 1.25;\nconst OVERLAP_DIST = 25;\nconst TEXT_GAP = 15;\n\n// SequenceFunnel \nexport interface SequenceFunnelProps extends BaseStructureProps {\n  gap?: number;\n  width?: number;\n  funnelWidth?: number;\n  itemHeight?: number;\n  // 0~1\n  //  0.25 ( 25%)\n  minBottomRatio?: number;\n}\n\nexport const SequenceFunnel: ComponentType<SequenceFunnelProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    gap = 10,\n    width = 700,\n    funnelWidth,\n    itemHeight = 60,\n    minBottomRatio = 0.25, //  25% \n    options,\n  } = props;\n\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n      </FlexLayout>\n    );\n  }\n\n  const themeColors = getThemeColors(options.themeConfig);\n\n  // \n  const actualFunnelWidth = funnelWidth ?? width * 0.55; // \n  const itemAreaWidth = width - actualFunnelWidth;\n\n  // \n  const funnelLayerHeight = itemHeight * FUNNEL_LAYER_HEIGHT_RATIO;\n  const totalHeight =\n    items.length * funnelLayerHeight + (items.length - 1) * gap;\n\n  // \n  const minFunnelPixelWidth = actualFunnelWidth * minBottomRatio;\n\n  const elements = items.map((item, index) => {\n    const indexes = [index];\n    // \n    const color = getPaletteColor(options, [index]) || themeColors.colorPrimary;\n\n    // 1. \n    //  actualFunnelWidth  minFunnelPixelWidth\n    const { points, topWidth } = calculateTrapezoidSegment(\n      actualFunnelWidth,\n      minFunnelPixelWidth,\n      funnelLayerHeight,\n      gap,\n      totalHeight,\n      index,\n    );\n\n    // \n    const rounded = roundPolygon(points, FUNNEL_CORNER_RADIUS);\n    const segments = getSegments(rounded, 'AMOUNT', 10);\n\n    // \n    const funnelCenterX = actualFunnelWidth / 2;\n    const funnelY = index * (funnelLayerHeight + gap);\n\n    // 2.  Item \n    // topWidthbottomWidth\n    //  topWidth \n    const rightTopX = funnelCenterX + topWidth / 2;\n\n    // \n    // X  overlapDist\n    const backgroundX = rightTopX - OVERLAP_DIST;\n    // \n    const backgroundWidth = itemAreaWidth + OVERLAP_DIST - 10; // -10 \n    const backgroundYOffset = (funnelLayerHeight - itemHeight) / 2;\n    const backgroundY = funnelY + backgroundYOffset;\n\n    //  (Item)\n    // X \n    const itemX = rightTopX + TEXT_GAP;\n    const itemWidth = backgroundWidth - OVERLAP_DIST - TEXT_GAP;\n    const itemY = backgroundY;\n\n    // \n    const iconX = funnelCenterX - ICON_SIZE / 2;\n    const iconY = funnelY + funnelLayerHeight / 2 - ICON_SIZE / 2;\n\n    const funnelColorId = `${color.replace('#', '')}-funnel-${index}`;\n\n    return {\n      background: (\n        <Rect\n          x={backgroundX}\n          y={backgroundY}\n          width={backgroundWidth}\n          height={itemHeight}\n          ry=\"8\" // \n          fill={tinycolor(color).setAlpha(0.1).toRgbString()} // \n          data-element-type=\"shape\"\n        />\n      ),\n      funnel: [\n        <Defs>\n          <linearGradient id={funnelColorId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop\n              offset=\"0%\"\n              stopColor={tinycolor(color).lighten(10).toString()}\n            />\n            <stop offset=\"100%\" stopColor={color} />\n          </linearGradient>\n        </Defs>,\n        <Polygon\n          points={segments}\n          fill={`url(#${funnelColorId})`}\n          y={funnelY}\n          data-element-type=\"shape\"\n          //  filter\n          style={{ filter: 'drop-shadow(0px 2px 3px rgba(0,0,0,0.15))' }}\n        />,\n      ],\n      icon: (\n        <ItemIcon\n          indexes={indexes}\n          x={iconX}\n          y={iconY}\n          size={ICON_SIZE}\n          fill=\"#fff\"\n        />\n      ),\n      item: (\n        <Item\n          indexes={indexes}\n          datum={item}\n          data={data}\n          x={itemX}\n          y={itemY}\n          width={itemWidth}\n          height={itemHeight}\n          positionV=\"middle\"\n        />\n      ),\n      btnRemove: (\n        <BtnRemove\n          indexes={indexes}\n          x={backgroundX + backgroundWidth}\n          y={backgroundY}\n        />\n      ),\n    };\n  });\n\n  const btnAdd = (\n    <BtnAdd indexes={[items.length]} x={width / 2} y={totalHeight + 10} />\n  );\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={width} height={totalHeight + 40}>\n        {/*  */}\n        <Group>{elements.map((element) => element.background)}</Group>\n        {/*  */}\n        <Group>{elements.flatMap((element) => element.funnel)}</Group>\n        {/*  */}\n        <Group>{elements.map((element) => element.icon)}</Group>\n        <ItemsGroup>{elements.map((element) => element.item)}</ItemsGroup>\n        <BtnsGroup>\n          {elements.map((element) => element.btnRemove)}\n          {btnAdd}\n        </BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\n// \nfunction calculateTrapezoidSegment(\n  maxWidth: number,\n  minWidth: number,\n  layerHeight: number,\n  gap: number,\n  totalHeight: number,\n  index: number,\n) {\n  const centerX = maxWidth / 2;\n\n  //  Y \n  const currentTopY = index * (layerHeight + gap);\n  const currentBottomY = currentTopY + layerHeight;\n\n  // \n  // Width = MaxWidth - (MaxWidth - MinWidth) * (Y / TotalHeight)\n  const widthDiff = maxWidth - minWidth;\n\n  const topWidth = maxWidth - widthDiff * (currentTopY / totalHeight);\n  const bottomWidth = maxWidth - widthDiff * (currentBottomY / totalHeight);\n\n  //  ()\n  const p1: Point = { x: centerX - topWidth / 2, y: 0 }; // \n  const p2: Point = { x: centerX + topWidth / 2, y: 0 }; // \n  const p3: Point = { x: centerX + bottomWidth / 2, y: layerHeight }; // \n  const p4: Point = { x: centerX - bottomWidth / 2, y: layerHeight }; // \n\n  return { points: [p1, p2, p3, p4], topWidth, bottomWidth };\n}\n\n// \nregisterStructure('sequence-funnel', {\n  component: SequenceFunnel,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Ellipse, getElementBounds, Group, Path, Rect } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceHorizontalZigzagProps extends BaseStructureProps {\n  gap?: number;\n  cardPadding?: number;\n}\n\nexport const SequenceHorizontalZigzag: ComponentType<\n  SequenceHorizontalZigzagProps\n> = (props) => {\n  const { Title, Item, data, gap = 30, cardPadding = 10, options } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n  const themeColors = getThemeColors({ colorPrimary }, options);\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decoElements: JSXElement[] = [];\n\n  const cardWidth = itemBounds.width + cardPadding * 2;\n  const cardHeight = itemBounds.height + cardPadding * 2 + 30;\n  const dotSize = 8;\n  const dotGap = 6;\n  const topMargin = Math.max(btnBounds.height + 20, 40);\n  const levelOffset = 40;\n\n  items.forEach((item, index) => {\n    const isEven = index % 2 === 0;\n    const cardX = index * (cardWidth + gap);\n    let cardY: number;\n    if (isEven) {\n      if (index % 4 === 2) {\n        cardY = topMargin;\n      } else {\n        cardY = topMargin + levelOffset;\n      }\n    } else {\n      cardY = topMargin + levelOffset + 60;\n    }\n    const indexes = [index];\n\n    const itemColor = getPaletteColor(options, indexes) || colorPrimary;\n\n    if (isEven) {\n      // Use item color with opacity for background\n      const backgroundColor =\n        itemColor === colorPrimary\n          ? themeColors.colorPrimaryBg || '#E8F3FF'\n          : `${itemColor}20`; // 20 = ~12% opacity in hex\n\n      const cardBackground = (\n        <Rect\n          x={cardX}\n          y={cardY}\n          width={cardWidth}\n          height={cardHeight}\n          fill={backgroundColor}\n          rx={20}\n          ry={20}\n        />\n      );\n      decoElements.push(cardBackground);\n    }\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={cardX + cardPadding}\n        y={cardY + cardPadding}\n        positionH=\"center\"\n        positionV=\"normal\"\n      />,\n    );\n\n    const totalDotsWidth = items.length * dotSize + (items.length - 1) * dotGap;\n    const dotsStartX = cardX + (cardWidth - totalDotsWidth) / 2;\n    const dotsY = cardY + itemBounds.height + 20;\n\n    for (let i = 0; i < items.length; i++) {\n      const dotX = dotsStartX + i * (dotSize + dotGap);\n      const isCurrent = i === index;\n      decoElements.push(\n        <Ellipse\n          x={dotX}\n          y={dotsY}\n          width={dotSize}\n          height={dotSize}\n          fill={isCurrent ? itemColor : 'transparent'}\n          stroke={itemColor}\n          strokeWidth={2}\n        />,\n      );\n    }\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={cardX + (cardWidth - btnBounds.width) / 2}\n        y={cardY + cardHeight + 10}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={cardX + (cardWidth - btnBounds.width) / 2}\n          y={cardY - btnBounds.height - 10}\n        />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={cardX - gap / 2 - btnBounds.width / 2}\n          y={topMargin - btnBounds.height - 10}\n        />,\n      );\n    }\n  });\n\n  if (items.length > 0) {\n    const pathSegments: string[] = [];\n    const radius = 35;\n    const padding = gap / 2;\n    const circleRadius = 6;\n\n    const firstCardY = topMargin + levelOffset;\n\n    const startX = 0 - padding;\n    const startY = firstCardY + cardHeight / 2;\n\n    pathSegments.push(`M ${startX} ${startY - circleRadius}`);\n\n    items.forEach((_, index) => {\n      const isEven = index % 2 === 0;\n      const cardX = index * (cardWidth + gap);\n      let cardY: number;\n      if (isEven) {\n        if (index % 4 === 2) {\n          cardY = topMargin;\n        } else {\n          cardY = topMargin + levelOffset;\n        }\n      } else {\n        cardY = topMargin + levelOffset + 60;\n      }\n\n      const left = cardX - padding;\n      const right = cardX + cardWidth + padding;\n      const top = cardY - padding;\n      const bottom = cardY + cardHeight + padding;\n      const middleY = cardY + cardHeight / 2;\n\n      if (isEven) {\n        pathSegments.push(`L ${left} ${top + radius}`);\n        pathSegments.push(`Q ${left} ${top} ${left + radius} ${top}`);\n        pathSegments.push(`L ${right - radius} ${top}`);\n        pathSegments.push(`Q ${right} ${top} ${right} ${top + radius}`);\n        pathSegments.push(`L ${right} ${middleY - circleRadius}`);\n      } else {\n        pathSegments.push(`L ${left} ${middleY}`);\n        pathSegments.push(`L ${left} ${bottom - radius}`);\n        pathSegments.push(`Q ${left} ${bottom} ${left + radius} ${bottom}`);\n        pathSegments.push(`L ${right - radius} ${bottom}`);\n        pathSegments.push(`Q ${right} ${bottom} ${right} ${bottom - radius}`);\n        pathSegments.push(`L ${right} ${middleY + circleRadius}`);\n      }\n    });\n\n    const lastIndex = items.length - 1;\n    const lastIsEven = lastIndex % 2 === 0;\n    const lastCardX = lastIndex * (cardWidth + gap);\n    let lastCardY: number;\n    if (lastIsEven) {\n      if (lastIndex % 4 === 2) {\n        lastCardY = topMargin;\n      } else {\n        lastCardY = topMargin + levelOffset;\n      }\n    } else {\n      lastCardY = topMargin + levelOffset + 60;\n    }\n    const endX = lastCardX + cardWidth + padding;\n    const endY = lastCardY + cardHeight / 2;\n\n    const pathD = pathSegments.join(' ');\n\n    // Create gradient for the path with stops for each item\n    const linearGradientId = 'gradient-zigzag-path';\n    const firstColor = getPaletteColor(options, [0]) || colorPrimary;\n    const lastColor =\n      getPaletteColor(options, [items.length - 1]) || colorPrimary;\n\n    // Generate gradient stops for each item\n    const gradientStops = items.map((_, index) => {\n      const offset = (index / (items.length - 1)) * 100;\n      const color = getPaletteColor(options, [index]) || colorPrimary;\n      return <stop offset={`${offset}%`} stopColor={color} />;\n    });\n\n    decoElements.unshift(\n      <>\n        <Defs>\n          <linearGradient\n            id={linearGradientId}\n            x1={startX}\n            y1={startY}\n            x2={endX}\n            y2={endY}\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            {gradientStops}\n          </linearGradient>\n        </Defs>\n        <Path\n          d={pathD}\n          stroke={`url(#${linearGradientId})`}\n          strokeWidth={2}\n          fill=\"none\"\n          width={\n            (items.length - 1) * (cardWidth + gap) + cardWidth + padding * 2\n          }\n          height={cardHeight + 120}\n        />\n      </>,\n    );\n\n    decoElements.unshift(\n      <Ellipse\n        x={startX - circleRadius}\n        y={startY - circleRadius}\n        width={circleRadius * 2}\n        height={circleRadius * 2}\n        fill=\"transparent\"\n        stroke={firstColor}\n        strokeWidth={2}\n      />,\n    );\n\n    decoElements.unshift(\n      <Ellipse\n        x={endX - circleRadius}\n        y={endY - circleRadius}\n        width={circleRadius * 2}\n        height={circleRadius * 2}\n        fill=\"transparent\"\n        stroke={lastColor}\n        strokeWidth={2}\n      />,\n    );\n  }\n\n  if (items.length > 0) {\n    const lastIndex = items.length - 1;\n    const lastCardX = lastIndex * (cardWidth + gap);\n\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={lastCardX + cardWidth + (gap - btnBounds.width) / 2}\n        y={topMargin - btnBounds.height - 10}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ShapesGroup>{decoElements}</ShapesGroup>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-horizontal-zigzag', {\n  component: SequenceHorizontalZigzag,\n  composites: ['title', 'item'],\n});\n","import tinycolor from 'tinycolor2';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Bounds, getElementBounds, Group, Text } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nfunction Mountain(props: { colorPrimary: string } & Bounds) {\n  const { width, height, colorPrimary } = props;\n\n  const leftBottomColor = colorPrimary;\n  const rightBottomColor = tinycolor\n    .mix(colorPrimary, '#000', 20)\n    .toHexString();\n  const leftTopColor = tinycolor.mix(colorPrimary, '#fff', 50).toHexString();\n  const rightTopColor = tinycolor.mix(leftTopColor, '#000', 15).toHexString();\n\n  function calculateMountainPoints(width: number, height: number) {\n    // \n    const snowLine = 0.35; // 0-1\n    const ripples = [\n      { position: 0.25, offset: 0.1 }, // \n      { position: 0.45, offset: -0.02 }, // \n      { position: 0.6, offset: 0.04 }, // \n      { position: 0.75, offset: -0.1 }, // \n    ];\n\n    // 1. \n    const leftBottom = { x: 0, y: height };\n    const rightBottom = { x: width, y: height };\n    const peak = { x: width / 2, y: 0 };\n    const centerBottom = { x: width / 2, y: height };\n\n    // 2.  Y \n    const snowLineY = height * snowLine;\n\n    // 3. \n    const t = snowLineY / height;\n\n    const leftEdge = {\n      x: peak.x * (1 - t) + leftBottom.x * t,\n      y: snowLineY,\n    };\n\n    const centerSnow = {\n      x: peak.x,\n      y: snowLineY,\n    };\n\n    const rightEdge = {\n      x: peak.x * (1 - t) + rightBottom.x * t,\n      y: snowLineY,\n    };\n\n    // 4. \n    const allRipples = ripples.map((ripple) => {\n      const baseX = leftEdge.x + (rightEdge.x - leftEdge.x) * ripple.position;\n      const baseY = snowLineY;\n      const offsetY = height * ripple.offset;\n\n      return {\n        x: baseX,\n        y: baseY + offsetY,\n        position: ripple.position,\n        offset: ripple.offset,\n      };\n    });\n\n    //  position \n    allRipples.sort((a, b) => a.position - b.position);\n\n    // 5.  centerSnow  x \n    const leftRipples = allRipples.filter((p) => p.x <= centerSnow.x);\n    const rightRipples = allRipples.filter((p) => p.x > centerSnow.x);\n\n    // \n    return {\n      // \n      leftBottom,\n      rightBottom,\n      peak,\n      centerBottom,\n\n      // \n      snowLineY,\n      leftEdge,\n      centerSnow,\n      rightEdge,\n\n      // \n      leftRipples,\n      rightRipples,\n    };\n  }\n\n  // \n  const {\n    leftRipples,\n    rightRipples,\n    leftBottom,\n    rightBottom,\n    peak,\n    centerBottom,\n    leftEdge,\n    centerSnow,\n    rightEdge,\n  } = calculateMountainPoints(width, height);\n\n  const leftTopShape = [peak, leftEdge, ...leftRipples, centerSnow];\n  const rightTopShape = [peak, centerSnow, ...rightRipples, rightEdge];\n  const leftBottomShape = [\n    leftEdge,\n    ...leftRipples,\n    centerSnow,\n    centerBottom,\n    leftBottom,\n  ];\n  const rightBottomShape = [\n    centerSnow,\n    ...rightRipples,\n    rightEdge,\n    rightBottom,\n    centerBottom,\n  ];\n\n  const toPointsString = (points: { x: number; y: number }[]) =>\n    points.map((p) => `${p.x},${p.y}`).join(' ');\n\n  return (\n    <ShapesGroup {...props}>\n      <polygon points={toPointsString(leftTopShape)} fill={leftTopColor} />\n      <polygon points={toPointsString(rightTopShape)} fill={rightTopColor} />\n      <polygon\n        points={toPointsString(leftBottomShape)}\n        fill={leftBottomColor}\n      />\n      <polygon\n        points={toPointsString(rightBottomShape)}\n        fill={rightBottomColor}\n      />\n    </ShapesGroup>\n  );\n}\n\nfunction Tree(size: 'tiny' | 'small' | 'medium' | 'large') {\n  const heightMap = {\n    tiny: 27,\n    small: 48,\n    medium: 54,\n    large: 72,\n  };\n  const height = heightMap[size] || 54;\n\n  const leftLeafColor = '#17C76F';\n  const rightLeafColor = '#139B57';\n  const trunkColor = '#737373';\n\n  const leafHeight = height * 0.7;\n  const trunkHeight = height - leafHeight;\n\n  const leafWidth = leafHeight * 0.8;\n  const width = leafWidth;\n  const trunkWidth = width / 6;\n\n  const trunkX = (width - trunkWidth) / 2;\n  const trunkY = leafHeight;\n\n  return (\n    <ShapesGroup width={width} height={height}>\n      {/*  */}\n      <ellipse\n        cx={leafWidth / 2}\n        cy={leafHeight / 2}\n        rx={leafWidth / 2}\n        ry={leafHeight / 2}\n        fill={leftLeafColor}\n        clipPath={`inset(0 50% 0 0)`}\n      />\n\n      {/*  */}\n      <ellipse\n        cx={leafWidth / 2}\n        cy={leafHeight / 2}\n        rx={leafWidth / 2}\n        ry={leafHeight / 2}\n        fill={rightLeafColor}\n        clipPath={`inset(0 0 0 50%)`}\n      />\n\n      {/*  */}\n      <rect\n        x={trunkX}\n        y={trunkY}\n        width={trunkWidth}\n        height={trunkHeight}\n        fill={trunkColor}\n      />\n    </ShapesGroup>\n  );\n}\n\nfunction Sun(props: Bounds) {\n  const { width, height } = props;\n  // \n  const centerX = width / 2;\n  const centerY = height / 2;\n  const radius = Math.min(width, height) * 0.28; // 28%\n  const rayWidth = Math.min(width, height) * 0.14; // 14%\n  const rayHeight = Math.min(width, height) * 0.07; // 7%\n  const rayX = 0;\n  const rayY = centerY - rayHeight / 2; // \n  const cornerRadius = rayHeight * 0.4; // 40%\n  const rayCount = 8;\n\n  // \n  const rays = Array.from({ length: rayCount }, (_, i) => {\n    const angle = (360 / rayCount) * i;\n    return (\n      <rect\n        x={rayX}\n        y={rayY}\n        width={rayWidth}\n        height={rayHeight}\n        rx={cornerRadius}\n        ry={cornerRadius}\n        fill=\"#FFCB0E\"\n        transform={`rotate(${angle}, ${centerX}, ${centerY})`}\n      />\n    );\n  });\n\n  return (\n    <ShapesGroup {...props}>\n      <circle cx={centerX} cy={centerY} r={radius} fill=\"#FFCB0E\" />\n      {...rays}\n    </ShapesGroup>\n  );\n}\n\nfunction Cloud(props: { type: 'single' | 'double' } & Bounds) {\n  if (props.type === 'single') {\n    return (\n      <ShapesGroup {...props} width={54} height={36}>\n        <path\n          d=\"M10.2635 13.3806C11.0019 9.99045 12.7381 6.91002 15.2405 4.55004C17.743 2.19007 20.8929 0.662716 24.2701 0.171643C27.6473 -0.31943 31.0914 0.24912 34.143 1.80148C37.1946 3.35385 39.7087 5.81625 41.3501 8.86031C44.8835 9.0468 48.1994 10.6544 50.5684 13.3294C52.9373 16.0044 54.1653 19.5277 53.9821 23.1242C53.7989 26.7207 52.2195 30.0959 49.5914 32.5071C46.9634 34.9184 43.5019 36.1683 39.9684 35.9818H11.1517C4.93436 35.9818 0 30.9593 0 24.6309C0.0598447 21.8016 1.13799 19.093 3.02989 17.0192C4.9218 14.9454 7.49584 13.6506 10.2635 13.3806Z\"\n          fill=\"#70CAF8\"\n        />\n      </ShapesGroup>\n    );\n  }\n  return (\n    <ShapesGroup {...props} width={73} height={40}>\n      <path\n        d=\"M61.6461 14.9716C60.8681 11.1875 58.9581 7.73823 56.1763 5.09315C53.3944 2.44806 49.8758 0.735682 46.0992 0.189041C42.3226 -0.357601 38.4714 0.288046 35.0699 2.03812C31.6683 3.7882 28.8815 6.5577 27.0889 9.96971C23.161 10.1687 19.4719 11.9405 16.8333 14.8953C14.1947 17.8502 12.8227 21.746 13.0191 25.7258C13.2155 29.7055 14.9642 33.4433 17.8806 36.1167C20.7969 38.7901 24.642 40.1802 28.5699 39.9812H60.6588C67.5702 39.9812 73.0006 34.4791 73.0006 27.4764C73.0006 20.9739 67.8664 15.4718 61.6461 14.9716Z\"\n        fill=\"#70CAF8\"\n      />\n      <path\n        d=\"M21.9691 6.47136e-09C25.9369 6.47136e-09 29.5264 1.62125 32.0003 4.21094C30.0604 5.7917 28.4423 7.75571 27.2581 10C23.3149 10.1989 19.6111 11.9702 16.9622 14.9238C14.3136 17.8774 12.936 21.772 13.1331 25.75C13.2057 27.2131 13.4902 28.6432 13.9652 30H10.7689C7.96116 29.8907 5.29664 28.7203 3.30402 26.7217C1.31144 24.7231 0.135825 22.0419 0.0110544 19.21C-0.113702 16.378 0.821178 13.6017 2.63019 11.4326C4.43921 9.26356 6.99065 7.8602 9.77766 7.5C11.9582 3.00012 16.6168 8.76701e-05 21.9691 6.47136e-09Z\"\n        fill=\"#5BA2C6\"\n      />\n    </ShapesGroup>\n  );\n}\n\nexport interface SequenceMountainProps extends BaseStructureProps {\n  gap?: number;\n  minHeight?: number;\n  maxHeight?: number;\n  minWidth?: number;\n  maxWidth?: number;\n}\n\nexport const SequenceMountain: ComponentType<SequenceMountainProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    gap = 20,\n    minHeight = 100,\n    maxHeight = 200,\n    minWidth = 260,\n    maxWidth = 300,\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n  const labelElements: JSXElement[] = [];\n\n  const n = items.length;\n  const themeColors = getThemeColors(options.themeConfig);\n\n  const sunSize = 60;\n  const cloudSizes = {\n    single: { width: 54, height: 36 },\n    double: { width: 73, height: 40 },\n  };\n\n  const mountainWidths: number[] = [];\n  const mountainXPositions: number[] = [];\n  let totalWidth = 0;\n\n  let nextMountainX = 0;\n  items.forEach((datum, index) => {\n    const progress = n > 1 ? index / (n - 1) : 0;\n    const mountainHeight = minHeight + (maxHeight - minHeight) * progress;\n    const calculatedWidth = mountainHeight * 1.6;\n    const mountainWidth = Math.max(\n      minWidth,\n      Math.min(maxWidth, calculatedWidth),\n    );\n    mountainWidths.push(mountainWidth);\n\n    const mountainX = nextMountainX;\n    mountainXPositions.push(mountainX);\n    nextMountainX += mountainWidth / 2;\n\n    if (index === n - 1) {\n      totalWidth = mountainX + mountainWidth;\n    }\n  });\n\n  const firstMountainLeft = mountainXPositions[0];\n  const lastMountainRight = mountainXPositions[n - 1] + mountainWidths[n - 1];\n  const itemAreaWidth = lastMountainRight - firstMountainLeft;\n  const itemWidth = n > 1 ? (itemAreaWidth - gap * (n - 1)) / n : itemAreaWidth;\n\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} width={itemWidth} />,\n  );\n\n  const labelHeight = 32;\n  const labelYPos = maxHeight + gap;\n  const itemYPos = labelYPos + labelHeight + 10;\n\n  items.forEach((datum, index) => {\n    const indexes = [index];\n    const mountainHeight =\n      minHeight + (maxHeight - minHeight) * (n > 1 ? index / (n - 1) : 0);\n    const mountainWidth = mountainWidths[index];\n    const mountainX = mountainXPositions[index];\n    const mountainY = maxHeight - mountainHeight;\n\n    const color = getPaletteColor(options, [index]) || themeColors.colorPrimary;\n\n    decorElements.push(\n      <Mountain\n        colorPrimary={color}\n        x={mountainX}\n        y={mountainY}\n        width={mountainWidth}\n        height={mountainHeight}\n      />,\n    );\n\n    const itemX = firstMountainLeft + index * (itemWidth + gap);\n\n    labelElements.push(\n      <Text\n        x={itemX}\n        y={labelYPos}\n        width={itemWidth}\n        height={labelHeight}\n        fontSize={16}\n        fontWeight=\"bold\"\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fill={color}\n        backgroundColor={color}\n        backgroundOpacity={0.5}\n        backgroundRadius={4}\n      >\n        {String(index + 1).padStart(2, '0')}\n      </Text>,\n    );\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={datum}\n        data={data}\n        x={itemX}\n        y={itemYPos}\n        width={itemWidth}\n      />,\n    );\n  });\n\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const btnY = itemYPos + itemBounds.height + 10;\n\n  items.forEach((datum, index) => {\n    const indexes = [index];\n    const itemX = firstMountainLeft + index * (itemWidth + gap);\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + itemWidth / 2 - btnBounds.width / 2}\n        y={btnY}\n      />,\n    );\n\n    if (index < items.length - 1) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[index + 1]}\n          x={itemX + itemWidth + gap / 2 - btnBounds.width / 2}\n          y={btnY}\n        />,\n      );\n    }\n  });\n\n  if (n > 0) {\n    const firstItemX = firstMountainLeft;\n    btnElements.unshift(\n      <BtnAdd\n        indexes={[0]}\n        x={firstItemX - gap / 2 - btnBounds.width / 2}\n        y={btnY}\n      />,\n    );\n\n    const lastItemX = firstMountainLeft + (n - 1) * (itemWidth + gap);\n    btnElements.push(\n      <BtnAdd\n        indexes={[n]}\n        x={lastItemX + itemWidth + gap / 2 - btnBounds.width / 2}\n        y={btnY}\n      />,\n    );\n\n    decorElements.push(\n      <Sun\n        x={totalWidth - sunSize - 20}\n        y={-35}\n        width={sunSize}\n        height={sunSize}\n      />,\n    );\n\n    const treeSizes: Array<'tiny' | 'small' | 'medium' | 'large'> = [\n      'tiny',\n      'small',\n      'medium',\n      'large',\n    ];\n    const treeHeightMap = { tiny: 27, small: 48, medium: 54, large: 72 };\n    const treeWidthMap = {\n      tiny: 14.85,\n      small: 26.4,\n      medium: 29.7,\n      large: 39.6,\n    };\n\n    const placedTrees: Array<{ x: number; width: number }> = [];\n\n    const isTreeOverlapping = (\n      treeX: number,\n      treeWidth: number,\n      padding: number = 5,\n    ): boolean => {\n      return placedTrees.some((placed) => {\n        return !(\n          treeX + treeWidth + padding < placed.x ||\n          treeX > placed.x + placed.width + padding\n        );\n      });\n    };\n\n    items.forEach((datum, index) => {\n      const mountainX = mountainXPositions[index];\n      const mountainWidth = mountainWidths[index];\n      const isLastMountain = index === n - 1;\n\n      const treesOnThisMountain = isLastMountain ? 3 : index === 0 ? 1 : 2;\n\n      for (let t = 0; t < treesOnThisMountain; t++) {\n        const seed = index * 100 + t * 37;\n        const sizeIndex = (seed * 17) % treeSizes.length;\n        const treeSize = treeSizes[sizeIndex];\n        const treeHeight = treeHeightMap[treeSize];\n        const treeWidth = treeWidthMap[treeSize];\n\n        let attempts = 0;\n        let treeX = 0;\n        let validPosition = false;\n\n        while (attempts < 20 && !validPosition) {\n          const xOffset = ((seed * 13 + attempts * 19) % 100) / 100;\n          const minX = mountainX + mountainWidth * 0.15;\n          const maxX = mountainX + mountainWidth * 0.85 - treeWidth;\n          treeX = minX + (maxX - minX) * xOffset;\n\n          if (!isTreeOverlapping(treeX, treeWidth)) {\n            validPosition = true;\n          }\n          attempts++;\n        }\n\n        if (validPosition) {\n          placedTrees.push({ x: treeX, width: treeWidth });\n          const treeY = maxHeight - treeHeight;\n\n          decorElements.push(\n            <Group x={treeX} y={treeY}>\n              {Tree(treeSize)}\n            </Group>,\n          );\n        }\n      }\n    });\n\n    const cloudCount = Math.max(1, Math.floor(n / 1.5));\n    for (let i = 0; i < cloudCount; i++) {\n      const seed = i * 11 + n * 5 + 1;\n      const cloudType = seed % 2 === 0 ? 'single' : 'double';\n      const cloudSize = cloudSizes[cloudType];\n      const cloudRange =\n        lastMountainRight - firstMountainLeft - cloudSize.width;\n      const xPos = firstMountainLeft + (((seed * 7) % 100) / 100) * cloudRange;\n      const yPos = (seed * 13) % 40;\n\n      decorElements.push(\n        <Cloud\n          type={cloudType}\n          x={xPos}\n          y={yPos}\n          width={cloudSize.width}\n          height={cloudSize.height}\n        />,\n      );\n    }\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Group>{decorElements}</Group>\n        <Group>{labelElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-mountain', {\n  component: SequenceMountain,\n  composites: ['title', 'item'],\n});\n","import roundPolygon, { getSegments } from 'round-polygon';\nimport tinycolor from 'tinycolor2';\nimport type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Group, Point, Polygon, Rect } from '../../jsx';\nimport { BtnsGroup, ItemIcon, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequencePyramidProps extends BaseStructureProps {\n  gap?: number;\n  width?: number;\n  pyramidWidth?: number;\n  itemHeight?: number;\n}\n\nexport const SequencePyramid: ComponentType<SequencePyramidProps> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    gap = 10,\n    width = 700,\n    pyramidWidth,\n    itemHeight = 60,\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n\n  if (items.length === 0) {\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n      </FlexLayout>\n    );\n  }\n\n  const radius = 5;\n  const themeColors = getThemeColors(options.themeConfig);\n  const iconSize = 30;\n\n  const itemElements: JSXElement[] = [];\n  const pyramidElements: JSXElement[] = [];\n  const backgroundElements: JSXElement[] = [];\n  const iconElements: JSXElement[] = [];\n\n  // Calculate dimensions\n  const actualPyramidWidth = pyramidWidth ?? width * 0.6;\n  const itemAreaWidth = width - actualPyramidWidth;\n\n  // Pyramid layer height should be greater than itemHeight\n  const pyramidLayerHeight = itemHeight * 1.2; // Magic number: 20% larger than itemHeight\n  const totalHeight =\n    items.length * pyramidLayerHeight + (items.length - 1) * gap;\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const isFirst = index === 0;\n\n    // Get color from palette for this item\n    const color = getPaletteColor(options, [index]) || themeColors.colorPrimary;\n\n    const { points, topWidth, bottomWidth } = calculateTriangleSegment(\n      actualPyramidWidth,\n      pyramidLayerHeight,\n      gap,\n      items.length,\n      index,\n    );\n\n    const rounded = roundPolygon(points, radius);\n    const segments = getSegments(rounded, 'AMOUNT', 10);\n\n    const pyramidCenterX = actualPyramidWidth / 2;\n    const pyramidY = index * (pyramidLayerHeight + gap);\n\n    // Background positioning - centered vertically with pyramid layer\n    const backgroundYOffset = (pyramidLayerHeight - itemHeight) / 2;\n    const backgroundY = pyramidY + backgroundYOffset;\n\n    const rightTopX = pyramidCenterX + topWidth / 2;\n    const rightBottomX = pyramidCenterX + bottomWidth / 2;\n    const overlapWidth = radius;\n\n    // Background - fixed width from top edge\n    const backgroundX = rightTopX - overlapWidth;\n    const backgroundWidth = itemAreaWidth + radius;\n    const backgroundHeight = itemHeight;\n    const backgroundRightEdge = backgroundX + backgroundWidth;\n\n    const iconX = pyramidCenterX - iconSize / 2;\n    const iconY =\n      pyramidY + pyramidLayerHeight / 2 - iconSize / 2 + (isFirst ? 8 : 0);\n\n    // Item positioning - from current layer's right edge to background's right edge\n    const itemX = rightBottomX;\n    const itemWidth = backgroundRightEdge - rightBottomX;\n    const itemY = backgroundY;\n\n    // Background\n    backgroundElements.push(\n      <Rect\n        x={backgroundX}\n        y={backgroundY}\n        width={backgroundWidth}\n        height={backgroundHeight}\n        ry=\"10\"\n        fill={themeColors.colorPrimaryBg}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // Pyramid segment\n    const pyramidColorId = `${color}-pyramid-${index}`;\n    pyramidElements.push(\n      <Defs>\n        <linearGradient id={pyramidColorId} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0\" stop-color={color} />\n          <stop\n            offset=\"100%\"\n            stop-color={tinycolor.mix(color, '#fff', 40).toHexString()}\n          />\n        </linearGradient>\n      </Defs>,\n      <Polygon\n        points={segments}\n        fill={`url(#${pyramidColorId})`}\n        y={pyramidY}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    // Icon\n    iconElements.push(\n      <ItemIcon\n        indexes={indexes}\n        x={iconX}\n        y={iconY}\n        size={iconSize}\n        fill=\"#fff\"\n      />,\n    );\n\n    // Item\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        width={itemWidth}\n        height={itemHeight}\n        positionV=\"middle\"\n      />,\n    );\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group width={width} height={totalHeight}>\n        <Group>{backgroundElements}</Group>\n        <Group>{pyramidElements}</Group>\n        <Group>{iconElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup />\n      </Group>\n    </FlexLayout>\n  );\n};\n\nfunction calculateTriangleSegment(\n  width: number,\n  height: number,\n  gap: number,\n  counts: number,\n  index: number,\n) {\n  const centerX = width / 2;\n  const triangleHeight = counts * height + (counts - 1) * gap;\n\n  const rectTop = index * (height + gap);\n  const rectBottom = rectTop + height;\n\n  const topWidth = (rectTop / triangleHeight) * width;\n  const bottomWidth = (rectBottom / triangleHeight) * width;\n\n  let points: Point[];\n\n  if (index === 0) {\n    const p1: Point = { x: centerX, y: 0 };\n    const p2: Point = { x: centerX + bottomWidth / 2, y: height };\n    const p3: Point = { x: centerX - bottomWidth / 2, y: height };\n    points = [p1, p2, p3];\n  } else {\n    const p1: Point = { x: centerX + topWidth / 2, y: 0 };\n    const p2: Point = { x: centerX + bottomWidth / 2, y: height };\n    const p3: Point = { x: centerX - bottomWidth / 2, y: height };\n    const p4: Point = { x: centerX - topWidth / 2, y: 0 };\n    points = [p1, p2, p3, p4];\n  }\n\n  return { points, topWidth, bottomWidth };\n}\n\nregisterStructure('sequence-pyramid', {\n  component: SequencePyramid,\n  composites: ['title', 'item'],\n});\n","import {\n  getElementBounds,\n  Group,\n  Path,\n  Text,\n  type ComponentType,\n  type JSXElement,\n} from '../../jsx';\nimport { ItemIconCircle } from '../components';\nimport { Triangle } from '../decorations';\nimport { FlexLayout } from '../layouts';\nimport { getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceRoadmapVerticalProps extends BaseStructureProps {\n  /** Item spacing */\n  spacing?: number;\n  flipped?: boolean;\n}\n\nconst CONFIG = {\n  iconSize: 50,\n  roadWidth: 24,\n  outerRadius: 60,\n  rowWidth: 400,\n  spacing: 30,\n  colorDefault: '#666666',\n};\n\nconst moveTo = (x: number, y: number) => `M ${x} ${y}`;\nconst lineTo = (x: number, y: number) => `L ${x} ${y}`;\nconst arcTo = (r: number, sweep: 0 | 1, x: number, y: number) =>\n  `A ${r} ${r} 0 0 ${sweep} ${x} ${y}`;\n\nconst getYPositions = (\n  i: number,\n  {\n    roadWidth,\n    innerRadius,\n    outerRadius,\n  }: { roadWidth: number; innerRadius: number; outerRadius: number },\n) => {\n  const y1 = (roadWidth + innerRadius * 2) * i;\n  return {\n    y1,\n    y2: y1 + roadWidth,\n    y3: y1 + roadWidth + innerRadius,\n    y4: y1 + roadWidth + innerRadius * 2,\n    y5: y1 + outerRadius * 2,\n  };\n};\n\nfunction renderItemRow({\n  i,\n  direction,\n  x,\n  y,\n  color,\n  data,\n  itemBounds,\n  item,\n  Item,\n  flipped,\n}: any) {\n  const { iconSize } = CONFIG;\n  const isLeft = direction === 'left';\n\n  const iconX = isLeft ? x.x4 - iconSize / 2 : x.x3 - iconSize / 2;\n  const iconY = y.y3 - iconSize / 2;\n  const itemX = isLeft\n    ? x.x6 + CONFIG.spacing\n    : x.x1 - CONFIG.spacing - itemBounds.width;\n  const itemY = y.y3 - itemBounds.height / 2;\n\n  //  flipped  positionH\n  const positionH = isLeft\n    ? flipped\n      ? 'flipped'\n      : 'normal'\n    : flipped\n      ? 'normal'\n      : 'flipped';\n\n  return {\n    icon: (\n      <ItemIconCircle\n        indexes={[i]}\n        x={iconX}\n        y={iconY}\n        size={iconSize}\n        fill={color}\n      />\n    ),\n    label: (\n      <Text\n        width={40}\n        x={isLeft ? iconX - 50 : iconX + iconSize + 10}\n        y={iconY + iconSize / 2 - 15}\n        fontSize={30}\n        fill={color}\n        alignHorizontal={isLeft ? 'right' : 'left'}\n      >\n        {String(i + 1).padStart(2, '0')}\n      </Text>\n    ),\n    item: (\n      <Item\n        indexes={[i]}\n        data={data}\n        datum={item}\n        x={itemX}\n        y={itemY}\n        positionH={positionH}\n      />\n    ),\n  };\n}\n\nfunction buildDecorations({ direction, x, y, color, elements }: any) {\n  const isLeft = direction === 'left';\n  elements.push(\n    <Triangle\n      x={isLeft ? x.x6 + 10 : x.x1 - 20}\n      y={y.y3 - 5}\n      width={10}\n      height={8}\n      rotation={isLeft ? 90 : -90}\n      colorPrimary={color}\n      data-element-type=\"shape\"\n    />,\n  );\n}\n\nexport const SequenceRoadmapVertical: ComponentType<\n  SequenceRoadmapVerticalProps\n> = (props) => {\n  const {\n    Title,\n    Item,\n    data,\n    spacing = CONFIG.spacing,\n    options,\n    flipped = false,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const { roadWidth, outerRadius, rowWidth, colorDefault } = CONFIG;\n  const halfRoadWidth = roadWidth / 2;\n  const innerRadius = outerRadius - roadWidth;\n\n  const totalWidth = (itemBounds.width + spacing) * 2 + rowWidth;\n\n  const x1 = itemBounds.width + spacing;\n  const x3 = x1 + outerRadius;\n  const x4 = x1 + rowWidth - outerRadius;\n  const x5 = x4 + innerRadius;\n  const x6 = x5 + roadWidth;\n  const xMid = x1 + rowWidth / 2;\n\n  const midPath: string[] = [];\n  const positivePath: string[] = [];\n  const negativePath: string[] = [];\n\n  const itemIcons: JSXElement[] = [];\n  const seriesNumber: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decorationElements: JSXElement[] = [];\n\n  for (let i = 0; i < items.length; i++) {\n    const color = getPaletteColor(options, [i]) || colorDefault;\n    const direction = i % 2 === 0 ? 'right' : 'left';\n    const isFirst = i === 0;\n    const isLast = i === items.length - 1;\n    const y = getYPositions(i, { roadWidth, innerRadius, outerRadius });\n\n    if (direction === 'right') {\n      const p1: [number, number] = isFirst ? [x6, y.y1] : [x4, y.y1];\n      const p2: [number, number] = [x3, y.y1];\n      const p3: [number, number] = [x3, y.y5];\n      const p4: [number, number] = isFirst ? [x6, y.y2] : [x4, y.y2];\n      const p5: [number, number] = [x3, y.y2];\n\n      midPath.push(\n        isFirst\n          ? moveTo(x6, y.y1 + halfRoadWidth)\n          : lineTo(x4, y.y1 + halfRoadWidth),\n        lineTo(x3, y.y1 + halfRoadWidth),\n        arcTo(outerRadius - halfRoadWidth, 0, x3, y.y4 + halfRoadWidth),\n      );\n\n      positivePath.push(\n        isFirst ? moveTo(...p1) : lineTo(...p1),\n        lineTo(...p2),\n        arcTo(outerRadius, 0, ...p3),\n      );\n\n      negativePath.push(\n        lineTo(...p4),\n        lineTo(...p5),\n        arcTo(innerRadius, 1, ...p5),\n      );\n\n      if (isLast) {\n        const s = roadWidth / 2;\n        positivePath.push(\n          lineTo(xMid, y.y5),\n          lineTo(xMid, y.y5 + s),\n          lineTo(xMid + roadWidth, y.y5 - s),\n          lineTo(xMid, y.y4 - s),\n          lineTo(xMid, y.y4),\n          lineTo(x3, y.y4),\n        );\n        midPath.push(lineTo(xMid, y.y4 + halfRoadWidth));\n      }\n    } else {\n      const p1: [number, number] = [x3, y.y2];\n      const p2: [number, number] = [x4, y.y2];\n      const p3: [number, number] = [x4, y.y4];\n      const p4: [number, number] = [x3, y.y1];\n      const p5: [number, number] = [x4, y.y1];\n\n      midPath.push(\n        lineTo(x4, y.y1 + halfRoadWidth),\n        arcTo(outerRadius - halfRoadWidth, 1, x4, y.y4 + halfRoadWidth),\n      );\n      positivePath.push(\n        lineTo(...p1),\n        lineTo(...p2),\n        arcTo(innerRadius, 1, ...p3),\n      );\n      negativePath.push(\n        lineTo(...p4),\n        lineTo(...p5),\n        arcTo(outerRadius, 0, ...p5),\n      );\n\n      if (isLast) {\n        const s = roadWidth / 2;\n        positivePath.push(\n          lineTo(xMid, y.y4),\n          lineTo(xMid, y.y4 - s),\n          lineTo(xMid - roadWidth, y.y4 + s),\n          lineTo(xMid, y.y5 + s),\n          lineTo(xMid, y.y5),\n          lineTo(x4, y.y5),\n        );\n        midPath.push(lineTo(xMid, y.y4 + halfRoadWidth));\n      }\n    }\n\n    // \n    buildDecorations({\n      direction,\n      x: { x1, x4, x6 },\n      y,\n      color,\n      elements: decorationElements,\n    });\n\n    // \n    const { icon, label, item } = renderItemRow({\n      i,\n      direction,\n      x: { x1, x3, x4, x6 },\n      y,\n      color,\n      data,\n      itemBounds,\n      item: items[i],\n      Item,\n      flipped,\n    });\n    itemIcons.push(icon);\n    seriesNumber.push(label);\n    itemElements.push(item);\n  }\n\n  const pathArr = [...positivePath, ...negativePath.reverse(), 'Z'];\n  const roadmapHeight =\n    items.length * (roadWidth + innerRadius * 2) + roadWidth * 1.5;\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group\n        width={totalWidth}\n        height={\n          itemBounds.height <= outerRadius * 2\n            ? roadmapHeight\n            : roadmapHeight + itemBounds.height - outerRadius * 2\n        }\n      >\n        <Path\n          width={rowWidth}\n          height={roadmapHeight}\n          d={pathArr.join(' ')}\n          fill={colorDefault}\n          stroke={colorDefault}\n          strokeWidth=\"4\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          data-element-type=\"shape\"\n        />\n        <Path\n          d={midPath.join(' ')}\n          stroke=\"white\"\n          fill=\"none\"\n          strokeWidth=\"3\"\n          strokeDasharray=\"8 8\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          data-element-type=\"shape\"\n        />\n        <>\n          {itemIcons}\n          {seriesNumber}\n          {itemElements}\n          {decorationElements}\n        </>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-roadmap-vertical', {\n  component: SequenceRoadmapVertical,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { SimpleArrow } from '../decorations';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceSnakeStepsProps extends BaseStructureProps {\n  gap?: number;\n  itemsPerRow?: number;\n  rowGap?: number;\n}\n\nexport const SequenceSnakeSteps: ComponentType<SequenceSnakeStepsProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    gap = 40,\n    itemsPerRow = 3,\n    rowGap = 80,\n    options,\n  } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n\n  const arrowWidth = 25;\n  const arrowHeight = 25;\n\n  items.forEach((item, index) => {\n    const rowIndex = Math.floor(index / itemsPerRow);\n    const colIndex = index % itemsPerRow;\n    const isReversedRow = rowIndex % 2 === 1;\n    const actualColIndex = isReversedRow\n      ? itemsPerRow - 1 - colIndex\n      : colIndex;\n\n    const itemX = actualColIndex * (itemBounds.width + gap);\n    const itemY = rowIndex * (itemBounds.height + rowGap);\n    const indexes = [index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"center\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={itemY + itemBounds.height + 10}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={itemY - btnBounds.height - 10}\n        />,\n      );\n    }\n\n    if (index < items.length - 1) {\n      const nextRowIndex = Math.floor((index + 1) / itemsPerRow);\n      const nextColIndex = (index + 1) % itemsPerRow;\n      const isNextReversedRow = nextRowIndex % 2 === 1;\n      const nextActualColIndex = isNextReversedRow\n        ? itemsPerRow - 1 - nextColIndex\n        : nextColIndex;\n\n      const nextItemX = nextActualColIndex * (itemBounds.width + gap);\n\n      const isSameRow = rowIndex === nextRowIndex;\n\n      if (isSameRow) {\n        const isRightToLeft = isReversedRow;\n        const arrowX = isRightToLeft\n          ? nextItemX + itemBounds.width + (gap - arrowWidth) / 2\n          : itemX + itemBounds.width + (gap - arrowWidth) / 2;\n        const arrowY = itemY + itemBounds.height / 2 - arrowHeight / 2;\n\n        decorElements.push(\n          <SimpleArrow\n            x={arrowX}\n            y={arrowY}\n            width={arrowWidth}\n            height={arrowHeight}\n            colorPrimary={colorPrimary}\n            rotation={isRightToLeft ? 180 : 0}\n          />,\n        );\n\n        btnElements.push(\n          <BtnAdd\n            indexes={[index + 1]}\n            x={arrowX + (arrowWidth - btnBounds.width) / 2}\n            y={itemY - btnBounds.height - 10}\n          />,\n        );\n      } else {\n        const turnArrowX = itemX + itemBounds.width / 2 - arrowWidth / 2;\n        const turnArrowY =\n          itemY + itemBounds.height + (rowGap - arrowHeight) / 2;\n\n        decorElements.push(\n          <SimpleArrow\n            x={turnArrowX}\n            y={turnArrowY}\n            width={arrowWidth}\n            height={arrowHeight}\n            colorPrimary={colorPrimary}\n            rotation={90}\n          />,\n        );\n\n        btnElements.push(\n          <BtnAdd\n            indexes={[index + 1]}\n            x={turnArrowX + (arrowWidth - btnBounds.width) / 2}\n            y={turnArrowY + (arrowHeight - btnBounds.height) / 2}\n          />,\n        );\n      }\n    }\n  });\n\n  if (items.length > 0) {\n    const lastIndex = items.length - 1;\n    const lastRowIndex = Math.floor(lastIndex / itemsPerRow);\n    const lastColIndex = lastIndex % itemsPerRow;\n    const isLastReversedRow = lastRowIndex % 2 === 1;\n    const lastActualColIndex = isLastReversedRow\n      ? itemsPerRow - 1 - lastColIndex\n      : lastColIndex;\n\n    const lastItemX = lastActualColIndex * (itemBounds.width + gap);\n    const lastItemY = lastRowIndex * (itemBounds.height + rowGap);\n\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={lastItemX + (itemBounds.width - btnBounds.width) / 2}\n        y={lastItemY + itemBounds.height + btnBounds.height + 20}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-snake-steps', {\n  component: SequenceSnakeSteps,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group, Path, Polygon, Rect, Text } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceStairsFrontProps extends BaseStructureProps {\n  gap?: number;\n  perspectiveFactor?: number;\n  width?: number;\n}\n\nexport const SequenceStairsFront: ComponentType<SequenceStairsFrontProps> = (\n  props,\n) => {\n  const {\n    Title,\n    Item,\n    data,\n    options,\n    gap = 16,\n    perspectiveFactor = 0.2,\n    width = 720,\n  } = props;\n\n  const { title, desc, items = [] } = data;\n  const TitleComponent = Title;\n  const titleContent = TitleComponent ? (\n    <TitleComponent title={title} desc={desc} />\n  ) : null;\n\n  if (items.length === 0) {\n    const btnAddElement = <BtnAdd indexes={[0]} x={0} y={0} />;\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        {titleContent}\n        <Group>\n          <BtnsGroup>{btnAddElement}</BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const colorPrimary = getColorPrimary(options);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item\n      indexes={[0]}\n      data={data}\n      datum={items[0] || {}}\n      positionH=\"center\"\n    />,\n  );\n\n  const connectorGap = 12;\n  const baseConnectorWidth = Math.min(width * 0.1, 100);\n  const bottomStepWidth = Math.min(\n    width * 0.45,\n    Math.max(80, width - itemBounds.width - connectorGap - baseConnectorWidth),\n  );\n  const baseDepth = Math.max(24, bottomStepWidth * perspectiveFactor * 0.35);\n  const baseStepHeight = 56;\n  const minStepHeight = baseStepHeight * 0.7;\n  const heightStep =\n    items.length > 1\n      ? (baseStepHeight - minStepHeight) / (items.length - 1)\n      : 0;\n  const topMargin = Math.max(btnBounds.height + baseDepth + 20, baseDepth + 28);\n  const centerX = bottomStepWidth / 2;\n  const itemX = bottomStepWidth + baseConnectorWidth + connectorGap;\n\n  const stepHeights = items.map(\n    (_, index) => baseStepHeight - heightStep * index,\n  );\n  const stepDepths = items.map((_, index) =>\n    Math.max(baseDepth * (1 - index * 0.05), baseDepth * 0.7),\n  );\n  const stepYs: number[] = [];\n  const depthFromTop: number[] = [];\n  const lastIndex = items.length - 1;\n  stepYs[lastIndex] = topMargin;\n  depthFromTop[lastIndex] = 0;\n  for (let i = lastIndex - 1; i >= 0; i -= 1) {\n    depthFromTop[i] = depthFromTop[i + 1] + stepDepths[i] + gap;\n    stepYs[i] = stepYs[i + 1] + stepDepths[i] + stepHeights[i + 1] + gap;\n  }\n  const totalDepthSpan = depthFromTop[0] || stepDepths[0] || baseDepth;\n  const minStepWidth = bottomStepWidth * (0.55 + perspectiveFactor * 0.1);\n  const widthShrink = bottomStepWidth - minStepWidth;\n  const stepWidths = items.map((_, index) => {\n    const ratio =\n      totalDepthSpan === 0 ? 1 : depthFromTop[index] / totalDepthSpan;\n    return minStepWidth + widthShrink * ratio;\n  });\n  const connectorWidths = stepWidths.map((stepWidth) => {\n    const connectorStartX = centerX + stepWidth / 2;\n    return Math.max(0, itemX - connectorGap - connectorStartX);\n  });\n\n  const stepElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const btnElements: JSXElement[] = [];\n  const connectorElements: JSXElement[] = [];\n  const spineElements: JSXElement[] = [];\n\n  const spineTop = 0;\n  const spineBottom =\n    (stepYs[0] || topMargin) + (stepHeights[0] || baseStepHeight);\n  const arrowHeight = spineBottom - spineTop;\n  const arrowHeadHeight = 35;\n  const topStepWidth = stepWidths[lastIndex] || minStepWidth;\n  const arrowTopWidth = topStepWidth * 0.8;\n  const arrowNeckWidth = arrowTopWidth * 0.65;\n  const arrowBottomWidth = (stepWidths[0] || bottomStepWidth) * 0.9;\n  spineElements.push(\n    <Polygon\n      points={[\n        { x: centerX, y: spineTop },\n        { x: centerX + arrowTopWidth / 2, y: spineTop + arrowHeadHeight },\n        { x: centerX + arrowNeckWidth / 2, y: spineTop + arrowHeadHeight },\n        { x: centerX + arrowBottomWidth / 2, y: spineBottom },\n        { x: centerX - arrowBottomWidth / 2, y: spineBottom },\n        { x: centerX - arrowNeckWidth / 2, y: spineTop + arrowHeadHeight },\n        { x: centerX - arrowTopWidth / 2, y: spineTop + arrowHeadHeight },\n      ]}\n      fill=\"rgba(0,0,0,0.12)\"\n      width={arrowBottomWidth}\n      height={arrowHeight}\n      data-element-type=\"shape\"\n    />,\n  );\n\n  let previousCenterY = stepYs[lastIndex] + stepHeights[lastIndex] / 2;\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const stepWidth = stepWidths[index];\n    const stepDepth = stepDepths[index];\n    const stepX = centerX - stepWidth / 2;\n    const stepHeight = stepHeights[index];\n    const stepY = stepYs[index];\n    const topY = stepY - stepDepth;\n    const rectCenterY = stepY + stepHeight / 2;\n    const stepColor = getPaletteColor(options, indexes) || colorPrimary;\n\n    stepElements.push(\n      <Rect\n        x={stepX}\n        y={stepY}\n        width={stepWidth}\n        height={stepHeight}\n        fill={stepColor}\n        data-element-type=\"shape\"\n      />,\n      <Polygon\n        points={[\n          { x: stepX, y: stepY },\n          { x: stepX + stepWidth, y: stepY },\n          { x: stepX + stepWidth - stepDepth / 2, y: topY },\n          { x: stepX + stepDepth / 2, y: topY },\n        ]}\n        fill={stepColor}\n        opacity=\"0.3\"\n        width={stepWidth}\n        height={stepDepth}\n        data-element-type=\"shape\"\n      />,\n      <Text\n        x={stepX}\n        y={stepY}\n        width={stepWidth}\n        height={stepHeight}\n        fontSize={stepHeight / 2}\n        fontWeight=\"bold\"\n        alignHorizontal=\"center\"\n        alignVertical=\"middle\"\n        fill=\"#ffffff\"\n      >\n        {String(index + 1).padStart(2, '0')}\n      </Text>,\n    );\n\n    const connectorStartX = stepX + stepWidth;\n    const connectorEndY = rectCenterY;\n    const connectorWidth = connectorWidths[index];\n    const lineEndX = connectorStartX + connectorWidth;\n\n    connectorElements.push(\n      <Path\n        d={`M ${connectorStartX} ${connectorEndY} L ${lineEndX} ${connectorEndY}`}\n        stroke={stepColor}\n        strokeWidth={2}\n        fill=\"none\"\n        width={connectorWidth}\n        height={2}\n        data-element-type=\"shape\"\n      />,\n      <Path\n        d={`M ${lineEndX} ${connectorEndY} L ${lineEndX} ${connectorEndY}`}\n        stroke={stepColor}\n        strokeWidth={6}\n        strokeLinecap=\"round\"\n        width={1}\n        height={1}\n        data-element-type=\"shape\"\n      />,\n    );\n\n    const itemY = rectCenterY - itemBounds.height / 2;\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionV=\"middle\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + itemBounds.width + 10}\n        y={itemY + itemBounds.height / 2 - btnBounds.height / 2}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[0]}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={itemY - btnBounds.height - 12}\n        />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={(previousCenterY + rectCenterY) / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n\n    previousCenterY = rectCenterY;\n  });\n\n  const lastCenterY = previousCenterY;\n  const lastItemY = lastCenterY - itemBounds.height / 2;\n\n  btnElements.push(\n    <BtnAdd\n      indexes={[items.length]}\n      x={itemX + (itemBounds.width - btnBounds.width) / 2}\n      y={lastItemY + itemBounds.height + 12}\n    />,\n  );\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Group>{spineElements}</Group>\n        <Group>{stepElements}</Group>\n        <Group>{connectorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-stairs-front', {\n  component: SequenceStairsFront,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { getElementBounds, Group } from '../../jsx';\nimport { BtnAdd, BtnRemove, BtnsGroup, ItemsGroup } from '../components';\nimport { SimpleArrow } from '../decorations';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceStepsProps extends BaseStructureProps {\n  gap?: number;\n}\n\nexport const SequenceSteps: ComponentType<SequenceStepsProps> = (props) => {\n  const { Title, Item, data, gap = 40, options } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n\n  const arrowWidth = 25;\n  const arrowHeight = 25;\n  const topMargin = Math.max(btnBounds.height + 20, 30);\n\n  items.forEach((item, index) => {\n    const itemX = index * (itemBounds.width + gap);\n    const indexes = [index];\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={topMargin}\n        positionH=\"center\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={topMargin + itemBounds.height + 10}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={topMargin - btnBounds.height - 10}\n        />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX - gap / 2 - btnBounds.width / 2}\n          y={topMargin - btnBounds.height - 10}\n        />,\n      );\n    }\n\n    if (index < items.length - 1) {\n      const arrowX = itemX + itemBounds.width + (gap - arrowWidth) / 2;\n      const arrowY = topMargin + itemBounds.height / 2 - arrowHeight / 2;\n\n      decorElements.push(\n        <SimpleArrow\n          x={arrowX}\n          y={arrowY}\n          width={arrowWidth}\n          height={arrowHeight}\n          colorPrimary={colorPrimary}\n        />,\n      );\n    }\n  });\n\n  if (items.length > 0) {\n    const lastItemX = (items.length - 1) * (itemBounds.width + gap);\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={lastItemX + itemBounds.width + (gap - btnBounds.width) / 2}\n        y={topMargin - btnBounds.height - 10}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <Group>{decorElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-steps', {\n  component: SequenceSteps,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Ellipse, getElementBounds, Group, Path, Text } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getPaletteColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nexport interface SequenceTimelineProps extends BaseStructureProps {\n  gap?: number;\n  lineOffset?: number;\n}\n\nexport const SequenceTimeline: ComponentType<SequenceTimelineProps> = (\n  props,\n) => {\n  const { Title, Item, data, gap = 10, options } = props;\n  const { title, desc, items = [] } = data;\n\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n  const palette = getPaletteColors(options);\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"normal\" />,\n  );\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const decorElements: JSXElement[] = [];\n\n  const stepLabelX = 10;\n  const timelineX = stepLabelX + 70 + 10;\n  const itemX = timelineX + 30;\n  const nodeRadius = 6;\n\n  // Add continuous timeline line first (so it appears behind the dots)\n  if (items.length > 1) {\n    const firstNodeY = itemBounds.height / 2 + nodeRadius;\n    const lastNodeY =\n      (items.length - 1) * (itemBounds.height + gap) +\n      itemBounds.height / 2 -\n      nodeRadius;\n    const continuousLinePath = `M ${timelineX} ${firstNodeY} L ${timelineX} ${lastNodeY}`;\n\n    const linearGradientId = 'gradient-timeline-line';\n    const totalHeight = lastNodeY - firstNodeY;\n\n    // Generate gradient stops for each item\n    const gradientStops = items.map((_, index) => {\n      const nodeY = index * (itemBounds.height + gap) + itemBounds.height / 2;\n      const offset = ((nodeY - firstNodeY) / totalHeight) * 100;\n      const color = getPaletteColor(options, [index]);\n      return <stop offset={`${offset}%`} stopColor={color || colorPrimary} />;\n    });\n\n    decorElements.push(\n      <>\n        <Defs>\n          <linearGradient\n            id={linearGradientId}\n            x1={timelineX}\n            y1={firstNodeY}\n            x2={timelineX}\n            y2={lastNodeY}\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            {gradientStops}\n          </linearGradient>\n        </Defs>\n        <Path\n          d={continuousLinePath}\n          stroke={`url(#${linearGradientId})`}\n          strokeWidth={2}\n          width={1}\n          height={lastNodeY - firstNodeY}\n        />\n      </>,\n    );\n  }\n\n  items.forEach((item, index) => {\n    const itemY = index * (itemBounds.height + gap);\n    const nodeY = itemY + itemBounds.height / 2;\n    const indexes = [index];\n\n    decorElements.push(\n      <Text\n        x={stepLabelX}\n        y={nodeY}\n        width={70}\n        fontSize={18}\n        fontWeight=\"bold\"\n        alignHorizontal=\"left\"\n        alignVertical=\"middle\"\n        fill={palette[index % palette.length]}\n      >\n        {`STEP ${index + 1}`}\n      </Text>,\n    );\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"normal\"\n      />,\n    );\n\n    decorElements.push(\n      <Ellipse\n        x={timelineX - nodeRadius}\n        y={nodeY - nodeRadius}\n        width={nodeRadius * 2}\n        height={nodeRadius * 2}\n        fill={palette[index % palette.length]}\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX - btnBounds.width - 10}\n        y={itemY + (itemBounds.height - btnBounds.height) / 2}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={itemY - btnBounds.height - 10}\n        />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={indexes}\n          x={itemX + (itemBounds.width - btnBounds.width) / 2}\n          y={itemY - gap / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n  });\n\n  if (items.length > 0) {\n    const lastItemY = (items.length - 1) * (itemBounds.height + gap);\n    btnElements.push(\n      <BtnAdd\n        indexes={[items.length]}\n        x={itemX + (itemBounds.width - btnBounds.width) / 2}\n        y={lastItemY + itemBounds.height + 10}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      {titleContent}\n      <Group>\n        <ShapesGroup>{decorElements}</ShapesGroup>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-timeline', {\n  component: SequenceTimeline,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, getElementBounds, Group, Path } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\nconst PUCK_WIDTH = 120;\nconst PUCK_HEIGHT = 108;\nconst ITEM_TO_PUCK_GAP = 30;\n\nconst PUCK_TOP_PATH =\n  'M4.49144e-05 34.4898C4.49144e-05 37.8786 0.848973 41.152 2.43571 44.2444C4.23516 47.7642 6.98514 51.0472 10.517 54.0009C21.331 63.047 39.4615 68.9814 59.9991 68.9814C80.5385 68.9814 98.6672 63.047 109.483 54.0009C113.013 51.0472 115.765 47.7642 117.564 44.2444C119.149 41.152 120 37.8786 120 34.4898C120 15.4407 93.1364 0 59.9991 0C26.8635 0 4.49144e-05 15.4407 4.49144e-05 34.4898Z';\n\nconst PUCK_MIDDLE_PATH =\n  'M4.49145e-05 34.4898V53.9991C4.49145e-05 57.3879 0.848973 60.6613 2.43571 63.7556C9.75425 78.0545 32.7562 88.4907 59.999 88.4907C87.2438 88.4907 110.246 78.0545 117.564 63.7556C119.149 60.6613 120 57.3879 120 53.9991V34.4898C120 37.8786 119.149 41.152 117.564 44.2444C115.765 47.7642 113.013 51.0472 109.483 54.0009C98.6672 63.047 80.5385 68.9814 59.999 68.9814C39.4615 68.9814 21.3309 63.047 10.5169 54.0009C6.98509 51.0472 4.23516 47.7642 2.43567 44.2444C0.848928 41.152 4.49145e-05 37.8786 4.49145e-05 34.4898Z';\n\nconst PUCK_BOTTOM_PATH =\n  'M0 53.9991V73.5102C0 92.5593 26.8634 108 59.999 108C93.1363 108 120 92.5593 120 73.5102V53.9991C120 57.3879 119.149 60.6613 117.564 63.7556C110.246 78.0545 87.2438 88.4907 59.999 88.4907C32.7562 88.4907 9.75425 78.0545 2.43571 63.7556C0.848973 60.6613 0 57.3879 0 53.9991Z';\n\nconst DropShadowFilter = (\n  <filter\n    id=\"sequence-zigzag-pucks-3d-shadow-filter\"\n    x=\"-50%\"\n    y=\"-50%\"\n    width=\"200%\"\n    height=\"200%\"\n    filterUnits=\"userSpaceOnUse\"\n    colorInterpolationFilters=\"sRGB\"\n  >\n    <feOffset dx=\"-7\" dy=\"7\" in=\"SourceAlpha\" result=\"offset\" />\n    <feGaussianBlur stdDeviation=\"7.5\" in=\"offset\" result=\"blurred\" />\n    <feColorMatrix\n      in=\"blurred\"\n      type=\"matrix\"\n      values=\"0 0 0 0 0 \n              0 0 0 0 0 \n              0 0 0 0 0 \n              0 0 0 0.3 0\"\n      result=\"shadow\"\n    />\n    <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"shadow\" />\n  </filter>\n);\n\nexport interface SequenceZigzagPucks3dProps extends BaseStructureProps {\n  gap?: number;\n}\n\nexport const SequenceZigzagPucks3d: ComponentType<\n  SequenceZigzagPucks3dProps\n> = (props) => {\n  const { Title, Item, data, options, gap = 80 } = props;\n  const puckWidth = PUCK_WIDTH;\n  const puckHeight = PUCK_HEIGHT;\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n\n  if (items.length === 0) {\n    const btnAddElement = <BtnAdd indexes={[0]} x={0} y={0} />;\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Defs>{DropShadowFilter}</Defs>\n        {titleContent}\n        <Group>\n          <BtnsGroup>{btnAddElement}</BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} positionH=\"center\" />,\n  );\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const puckElements: JSXElement[] = [];\n\n  let minY = Infinity;\n  let maxY = -Infinity;\n\n  const itemHeight = itemBounds.height + ITEM_TO_PUCK_GAP + puckHeight;\n\n  items.forEach((item, index) => {\n    const indexes = [index];\n    const currentColor = getPaletteColor(options, indexes);\n\n    const isEven = index % 2 === 0;\n    const puckX = index * (puckWidth + gap);\n    const puckY = isEven ? 0 : itemBounds.height + ITEM_TO_PUCK_GAP;\n\n    minY = Math.min(minY, puckY);\n\n    const gradientId1 = `puck-gradient-middle-${index}`;\n    const gradientId2 = `puck-gradient-bottom-${index}`;\n\n    puckElements.push(\n      <Group\n        x={puckX}\n        y={puckY}\n        id={`puck-${index}`}\n        width={puckWidth}\n        height={puckHeight}\n        filter=\"url(#sequence-zigzag-pucks-3d-shadow-filter)\"\n      >\n        <Defs>\n          <linearGradient\n            id={gradientId1}\n            x1=\"115\"\n            y1=\"55.9991\"\n            x2=\"15.0002\"\n            y2=\"55.9991\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset=\"0\" stopColor={currentColor || colorPrimary} />\n            <stop\n              offset=\"1\"\n              stopColor={currentColor || colorPrimary}\n              stopOpacity=\"0.6\"\n            />\n          </linearGradient>\n          <linearGradient\n            id={gradientId2}\n            x1=\"115\"\n            y1=\"72.1803\"\n            x2=\"15.0002\"\n            y2=\"72.1803\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset=\"0\" stopColor=\"#F4F4FB\" />\n            <stop offset=\"1\" stopColor=\"#8E8C90\" />\n          </linearGradient>\n        </Defs>\n        <ShapesGroup width={PUCK_WIDTH} height={PUCK_HEIGHT}>\n          <Path d={PUCK_TOP_PATH} fill={currentColor || colorPrimary} />\n          <Path d={PUCK_MIDDLE_PATH} fill={`url(#${gradientId1})`} />\n          <Path d={PUCK_BOTTOM_PATH} fill={`url(#${gradientId2})`} />\n          <rect\n            fill=\"transparent\"\n            y={PUCK_HEIGHT}\n            width={PUCK_WIDTH}\n            height={20}\n          />\n        </ShapesGroup>\n        <text\n          x={65}\n          y={40}\n          width={50}\n          height={50}\n          fontSize={40}\n          fontWeight=\"bold\"\n          fill=\"#FFFFFF\"\n          textAnchor=\"middle\"\n          dominantBaseline=\"middle\"\n          transform=\"rotate(-15 65 40) scale(1, 0.8)\"\n        >\n          {index + 1}\n        </text>\n      </Group>,\n    );\n\n    const itemX = puckX + (puckWidth - itemBounds.width) / 2;\n    const itemY = isEven\n      ? puckY + puckHeight + ITEM_TO_PUCK_GAP\n      : puckY - ITEM_TO_PUCK_GAP - itemBounds.height;\n\n    maxY = Math.max(maxY, itemY + itemBounds.height);\n\n    itemElements.push(\n      <Item\n        indexes={indexes}\n        datum={item}\n        data={data}\n        x={itemX}\n        y={itemY}\n        positionH=\"center\"\n      />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={itemX + itemBounds.width - btnBounds.width / 2}\n        y={itemY + itemBounds.height - btnBounds.height / 2}\n      />,\n    );\n\n    if (index === 0) {\n      btnElements.push(\n        <BtnAdd\n          indexes={[0]}\n          x={\n            puckX + puckWidth / 2 - btnBounds.width / 2 - (gap + puckWidth) / 2\n          }\n          y={puckY + puckHeight / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n\n    if (index < items.length - 1) {\n      const nextIsEven = (index + 1) % 2 === 0;\n      const nextPuckY = nextIsEven ? 0 : itemHeight;\n      const btnAddX = puckX + puckWidth + gap / 2 - btnBounds.width / 2;\n      const btnAddY =\n        (puckY + puckHeight / 2 + nextPuckY + puckHeight / 2) / 2 -\n        btnBounds.height / 2;\n\n      btnElements.push(\n        <BtnAdd indexes={[index + 1]} x={btnAddX} y={btnAddY} />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={[items.length]}\n          x={puckX + puckWidth + gap / 2 - btnBounds.width / 2}\n          y={puckY + puckHeight / 2 - btnBounds.height / 2}\n        />,\n      );\n    }\n  });\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      gap={30}\n    >\n      <Defs>{DropShadowFilter}</Defs>\n      {titleContent}\n      <Group x={0} y={0}>\n        <Group>{puckElements}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-zigzag-pucks-3d', {\n  component: SequenceZigzagPucks3d,\n  composites: ['title', 'item'],\n});\n","import type { ComponentType, JSXElement } from '../../jsx';\nimport { Defs, Ellipse, getElementBounds, Group, Path } from '../../jsx';\nimport {\n  BtnAdd,\n  BtnRemove,\n  BtnsGroup,\n  ItemIcon,\n  ItemsGroup,\n  ShapesGroup,\n} from '../components';\nimport { FlexLayout } from '../layouts';\nimport { getColorPrimary, getPaletteColor, getThemeColors } from '../utils';\nimport { registerStructure } from './registry';\nimport type { BaseStructureProps } from './types';\n\n// W \nconst DX = 240;\nconst DY = 130;\nconst ITEM_TO_PATH_GAP = 105;\n// W \nconst W_PATH_W = 12;\n//  (Ellipse W/H)\nconst GLOW_W = 120; //  ()\nconst GLOW_H = 50; //  ()\nconst GLOW_OPACITY = 0.6; // \n//  Path  D \nconst DECO_PATH_1 =\n  'M132.821 50.6599L87.6795 76.8925C78.0629 82.4807 62.4238 82.4807 52.7445 76.8925L7.30824 50.6599C2.43719 47.8482 0.00459679 44.1562 0.0152907 40.472L3.17695e-05 45.6925C-0.0101404 49.378 2.42245 53.0686 7.29298 55.8803L52.7289 82.1129C62.4094 87.7011 78.0485 87.7011 87.6652 82.1129L132.806 55.8803C137.583 53.1038 139.975 49.4705 139.986 45.832L140 40.6116C139.989 44.2501 137.598 47.8834 132.821 50.6599Z';\nconst DECO_PATH_2 =\n  'M132.707 30.4224C142.386 36.0119 142.437 45.0704 132.821 50.6599L87.6795 76.8925C78.0629 82.4807 62.4238 82.4807 52.7445 76.8925L7.30825 50.6599C-2.37126 45.0717 -2.42225 36.0132 7.19414 30.4237L52.335 4.19115C61.9517 -1.39705 77.5908 -1.39705 87.2713 4.19115L132.707 30.4224Z';\n\n//  - \nconst DECO_OFFSET_X = 70 + W_PATH_W / 2;\nconst DECO_OFFSET_Y = 40 + W_PATH_W / 2;\n\nexport interface SequenceZigzagStepsProps extends BaseStructureProps {\n  dx?: number;\n  dy?: number;\n  iconSize?: number;\n}\n\n// \nconst GlowFilter = (\n  <filter\n    id=\"sequence-zigzag-glow-filter\"\n    x=\"-50%\"\n    y=\"-50%\"\n    width=\"200%\"\n    height=\"200%\"\n  >\n    <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"15\" result=\"blur\" />\n  </filter>\n);\n\nexport const SequenceZigzagSteps: ComponentType<SequenceZigzagStepsProps> = (\n  props,\n) => {\n  const { Title, Item, data, options, dx = DX, dy = DY, iconSize = 30 } = props;\n  const { title, desc, items = [] } = data;\n  const titleContent = Title ? <Title title={title} desc={desc} /> : null;\n  const colorPrimary = getColorPrimary(options);\n\n  if (items.length === 0) {\n    const btnAddElement = <BtnAdd indexes={[0]} x={0} y={0} />;\n    return (\n      <FlexLayout\n        id=\"infographic-container\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Defs>{GlowFilter}</Defs>\n        {titleContent}\n        <Group>\n          <BtnsGroup>{btnAddElement}</BtnsGroup>\n        </Group>\n      </FlexLayout>\n    );\n  }\n\n  const itemBounds = getElementBounds(\n    <Item indexes={[0]} data={data} datum={items[0]} />,\n  );\n  const btnBounds = getElementBounds(<BtnAdd indexes={[0]} />);\n\n  const btnElements: JSXElement[] = [];\n  const itemElements: JSXElement[] = [];\n  const pathElements: JSXElement[] = [];\n  const decoElements: JSXElement[] = [];\n  const iconElements: JSXElement[] = [];\n\n  let currentX = 0;\n  let currentY = 0;\n  let pathD = '';\n  let minPathY = Infinity;\n  let maxItemY = -Infinity;\n  let minDecoX = Infinity;\n  let minDecoY = Infinity;\n\n  const pathPoints: Array<{ x: number; y: number }> = [];\n\n  // Pass 1: \n  items.forEach((item, index) => {\n    const cx = currentX;\n    const cy = currentY;\n\n    pathPoints.push({ x: cx, y: cy });\n    minPathY = Math.min(minPathY, cy);\n\n    // \n    const decoX = cx - DECO_OFFSET_X;\n    const decoY = cy - DECO_OFFSET_Y;\n\n    minDecoX = Math.min(minDecoX, decoX);\n    minDecoY = Math.min(minDecoY, decoY);\n\n    const isPeak = index % 2 === 0;\n\n    if (index < items.length - 1) {\n      currentX += dx;\n      currentY = isPeak ? currentY + dy : currentY - dy;\n    }\n  });\n\n  // \n  const offsetX = Math.max(0, -minDecoX);\n  const offsetY = Math.max(0, -minDecoY);\n\n  currentX = 0;\n  currentY = 0;\n\n  // Pass 2: \n  items.forEach((item, index) => {\n    const indexes = [index];\n    const pathPoint = pathPoints[index];\n    const cx = pathPoint.x + offsetX;\n    const cy = pathPoint.y + offsetY;\n\n    const currentColor = getPaletteColor(options, indexes);\n\n    //  - \n    const decoX = Math.max(0, cx - DECO_OFFSET_X);\n    const decoY = Math.max(0, cy - DECO_OFFSET_Y);\n\n    const glowX = 10;\n    const glowY = GLOW_H + 10;\n    const { colorPrimaryBg } = getThemeColors({\n      colorPrimary: currentColor,\n    });\n\n    decoElements.push(\n      <ShapesGroup x={decoX} y={decoY} width={140} height={110}>\n        <Ellipse\n          x={glowX}\n          y={glowY}\n          width={GLOW_W}\n          height={GLOW_H}\n          fill={currentColor || colorPrimary}\n          filter=\"url(#sequence-zigzag-glow-filter)\"\n          opacity={GLOW_OPACITY}\n        />\n        <Path d={DECO_PATH_1} fill={currentColor || colorPrimary} />\n        <Path d={DECO_PATH_2} fill={'#fff'} />\n        <Path d={DECO_PATH_2} fill={colorPrimaryBg || colorPrimaryBg} />\n      </ShapesGroup>,\n    );\n\n    // Icon \n    if (item.icon) {\n      const iconX = Math.max(0, cx - iconSize / 2 - W_PATH_W / 2);\n      const iconY = Math.max(0, cy - iconSize / 2 - W_PATH_W / 2);\n\n      iconElements.push(\n        <ItemIcon\n          x={iconX}\n          y={iconY}\n          size={iconSize}\n          indexes={indexes}\n          fill={currentColor}\n        />,\n      );\n    }\n\n    // Item \n    const itemX = cx - itemBounds.width / 2 - W_PATH_W / 2;\n    const itemY = Math.max(0, cy + ITEM_TO_PATH_GAP - W_PATH_W / 2);\n\n    maxItemY = Math.max(maxItemY, itemY + itemBounds.height);\n\n    if (index === 0) {\n      pathD = `M ${cx} ${cy}`;\n    } else {\n      pathD += ` L ${cx} ${cy}`;\n    }\n\n    itemElements.push(\n      <Item indexes={indexes} datum={item} data={data} x={itemX} y={itemY} />,\n    );\n\n    btnElements.push(\n      <BtnRemove\n        indexes={indexes}\n        x={Math.max(0, itemX + itemBounds.width - btnBounds.width / 2)}\n        y={Math.max(0, itemY + itemBounds.height - btnBounds.height / 2)}\n      />,\n    );\n\n    if (index < items.length - 1) {\n      const nextPoint = pathPoints[index + 1];\n      const nextCx = nextPoint.x + offsetX;\n      const nextCy = nextPoint.y + offsetY;\n      const btnAddX = Math.max(0, cx + (nextCx - cx) / 2 - btnBounds.width / 2);\n      const btnAddY = Math.max(\n        0,\n        cy + (nextCy - cy) / 2 - btnBounds.height / 2,\n      );\n\n      btnElements.push(\n        <BtnAdd indexes={[index + 1]} x={btnAddX} y={btnAddY} />,\n      );\n    } else {\n      btnElements.push(\n        <BtnAdd\n          indexes={[items.length]}\n          x={Math.max(0, itemX + itemBounds.width + dx / 4)}\n          y={Math.max(0, itemY + itemBounds.height / 2 - btnBounds.height / 2)}\n        />,\n      );\n    }\n  });\n\n  if (pathD) {\n    const finalX = (pathPoints[pathPoints.length - 1]?.x || 0) + offsetX;\n    pathElements.push(\n      <Path\n        d={pathD}\n        stroke=\"#f3f2f1\"\n        strokeWidth={W_PATH_W}\n        fill=\"none\"\n        width={finalX}\n        height={maxItemY - Math.min(minPathY + offsetY, 0)}\n      />,\n    );\n  }\n\n  return (\n    <FlexLayout\n      id=\"infographic-container\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      gap={30}\n    >\n      <Defs>{GlowFilter}</Defs>\n      {titleContent}\n      <Group x={0} y={0}>\n        <Group>{[...pathElements, ...decoElements, ...iconElements]}</Group>\n        <ItemsGroup>{itemElements}</ItemsGroup>\n        <BtnsGroup>{btnElements}</BtnsGroup>\n      </Group>\n    </FlexLayout>\n  );\n};\n\nregisterStructure('sequence-zigzag-steps', {\n  component: SequenceZigzagSteps,\n  composites: ['title', 'item'],\n});\n","import type { ICommand, IStateManager } from '../types';\n\nexport class BatchCommand implements ICommand {\n  constructor(private commands: ICommand[]) {}\n\n  async apply(state: IStateManager) {\n    for (const command of this.commands) {\n      await command.apply(state);\n    }\n  }\n\n  async undo(state: IStateManager) {\n    for (let i = this.commands.length - 1; i >= 0; i--) {\n      await this.commands[i].undo(state);\n    }\n  }\n\n  serialize() {\n    return {\n      type: 'batch',\n      commands: this.commands.map((cmd) => cmd.serialize()),\n    };\n  }\n}\n","import type { Element, IconElement } from '../../types';\nimport {\n  getAttributes,\n  getIconAttrs,\n  getIconEntity,\n  getTextElementProps,\n  isEditableText,\n  isIconElement,\n  setAttributes,\n  updateIconElement,\n  updateTextElement,\n} from '../../utils';\nimport type {\n  ElementProps,\n  ICommand,\n  IStateManager,\n  TextProps,\n} from '../types';\n\nexport class UpdateElementCommand implements ICommand {\n  private original?: Partial<ElementProps>;\n\n  constructor(\n    private element: Element,\n    private modified: Partial<ElementProps>,\n    original?: Partial<ElementProps>,\n  ) {\n    const computedOriginal = getOriginalProps(element, modified);\n    this.original = mergeOriginalProps(computedOriginal, original);\n  }\n\n  async apply(state: IStateManager) {\n    updateElement(this.element, this.modified);\n    state.updateElement(this.element, this.modified);\n  }\n\n  async undo(state: IStateManager) {\n    if (this.original) {\n      updateElement(this.element, this.original);\n      state.updateElement(this.element, this.original);\n    }\n  }\n\n  serialize() {\n    return {\n      type: 'update-element',\n      elementId: this.element.id,\n      modified: this.modified,\n      original: this.original,\n    };\n  }\n}\n\nfunction updateElement(element: Element, props: Partial<ElementProps>) {\n  if (isEditableText(element)) {\n    updateTextElement(element, props as TextProps);\n  } else if (isIconElement(element)) {\n    updateIconElement(element as IconElement, undefined, props.attributes);\n  } else if (props.attributes) {\n    setAttributes(element, props.attributes);\n  }\n}\n\nfunction getOriginalProps(\n  element: Element,\n  modified: Partial<ElementProps>,\n): Partial<ElementProps> | undefined {\n  const modifiedAttrKeys = Object.keys(modified.attributes || {});\n  const originalAttributes = getAttributes(element, modifiedAttrKeys, false);\n\n  const assignModifiedAttributes = (attrs?: Record<string, any>) => {\n    if (!attrs) return;\n    modifiedAttrKeys.forEach((key) => {\n      if (key in attrs) originalAttributes[key] = attrs[key];\n    });\n  };\n\n  const original = {\n    ...modified,\n    attributes: originalAttributes,\n  };\n\n  if (isEditableText(element)) {\n    const { attributes } = getTextElementProps(element);\n    assignModifiedAttributes(attributes);\n  } else if (isIconElement(element)) {\n    const entity = getIconEntity(element);\n    if (!entity) return;\n    assignModifiedAttributes(getIconAttrs(element));\n  }\n  // TODO illus\n\n  return original;\n}\n\nfunction mergeOriginalProps(\n  computed: Partial<ElementProps> | undefined,\n  provided: Partial<ElementProps> | undefined,\n): Partial<ElementProps> | undefined {\n  if (!computed) return provided;\n  if (!provided) return computed;\n\n  const mergedAttributes = {\n    ...(computed.attributes || {}),\n    ...(provided.attributes || {}),\n  };\n\n  return {\n    ...computed,\n    ...provided,\n    attributes: Object.keys(mergedAttributes).length\n      ? mergedAttributes\n      : undefined,\n  };\n}\n","import type { UpdatableInfographicOptions } from '../../options';\nimport type { ICommand, IStateManager } from '../types';\n\nexport class UpdateOptionsCommand implements ICommand {\n  constructor(\n    private options: UpdatableInfographicOptions,\n    private original?: UpdatableInfographicOptions,\n  ) {}\n\n  async apply(state: IStateManager) {\n    if (!this.original) {\n      const prev = state.getOptions();\n      this.original = {};\n      (\n        Object.keys(this.options) as Array<keyof UpdatableInfographicOptions>\n      ).forEach((key) => {\n        (this.original as any)[key] = prev[key];\n      });\n    }\n    state.updateOptions(this.options);\n  }\n\n  async undo(state: IStateManager) {\n    if (this.original) {\n      state.updateOptions(this.original);\n    }\n  }\n\n  serialize() {\n    return {\n      type: 'update-options',\n      options: this.options,\n      original: this.original,\n    };\n  }\n}\n","interface ClickHandlerOptions {\n  delay?: number;\n  dragThreshold?: number;\n}\n\nexport class ClickHandler {\n  private element: SVGSVGElement;\n  private delay: number;\n  private dragThreshold: number;\n  private clickTimer: number | null = null;\n  private singleClickCallback: ((e: MouseEvent) => void) | null = null;\n  private doubleClickCallback: ((e: MouseEvent) => void) | null = null;\n  private pointerId: number | null = null;\n  private startX = 0;\n  private startY = 0;\n  private skipClick = false;\n  private dragged = false;\n\n  constructor(element: SVGSVGElement, options: ClickHandlerOptions = {}) {\n    this.element = element;\n    this.delay = options.delay || 300;\n    this.dragThreshold = options.dragThreshold ?? 4;\n    this.init();\n  }\n\n  private init(): void {\n    this.element.addEventListener('click', this.handleClick.bind(this));\n    this.element.addEventListener(\n      'dblclick',\n      this.handleDoubleClick.bind(this),\n    );\n    this.element.addEventListener('pointerdown', this.handlePointerDown);\n  }\n\n  private handleClick(e: MouseEvent): void {\n    if (this.skipClick) {\n      this.skipClick = false;\n      return;\n    }\n    if (this.clickTimer) clearTimeout(this.clickTimer);\n\n    this.clickTimer = window.setTimeout(() => {\n      this.singleClickCallback?.(e);\n    }, this.delay);\n  }\n\n  private handleDoubleClick(e: MouseEvent): void {\n    if (this.skipClick) {\n      this.skipClick = false;\n      return;\n    }\n    if (this.clickTimer) clearTimeout(this.clickTimer);\n    this.doubleClickCallback?.(e);\n  }\n\n  private handlePointerDown = (event: PointerEvent) => {\n    this.pointerId = event.pointerId;\n    this.startX = event.clientX;\n    this.startY = event.clientY;\n    this.dragged = false;\n    this.skipClick = false;\n    window.addEventListener('pointermove', this.handlePointerMove, {\n      passive: true,\n    });\n    window.addEventListener('pointerup', this.handlePointerUp, {\n      passive: true,\n    });\n    window.addEventListener('pointercancel', this.handlePointerUp, {\n      passive: true,\n    });\n  };\n\n  private handlePointerMove = (event: PointerEvent) => {\n    if (this.pointerId === null || event.pointerId !== this.pointerId) return;\n    const dx = event.clientX - this.startX;\n    const dy = event.clientY - this.startY;\n    if (Math.hypot(dx, dy) > this.dragThreshold) {\n      this.skipClick = true;\n      this.dragged = true;\n    }\n  };\n\n  private handlePointerUp = (event: PointerEvent) => {\n    if (this.pointerId !== null && event.pointerId === this.pointerId) {\n      this.pointerId = null;\n      window.removeEventListener('pointermove', this.handlePointerMove);\n      window.removeEventListener('pointerup', this.handlePointerUp);\n      window.removeEventListener('pointercancel', this.handlePointerUp);\n      // Only allow click through if we did not detect a drag.\n      if (!this.dragged) this.skipClick = false;\n      this.dragged = false;\n    }\n  };\n\n  onClick(callback: (e: MouseEvent) => void): this {\n    this.singleClickCallback = callback;\n    return this;\n  }\n\n  onDoubleClick(callback: (e: MouseEvent) => void): this {\n    this.doubleClickCallback = callback;\n    return this;\n  }\n\n  destroy(): void {\n    if (this.clickTimer) clearTimeout(this.clickTimer);\n    this.element.removeEventListener('click', this.handleClick);\n    this.element.removeEventListener('dblclick', this.handleDoubleClick);\n    this.element.removeEventListener('pointerdown', this.handlePointerDown);\n    window.removeEventListener('pointermove', this.handlePointerMove);\n    window.removeEventListener('pointerup', this.handlePointerUp);\n    window.removeEventListener('pointercancel', this.handlePointerUp);\n  }\n}\n","import type { Element } from '../../types';\n\nexport function getScreenCTM(svg: SVGSVGElement): DOMMatrix {\n  return svg.getScreenCTM() || new DOMMatrix();\n}\n\nexport function getInverseScreenCTM(svg: SVGSVGElement): DOMMatrix {\n  return svg.getScreenCTM()?.inverse() || new DOMMatrix();\n}\n\nexport function viewportToClient(\n  svg: SVGSVGElement,\n  x: number,\n  y: number,\n): DOMPoint {\n  const svgPoint = new DOMPoint(x, y).matrixTransform(getScreenCTM(svg));\n  const containerBounds = svg.getBoundingClientRect();\n  return new DOMPoint(\n    svgPoint.x - containerBounds.left,\n    svgPoint.y - containerBounds.top,\n  );\n}\n\nexport function clientToViewport(\n  svg: SVGSVGElement,\n  x: number,\n  y: number,\n): DOMPoint {\n  return new DOMPoint(x, y).matrixTransform(getInverseScreenCTM(svg));\n}\n\nexport function getElementViewportBounds(\n  svg: SVGSVGElement,\n  element: Element,\n): DOMRect {\n  const bounds = element.getBoundingClientRect();\n  const points = [\n    { x: bounds.x, y: bounds.y }, // \n    { x: bounds.x + bounds.width, y: bounds.y }, // \n    { x: bounds.x, y: bounds.y + bounds.height }, // \n    { x: bounds.x + bounds.width, y: bounds.y + bounds.height }, // \n  ];\n\n  const transformedPoints = points.map((point) => {\n    return clientToViewport(svg, point.x, point.y);\n  });\n\n  const minX = Math.min(...transformedPoints.map((p) => p.x));\n  const maxX = Math.max(...transformedPoints.map((p) => p.x));\n  const minY = Math.min(...transformedPoints.map((p) => p.y));\n  const maxY = Math.max(...transformedPoints.map((p) => p.y));\n\n  return new DOMRect(minX, minY, maxX - minX, maxY - minY);\n}\n","import type { ItemDatum, ParsedData } from '../../types';\nimport { getDatumByIndexes } from '../../utils';\n\n/**\n * \n */\nexport function getChildrenDataByIndexes(\n  data: ParsedData,\n  indexes: number[],\n): ItemDatum[] {\n  if (indexes.length === 0) return data.items;\n  const datum = getDatumByIndexes(data, indexes);\n  if (datum == null) return [];\n  datum.children ||= [];\n  return datum.children;\n}\n\n/**\n * Build lodash-style path for an item based on indexes.\n * Example: [1,2] -> data.items[1].children[2]\n */\nexport function buildItemPath(\n  indexes: number[],\n  prefix = 'data.items',\n): string {\n  return indexes.reduce(\n    (path, idx, i) =>\n      i === 0 ? `${path}[${idx}]` : `${path}.children[${idx}]`,\n    prefix,\n  );\n}\n","import type { Element } from '../../types';\nimport { getIconEntity, isIconElement } from '../../utils';\n\nexport function getIndexesFromElement(element: Element): number[] {\n  return (\n    getElementEntity(element)?.dataset.indexes?.split(',').map(Number) || []\n  );\n}\n\nfunction getElementEntity(element: Element) {\n  if (isIconElement(element)) return getIconEntity(element);\n  return element;\n}\n","import { Element, IconElement, TextElement } from '../../types';\nimport {\n  isEditArea,\n  isEditableText,\n  isForeignObjectElement,\n  isIconElement,\n  isItemIcon,\n  isItemIconGroup,\n  isRoughElement,\n  isRoughVolume,\n  isTextEntity,\n} from '../../utils';\n\nexport function getEventTarget(element: SVGElement | null): Element | null {\n  if (!element) return null;\n  const preprocess = [getRoughEventTarget];\n\n  let target = element as SVGElement;\n\n  for (const fn of preprocess) {\n    const result = fn(target);\n    if (result) {\n      target = result;\n      break;\n    }\n  }\n\n  return getSelectableTarget(target);\n}\n\nexport function getSelectableTarget(\n  element: SVGElement | null,\n): Element | null {\n  if (!element) return null;\n\n  const recognizers = [getTextEventTarget, getIconEventTarget];\n\n  for (const fn of recognizers) {\n    const result = fn(element);\n    if (result) {\n      return result;\n    }\n  }\n\n  if (isEditArea(element)) {\n    return element as unknown as Element;\n  }\n\n  if (isEditableText(element) || isIconElement(element)) {\n    return element as unknown as Element;\n  }\n\n  return null;\n}\n\nconst getRoughEventTarget = (element: SVGElement): SVGElement | null => {\n  const is = (ele: SVGElement | null) => {\n    if (!ele) return false;\n    return isRoughElement(ele) || isRoughVolume(ele);\n  };\n\n  if (is(element)) {\n    return element.parentElement as unknown as SVGElement;\n  }\n\n  if (is(element.parentElement as unknown as SVGElement)) {\n    return element.parentElement?.parentElement as unknown as SVGElement;\n  }\n\n  return null;\n};\n\nconst getTextEventTarget = (element: SVGElement): TextElement | null => {\n  if (isTextEntity(element) && isForeignObjectElement(element.parentElement)) {\n    return element.parentElement as unknown as TextElement;\n  }\n  return null;\n};\n\nconst getIconEventTarget = (element: SVGElement): IconElement | null => {\n  const parent = element.parentElement as unknown as SVGElement;\n\n  if (isItemIconGroup(parent)) {\n    return parent as unknown as IconElement;\n  }\n\n  if (isItemIcon(element)) {\n    return element as unknown as IconElement;\n  }\n\n  return null;\n};\n\nexport function isTextSelectionTarget(target: EventTarget | null) {\n  if (!(target instanceof HTMLElement)) return false;\n  if (target.isContentEditable) return true;\n  const tag = target.tagName.toLowerCase();\n  return tag === 'input' || tag === 'textarea';\n}\n","export class Extension<T> {\n  private extensions: Map<string, T> = new Map();\n\n  register(name: string, extension: T, options?: { override?: boolean }) {\n    if (!options?.override && this.extensions.has(name)) {\n      throw new Error(`Extension \"${name}\" already registered`);\n    }\n    this.extensions.set(name, extension);\n  }\n\n  get(name: string): T | undefined {\n    return this.extensions.get(name);\n  }\n\n  has(name: string): boolean {\n    return this.extensions.has(name);\n  }\n\n  getAll(): ReadonlyMap<string, T> {\n    return this.extensions;\n  }\n\n  forEach(callback: (extension: T, name: string) => void) {\n    this.extensions.forEach((extension, name) => {\n      callback(extension, name);\n    });\n  }\n\n  [Symbol.iterator]() {\n    return this.extensions.entries();\n  }\n\n  unregister(name: string): boolean {\n    return this.extensions.delete(name);\n  }\n\n  destroy() {\n    this.extensions.forEach((extension) => {\n      if (extension && typeof (extension as any).dispose === 'function') {\n        (extension as any).dispose();\n      }\n    });\n    this.extensions.clear();\n  }\n}\n","type HotkeyBinding = {\n  combos: HotkeyCombo[];\n  handler: (event: KeyboardEvent) => void;\n};\n\ntype HotkeyCombo = {\n  key: string;\n  shift?: boolean;\n  alt?: boolean;\n  ctrl?: boolean;\n  meta?: boolean;\n  mod?: boolean;\n};\n\nexport type HotkeyOptions = {\n  /**\n   *  document\n   */\n  target?: Document | HTMLElement;\n  /**\n   *  false \n   */\n  filter?: (event: KeyboardEvent) => boolean;\n};\n\nconst isEditableTarget = (target: EventTarget | null) => {\n  if (!target) return false;\n  if (!(target instanceof HTMLElement)) return false;\n\n  if (target.isContentEditable) return true;\n\n  const tagName = target.tagName.toLowerCase();\n  return tagName === 'input' || tagName === 'textarea' || tagName === 'select';\n};\n\nconst normalizeCombo = (combo: string): HotkeyCombo => {\n  const parts = combo\n    .toLowerCase()\n    .split('+')\n    .map((p) => p.trim())\n    .filter(Boolean);\n\n  const comboObj: HotkeyCombo = { key: '' };\n\n  parts.forEach((part) => {\n    if (part === 'shift') comboObj.shift = true;\n    else if (part === 'alt' || part === 'option') comboObj.alt = true;\n    else if (part === 'ctrl' || part === 'control') comboObj.ctrl = true;\n    else if (part === 'meta' || part === 'cmd' || part === 'command')\n      comboObj.meta = true;\n    else if (part === 'mod') comboObj.mod = true;\n    else comboObj.key = part;\n  });\n\n  if (!comboObj.key) {\n    throw new Error(`Invalid hotkey combo: \"${combo}\"`);\n  }\n\n  return comboObj;\n};\n\nconst matchCombo = (event: KeyboardEvent, combo: HotkeyCombo) => {\n  const key = event.key.toLowerCase();\n  if (key !== combo.key) return false;\n\n  const wantsMod = combo.mod ?? false;\n  const hasMeta = event.metaKey;\n  const hasCtrl = event.ctrlKey;\n  const hasMod = hasMeta || hasCtrl;\n  const matchesStrict = (expected: boolean | undefined, actual: boolean) =>\n    expected === undefined ? !actual : expected === actual;\n\n  if (wantsMod && !hasMod) return false;\n\n  if (wantsMod) {\n    if (!matchesStrict(combo.shift, event.shiftKey)) return false;\n    if (!matchesStrict(combo.alt, event.altKey)) return false;\n    if (combo.meta !== undefined && !matchesStrict(combo.meta, hasMeta))\n      return false;\n    if (combo.ctrl !== undefined && !matchesStrict(combo.ctrl, hasCtrl))\n      return false;\n    return true;\n  }\n\n  if (!matchesStrict(combo.meta, hasMeta)) return false;\n  if (!matchesStrict(combo.ctrl, hasCtrl)) return false;\n  if (!matchesStrict(combo.shift, event.shiftKey)) return false;\n  if (!matchesStrict(combo.alt, event.altKey)) return false;\n\n  return true;\n};\n\nexport class Hotkey {\n  private target: Document | HTMLElement;\n  private filter?: (event: KeyboardEvent) => boolean;\n  private bindings: HotkeyBinding[] = [];\n\n  constructor(options: HotkeyOptions = {}) {\n    const { target = document, filter } = options;\n    this.target = target;\n    this.filter = filter;\n\n    this.target.addEventListener('keydown', this.handleKeydown);\n  }\n\n  bind(combo: string | string[], handler: (event: KeyboardEvent) => void) {\n    const combos = Array.isArray(combo) ? combo : [combo];\n    const binding: HotkeyBinding = {\n      combos: combos.map((c) => normalizeCombo(c)),\n      handler,\n    };\n    this.bindings.push(binding);\n\n    return () => this.unbind(binding);\n  }\n\n  destroy() {\n    this.target.removeEventListener('keydown', this.handleKeydown);\n    this.bindings = [];\n  }\n\n  private unbind(binding: HotkeyBinding) {\n    this.bindings = this.bindings.filter((item) => item !== binding);\n  }\n\n  private handleKeydown: EventListener = (event) => {\n    if (!(event instanceof KeyboardEvent)) return;\n    if (event.defaultPrevented) return;\n    if (isEditableTarget(event.target)) return;\n    if (this.filter && !this.filter(event)) return;\n\n    for (const binding of this.bindings) {\n      if (binding.combos.some((combo) => matchCombo(event, combo))) {\n        binding.handler(event);\n        break;\n      }\n    }\n  };\n}\n","import { cloneDeep, get, isEqual, isPlainObject } from 'lodash-es';\n\nexport interface ApplyOptionUpdatesOptions {\n  /** Whether to notify parent paths of changes (bubbling) */\n  bubbleUp?: boolean;\n  /** Callback triggered whenever a property value changes */\n  collector?: (path: string, newVal: any, oldVal: any) => void;\n}\n\n/**\n * Recursively applies properties from 'source' to 'target' and collects changes.\n *\n * @param target - The object to be updated\n * @param source - The source object containing partial updates\n * @param basePath - Current path prefix for nested properties\n * @param options - Configuration options\n */\nexport function applyOptionUpdates(\n  target: any,\n  source: any,\n  basePath: string = '',\n  options?: ApplyOptionUpdatesOptions,\n): void {\n  const { bubbleUp = false, collector } = options ?? {};\n  // Set to store unique parent paths that need notification\n  const parentPathsToNotify = new Set<string>();\n\n  applyOptionUpdatesInternal(\n    target,\n    source,\n    basePath,\n    collector,\n    bubbleUp,\n    parentPathsToNotify,\n  );\n\n  // Bubbling notification: from the deepest parent path to the shallowest\n  if (bubbleUp && collector && parentPathsToNotify.size > 0) {\n    // Sort by path depth in descending order (deepest first)\n    const sortedPaths = Array.from(parentPathsToNotify).sort((a, b) => {\n      const depthA = a === '' ? 0 : a.split('.').length;\n      const depthB = b === '' ? 0 : b.split('.').length;\n      return depthB - depthA;\n    });\n    for (const parentPath of sortedPaths) {\n      const newVal = parentPath ? get(target, parentPath) : target;\n      // For parent paths, we provide the cloned new value.\n      // oldVal is passed as undefined as tracking branch node state is complex.\n      collector(parentPath, cloneDeep(newVal), undefined);\n    }\n  }\n}\n\nfunction applyOptionUpdatesInternal(\n  target: any,\n  source: any,\n  basePath: string,\n  collector: ((path: string, newVal: any, oldVal: any) => void) | undefined,\n  bubbleUp: boolean,\n  parentPathsToNotify: Set<string>,\n): void {\n  Object.keys(source).forEach((key) => {\n    const fullPath = basePath ? `${basePath}.${key}` : key;\n    const updateValue = source[key];\n    const oldValue = target[key];\n\n    if (updateValue === undefined) {\n      delete target[key];\n      collector?.(fullPath, undefined, oldValue);\n      if (bubbleUp) collectParentPaths(basePath, parentPathsToNotify);\n    } else if (isPlainObject(updateValue)) {\n      if (!isPlainObject(target[key])) {\n        target[key] = {};\n      }\n      applyOptionUpdatesInternal(\n        target[key],\n        updateValue,\n        fullPath,\n        collector,\n        bubbleUp,\n        parentPathsToNotify,\n      );\n    } else {\n      target[key] = updateValue;\n      if (!isEqual(updateValue, oldValue)) {\n        collector?.(fullPath, updateValue, oldValue);\n        if (bubbleUp) collectParentPaths(basePath, parentPathsToNotify);\n      }\n    }\n  });\n}\n\n/**\n * Collects all parent paths of a given path and adds them to the provided set.\n */\nfunction collectParentPaths(path: string, set: Set<string>): void {\n  if (!path) {\n    set.add(''); // Root path\n    return;\n  }\n\n  const parts = path.split('.');\n  for (let i = parts.length; i >= 0; i--) {\n    set.add(parts.slice(0, i).join('.'));\n  }\n}\n","import type { TextElement } from '../../types';\nimport { getElementRole, getTextContent, setTextContent } from '../../utils';\nimport type { ICommand, IStateManager } from '../types';\nimport { getIndexesFromElement } from '../utils';\n\nexport class UpdateTextCommand implements ICommand {\n  private originalText: string;\n  private modifiedText: string;\n\n  constructor(\n    private element: TextElement,\n    newText: string,\n    originalText?: string,\n  ) {\n    this.originalText = originalText ?? getTextContent(element);\n    this.modifiedText = newText;\n  }\n\n  async apply(state: IStateManager) {\n    if (this.originalText === this.modifiedText) return;\n    setTextContent(this.element, this.modifiedText);\n    updateItemText(state, this.element, this.modifiedText);\n  }\n\n  async undo(state: IStateManager) {\n    if (this.originalText === this.modifiedText) return;\n    setTextContent(this.element, this.originalText);\n    updateItemText(state, this.element, this.originalText);\n  }\n\n  serialize() {\n    return {\n      type: 'update-text',\n      elementId: this.element.id,\n      original: this.originalText,\n      modified: this.modifiedText,\n    };\n  }\n}\n\nfunction updateItemText(\n  state: IStateManager,\n  element: TextElement,\n  text: string,\n) {\n  const role = getElementRole(element);\n  if (role.startsWith('item-')) {\n    const key = role.replace('item-', '');\n    const indexes = getIndexesFromElement(element);\n    state.updateItemDatum(indexes, { [key]: text });\n  } else {\n    state.updateData(role, text);\n  }\n}\n","import type { IEventEmitter } from '../../types';\nimport type {\n  ICommandManager,\n  IEditor,\n  IInteraction,\n  IInteractionManager,\n  IStateManager,\n  InteractionInitOptions,\n} from '../types';\n\nexport abstract class Interaction implements IInteraction {\n  abstract name: string;\n\n  protected emitter!: IEventEmitter;\n  protected editor!: IEditor;\n  protected commander!: ICommandManager;\n  protected state!: IStateManager;\n  protected interaction!: IInteractionManager;\n\n  init(options: InteractionInitOptions) {\n    Object.assign(this, options);\n  }\n\n  abstract destroy(): void;\n}\n","import { createElement, setAttributes } from '../../utils';\nimport type { IInteraction, InteractionInitOptions, Selection } from '../types';\nimport {\n  clientToViewport,\n  getElementViewportBounds,\n  getEventTarget,\n  getSelectableTarget,\n  isTextSelectionTarget,\n} from '../utils';\nimport { Interaction } from './base';\n\ntype Rect = { x: number; y: number; width: number; height: number };\n\nexport class BrushSelect extends Interaction implements IInteraction {\n  name = 'brush-select';\n\n  private brush?: SVGRectElement;\n  private startPoint?: DOMPoint;\n  private pointerId?: number;\n  private shiftKey = false;\n  private completeInteraction?: () => void;\n  private dragging = false;\n  private dragThreshold = 4;\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n    this.editor.getDocument().addEventListener('pointerdown', this.handleStart);\n  }\n\n  destroy() {\n    this.clearBrush();\n    this.editor\n      .getDocument()\n      .removeEventListener('pointerdown', this.handleStart);\n    window.removeEventListener('pointermove', this.handleMove);\n    window.removeEventListener('pointerup', this.handleEnd);\n  }\n\n  private handleStart = (event: PointerEvent) => {\n    if (!this.interaction.isActive()) return;\n    if (event.button !== 0) return;\n    if (isTextSelectionTarget(event.target)) return;\n    if (this.hasElementAtStart(event.target)) return;\n\n    this.interaction.executeExclusiveInteraction(\n      this,\n      async () =>\n        new Promise<void>((resolve) => {\n          this.completeInteraction = resolve;\n\n          const svg = this.editor.getDocument();\n          this.startPoint = clientToViewport(svg, event.clientX, event.clientY);\n          this.pointerId = event.pointerId;\n          this.shiftKey = event.shiftKey;\n          this.dragging = false;\n\n          window.addEventListener('pointermove', this.handleMove);\n          window.addEventListener('pointerup', this.handleEnd);\n        }),\n    );\n  };\n\n  private handleMove = (event: PointerEvent) => {\n    if (event.pointerId !== this.pointerId || !this.startPoint) return;\n\n    const svg = this.editor.getDocument();\n    const current = clientToViewport(svg, event.clientX, event.clientY);\n    const dx = current.x - this.startPoint.x;\n    const dy = current.y - this.startPoint.y;\n\n    if (!this.dragging) {\n      if (Math.hypot(dx, dy) < this.dragThreshold) return;\n      this.dragging = true;\n      this.ensureBrush();\n      this.updateBrush(this.startPoint, current);\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.updateBrush(this.startPoint, current);\n  };\n\n  private handleEnd = (event: PointerEvent) => {\n    if (event.pointerId !== this.pointerId || !this.startPoint) return;\n\n    window.removeEventListener('pointermove', this.handleMove);\n    window.removeEventListener('pointerup', this.handleEnd);\n\n    let rect: Rect | null = null;\n    if (this.dragging) {\n      event.preventDefault();\n      event.stopPropagation();\n      const svg = this.editor.getDocument();\n      const endPoint = clientToViewport(svg, event.clientX, event.clientY);\n      rect = this.updateBrush(this.startPoint, endPoint);\n      this.clearBrush();\n    }\n\n    this.pointerId = undefined;\n    this.startPoint = undefined;\n    this.dragging = false;\n    const withShift = this.shiftKey;\n    this.shiftKey = false;\n\n    if (!rect) {\n      this.completeInteraction?.();\n      this.completeInteraction = undefined;\n      return;\n    }\n\n    const selection = this.collectSelection(rect);\n    this.completeInteraction?.();\n    this.completeInteraction = undefined;\n\n    if (selection.length === 0) {\n      if (!withShift) this.interaction.clearSelection();\n      return;\n    }\n\n    const mode: 'replace' | 'add' = withShift ? 'add' : 'replace';\n    this.interaction.select(selection, mode);\n  };\n\n  private ensureBrush() {\n    if (this.brush) return this.brush;\n    this.brush = this.interaction.appendTransientElement(\n      createElement<SVGRectElement>('rect', {\n        fill: 'rgba(51, 132, 245, 0.08)',\n        stroke: '#3384F5',\n        'stroke-dasharray': '4 2',\n        'stroke-width': 1,\n        'pointer-events': 'none',\n      }),\n    );\n    return this.brush;\n  }\n\n  private updateBrush(start: DOMPoint, current: DOMPoint) {\n    if (!this.brush) return null;\n\n    const x = Math.min(start.x, current.x);\n    const y = Math.min(start.y, current.y);\n    const width = Math.abs(start.x - current.x);\n    const height = Math.abs(start.y - current.y);\n\n    setAttributes(this.brush, { x, y, width, height });\n    return { x, y, width, height } as Rect;\n  }\n\n  private clearBrush() {\n    this.brush?.remove();\n    this.brush = undefined;\n  }\n\n  private collectSelection(rect: Rect): Selection {\n    const svg = this.editor.getDocument();\n\n    const candidates = Array.from(\n      svg.querySelectorAll<SVGElement>('[data-element-type]'),\n    );\n\n    const intersects = (a: Rect, b: Rect) => {\n      const ax2 = a.x + a.width;\n      const ay2 = a.y + a.height;\n      const bx2 = b.x + b.width;\n      const by2 = b.y + b.height;\n      return !(ax2 < b.x || bx2 < a.x || ay2 < b.y || by2 < a.y);\n    };\n\n    const collected = new Set<Selection[number]>();\n    return candidates.reduce<Selection>((selection, node) => {\n      const element = getSelectableTarget(node as unknown as SVGElement) as\n        | Selection[number]\n        | null;\n      if (!element || collected.has(element)) return selection;\n\n      const bounds = getElementViewportBounds(svg, element);\n      const targetRect: Rect = {\n        x: bounds.x,\n        y: bounds.y,\n        width: bounds.width,\n        height: bounds.height,\n      };\n\n      if (intersects(rect, targetRect)) {\n        selection.push(element);\n        collected.add(element);\n      }\n      return selection;\n    }, []);\n  }\n\n  private hasElementAtStart(target: EventTarget | null) {\n    if (!(target instanceof Element)) return false;\n    if (getEventTarget(target as unknown as SVGElement)) return true;\n    return Boolean(target.closest?.('[data-element-type]'));\n  }\n}\n","import { isEditingText } from '../../utils';\nimport type { IInteraction, InteractionInitOptions } from '../types';\nimport { ClickHandler, getEventTarget } from '../utils';\nimport { Interaction } from './base';\nexport class ClickSelect extends Interaction implements IInteraction {\n  name = 'click-select';\n\n  private clickHandler?: ClickHandler;\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n    const { editor, interaction } = this;\n\n    this.clickHandler = new ClickHandler(editor.getDocument(), { delay: 0 });\n\n    const handleSelect = (event: MouseEvent) => {\n      if (!interaction.isActive()) return;\n      interaction.executeExclusiveInteraction(this, async () => {\n        const target = getEventTarget(event.target as SVGElement);\n        if (isEditingText(target)) return;\n\n        if (this.shiftKey) {\n          // \n          if (target) {\n            if (interaction.isSelected(target)) {\n              interaction.select([target], 'remove');\n            } else {\n              interaction.select([target], 'add');\n            }\n          }\n        } else {\n          // \n          if (target) interaction.select([target], 'replace');\n          else interaction.clearSelection();\n        }\n      });\n    };\n\n    this.clickHandler.onClick(handleSelect);\n\n    document.addEventListener('keydown', this.onShiftKeyDown);\n    document.addEventListener('keyup', this.onShiftKeyUp);\n    document.addEventListener('keydown', this.onEscKeyDown);\n  }\n\n  destroy() {\n    this.clickHandler?.destroy();\n    document.removeEventListener('keydown', this.onShiftKeyDown);\n    document.removeEventListener('keyup', this.onShiftKeyUp);\n    document.removeEventListener('keydown', this.onEscKeyDown);\n  }\n\n  private shiftKey = false;\n\n  private onShiftKeyDown = (event: KeyboardEvent) => {\n    if (event.key === 'Shift') {\n      this.shiftKey = true;\n    }\n  };\n\n  private onShiftKeyUp = (event: KeyboardEvent) => {\n    if (event.key === 'Shift') {\n      this.shiftKey = false;\n    }\n  };\n\n  private onEscKeyDown = (event: KeyboardEvent) => {\n    if (event.key === 'Escape') {\n      this.interaction.clearSelection();\n    }\n  };\n}\n","import type { TextElement } from '../../types';\nimport {\n  getTextContent,\n  getTextEntity,\n  injectStyleOnce,\n  isEditableText,\n} from '../../utils';\nimport { UpdateTextCommand } from '../commands';\nimport type {\n  IInteraction,\n  InteractionInitOptions,\n  Selection,\n  SelectionChangePayload,\n} from '../types';\nimport { ClickHandler, getEventTarget } from '../utils';\nimport { Interaction } from './base';\n\nexport class DblClickEditText extends Interaction implements IInteraction {\n  name = 'dblclick-edit-text';\n\n  private clickHandler?: ClickHandler;\n  private detachSelectionListener?: () => void;\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n    const { editor, commander, interaction } = options;\n    this.clickHandler = new ClickHandler(editor.getDocument()).onDoubleClick(\n      (event) => {\n        if (!interaction.isActive()) return;\n\n        interaction.executeExclusiveInteraction(this, async () => {\n          const target = getEventTarget(event.target as SVGElement);\n          if (!target) return;\n          if (isEditableText(target)) {\n            interaction.select([target], 'replace');\n            const originalText = getTextContent(target);\n            const text = await new Promise<string>((resolve) => {\n              const stopListen = this.listenSelectionChange(target);\n              editText(target, {\n                cursorPosition: {\n                  clientX: event.clientX,\n                  clientY: event.clientY,\n                },\n                onBlur: resolve,\n                onCancel: resolve,\n              });\n              this.detachSelectionListener = stopListen;\n            });\n\n            commander.execute(\n              new UpdateTextCommand(target, text, originalText),\n            );\n          }\n        });\n      },\n    );\n  }\n\n  destroy() {\n    this.clickHandler?.destroy();\n    this.detachSelectionListener?.();\n  }\n\n  private listenSelectionChange(target: Selection[number]) {\n    const handler = ({ next }: SelectionChangePayload) => {\n      if (!next.includes(target)) {\n        this.detachSelectionListener?.();\n        this.detachSelectionListener = undefined;\n        const entity = getTextEntity(target as TextElement);\n        if (entity) entity.blur();\n      }\n    };\n    this.emitter.on('selection:change', handler);\n    return () => this.emitter.off('selection:change', handler);\n  }\n}\n\ntype EditTextOptions = {\n  cursorPosition?: {\n    clientX: number;\n    clientY: number;\n  };\n  onInput?: (text: string) => void;\n  onBlur?: (text: string) => void;\n  onCancel?: (text: string) => void;\n};\n\nconst EDITOR_STYLE_ID = 'infographic-inline-text-editor-style';\nconst EDITOR_BASE_CLASS = 'infographic-inline-text-editor';\n\nfunction editText(text: TextElement, options?: EditTextOptions) {\n  const entity = getTextEntity(text);\n  if (!entity) return;\n\n  ensureEditorStyles();\n  new InlineTextEditor(entity, options).start();\n}\n\nclass InlineTextEditor {\n  constructor(\n    private entity: HTMLSpanElement,\n    private options?: EditTextOptions,\n  ) {}\n\n  start() {\n    this.entity.setAttribute('contenteditable', 'true');\n    this.entity.classList.add(EDITOR_BASE_CLASS);\n    this.entity.focus();\n    this.placeCaretAtClickPosition();\n    this.attachListeners();\n  }\n\n  private attachListeners() {\n    this.entity.addEventListener('paste', this.handlePaste);\n    this.entity.addEventListener('keydown', this.handleKeydown);\n    this.entity.addEventListener('input', this.handleInput);\n    this.entity.addEventListener('blur', this.handleBlur, { once: true });\n  }\n\n  private detachListeners() {\n    this.entity.removeEventListener('paste', this.handlePaste);\n    this.entity.removeEventListener('keydown', this.handleKeydown);\n    this.entity.removeEventListener('input', this.handleInput);\n  }\n\n  private handlePaste = (event: ClipboardEvent) => {\n    if (!event.clipboardData) return;\n    event.preventDefault();\n    this.insertPlainText(event.clipboardData.getData('text/plain'));\n  };\n\n  private handleKeydown = (event: KeyboardEvent) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.insertPlainText('\\n');\n    }\n  };\n\n  private handleInput = () => {\n    this.normalizeSpanContent();\n    this.options?.onInput?.(this.getText());\n  };\n\n  private handleBlur = () => {\n    this.entity.removeAttribute('contenteditable');\n    this.entity.classList.remove(EDITOR_BASE_CLASS);\n    this.normalizeSpanContent();\n    this.options?.onBlur?.(this.getText());\n    this.detachListeners();\n  };\n\n  private insertPlainText(text: string) {\n    const selection = window.getSelection();\n    if (!selection) return;\n\n    if (!selection.rangeCount) {\n      this.placeCaretAtEnd();\n    }\n\n    const range = selection.rangeCount\n      ? selection.getRangeAt(0)\n      : document.createRange();\n    range.deleteContents();\n\n    const textNode = document.createTextNode(text);\n    range.insertNode(textNode);\n\n    range.setStartAfter(textNode);\n    range.setEndAfter(textNode);\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    // Mirror native input behavior so consumers stay in sync.\n    this.normalizeSpanContent();\n    this.options?.onInput?.(this.getText());\n  }\n\n  private normalizeSpanContent() {\n    if (\n      this.entity.childNodes.length === 1 &&\n      this.entity.firstChild?.nodeType === Node.TEXT_NODE\n    ) {\n      return;\n    }\n\n    const plainText = this.getText();\n    this.entity.textContent = plainText;\n  }\n\n  private placeCaretAtClickPosition() {\n    const selection = window.getSelection();\n    if (!selection) return;\n\n    const rangeFromPoint = this.getRangeFromPoint();\n    if (rangeFromPoint) {\n      selection.removeAllRanges();\n      selection.addRange(rangeFromPoint);\n      return;\n    }\n\n    this.placeCaretAtEnd();\n  }\n\n  private getRangeFromPoint(): Range | null {\n    const { cursorPosition } = this.options || {};\n    if (!cursorPosition) return null;\n\n    const { clientX, clientY } = cursorPosition;\n    const doc = document as any;\n    const rangeFromPoint: Range | null =\n      doc.caretRangeFromPoint?.(clientX, clientY) ??\n      (() => {\n        const caretPosition = doc.caretPositionFromPoint?.(clientX, clientY);\n        if (!caretPosition) return null;\n        const caretRange = document.createRange();\n        caretRange.setStart(caretPosition.offsetNode, caretPosition.offset);\n        caretRange.collapse(true);\n        return caretRange;\n      })();\n\n    if (!rangeFromPoint) return null;\n    if (!this.entity.contains(rangeFromPoint.startContainer)) return null;\n    return rangeFromPoint;\n  }\n\n  private placeCaretAtEnd() {\n    const selection = window.getSelection();\n    if (!selection) return;\n\n    const range = document.createRange();\n    range.selectNodeContents(this.entity);\n    range.collapse(false);\n\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n\n  private getText() {\n    return this.entity.textContent || '';\n  }\n}\n\nfunction ensureEditorStyles() {\n  injectStyleOnce(\n    EDITOR_STYLE_ID,\n    `\n.${EDITOR_BASE_CLASS} {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  background-color: transparent;\n  outline: none;\n  cursor: text;\n}\n.${EDITOR_BASE_CLASS}::selection {\n  background-color: #b3d4fc;\n}\n`,\n  );\n}\n","import { getViewBox, viewBoxToString } from '../../utils';\nimport { UpdateOptionsCommand } from '../commands';\nimport { IInteraction, InteractionInitOptions, KeyCode } from '../types';\nimport { clientToViewport, isTextSelectionTarget } from '../utils';\nimport { Interaction } from './base';\n\ntype CursorType = 'grab' | 'grabbing' | 'default';\nexport interface DragCanvasOptions {\n  trigger?: KeyCode[];\n}\n\nexport class DragCanvas extends Interaction implements IInteraction {\n  name = 'drag-canvas';\n\n  /**\n   * \n   *  KeyboardEvent.code \n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code/code_values\n   * @default ['Space']\n   */\n  public trigger: KeyCode[] = ['Space'];\n\n  constructor(options?: DragCanvasOptions) {\n    super();\n    if (options?.trigger) {\n      this.trigger = options.trigger;\n    }\n  }\n\n  private isTriggerPressed = false;\n\n  private pointerId?: number;\n  private startPoint?: DOMPoint;\n\n  private document!: SVGSVGElement;\n\n  private startViewBoxString?: string;\n\n  private completeInteraction?: () => void;\n\n  // \n  private isHovering = false;\n\n  init(options: InteractionInitOptions): void {\n    super.init(options);\n    this.document = this.editor.getDocument();\n\n    this.document.addEventListener('mouseenter', this.onMouseEnter);\n    this.document.addEventListener('mouseleave', this.onMouseLeave);\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('blur', this.handleBlur);\n  }\n\n  destroy(): void {\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n\n    this.document.removeEventListener('pointerdown', this.handlePointerDown);\n    window.removeEventListener('pointermove', this.handlePointerMove);\n    window.removeEventListener('pointerup', this.handlePointerUp);\n    window.removeEventListener('pointercancel', this.handlePointerUp);\n\n    window.removeEventListener('blur', this.handleBlur);\n    this.document.removeEventListener('mouseenter', this.onMouseEnter);\n    this.document.removeEventListener('mouseleave', this.onMouseLeave);\n  }\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    if (!this.interaction.isActive()) return;\n    if (isTextSelectionTarget(event.target)) return;\n\n    // preventDefault\n    const target = event.target as Element;\n    const isBody =\n      target === document.body || target === document.documentElement;\n    const isEditor = target === this.document || this.document.contains(target);\n    if (!isBody && !isEditor) return;\n\n    if (!this.trigger.includes(event.code)) return;\n    if (!this.isHovering && !this.isTriggerPressed) return;\n    event.preventDefault();\n    event.stopPropagation();\n    this.interaction.executeExclusiveInteraction(\n      this,\n      async () =>\n        new Promise<void>((resolve) => {\n          this.completeInteraction = resolve;\n\n          this.isTriggerPressed = true;\n          const viewBox = getViewBox(this.document);\n\n          this.startViewBoxString = viewBoxToString(viewBox);\n          this.setCursor('grab');\n\n          this.document.addEventListener('pointerdown', this.handlePointerDown);\n          window.addEventListener('keyup', this.handleKeyUp);\n        }),\n    );\n  };\n\n  private handlePointerDown = (event: PointerEvent) => {\n    if (event.button !== 0) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    const svg = this.document;\n    this.startPoint = clientToViewport(svg, event.clientX, event.clientY);\n    this.pointerId = event.pointerId;\n\n    this.setCursor('grabbing');\n\n    window.addEventListener('pointermove', this.handlePointerMove);\n    window.addEventListener('pointerup', this.handlePointerUp);\n    window.addEventListener('pointercancel', this.handlePointerUp);\n  };\n\n  private handlePointerMove = (event: PointerEvent) => {\n    if (event.pointerId !== this.pointerId || !this.startPoint) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    const svg = this.document;\n    const current = clientToViewport(svg, event.clientX, event.clientY);\n    const dx = current.x - this.startPoint.x;\n    const dy = current.y - this.startPoint.y;\n\n    const viewBox = getViewBox(svg);\n\n    const { x, y, width, height } = viewBox;\n\n    const newX = x - dx;\n    const newY = y - dy;\n\n    this.state.updateOptions({\n      viewBox: viewBoxToString({ x: newX, y: newY, width, height }),\n    });\n  };\n\n  private handlePointerUp = (event: PointerEvent) => {\n    if (event.pointerId !== this.pointerId) return;\n\n    this.startPoint = undefined;\n    this.pointerId = undefined;\n    this.setCursor('grab');\n    window.removeEventListener('pointermove', this.handlePointerMove);\n    window.removeEventListener('pointerup', this.handlePointerUp);\n    window.removeEventListener('pointercancel', this.handlePointerUp);\n  };\n\n  private handleKeyUp = (event: KeyboardEvent) => {\n    if (!this.trigger.includes(event.code)) return;\n    this.stopDrag();\n  };\n\n  private stopDrag = () => {\n    if (this.startViewBoxString) {\n      const svg = this.document;\n      const viewBox = getViewBox(svg);\n      const currentViewBoxString = viewBoxToString(viewBox);\n\n      if (this.startViewBoxString !== currentViewBoxString) {\n        const command = new UpdateOptionsCommand(\n          { viewBox: currentViewBoxString },\n          { viewBox: this.startViewBoxString },\n        );\n        void this.commander.execute(command);\n      }\n    }\n    this.startViewBoxString = undefined;\n\n    this.isTriggerPressed = false;\n\n    this.setCursor('default');\n\n    this.startPoint = undefined;\n    this.pointerId = undefined;\n\n    window.removeEventListener('keyup', this.handleKeyUp);\n\n    this.document.removeEventListener('pointerdown', this.handlePointerDown);\n    window.removeEventListener('pointermove', this.handlePointerMove);\n    window.removeEventListener('pointerup', this.handlePointerUp);\n    window.removeEventListener('pointercancel', this.handlePointerUp);\n\n    this.completeInteraction?.();\n    this.completeInteraction = undefined;\n  };\n\n  private setCursor = (behavior: CursorType) => {\n    document.body.style.cursor = behavior;\n  };\n\n  private handleBlur = () => {\n    this.stopDrag();\n  };\n\n  private onMouseEnter = () => {\n    this.isHovering = true;\n  };\n  private onMouseLeave = () => {\n    this.isHovering = false;\n  };\n}\n","import type { Bounds } from '../../jsx/types/bounds';\nimport { getCombinedBounds } from '../../jsx/utils/bounds';\nimport type { Element } from '../../types';\nimport {\n  createElement,\n  getAttributes,\n  isEditableText,\n  isEditingText,\n  setAttributes,\n} from '../../utils';\nimport { UpdateElementCommand } from '../commands';\nimport type { IInteraction, InteractionInitOptions, Selection } from '../types';\nimport {\n  clientToViewport,\n  getElementViewportBounds,\n  getEventTarget,\n} from '../utils';\nimport { Interaction } from './base';\n\ntype DragMode = 'attr' | 'transform';\n\ntype DragItem = {\n  element: Selection[number];\n  mode: DragMode;\n  startX: number;\n  startY: number;\n  hasX: boolean;\n  hasY: boolean;\n  hasDataX: boolean;\n  hasDataY: boolean;\n  restTransform?: string;\n  originalTransform?: string | null;\n};\n\ntype SnapOffset = { offset: number; at: number };\ntype SnapResult = {\n  dx: number;\n  dy: number;\n  snapX?: SnapOffset;\n  snapY?: SnapOffset;\n};\ntype GuideCandidates = { vertical: number[]; horizontal: number[] };\n\nexport class DragElement extends Interaction implements IInteraction {\n  name = 'drag-element';\n\n  private pointerId?: number;\n  private startPoint?: DOMPoint;\n  private startTarget?: Selection[number];\n  private selectionForDrag: Selection = [];\n  private willReplaceSelection = false;\n  private exclusiveStarted = false;\n  private dragItems: DragItem[] = [];\n  private dragging = false;\n  private dragThreshold = 4;\n  private completeInteraction?: () => void;\n  private guideCandidates?: GuideCandidates;\n  private startBounds?: Bounds;\n  private guideVertical?: SVGLineElement;\n  private guideHorizontal?: SVGLineElement;\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n    this.editor.getDocument().addEventListener('pointerdown', this.handleStart);\n  }\n\n  destroy() {\n    this.detachPointerListeners();\n    this.editor\n      .getDocument()\n      .removeEventListener('pointerdown', this.handleStart);\n  }\n\n  private handleStart = (event: PointerEvent) => {\n    if (!this.interaction.isActive()) return;\n    if (event.pointerType === 'mouse' && event.button !== 0) return;\n\n    const target = getEventTarget(event.target as SVGElement);\n    if (!target) return;\n    if (isEditingText(target)) return;\n\n    const svg = this.editor.getDocument();\n    this.pointerId = event.pointerId;\n    this.startPoint = clientToViewport(svg, event.clientX, event.clientY);\n    this.dragging = false;\n    this.startTarget = target;\n    const isSelected = this.interaction.isSelected(target);\n    this.selectionForDrag = isSelected\n      ? this.interaction.getSelection()\n      : [target];\n    this.willReplaceSelection = !isSelected;\n    this.exclusiveStarted = false;\n    this.startBounds = this.getSelectionBounds(this.selectionForDrag);\n    this.guideCandidates = this.collectGuideCandidates(this.selectionForDrag);\n\n    window.addEventListener('pointermove', this.handleMove);\n    window.addEventListener('pointerup', this.handleEnd);\n    window.addEventListener('pointercancel', this.handleEnd);\n  };\n\n  private handleMove = (event: PointerEvent) => {\n    if (event.pointerId !== this.pointerId || !this.startPoint) return;\n\n    const svg = this.editor.getDocument();\n    const current = clientToViewport(svg, event.clientX, event.clientY);\n    const dx = current.x - this.startPoint.x;\n    const dy = current.y - this.startPoint.y;\n\n    if (!this.dragging) {\n      if (Math.hypot(dx, dy) < this.dragThreshold) return;\n      if (!this.startDrag()) {\n        this.reset();\n        return;\n      }\n      this.dragging = true;\n    }\n\n    const altKey = event.altKey;\n    const snap: SnapResult = !altKey\n      ? this.getSnappedDelta(dx, dy)\n      : { dx, dy };\n\n    event.preventDefault();\n    event.stopPropagation();\n    this.updateGuides(snap);\n    this.applyTranslation(snap.dx, snap.dy);\n    this.emitGeometryChange();\n  };\n\n  private handleEnd = (event: PointerEvent) => {\n    if (event.pointerId !== this.pointerId || !this.startPoint) return;\n\n    this.detachPointerListeners();\n\n    const svg = this.editor.getDocument();\n    const endPoint = clientToViewport(svg, event.clientX, event.clientY);\n    const dx = endPoint.x - this.startPoint.x;\n    const dy = endPoint.y - this.startPoint.y;\n    const moved = this.dragging || Math.hypot(dx, dy) >= this.dragThreshold;\n\n    if (moved && this.dragItems.length && this.exclusiveStarted) {\n      event.preventDefault();\n      event.stopPropagation();\n      const snap: SnapResult = event.altKey\n        ? { dx, dy }\n        : this.getSnappedDelta(dx, dy);\n      this.updateGuides(snap);\n      this.applyTranslation(snap.dx, snap.dy);\n      this.commitTranslation(snap.dx, snap.dy);\n      this.emitGeometryChange();\n    }\n\n    this.reset();\n  };\n\n  private startDrag() {\n    if (this.exclusiveStarted) return true;\n    if (!this.startTarget) return false;\n\n    this.dragItems = this.selectionForDrag\n      .filter((element) => isEditableText(element))\n      .map((element) => this.createDragItem(element))\n      .filter(Boolean) as DragItem[];\n\n    if (this.dragItems.length === 0) return false;\n\n    let started = false;\n    this.interaction.executeExclusiveInteraction(\n      this,\n      async () =>\n        new Promise<void>((resolve) => {\n          // \n          if (this.willReplaceSelection && this.startTarget) {\n            this.interaction.select([this.startTarget], 'replace');\n          }\n\n          this.completeInteraction = resolve;\n          started = true;\n        }),\n    );\n    this.exclusiveStarted = started;\n    return started;\n  }\n\n  private applyTranslation(dx: number, dy: number) {\n    this.dragItems.forEach((item) => {\n      if (item.mode === 'attr') {\n        const x = item.startX + dx;\n        const y = item.startY + dy;\n        const attrs: Record<string, any> = { x, y };\n        if (item.hasDataX) attrs['data-x'] = x;\n        if (item.hasDataY) attrs['data-y'] = y;\n        setAttributes(item.element, attrs);\n      } else {\n        const transform = this.composeTransform(\n          item.startX + dx,\n          item.startY + dy,\n          item.restTransform,\n        );\n        setAttributes(item.element, { transform });\n      }\n    });\n  }\n\n  private commitTranslation(dx: number, dy: number) {\n    if (Math.abs(dx) < 1e-6 && Math.abs(dy) < 1e-6) return;\n\n    const commands = this.dragItems.map((item) => {\n      if (item.mode === 'attr') {\n        const x = item.startX + dx;\n        const y = item.startY + dy;\n        const modifiedAttrs: Record<string, any> = { x, y };\n        const originalAttrs: Record<string, any> = {};\n\n        if (item.hasX) {\n          originalAttrs.x = item.startX;\n        } else {\n          originalAttrs.x = null;\n        }\n\n        if (item.hasY) {\n          originalAttrs.y = item.startY;\n        } else {\n          originalAttrs.y = null;\n        }\n\n        if (item.hasDataX) {\n          modifiedAttrs['data-x'] = x;\n          originalAttrs['data-x'] = item.startX;\n        }\n\n        if (item.hasDataY) {\n          modifiedAttrs['data-y'] = y;\n          originalAttrs['data-y'] = item.startY;\n        }\n\n        return new UpdateElementCommand(\n          item.element,\n          { attributes: modifiedAttrs },\n          { attributes: originalAttrs },\n        );\n      }\n\n      const transform = this.composeTransform(\n        item.startX + dx,\n        item.startY + dy,\n        item.restTransform,\n      );\n      const originalTransform =\n        item.originalTransform !== undefined ? item.originalTransform : null;\n      return new UpdateElementCommand(\n        item.element,\n        { attributes: { transform } },\n        { attributes: { transform: originalTransform } },\n      );\n    });\n\n    if (commands.length) {\n      this.commander.executeBatch(commands);\n    }\n  }\n\n  private createDragItem(element: Selection[number]): DragItem | null {\n    const transformInfo = this.getTransformInfo(element as SVGElement);\n    if (transformInfo) {\n      return {\n        element,\n        mode: 'transform',\n        startX: transformInfo.x,\n        startY: transformInfo.y,\n        hasX: false,\n        hasY: false,\n        hasDataX: false,\n        hasDataY: false,\n        restTransform: transformInfo.rest,\n        originalTransform: transformInfo.original,\n      };\n    }\n\n    const { x, y, hasX, hasY, hasDataX, hasDataY } = this.getAttrInfo(element);\n    return {\n      element,\n      mode: 'attr',\n      startX: x,\n      startY: y,\n      hasX,\n      hasY,\n      hasDataX,\n      hasDataY,\n    };\n  }\n\n  private getAttrInfo(element: Element) {\n    const svg = this.editor.getDocument();\n    const { x: bx, y: by } = getElementViewportBounds(svg, element);\n    const attrs = getAttributes(element, ['x', 'y', 'data-x', 'data-y'], false);\n    const hasX = attrs.x !== null && attrs.x !== undefined;\n    const hasY = attrs.y !== null && attrs.y !== undefined;\n    const hasDataX = attrs['data-x'] !== null && attrs['data-x'] !== undefined;\n    const hasDataY = attrs['data-y'] !== null && attrs['data-y'] !== undefined;\n\n    const parseNumber = (\n      value: string | null | undefined,\n      fallback: number,\n    ) => {\n      const num = value !== null && value !== undefined ? Number(value) : NaN;\n      return Number.isFinite(num) ? num : fallback;\n    };\n\n    const xFromAttr = parseNumber(attrs.x, NaN);\n    const yFromAttr = parseNumber(attrs.y, NaN);\n    const xFromData = parseNumber(attrs['data-x'], NaN);\n    const yFromData = parseNumber(attrs['data-y'], NaN);\n    const x = Number.isFinite(xFromAttr)\n      ? xFromAttr\n      : Number.isFinite(xFromData)\n        ? xFromData\n        : bx;\n    const y = Number.isFinite(yFromAttr)\n      ? yFromAttr\n      : Number.isFinite(yFromData)\n        ? yFromData\n        : by;\n\n    return { x, y, hasX, hasY, hasDataX, hasDataY };\n  }\n\n  private getTransformInfo(element: SVGElement) {\n    const transform = element.getAttribute('transform');\n    if (transform === null) return null;\n\n    const match = transform.match(\n      /translate\\(\\s*([-\\d.]+)(?:[ ,]\\s*([-\\d.]+))?\\s*\\)/i,\n    );\n    if (!match) {\n      return { x: 0, y: 0, rest: transform, original: transform };\n    }\n\n    const x = Number(match[1]) || 0;\n    const y = match[2] !== undefined ? Number(match[2]) || 0 : 0;\n    const rest = transform.replace(match[0], '').trim();\n    return { x, y, rest, original: transform };\n  }\n\n  private composeTransform(x: number, y: number, rest?: string) {\n    const translate = `translate(${x}, ${y})`;\n    return rest && rest.length ? `${translate} ${rest}` : translate;\n  }\n\n  private emitGeometryChange() {\n    const target = this.dragItems[0]?.element;\n    if (!target) return;\n    const rect = getElementViewportBounds(this.editor.getDocument(), target);\n    this.emitter.emit('selection:geometrychange', {\n      type: 'selection:geometrychange',\n      target,\n      rect,\n    });\n  }\n\n  private detachPointerListeners() {\n    window.removeEventListener('pointermove', this.handleMove);\n    window.removeEventListener('pointerup', this.handleEnd);\n    window.removeEventListener('pointercancel', this.handleEnd);\n  }\n\n  private reset() {\n    this.detachPointerListeners();\n    this.clearGuides();\n    this.pointerId = undefined;\n    this.startPoint = undefined;\n    this.dragItems = [];\n    this.startTarget = undefined;\n    this.selectionForDrag = [];\n    this.willReplaceSelection = false;\n    this.exclusiveStarted = false;\n    this.dragging = false;\n    this.startBounds = undefined;\n    this.guideCandidates = undefined;\n    this.completeInteraction?.();\n    this.completeInteraction = undefined;\n  }\n\n  private getSelectionBounds(\n    selection: Selection,\n  ): { x: number; y: number; width: number; height: number } | undefined {\n    if (!selection.length) return undefined;\n    const svg = this.editor.getDocument();\n    const rects = selection.map((el) => getElementViewportBounds(svg, el));\n    return getCombinedBounds(rects);\n  }\n\n  private collectGuideCandidates(selection: Selection) {\n    const svg = this.editor.getDocument();\n    const skip = new Set(selection);\n    const elements = Array.from(\n      svg.querySelectorAll<SVGGraphicsElement | SVGForeignObjectElement>(\n        '[data-element-type]',\n      ),\n    ).filter((el) => !skip.has(el as unknown as Selection[number]));\n\n    const vertical: number[] = [];\n    const horizontal: number[] = [];\n    elements.forEach((el) => {\n      const { x, y, width, height } = getElementViewportBounds(\n        svg,\n        el as unknown as Selection[number],\n      );\n      vertical.push(x, x + width / 2, x + width);\n      horizontal.push(y, y + height / 2, y + height);\n    });\n    return { vertical, horizontal };\n  }\n\n  private getSnappedDelta(dx: number, dy: number): SnapResult {\n    if (!this.startBounds || !this.guideCandidates) return { dx, dy };\n\n    const moving = {\n      x: this.startBounds.x + dx,\n      y: this.startBounds.y + dy,\n      width: this.startBounds.width,\n      height: this.startBounds.height,\n    };\n\n    const snapX = this.getSnapOffset(\n      [moving.x, moving.x + moving.width / 2, moving.x + moving.width],\n      this.guideCandidates.vertical,\n    );\n    const snapY = this.getSnapOffset(\n      [moving.y, moving.y + moving.height / 2, moving.y + moving.height],\n      this.guideCandidates.horizontal,\n    );\n\n    return {\n      dx: dx + (snapX?.offset || 0),\n      dy: dy + (snapY?.offset || 0),\n      snapX,\n      snapY,\n    };\n  }\n\n  private getSnapOffset(\n    points: number[],\n    candidates: number[],\n    threshold = 5,\n  ): SnapOffset | undefined {\n    let best: SnapOffset | null = null;\n    points.forEach((point) => {\n      candidates.forEach((c) => {\n        const delta = c - point;\n        if (Math.abs(delta) <= threshold) {\n          if (!best || Math.abs(delta) < Math.abs(best.offset)) {\n            best = { offset: delta, at: c };\n          }\n        }\n      });\n    });\n    return best || undefined;\n  }\n\n  private ensureGuideLine(\n    orientation: 'vertical' | 'horizontal',\n  ): SVGLineElement {\n    const existing =\n      orientation === 'vertical' ? this.guideVertical : this.guideHorizontal;\n    if (existing) return existing;\n    const line = this.interaction.appendTransientElement(\n      createElement<SVGLineElement>('line', {\n        stroke: '#FF7A45',\n        'stroke-width': 1,\n        'stroke-dasharray': '4 4',\n        'pointer-events': 'none',\n        visibility: 'hidden',\n      }),\n    );\n    if (orientation === 'vertical') this.guideVertical = line;\n    else this.guideHorizontal = line;\n    return line;\n  }\n\n  private updateGuides(snap: SnapResult) {\n    const svg = this.editor.getDocument();\n    const { width, height } = svg.viewBox.baseVal;\n    if (snap.snapX) {\n      const line = this.ensureGuideLine('vertical');\n      setAttributes(line, {\n        x1: snap.snapX.at,\n        y1: 0,\n        x2: snap.snapX.at,\n        y2: height,\n        visibility: 'visible',\n      });\n    } else if (this.guideVertical) {\n      this.guideVertical.setAttribute('visibility', 'hidden');\n    }\n\n    if (snap.snapY) {\n      const line = this.ensureGuideLine('horizontal');\n      setAttributes(line, {\n        x1: 0,\n        y1: snap.snapY.at,\n        x2: width,\n        y2: snap.snapY.at,\n        visibility: 'visible',\n      });\n    } else if (this.guideHorizontal) {\n      this.guideHorizontal.setAttribute('visibility', 'hidden');\n    }\n  }\n\n  private clearGuides() {\n    this.guideVertical?.remove();\n    this.guideHorizontal?.remove();\n    this.guideVertical = undefined;\n    this.guideHorizontal = undefined;\n  }\n}\n","import type { IInteraction, InteractionInitOptions } from '../types';\nimport { Hotkey } from '../utils';\nimport { Interaction } from './base';\n\nexport class HotkeyHistory extends Interaction implements IInteraction {\n  name = 'hotkey-history';\n\n  private hotkey?: Hotkey;\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n\n    this.hotkey = new Hotkey({\n      filter: () => this.interaction.isActive(),\n    });\n\n    this.hotkey.bind('mod+z', this.handleUndo);\n    this.hotkey.bind(['mod+shift+z', 'mod+y'], this.handleRedo);\n  }\n\n  destroy() {\n    this.hotkey?.destroy();\n  }\n\n  private handleUndo = async (event: KeyboardEvent) => {\n    event.preventDefault();\n    await this.commander.undo();\n  };\n\n  private handleRedo = async (event: KeyboardEvent) => {\n    event.preventDefault();\n    await this.commander.redo();\n  };\n}\n","import { getCombinedBounds } from '../../jsx/utils/bounds';\nimport { createElement, isEditableText, setAttributes } from '../../utils';\nimport type { IInteraction, InteractionInitOptions, Selection } from '../types';\nimport { getElementViewportBounds } from '../utils';\nimport { Interaction } from './base';\n\ntype SelectionChangePayload = {\n  previous: Selection;\n  next: Selection;\n  added: Selection;\n  removed: Selection;\n  mode: 'replace' | 'add' | 'remove' | 'toggle';\n};\n\ntype SelectionGeometryChangePayload = {\n  type: 'selection:geometrychange';\n  target: Selection[number];\n  rect: { x: number; y: number; width: number; height: number };\n};\n\nexport class SelectHighlight extends Interaction implements IInteraction {\n  name = 'select-highlight';\n\n  private highlightMasks: SVGRectElement[] = [];\n  private combinedBoundsMask?: SVGRectElement;\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n    const { emitter } = options;\n    emitter.on('selection:change', this.handleSelectionChanged);\n    emitter.on('selection:geometrychange', this.handleGeometryChanged);\n    emitter.on('history:change', this.handleHistoryChanged);\n    this.highlightSelection(this.interaction.getSelection());\n  }\n\n  destroy() {\n    this.clearMasks();\n    const { emitter } = this;\n    emitter.off('selection:change', this.handleSelectionChanged);\n    emitter.off('selection:geometrychange', this.handleGeometryChanged);\n    emitter.off('history:change', this.handleHistoryChanged);\n  }\n\n  private handleSelectionChanged = ({ next }: SelectionChangePayload) => {\n    this.highlightSelection(next);\n  };\n\n  private handleGeometryChanged = ({\n    target,\n  }: SelectionGeometryChangePayload) => {\n    if (this.interaction.isSelected(target)) {\n      this.highlightSelection(this.interaction.getSelection());\n    }\n  };\n\n  private handleHistoryChanged = () => {\n    this.highlightSelection(this.interaction.getSelection());\n  };\n\n  private highlightSelection(selection: Selection) {\n    if (selection.length === 1 && isEditableText(selection[0])) {\n      this.clearMasks();\n      return;\n    }\n\n    this.drawElementMasks(selection);\n    this.drawCombinedBoundsMask(selection);\n  }\n\n  private drawElementMasks(selection: Selection) {\n    let index = 0;\n    for (; index < selection.length; index++) {\n      const { x, y, width, height } = getElementViewportBounds(\n        this.editor.getDocument(),\n        selection[index],\n      );\n      const attrs = {\n        x,\n        y,\n        width,\n        height,\n        fill: 'none',\n        stroke: '#3384F5',\n        'stroke-width': 1,\n        'pointer-events': 'none',\n      };\n\n      const mask = this.highlightMasks[index];\n      if (mask) {\n        setAttributes(mask, attrs);\n      } else {\n        this.highlightMasks[index] = this.interaction.appendTransientElement(\n          createElement<SVGRectElement>('rect', attrs),\n        );\n      }\n    }\n\n    for (; index < this.highlightMasks.length; index++) {\n      this.highlightMasks[index].remove();\n    }\n    this.highlightMasks = this.highlightMasks.slice(0, selection.length);\n  }\n\n  private drawCombinedBoundsMask(selection: Selection) {\n    if (selection.length < 2) {\n      this.combinedBoundsMask?.remove();\n      this.combinedBoundsMask = undefined;\n      return;\n    }\n\n    const bounds = getCombinedBounds(\n      selection.map((element) =>\n        getElementViewportBounds(this.editor.getDocument(), element),\n      ),\n    );\n\n    const attrs = {\n      ...bounds,\n      fill: 'none',\n      stroke: '#3384F5',\n      'stroke-width': 2,\n      'pointer-events': 'none',\n    };\n\n    if (this.combinedBoundsMask) {\n      setAttributes(this.combinedBoundsMask, attrs);\n    } else {\n      this.combinedBoundsMask = this.interaction.appendTransientElement(\n        createElement<SVGRectElement>('rect', attrs),\n      );\n    }\n  }\n\n  private clearMasks() {\n    this.highlightMasks.forEach((mask) => mask.remove());\n    this.highlightMasks = [];\n    this.combinedBoundsMask?.remove();\n    this.combinedBoundsMask = undefined;\n  }\n}\n","import { inRange } from 'lodash-es';\nimport {\n  calculateZoomedViewBox,\n  getViewBox,\n  viewBoxToString,\n} from '../../utils/viewbox';\nimport { UpdateOptionsCommand } from '../commands';\nimport type { IInteraction, InteractionInitOptions } from '../types';\nimport { clientToViewport } from '../utils';\nimport { Interaction } from './base';\n\nexport interface ZoomWheelOptions {\n  minViewBoxSize?: number;\n  maxViewBoxSize?: number;\n}\n\nconst ZOOM_FACTOR = 1.1;\n\nexport class ZoomWheel extends Interaction implements IInteraction {\n  name = 'zoom-wheel';\n  private minViewBoxSize = 20;\n  private maxViewBoxSize = 20000;\n\n  constructor(options?: ZoomWheelOptions) {\n    super();\n    if (options?.minViewBoxSize !== undefined) {\n      this.minViewBoxSize = options.minViewBoxSize;\n    }\n    if (options?.maxViewBoxSize !== undefined) {\n      this.maxViewBoxSize = options.maxViewBoxSize;\n    }\n  }\n\n  private initialViewBox: string | null = null;\n\n  private handleKeyUp = (event: KeyboardEvent) => {\n    const isZoomModifierHeld = event.ctrlKey || event.metaKey || event.shiftKey;\n\n    if (!isZoomModifierHeld && this.initialViewBox) {\n      const currentViewBox = viewBoxToString(\n        getViewBox(this.editor.getDocument()),\n      );\n\n      if (currentViewBox !== this.initialViewBox) {\n        const command = new UpdateOptionsCommand(\n          { viewBox: currentViewBox },\n          { viewBox: this.initialViewBox },\n        );\n        void this.commander.execute(command);\n      }\n\n      this.initialViewBox = null;\n      document.removeEventListener('keyup', this.handleKeyUp);\n    }\n  };\n\n  private wheelListener = (event: WheelEvent) => {\n    if (!this.shouldZoom(event)) return;\n    event.preventDefault();\n\n    // Standard Zoom: Scroll Up (deltaY < 0) = Zoom In\n    const isZoomIn = event.deltaY < 0;\n    const factor = isZoomIn ? 1 / ZOOM_FACTOR : ZOOM_FACTOR;\n\n    const svg = this.editor.getDocument();\n    const viewBox = getViewBox(svg);\n    const { width, height } = viewBox;\n\n    const newWidth = width * factor;\n    const newHeight = height * factor;\n\n    if (\n      !inRange(newWidth, this.minViewBoxSize, this.maxViewBoxSize) ||\n      !inRange(newHeight, this.minViewBoxSize, this.maxViewBoxSize)\n    )\n      return;\n\n    if (this.initialViewBox === null) {\n      this.initialViewBox = viewBoxToString(viewBox);\n      document.addEventListener('keyup', this.handleKeyUp);\n    }\n\n    const pivot =\n      (event.ctrlKey || event.metaKey) && !event.shiftKey\n        ? this.getMousePoint(svg, event)\n        : this.getCenterPoint(viewBox);\n\n    const newViewBox = calculateZoomedViewBox(viewBox, factor, pivot);\n\n    this.state.updateOptions({\n      viewBox: viewBoxToString(newViewBox),\n    });\n  };\n\n  private getMousePoint = (svg: SVGSVGElement, event: WheelEvent) => {\n    return clientToViewport(svg, event.clientX, event.clientY);\n  };\n\n  private getCenterPoint = (viewBox: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  }) => {\n    const centerX = viewBox.x + viewBox.width / 2;\n    const centerY = viewBox.y + viewBox.height / 2;\n    return { x: centerX, y: centerY };\n  };\n\n  private shouldZoom = (event: WheelEvent) => {\n    if (!this.interaction.isActive()) return false;\n    if (event.deltaY === 0) return false;\n\n    const isMouseZoom = event.ctrlKey || event.metaKey;\n    const isCenterZoom = event.shiftKey;\n    if (isMouseZoom && isCenterZoom) return false;\n\n    return isMouseZoom || isCenterZoom;\n  };\n\n  init(options: InteractionInitOptions) {\n    super.init(options);\n    document.addEventListener('wheel', this.wheelListener, { passive: false });\n  }\n\n  destroy() {\n    document.removeEventListener('wheel', this.wheelListener);\n    document.removeEventListener('keyup', this.handleKeyUp);\n  }\n}\n","import type { IEventEmitter } from '../../types';\nimport type {\n  ICommandManager,\n  IEditor,\n  IPlugin,\n  IPluginManager,\n  IStateManager,\n  PluginInitOptions,\n} from '../types';\n\nexport abstract class Plugin implements IPlugin {\n  abstract name: string;\n\n  protected emitter!: IEventEmitter;\n  protected editor!: IEditor;\n  protected commander!: ICommandManager;\n  protected plugin!: IPluginManager;\n  protected state!: IStateManager;\n\n  init(options: PluginInitOptions): void {\n    Object.assign(this, options);\n  }\n\n  abstract destroy(): void;\n}\n","import { parsePadding, setSVGPadding } from '../../utils';\nimport type { IPlugin, PluginInitOptions } from '../types';\nimport { Plugin } from './base';\n\nexport class CoreSyncPlugin extends Plugin implements IPlugin {\n  name = 'core-sync';\n\n  private unregisters: (() => void)[] = [];\n\n  init(options: PluginInitOptions) {\n    super.init(options);\n    const svg = this.editor.getDocument();\n\n    // viewBox Sync\n    this.unregisters.push(\n      this.editor.registerSync(\n        'viewBox',\n        (val) => {\n          if (val) {\n            svg.setAttribute('viewBox', val);\n          } else {\n            svg.removeAttribute('viewBox');\n          }\n        },\n        { immediate: true },\n      ),\n    );\n\n    // padding Sync\n    this.unregisters.push(\n      this.editor.registerSync(\n        'padding',\n        (val) => {\n          if (val !== undefined) setSVGPadding(svg, parsePadding(val));\n        },\n        { immediate: true },\n      ),\n    );\n  }\n\n  destroy() {\n    this.unregisters.forEach((fn) => fn());\n  }\n}\n","import { injectStyleOnce } from '../../../utils';\nimport type { Icon } from './icons';\n\nexport type Button = HTMLButtonElement & IconButtonHandle;\n\nexport interface IconButtonProps {\n  icon: Icon;\n  onClick?: () => void;\n  activate?: boolean;\n}\n\nexport interface IconButtonHandle {\n  activate: boolean;\n  setActivate: (activate: boolean) => void;\n}\n\nexport const IconButton = ({\n  icon,\n  onClick,\n  activate = false,\n}: IconButtonProps): Button => {\n  ensureIconButtonStyle();\n\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.classList.add(ICON_BUTTON_CLASS);\n  if (activate) button.setAttribute('data-activate', 'true');\n  if (onClick) button.addEventListener('click', onClick);\n\n  const iconElement = icon();\n  button.appendChild(iconElement);\n\n  const setActivate = (next: boolean) => {\n    if (next) button.setAttribute('data-activate', 'true');\n    else button.removeAttribute('data-activate');\n  };\n\n  return Object.assign(button, {\n    setActivate: setActivate.bind(button),\n    activate,\n  });\n};\n\nconst ICON_BUTTON_CLASS = 'infographic-edit-bar-icon-btn';\nconst ICON_BUTTON_STYLE_ID = 'infographic-edit-bar-icon-btn-style';\n\nfunction ensureIconButtonStyle() {\n  injectStyleOnce(\n    ICON_BUTTON_STYLE_ID,\n    `\n.${ICON_BUTTON_CLASS} {\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  font-size: 12px;\n  color: #000000d9;\n  border: none;\n  border-radius: 6px;\n  background-color: #fff;\n  cursor: pointer;\n  transition: color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;\n}\n.${ICON_BUTTON_CLASS}:hover {\n  background-color: #f5f5f5;\n}\n.${ICON_BUTTON_CLASS}:active {\n  background-color: #d9d9d9;\n}\n.${ICON_BUTTON_CLASS}[data-activate=\"true\"] {\n  background-color: #d9d9d9;\n}\n`,\n  );\n}\n","import { parse } from 'culori';\n\nimport { injectStyleOnce } from '../../../utils';\n\nexport type ColorPickerProps = {\n  value?: string;\n  swatches?: string[];\n  onChange?: (value: string) => void;\n};\n\nexport type ColorPickerHandle = {\n  setValue: (value?: string) => void;\n  destroy: () => void;\n};\n\nconst COLOR_PICKER_CLASS = 'infographic-color-picker';\nconst COLOR_PICKER_SWATCHES_CLASS = `${COLOR_PICKER_CLASS}__swatches`;\nconst COLOR_PICKER_SWATCH_CLASS = `${COLOR_PICKER_CLASS}__swatch`;\nconst COLOR_PICKER_CONTROLS_CLASS = `${COLOR_PICKER_CLASS}__controls`;\nconst COLOR_PICKER_INPUT_CLASS = `${COLOR_PICKER_CLASS}__input`;\nconst COLOR_PICKER_FORMAT_CLASS = `${COLOR_PICKER_CLASS}__format`;\nconst COLOR_PICKER_SWITCH_CLASS = `${COLOR_PICKER_CLASS}__format-switch`;\nconst COLOR_PICKER_SWITCH_KNOB_CLASS = `${COLOR_PICKER_CLASS}__format-switch-knob`;\nconst COLOR_PICKER_SWITCH_LABEL_CLASS = `${COLOR_PICKER_CLASS}__format-switch-label`;\nconst COLOR_PICKER_STYLE_ID = 'infographic-color-picker-style';\n\nconst DEFAULT_COLOR = '#1f1f1f';\nconst DEFAULT_SWATCHES = [\n  '#000000',\n  '#1f1f1f',\n  '#434343',\n  '#595959',\n  '#8c8c8c',\n  '#bfbfbf',\n  '#d9d9d9',\n  '#f0f0f0',\n  '#ffffff',\n  '#1677ff',\n  '#2f54eb',\n  '#91caff',\n  '#13c2c2',\n  '#36cfc9',\n  '#52c41a',\n  '#73d13d',\n  '#fadb14',\n  '#ffd666',\n  '#fa8c16',\n  '#fa541c',\n  '#f5222d',\n  '#ff7875',\n  '#eb2f96',\n  '#ffadd2',\n  '#722ed1',\n  '#9254de',\n  'rgba(0, 0, 0, 0.65)',\n  'rgba(255, 255, 255, 0.85)',\n];\n\ntype ColorFormat = 'hexa' | 'rgba';\ntype RgbaColor = { r: number; g: number; b: number; a: number };\n\nexport function ColorPicker(\n  props: ColorPickerProps,\n): HTMLDivElement & ColorPickerHandle {\n  if (typeof document === 'undefined') {\n    throw new Error('ColorPicker can only be used in the browser.');\n  }\n\n  ensureColorPickerStyles();\n\n  const container = document.createElement('div');\n  container.classList.add(COLOR_PICKER_CLASS);\n\n  const swatchContainer = document.createElement('div');\n  swatchContainer.classList.add(COLOR_PICKER_SWATCHES_CLASS);\n  container.appendChild(swatchContainer);\n\n  const controls = document.createElement('div');\n  controls.classList.add(COLOR_PICKER_CONTROLS_CLASS);\n  container.appendChild(controls);\n\n  const input = document.createElement('input');\n  input.type = 'text';\n  input.spellcheck = false;\n  input.classList.add(COLOR_PICKER_INPUT_CLASS);\n  controls.appendChild(input);\n\n  const formatToggle = document.createElement('div');\n  formatToggle.classList.add(COLOR_PICKER_FORMAT_CLASS);\n  controls.appendChild(formatToggle);\n\n  const formatSwitch = document.createElement('button');\n  formatSwitch.type = 'button';\n  formatSwitch.classList.add(COLOR_PICKER_SWITCH_CLASS);\n  formatSwitch.appendChild(createSwitchLabel('HEXA'));\n  const switchKnob = document.createElement('span');\n  switchKnob.classList.add(COLOR_PICKER_SWITCH_KNOB_CLASS);\n  formatSwitch.appendChild(switchKnob);\n  formatSwitch.appendChild(createSwitchLabel('RGBA'));\n  formatToggle.appendChild(formatSwitch);\n\n  let format: ColorFormat = 'hexa';\n  let color: RgbaColor = parseColor(props.value) ??\n    parseColor(DEFAULT_COLOR) ?? {\n      r: 31,\n      g: 31,\n      b: 31,\n      a: 1,\n    };\n\n  const swatchButtons: HTMLButtonElement[] = [];\n\n  const swatches = props.swatches?.length ? props.swatches : DEFAULT_SWATCHES;\n  swatches.forEach((value) => {\n    const parsed = parseColor(value);\n    if (!parsed) return;\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.classList.add(COLOR_PICKER_SWATCH_CLASS);\n    button.style.setProperty('--swatch-color', formatColor(parsed, 'rgba'));\n    button.dataset.colorKey = colorKey(parsed);\n    button.addEventListener('click', () => {\n      setColor(parsed);\n    });\n    swatchContainer.appendChild(button);\n    swatchButtons.push(button);\n  });\n\n  formatSwitch.addEventListener('click', () =>\n    setFormat(format === 'hexa' ? 'rgba' : 'hexa', true),\n  );\n\n  input.addEventListener('change', handleInput);\n  input.addEventListener('keydown', (event) => {\n    if (event.key === 'Enter') handleInput();\n  });\n\n  syncUI();\n\n  const api: ColorPickerHandle = {\n    setValue: (value) => {\n      const parsed = parseColor(value);\n      if (!parsed) {\n        input.setAttribute('data-invalid', 'true');\n        return;\n      }\n      input.removeAttribute('data-invalid');\n      setColor(parsed, false);\n    },\n    destroy: () => {\n      container.remove();\n    },\n  };\n\n  return Object.assign(container, api);\n\n  function handleInput() {\n    const parsed = parseColor(input.value);\n    if (!parsed) {\n      input.setAttribute('data-invalid', 'true');\n      return;\n    }\n    input.removeAttribute('data-invalid');\n    setColor(parsed);\n  }\n\n  function setFormat(next: ColorFormat, emitChange: boolean) {\n    if (format === next) return;\n    format = next;\n    syncUI();\n    if (emitChange) {\n      props.onChange?.(formatColor(color, format));\n    }\n  }\n\n  function setColor(next: RgbaColor, emitChange = true) {\n    if (isSameColor(color, next)) {\n      syncUI();\n      return;\n    }\n    color = next;\n    syncUI();\n    if (emitChange) {\n      props.onChange?.(formatColor(color, format));\n    }\n  }\n\n  function syncUI() {\n    input.value = formatColor(color, format);\n    updateSwatches();\n    updateFormatButtons();\n  }\n\n  function updateSwatches() {\n    const key = colorKey(color);\n    swatchButtons.forEach((btn) => {\n      if (btn.dataset.colorKey === key) {\n        btn.setAttribute('data-active', 'true');\n      } else {\n        btn.removeAttribute('data-active');\n      }\n    });\n  }\n\n  function updateFormatButtons() {\n    if (format === 'rgba') {\n      formatSwitch.setAttribute('data-format', 'rgba');\n    } else {\n      formatSwitch.setAttribute('data-format', 'hexa');\n    }\n  }\n}\n\nfunction parseColor(value?: string | null): RgbaColor | undefined {\n  if (!value) return undefined;\n  const parsed = parse(value);\n  if (!parsed || typeof (parsed as any).r !== 'number') return undefined;\n  const rgb = parsed as { r: number; g: number; b: number; alpha?: number };\n  return {\n    r: clampByte(rgb.r),\n    g: clampByte(rgb.g),\n    b: clampByte(rgb.b),\n    a: clamp01(rgb.alpha ?? 1),\n  };\n}\n\nfunction formatColor(color: RgbaColor, format: ColorFormat): string {\n  if (format === 'rgba') return formatRgba(color);\n  return formatHexa(color);\n}\n\nfunction formatHexa(color: RgbaColor): string {\n  const r = toHex(color.r);\n  const g = toHex(color.g);\n  const b = toHex(color.b);\n  const alpha = color.a < 1 ? toHex(Math.round(color.a * 255)) : '';\n  return `#${r}${g}${b}${alpha}`;\n}\n\nfunction formatRgba(color: RgbaColor): string {\n  const alpha = trimAlpha(color.a);\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${alpha})`;\n}\n\nfunction colorKey(color: RgbaColor): string {\n  return formatHexa(color).toLowerCase();\n}\n\nfunction isSameColor(a: RgbaColor, b: RgbaColor): boolean {\n  return a.r === b.r && a.g === b.g && a.b === b.b && a.a === b.a;\n}\n\nfunction clamp01(value: number): number {\n  if (Number.isNaN(value)) return 0;\n  return Math.min(1, Math.max(0, value));\n}\n\nfunction clampByte(value: number): number {\n  if (Number.isNaN(value)) return 0;\n  const normalized = value <= 1 ? value * 255 : value;\n  return Math.round(Math.min(255, Math.max(0, normalized)));\n}\n\nfunction toHex(value: number): string {\n  return value.toString(16).padStart(2, '0');\n}\n\nfunction trimAlpha(alpha: number): string {\n  const rounded = Math.round(clamp01(alpha) * 100) / 100;\n  if (rounded === 1) return '1';\n  if (rounded === 0) return '0';\n  return rounded.toString();\n}\n\nfunction createSwitchLabel(text: string): HTMLSpanElement {\n  const span = document.createElement('span');\n  span.textContent = text;\n  span.classList.add(COLOR_PICKER_SWITCH_LABEL_CLASS);\n  return span;\n}\n\nfunction ensureColorPickerStyles() {\n  injectStyleOnce(\n    COLOR_PICKER_STYLE_ID,\n    `\n.${COLOR_PICKER_CLASS} {\n  width: 240px;\n  padding: 10px;\n  box-sizing: border-box;\n}\n.${COLOR_PICKER_SWATCHES_CLASS} {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 26px);\n  gap: 6px;\n  margin-bottom: 10px;\n}\n.${COLOR_PICKER_SWATCH_CLASS} {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 1px solid rgba(0, 0, 0, 0.06);\n  background: var(--swatch-color);\n  cursor: pointer;\n  padding: 0;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\n}\n.${COLOR_PICKER_SWATCH_CLASS}[data-active=\"true\"] {\n  box-shadow: 0 0 0 2px #1677ff;\n  transform: translateY(-1px);\n}\n.${COLOR_PICKER_SWATCH_CLASS}:hover {\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.18);\n}\n.${COLOR_PICKER_CONTROLS_CLASS} {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n.${COLOR_PICKER_INPUT_CLASS} {\n  flex: 1;\n  min-width: 0;\n  height: 30px;\n  padding: 2px 6px;\n  border: 1px solid #d9d9d9;\n  border-radius: 6px;\n  background: #f5f5f5;\n  color: #262626;\n  font-size: 12px;\n  font-family: ui-monospace, SFMono-Regular, SFMono-Regular, Menlo, Monaco, Consolas,\n    \"Liberation Mono\", \"Courier New\", monospace;\n  box-sizing: border-box;\n  outline: none;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;\n}\n.${COLOR_PICKER_INPUT_CLASS}:focus {\n  border-color: #1677ff;\n  background: #ffffff;\n  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.12);\n}\n.${COLOR_PICKER_INPUT_CLASS}[data-invalid=\"true\"] {\n  border-color: #ff4d4f;\n  box-shadow: 0 0 0 2px rgba(255, 77, 79, 0.12);\n}\n.${COLOR_PICKER_FORMAT_CLASS} {\n  display: inline-flex;\n}\n.${COLOR_PICKER_SWITCH_CLASS} {\n  position: relative;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n  width: 110px;\n  height: 30px;\n  padding: 0;\n  border: 1px solid #d9d9d9;\n  border-radius: 6px;\n  background: #f5f5f5;\n  cursor: pointer;\n  overflow: hidden;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;\n}\n.${COLOR_PICKER_SWITCH_CLASS}:hover {\n  background: #ededed;\n}\n.${COLOR_PICKER_SWITCH_CLASS}:focus-visible {\n  outline: none;\n  border-color: #1677ff;\n  box-shadow: 0 0 0 2px rgba(22, 119, 255, 0.12);\n}\n.${COLOR_PICKER_SWITCH_KNOB_CLASS} {\n  position: absolute;\n  inset: 0;\n  width: 50%;\n  background: #1677ff;\n  border-radius: 6px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);\n  transition: transform 0.2s ease;\n}\n.${COLOR_PICKER_SWITCH_CLASS}[data-format=\"rgba\"] .${COLOR_PICKER_SWITCH_KNOB_CLASS} {\n  transform: translateX(100%);\n}\n.${COLOR_PICKER_SWITCH_LABEL_CLASS} {\n  position: relative;\n  z-index: 1;\n  text-align: center;\n  font-size: 12px;\n  color: #434343;\n  user-select: none;\n}\n.${COLOR_PICKER_SWITCH_CLASS}[data-format=\"hexa\"] .${COLOR_PICKER_SWITCH_LABEL_CLASS}:first-child,\n.${COLOR_PICKER_SWITCH_CLASS}[data-format=\"rgba\"] .${COLOR_PICKER_SWITCH_LABEL_CLASS}:last-child {\n  color: #ffffff;\n}\n`,\n  );\n}\n","export type Icon = (props?: IconProps) => HTMLElement;\n\ninterface IconCreatorProps {\n  viewBox?: string;\n  size?: string;\n}\n\nexport interface IconProps {\n  fill?: string;\n}\n\nconst createIcon =\n  (\n    children: string,\n    { viewBox = '0 0 1024 1024', size = '1.5em' }: IconCreatorProps = {},\n  ) =>\n  ({ fill = 'currentColor' }: IconProps = {}) => {\n    const html = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"${viewBox}\" width=\"${size}\" height=\"${size}\" fill=\"${fill}\">\n${children.trim()}\n</svg>`;\n    return document.createRange().createContextualFragment(html)\n      .firstElementChild as HTMLElement;\n  };\n\nexport const TEXT_ICONS = {\n  fontFamily: createIcon(\n    `<path d=\"M236.992 938.688H145.088L469.312 128h85.376l324.224 810.688h-91.904l-102.4-256H339.392l-102.4 256z m136.512-341.376h276.992L512 251.072l-138.496 346.24z\"></path>`,\n    { size: '1.2em' },\n  ),\n  fontSize: createIcon(\n    `<path d=\"M479.829333 640H202.837333l-85.333333 213.333333H25.6L298.666667 170.666667h85.333333l273.066667 682.666666h-91.904l-85.333334-213.333333z m-34.133333-85.333333L341.333333 293.76 236.970667 554.666667h208.725333zM896 534.826667V512h85.333333v341.333333h-85.333333v-22.826666a170.666667 170.666667 0 1 1 0-295.68zM810.666667 768a85.333333 85.333333 0 1 0 0-170.666667 85.333333 85.333333 0 0 0 0 170.666667z\"></path>`,\n    { size: '1.2em' },\n  ),\n  align: createIcon(\n    `<path d=\"M832 96c53.02 0 96 42.98 96 96v640c0 53.02-42.98 96-96 96H192c-53.02 0-96-42.98-96-96V192c0-53.02 42.98-96 96-96z m0 64H192c-17.673 0-32 14.327-32 32v640c0 17.673 14.327 32 32 32h640c17.673 0 32-14.327 32-32V192c0-17.673-14.327-32-32-32zM725.333 672c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004h426.666z m0-192c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004h426.666z m0-192c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004h426.666z\"></path>`,\n  ),\n  alignTop: createIcon(\n    `<path d=\"M896 859.329c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768z m0-121.533c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM512.45 91.003L512 91a32.632 32.632 0 0 1 1.653 0.042l0.134 0.008c3.447 0.189 6.75 0.924 9.82 2.12l0.198 0.078a16.118 16.118 0 0 1 0.485 0.197l0.11 0.046a31.82 31.82 0 0 1 8.546 5.315l0.12 0.105a31.066 31.066 0 0 1 1.189 1.095l0.08 0.078 0.235 0.23 0.062 0.063 128 128.055c12.494 12.5 12.49 32.761-0.01 45.255-12.374 12.37-32.356 12.489-44.877 0.362l-0.377-0.372L544 200.28v413.598c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.996-31.471l-0.004-0.53V200.278l-73.368 73.4c-12.369 12.375-32.35 12.503-44.877 0.381l-0.378-0.37c-12.374-12.37-12.502-32.352-0.38-44.878l0.37-0.378 128-128.055 0.181-0.178a31.875 31.875 0 0 1 9.5-6.47l0.105-0.046c0.116-0.051 0.233-0.101 0.35-0.15 0.054-0.024 0.11-0.047 0.165-0.07a28.198 28.198 0 0 1 0.536-0.219l0.157-0.061a31.816 31.816 0 0 1 9.356-2.103l0.113-0.007c0.147-0.01 0.294-0.02 0.442-0.027l0.028-0.001 0.39-0.019 0.144-0.005a23.911 23.911 0 0 1 0.712-0.018c0.3-0.004 0.602-0.004 0.904 0z\"></path>`,\n  ),\n  alignRight: createIcon(\n    `<path d=\"M896 800.339c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H298.667c-17.673 0-32-14.327-32-32 0-17.497 14.041-31.713 31.47-31.996l0.53-0.004H896z m0-213.226c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h768z m0-213.226c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H298.667c-17.673 0-32-14.327-32-32 0-17.496 14.041-31.713 31.47-31.996l0.53-0.004H896z m0-213.226c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z\"></path>`,\n  ),\n  alignBottom: createIcon(\n    `<path d=\"M896 859.329c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768z m0-121.533c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM490.505 637.584l-0.127-0.117a32.174 32.174 0 0 1-0.633-0.596l-0.098-0.096-0.217-0.213-0.062-0.063-128-128.055c-12.494-12.499-12.49-32.76 0.01-45.254 12.374-12.37 32.356-12.489 44.877-0.362l0.377 0.371L480 536.598V123c0-17.673 14.327-32 32-32 17.496 0 31.713 14.042 31.996 31.47l0.004 0.53v413.597l73.368-73.398c12.494-12.5 32.755-12.503 45.255-0.01 12.374 12.37 12.502 32.352 0.38 44.878l-0.37 0.377-128 128.055c-0.121 0.12-0.238 0.236-0.356 0.35l0.355-0.35a31.922 31.922 0 0 1-9.68 6.649l-0.09 0.039a29.917 29.917 0 0 1-1.241 0.514 31.816 31.816 0 0 1-9.338 2.095l-0.113 0.008c-0.147 0.01-0.294 0.019-0.442 0.027h-0.028c-0.13 0.008-0.26 0.014-0.39 0.02l-0.144 0.005a23.92 23.92 0 0 1-0.796 0.019 33.927 33.927 0 0 1-0.37 0.002h-0.13l-0.236-0.002 0.366 0.002a32.633 32.633 0 0 1-1.153-0.02l-0.129-0.006a31.108 31.108 0 0 1-0.876-0.046l-0.105-0.008a31.811 31.811 0 0 1-8.926-1.931l-0.089-0.034a21.022 21.022 0 0 1-0.362-0.138l-0.098-0.04a22.132 22.132 0 0 1-0.746-0.304l-0.219-0.093-0.209-0.092a31.812 31.812 0 0 1-8.034-5.094l-0.12-0.105-0.173-0.153-0.151-0.136-0.105-0.093z\"></path>`,\n  ),\n  alignLeft: createIcon(\n    `<path d=\"M725.333 800.339c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h597.333zM896 587.113c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h768zM725.333 373.887c17.673 0 32 14.327 32 32 0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h597.333zM896 160.661c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z\"></path>`,\n  ),\n  alignCenter: createIcon(\n    `<path d=\"M768 800.339c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H256c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h512z m128-213.226c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h768zM768 373.887c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H256c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h512z m128-213.226c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z\"></path>`,\n  ),\n  alignMiddle: createIcon(\n    `<path d=\"M534.246 617.448l0.377 0.371 128 127.952c12.5 12.494 12.503 32.755 0.009 45.255-12.37 12.374-32.352 12.501-44.878 0.38l-0.377-0.372-73.38-73.352V939c0 17.673-14.326 32-32 32-17.496 0-31.712-14.042-31.995-31.47l-0.004-0.53-0.001-221.314-73.374 73.348c-12.374 12.37-32.356 12.49-44.878 0.363l-0.377-0.371c-12.37-12.375-12.49-32.356-0.362-44.878l0.37-0.377 128-127.952c12.372-12.366 32.347-12.49 44.87-0.37zM896 480.508c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM511.998 54c17.496 0 31.713 14.042 31.996 31.47l0.004 0.53-0.001 221.314 73.38-73.349c12.499-12.494 32.76-12.49 45.255 0.009 12.37 12.374 12.49 32.356 0.362 44.878l-0.37 0.377-128 127.951c-12.372 12.366-32.347 12.49-44.87 0.371l-0.377-0.37-128-127.952c-12.5-12.495-12.503-32.756-0.009-45.255 12.37-12.374 32.352-12.502 44.878-0.38l0.377 0.371 73.374 73.346V86c0-17.673 14.328-32 32-32z\"></path>`,\n  ),\n};\n\nexport const RESET_ICON = createIcon(\n  `<path d=\"M502.714987 58.258904l-126.531056-54.617723a52.797131 52.797131 0 0 0-41.873587 96.855428A447.865322 447.865322 0 0 0 392.02307 946.707184a61.535967 61.535967 0 0 0 13.83649 1.820591 52.797131 52.797131 0 0 0 13.65443-103.773672 342.453118 342.453118 0 0 1-31.678278-651.771485l-8.374718 19.480321a52.615072 52.615072 0 0 0 27.855039 69.182448 51.522718 51.522718 0 0 0 20.572675 4.369418A52.797131 52.797131 0 0 0 476.498481 254.882703L530.205907 127.441352a52.979191 52.979191 0 0 0-27.49092-69.182448zM962.960326 509.765407A448.775617 448.775617 0 0 0 643.992829 68.090094a52.797131 52.797131 0 1 0-30.403866 101.042786A342.635177 342.635177 0 0 1 674.578753 801.059925a52.615072 52.615072 0 0 0-92.30395-50.612422l-71.913335 117.246043a52.433013 52.433013 0 0 0 17.295612 72.82363l117.063985 72.823629a52.797131 52.797131 0 1 0 54.617722-89.755123l-16.021198-10.013249A448.593558 448.593558 0 0 0 962.960326 509.765407z\" p-id=\"1630\"/>`,\n);\n\nexport const ELEMENT_ICONS = {\n  align: createIcon(\n    `<path d=\"M555.188 715.059c17.673 0 32 14.327 32 32V875c0 17.673-14.327 32-32 32H171c-17.673 0-32-14.327-32-32V747.059c0-17.673 14.327-32 32-32z m-32.001 63.999H203V843h320.187v-63.942zM854 416.529c17.673 0 32 14.327 32 32v127.942c0 17.673-14.327 32-32 32H171c-17.673 0-32-14.327-32-32V448.529c0-17.673 14.327-32 32-32z m-32 64H203v63.941h619v-63.941zM683.25 118c17.673 0 32 14.327 32 32v127.941c0 17.673-14.327 32-32 32H171c-17.673 0-32-14.327-32-32V150c0-17.673 14.327-32 32-32z m-32 64H203v63.941h448.25V182z\"></path>`,\n  ),\n  alignTop: createIcon(\n    `\n    <path d=\"M661.333 272.411c17.673 0 32 14.327 32 32V902c0 17.673-14.327 32-32 32H362.667c-17.673 0-32-14.327-32-32V304.411c0-17.673 14.327-32 32-32z m-32 63.999H394.666V870h234.667V336.41zM896 101.671c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768z\" />`,\n  ),\n  alignRight: createIcon(\n    `<path d=\"M891.329 96c17.496 0 31.713 14.042 31.995 31.47l0.005 0.53v768c0 17.673-14.327 32-32 32-17.497 0-31.713-14.042-31.996-31.47l-0.004-0.53V128c0-17.673 14.327-32 32-32z m-170.74 234.667c17.673 0 32 14.327 32 32v298.666c0 17.673-14.327 32-32 32H123c-17.673 0-32-14.327-32-32V362.667c0-17.673 14.327-32 32-32z m-32 63.999H155v234.667h533.589V394.666z\" />`,\n  ),\n  alignBottom: createIcon(\n    `<path d=\"M896 859.329c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768zM661.333 91c17.673 0 32 14.327 32 32v597.589c0 17.673-14.327 32-32 32H362.667c-17.673 0-32-14.327-32-32V123c0-17.673 14.327-32 32-32z m-32 64H394.666v533.589h234.667V155z\" />`,\n  ),\n  alignLeft: createIcon(\n    `<path d=\"M133.671 96c17.497 0 31.713 14.042 31.996 31.47l0.004 0.53v768c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.995-31.47l-0.005-0.53V128c0-17.673 14.327-32 32-32zM902 330.667c17.673 0 32 14.327 32 32v298.666c0 17.673-14.327 32-32 32H304.411c-17.673 0-32-14.327-32-32V362.667c0-17.673 14.327-32 32-32z m-32.001 63.999H336.41v234.667h533.589V394.666z\" />`,\n  ),\n  alignH: createIcon(\n    `<path d=\"M512.5 96c17.496 0 31.713 14.042 31.996 31.47l0.004 0.53v202.666H875c17.496 0 31.713 14.042 31.996 31.471l0.004 0.53v298.666c0 17.673-14.327 32-32 32H544.5V896c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.996-31.47l-0.004-0.53V693.333H150c-17.496 0-31.713-14.041-31.996-31.47l-0.004-0.53V362.667c0-17.673 14.327-32 32-32l330.5-0.001V128c0-17.673 14.327-32 32-32z m-32 298.666H182v234.667h298.5V394.666z m362.5 0H544.5v234.667H843V394.666z\" />`,\n  ),\n  alignV: createIcon(\n    `<path d=\"M661.333 118c17.673 0 32 14.327 32 32v330.5H896c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.996l-0.53 0.004H693.333V875c0 17.496-14.041 31.713-31.47 31.996l-0.53 0.004H362.667c-17.673 0-32-14.327-32-32l-0.001-330.5H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.996l0.53-0.004h202.666V150c0-17.496 14.042-31.713 31.471-31.996l0.53-0.004z m-32.001 426.5H394.665l0.001 298.5h234.667l-0.001-298.5z m0.001-362.5H394.666l-0.001 298.5h234.667l0.001-298.5z\" />`,\n  ),\n  distributeH: createIcon(\n    `<path d=\"M853.333 96c17.497 0 31.713 14.042 31.996 31.47l0.004 0.53v768c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.995-31.47l-0.005-0.53V128c0-17.673 14.327-32 32-32z m-682.666 0c17.496 0 31.713 14.042 31.995 31.47l0.005 0.53v768c0 17.673-14.327 32-32 32-17.497 0-31.713-14.042-31.996-31.47l-0.004-0.53V128c0-17.673 14.327-32 32-32zM640 181.333c17.673 0 32 14.327 32 32v597.334c0 17.673-14.327 32-32 32H384c-17.673 0-32-14.327-32-32V213.333c0-17.673 14.327-32 32-32z m-32 64H416v533.333h192V245.333z\" />`,\n  ),\n  distributeV: createIcon(\n    `<path d=\"M896 821.333c17.673 0 32 14.327 32 32 0 17.497-14.042 31.713-31.47 31.996l-0.53 0.004H128c-17.673 0-32-14.327-32-32 0-17.496 14.042-31.713 31.47-31.995l0.53-0.005h768zM810.667 352c17.673 0 32 14.327 32 32v256c0 17.673-14.327 32-32 32H213.333c-17.673 0-32-14.327-32-32V384c0-17.673 14.327-32 32-32z m-32 64H245.334v192h533.333V416zM896 138.667c17.673 0 32 14.327 32 32 0 17.496-14.042 31.713-31.47 31.995l-0.53 0.005H128c-17.673 0-32-14.327-32-32 0-17.497 14.042-31.713 31.47-31.996l0.53-0.004h768z\" />`,\n  ),\n};\n","import { COMPONENT_ROLE } from '../../../constants';\nimport { injectStyleOnce, setElementRole } from '../../../utils';\n\nexport type PopoverPlacement = 'top' | 'bottom' | 'left' | 'right';\nexport type PopoverPlacementPreference = PopoverPlacement | PopoverPlacement[];\n\nexport interface PopoverProps {\n  content: HTMLElement | string | (() => HTMLElement | string);\n  target?: HTMLElement;\n  getContainer?: HTMLElement | (() => HTMLElement);\n  placement?: PopoverPlacementPreference;\n  padding?: number | string;\n  open?: boolean;\n  closeOnOutsideClick?: boolean;\n  trigger?: 'hover' | 'click' | ('hover' | 'click')[];\n  mouseEnterDelay?: number;\n  mouseLeaveDelay?: number;\n  offset?: number;\n}\n\nexport interface PopoverHandle {\n  setOpen: (open: boolean) => void;\n  toggle: () => void;\n  setContent: (content: PopoverProps['content']) => void;\n  setPlacement: (placement: PopoverPlacementPreference) => void;\n  destroy: () => void;\n}\n\nconst POPOVER_CLASS = 'infographic-edit-popover';\nconst POPOVER_CONTENT_CLASS = `${POPOVER_CLASS}__content`;\nconst POPOVER_ARROW_CLASS = `${POPOVER_CLASS}__arrow`;\nconst POPOVER_STYLE_ID = 'infographic-edit-popover-style';\n\nexport function Popover(props: PopoverProps): HTMLDivElement & PopoverHandle {\n  ensurePopoverStyle();\n\n  const placement = props.placement ?? 'top';\n  const closeOnOutsideClick = props.closeOnOutsideClick ?? true;\n  const triggerActions = Array.isArray(props.trigger)\n    ? props.trigger\n    : [props.trigger || 'hover'];\n  const hoverOpenDelay = props.mouseEnterDelay ?? 50;\n  const hoverCloseDelay = props.mouseLeaveDelay ?? 150;\n  const offset = props.offset ?? 8;\n  const arrowSize = 8;\n  const arrowInnerSize = 7;\n  const bodyPadding =\n    typeof props.padding === 'number'\n      ? `${props.padding}px`\n      : (props.padding ?? '4px');\n\n  const container = document.createElement('div');\n  container.classList.add(POPOVER_CLASS);\n\n  const trigger = props.target ?? document.createElement('div');\n  container.appendChild(trigger);\n\n  const getContentContainer = () => {\n    const next =\n      typeof props.getContainer === 'function'\n        ? props.getContainer()\n        : props.getContainer;\n    return next ?? document.body;\n  };\n\n  const content = document.createElement('div');\n  content.classList.add(POPOVER_CONTENT_CLASS);\n  setElementRole(content, COMPONENT_ROLE);\n  content.dataset.placement = Array.isArray(placement)\n    ? placement[0]\n    : placement;\n  content.setAttribute('data-open', String(Boolean(props.open)));\n  content.style.setProperty('--popover-gap', `${offset}px`);\n  content.style.setProperty('--popover-arrow-size', `${arrowSize}px`);\n  content.style.setProperty(\n    '--popover-arrow-inner-size',\n    `${arrowInnerSize}px`,\n  );\n\n  const contentContainer = getContentContainer();\n  const isPortal = contentContainer !== container;\n\n  const arrow = document.createElement('div');\n  arrow.classList.add(POPOVER_ARROW_CLASS);\n  content.appendChild(arrow);\n\n  const body = document.createElement('div');\n  body.classList.add(`${POPOVER_CONTENT_CLASS}-body`);\n  body.style.padding = bodyPadding;\n  content.appendChild(body);\n\n  contentContainer.appendChild(content);\n\n  let open = Boolean(props.open);\n  let placementPriority = Array.isArray(placement) ? placement : [placement];\n  let currentPlacement: PopoverPlacement = placementPriority[0] ?? 'top';\n\n  const updatePosition = () => {\n    const targetRect = trigger.getBoundingClientRect();\n    const contentRect = content.getBoundingClientRect();\n    const scrollX = window.scrollX || document.documentElement.scrollLeft;\n    const scrollY = window.scrollY || document.documentElement.scrollTop;\n    const viewportWidth = document.documentElement.clientWidth;\n    const viewportHeight = document.documentElement.clientHeight;\n    let left = 0;\n    let top = 0;\n\n    const calcPosition = (placementValue: PopoverPlacement) => {\n      switch (placementValue) {\n        case 'top':\n          return {\n            left:\n              scrollX +\n              targetRect.left +\n              targetRect.width / 2 -\n              contentRect.width / 2,\n            top: scrollY + targetRect.top - contentRect.height - offset,\n          };\n        case 'bottom':\n          return {\n            left:\n              scrollX +\n              targetRect.left +\n              targetRect.width / 2 -\n              contentRect.width / 2,\n            top: scrollY + targetRect.bottom + offset,\n          };\n        case 'left':\n          return {\n            left: scrollX + targetRect.left - contentRect.width - offset,\n            top:\n              scrollY +\n              targetRect.top +\n              targetRect.height / 2 -\n              contentRect.height / 2,\n          };\n        case 'right':\n        default:\n          return {\n            left: scrollX + targetRect.right + offset,\n            top:\n              scrollY +\n              targetRect.top +\n              targetRect.height / 2 -\n              contentRect.height / 2,\n          };\n      }\n    };\n\n    const fitsViewport = (nextLeft: number, nextTop: number) =>\n      nextLeft >= scrollX &&\n      nextTop >= scrollY &&\n      nextLeft + contentRect.width <= scrollX + viewportWidth &&\n      nextTop + contentRect.height <= scrollY + viewportHeight;\n\n    let chosenPlacement = placementPriority[0] ?? 'top';\n    let position = calcPosition(chosenPlacement);\n    for (const candidate of placementPriority) {\n      const nextPosition = calcPosition(candidate);\n      position = nextPosition;\n      if (fitsViewport(nextPosition.left, nextPosition.top)) {\n        chosenPlacement = candidate;\n        break;\n      }\n    }\n\n    currentPlacement = chosenPlacement;\n    content.dataset.placement = currentPlacement;\n\n    if (!isPortal) return;\n\n    ({ left, top } = position);\n    content.style.left = `${left}px`;\n    content.style.top = `${top}px`;\n    content.style.right = 'auto';\n    content.style.bottom = 'auto';\n    content.style.transform = 'translate(0, 0)';\n  };\n\n  if (isPortal) {\n    content.style.position = 'absolute';\n    window.addEventListener('resize', updatePosition);\n    window.addEventListener('scroll', updatePosition, true);\n  }\n\n  const setContent = (next: PopoverProps['content']) => {\n    let nextContent = next;\n    if (typeof nextContent === 'function') {\n      nextContent = nextContent();\n    }\n    body.innerHTML = '';\n    if (nextContent instanceof HTMLElement) {\n      body.appendChild(nextContent);\n    } else {\n      body.textContent = nextContent ?? '';\n    }\n    updatePosition();\n  };\n\n  const setPlacement = (next: PopoverPlacementPreference) => {\n    placementPriority = Array.isArray(next) ? next : [next];\n    currentPlacement = placementPriority[0] ?? 'top';\n    updatePosition();\n  };\n\n  const setOpen = (value: boolean) => {\n    open = value;\n    content.setAttribute('data-open', String(open));\n    if (open) updatePosition();\n    if (open && closeOnOutsideClick) {\n      document.addEventListener('click', handleOutsideClick, true);\n    } else {\n      document.removeEventListener('click', handleOutsideClick, true);\n    }\n  };\n\n  const toggle = () => setOpen(!open);\n\n  const handleOutsideClick = (event: MouseEvent) => {\n    const targetNode = event.target as Node;\n    if (\n      !container.contains(targetNode) &&\n      (isPortal ? !content.contains(targetNode) : true)\n    ) {\n      setOpen(false);\n    }\n  };\n\n  let openTimer: number | undefined;\n  let closeTimer: number | undefined;\n\n  const hasHover = triggerActions.includes('hover');\n  const hasClick = triggerActions.includes('click');\n\n  const clearTimers = () => {\n    if (openTimer !== undefined) {\n      clearTimeout(openTimer);\n      openTimer = undefined;\n    }\n    if (closeTimer !== undefined) {\n      clearTimeout(closeTimer);\n      closeTimer = undefined;\n    }\n  };\n\n  const handleMouseEnter = () => {\n    if (!hasHover) return;\n    clearTimers();\n    openTimer = window.setTimeout(() => setOpen(true), hoverOpenDelay);\n  };\n\n  const handleMouseLeave = () => {\n    if (!hasHover) return;\n    clearTimers();\n    closeTimer = window.setTimeout(() => setOpen(false), hoverCloseDelay);\n  };\n\n  if (hasClick) {\n    trigger.addEventListener('click', toggle);\n  }\n  if (hasHover) {\n    container.addEventListener('mouseenter', handleMouseEnter);\n    container.addEventListener('mouseleave', handleMouseLeave);\n    content.addEventListener('mouseenter', handleMouseEnter);\n    content.addEventListener('mouseleave', handleMouseLeave);\n  }\n\n  setContent(props.content);\n  setPlacement(placement);\n  setOpen(open);\n\n  const api: PopoverHandle = {\n    setOpen,\n    toggle,\n    setContent,\n    setPlacement,\n    destroy: () => {\n      document.removeEventListener('click', handleOutsideClick, true);\n      if (hasClick) trigger.removeEventListener('click', toggle);\n      if (hasHover) {\n        container.removeEventListener('mouseenter', handleMouseEnter);\n        container.removeEventListener('mouseleave', handleMouseLeave);\n        content.removeEventListener('mouseenter', handleMouseEnter);\n        content.removeEventListener('mouseleave', handleMouseLeave);\n        clearTimers();\n      }\n      if (isPortal) {\n        window.removeEventListener('resize', updatePosition);\n        window.removeEventListener('scroll', updatePosition, true);\n        content.remove();\n      }\n      container.remove();\n    },\n  };\n\n  return Object.assign(container, api);\n}\n\nfunction ensurePopoverStyle() {\n  injectStyleOnce(\n    POPOVER_STYLE_ID,\n    `\n.${POPOVER_CLASS} {\n  position: relative;\n  display: inline-flex;\n}\n.${POPOVER_CONTENT_CLASS} {\n  position: absolute;\n  z-index: 1200;\n  padding: 0;\n  --popover-gap: 8px;\n  --popover-arrow-size: 8px;\n  --popover-arrow-inner-size: 7px;\n  background: #fff;\n  border-radius: 8px;\n  border: 1px solid rgba(239, 240, 240, 0.9);\n  box-shadow: rgba(0, 0, 0, 0.08) 0px 1px 2px -2px, rgba(0, 0, 0, 0.04) 0px 2px 6px, rgba(0, 0, 0, 0.02) 0px 4px 8px 1px;\n  opacity: 0;\n  visibility: hidden;\n  pointer-events: none;\n  transition: opacity 120ms ease, transform 120ms ease, visibility 120ms ease;\n}\n.${POPOVER_CONTENT_CLASS}-body {\n  padding: 4px;\n  color: #000000d9;\n  font-size: 12px;\n  line-height: 1.5;\n}\n.${POPOVER_CONTENT_CLASS}[data-open=\"true\"] {\n  opacity: 1;\n  visibility: visible;\n  pointer-events: auto;\n}\n.${POPOVER_ARROW_CLASS} {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n.${POPOVER_ARROW_CLASS}::after {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"top\"] {\n  left: 50%;\n  bottom: calc(100% + var(--popover-gap));\n  transform: translate(-50%, calc(-1 * var(--popover-gap) / 2));\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"top\"] .${POPOVER_ARROW_CLASS} {\n  left: 50%;\n  bottom: calc(-1 * var(--popover-arrow-size));\n  transform: translateX(-50%);\n  border-left: var(--popover-arrow-size) solid transparent;\n  border-right: var(--popover-arrow-size) solid transparent;\n  border-top: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"top\"] .${POPOVER_ARROW_CLASS}::after {\n  left: 50%;\n  bottom: 1px;\n  transform: translateX(-50%);\n  border-left: var(--popover-arrow-inner-size) solid transparent;\n  border-right: var(--popover-arrow-inner-size) solid transparent;\n  border-top: var(--popover-arrow-inner-size) solid #fff;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"top\"][data-open=\"true\"] {\n  transform: translate(-50%, 0);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"bottom\"] {\n  left: 50%;\n  top: calc(100% + var(--popover-gap));\n  transform: translate(-50%, calc(var(--popover-gap) / 2));\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"bottom\"] .${POPOVER_ARROW_CLASS} {\n  left: 50%;\n  top: calc(-1 * var(--popover-arrow-size) + 2px);\n  transform: translateX(-50%);\n  border-left: var(--popover-arrow-size) solid transparent;\n  border-right: var(--popover-arrow-size) solid transparent;\n  border-bottom: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"bottom\"] .${POPOVER_ARROW_CLASS}::after {\n  left: 50%;\n  top: 1px;\n  transform: translateX(-50%);\n  border-left: var(--popover-arrow-inner-size) solid transparent;\n  border-right: var(--popover-arrow-inner-size) solid transparent;\n  border-bottom: var(--popover-arrow-inner-size) solid #fff;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"bottom\"][data-open=\"true\"] {\n  transform: translate(-50%, 0);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"left\"] {\n  right: calc(100% + var(--popover-gap));\n  top: 50%;\n  transform: translate(calc(-1 * var(--popover-gap) / 2), -50%);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"left\"] .${POPOVER_ARROW_CLASS} {\n  right: calc(-1 * var(--popover-arrow-size) + 1px);\n  top: 50%;\n  transform: translateY(-50%);\n  border-top: var(--popover-arrow-size) solid transparent;\n  border-bottom: var(--popover-arrow-size) solid transparent;\n  border-left: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);\n  border-right: 0;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"left\"] .${POPOVER_ARROW_CLASS}::after {\n  right: 1px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-top: var(--popover-arrow-inner-size) solid transparent;\n  border-bottom: var(--popover-arrow-inner-size) solid transparent;\n  border-left: var(--popover-arrow-inner-size) solid #fff;\n  border-right: 0;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"left\"][data-open=\"true\"] {\n  transform: translate(0, -50%);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"right\"] {\n  left: calc(100% + var(--popover-gap));\n  top: 50%;\n  transform: translate(calc(var(--popover-gap) / 2), -50%);\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"right\"] .${POPOVER_ARROW_CLASS} {\n  left: calc(-1 * var(--popover-arrow-size) + 1px);\n  top: 50%;\n  transform: translateY(-50%);\n  border-top: var(--popover-arrow-size) solid transparent;\n  border-bottom: var(--popover-arrow-size) solid transparent;\n  border-right: var(--popover-arrow-size) solid rgba(239, 240, 240, 0.9);\n  border-left: 0;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"right\"] .${POPOVER_ARROW_CLASS}::after {\n  left: 1px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-top: var(--popover-arrow-inner-size) solid transparent;\n  border-bottom: var(--popover-arrow-inner-size) solid transparent;\n  border-right: var(--popover-arrow-inner-size) solid #fff;\n}\n.${POPOVER_CONTENT_CLASS}[data-placement=\"right\"][data-open=\"true\"] {\n  transform: translate(0, -50%);\n}\n`,\n  );\n}\n","import { getCombinedBounds } from '../../../../jsx';\nimport type { Element } from '../../../../types';\nimport {\n  getAttributes,\n  injectStyleOnce,\n  isIconElement,\n} from '../../../../utils';\nimport { UpdateElementCommand } from '../../../commands';\nimport type { ICommandManager, Selection } from '../../../types';\nimport { getElementViewportBounds } from '../../../utils';\nimport { ELEMENT_ICONS, IconButton, Popover } from '../../components';\nimport type { Icon } from '../../components/icons';\nimport type { EditItem } from './types';\n\nconst GRID_CLASS = 'infographic-align-grid';\nconst GRID_COMPACT_CLASS = `${GRID_CLASS}--compact`;\nconst GRID_STYLE_ID = 'infographic-align-grid-style';\n\nconst GRID_STYLES = `\n.${GRID_CLASS} {\n  display: grid;\n  grid-template-columns: repeat(4, 32px);\n  grid-auto-rows: 32px;\n  gap: 2px;\n}\n.${GRID_COMPACT_CLASS} {\n  grid-template-columns: repeat(3, 32px);\n}\n`;\n\ntype AlignAction =\n  | 'LEFT'\n  | 'H_CENTER'\n  | 'RIGHT'\n  | 'TOP'\n  | 'V_CENTER'\n  | 'BOTTOM'\n  | 'H_DISTRIBUTE'\n  | 'V_DISTRIBUTE';\n\ntype AlignOptions = {\n  enableDistribution?: boolean;\n};\n\ntype TransformParts = {\n  before: string;\n  after: string;\n};\n\ntype AlignableItem = {\n  element: Selection[number];\n  bounds: DOMRect;\n  mode: 'attr' | 'transform';\n  startX: number;\n  startY: number;\n  hasX: boolean;\n  hasY: boolean;\n  hasDataX: boolean;\n  hasDataY: boolean;\n  restTransform?: TransformParts;\n  originalTransform?: string | null;\n  movable: boolean;\n};\n\nconst ALIGN_OPTIONS: ReadonlyArray<{ icon: Icon; action: AlignAction }> = [\n  { icon: ELEMENT_ICONS.alignLeft, action: 'LEFT' },\n  { icon: ELEMENT_ICONS.alignH, action: 'H_CENTER' },\n  { icon: ELEMENT_ICONS.alignRight, action: 'RIGHT' },\n  { icon: ELEMENT_ICONS.distributeH, action: 'H_DISTRIBUTE' },\n  { icon: ELEMENT_ICONS.alignTop, action: 'TOP' },\n  { icon: ELEMENT_ICONS.alignV, action: 'V_CENTER' },\n  { icon: ELEMENT_ICONS.alignBottom, action: 'BOTTOM' },\n  { icon: ELEMENT_ICONS.distributeV, action: 'V_DISTRIBUTE' },\n];\n\nexport const ElementAlign: EditItem = (\n  selection,\n  _attrs,\n  commander: ICommandManager,\n  options?: AlignOptions,\n) => {\n  injectStyleOnce(GRID_STYLE_ID, GRID_STYLES);\n  const enableDistribution = options?.enableDistribution ?? true;\n\n  const content = createAlignContent(\n    (action) => alignSelection(selection, action, commander),\n    enableDistribution,\n  );\n\n  return Popover({\n    target: IconButton({ icon: ELEMENT_ICONS.align }),\n    content,\n    placement: 'top',\n    offset: 12,\n  });\n};\n\nfunction createAlignContent(\n  onSelect: (action: AlignAction) => void,\n  enableDistribution: boolean,\n) {\n  const content = document.createElement('div');\n  content.classList.add(GRID_CLASS);\n  if (!enableDistribution) content.classList.add(GRID_COMPACT_CLASS);\n\n  const visibleOptions = enableDistribution\n    ? ALIGN_OPTIONS\n    : ALIGN_OPTIONS.filter(\n        ({ action }) => action !== 'H_DISTRIBUTE' && action !== 'V_DISTRIBUTE',\n      );\n\n  visibleOptions.forEach(({ icon, action }) => {\n    const button = IconButton({\n      icon,\n      onClick: () => onSelect(action),\n    });\n    content.appendChild(button);\n  });\n\n  return content;\n}\n\nfunction alignSelection(\n  selection: Selection,\n  action: AlignAction,\n  commander: ICommandManager,\n) {\n  if (!selection.length) return;\n  const svg = selection[0].ownerSVGElement;\n  if (!svg) return;\n\n  const items = selection\n    .map((element) => createAlignableItem(element, svg))\n    .filter(Boolean);\n\n  if (!items.length) return;\n  const movable = items.filter((item) => item.movable);\n  if (!movable.length) return;\n\n  const anchors = items.filter((item) => !item.movable);\n  const referenceSource = anchors.length ? anchors : items;\n  const reference = getCombinedBounds(\n    referenceSource.map((item) => item.bounds),\n  );\n  const commands: UpdateElementCommand[] = [];\n\n  switch (action) {\n    case 'LEFT': {\n      const target = reference.x;\n      movable.forEach((item) => {\n        const dx = target - item.bounds.x;\n        appendCommand(commands, item, dx, 0);\n      });\n      break;\n    }\n    case 'H_CENTER': {\n      const target = reference.x + reference.width / 2;\n      movable.forEach((item) => {\n        const dx = target - (item.bounds.x + item.bounds.width / 2);\n        appendCommand(commands, item, dx, 0);\n      });\n      break;\n    }\n    case 'RIGHT': {\n      const target = reference.x + reference.width;\n      movable.forEach((item) => {\n        const dx = target - (item.bounds.x + item.bounds.width);\n        appendCommand(commands, item, dx, 0);\n      });\n      break;\n    }\n    case 'TOP': {\n      const target = reference.y;\n      movable.forEach((item) => {\n        const dy = target - item.bounds.y;\n        appendCommand(commands, item, 0, dy);\n      });\n      break;\n    }\n    case 'V_CENTER': {\n      const target = reference.y + reference.height / 2;\n      movable.forEach((item) => {\n        const dy = target - (item.bounds.y + item.bounds.height / 2);\n        appendCommand(commands, item, 0, dy);\n      });\n      break;\n    }\n    case 'BOTTOM': {\n      const target = reference.y + reference.height;\n      movable.forEach((item) => {\n        const dy = target - (item.bounds.y + item.bounds.height);\n        appendCommand(commands, item, 0, dy);\n      });\n      break;\n    }\n    case 'H_DISTRIBUTE': {\n      distributeHorizontally(items, commands);\n      break;\n    }\n    case 'V_DISTRIBUTE': {\n      distributeVertically(items, commands);\n      break;\n    }\n  }\n\n  if (commands.length) commander.executeBatch(commands);\n}\n\nfunction distributeHorizontally(\n  items: AlignableItem[],\n  commands: UpdateElementCommand[],\n) {\n  if (items.length <= 2) return;\n  const sorted = [...items].sort(\n    (a, b) => a.bounds.x - b.bounds.x || a.bounds.y - b.bounds.y,\n  );\n  const anchorIndices = collectAnchorIndices(sorted);\n\n  for (let i = 0; i < anchorIndices.length - 1; i++) {\n    const startIndex = anchorIndices[i];\n    const endIndex = anchorIndices[i + 1];\n    const start = sorted[startIndex];\n    const end = sorted[endIndex];\n    const segment = sorted.slice(startIndex + 1, endIndex);\n    if (!segment.length) continue;\n\n    const space = end.bounds.x - (start.bounds.x + start.bounds.width);\n    const totalWidth = segment.reduce(\n      (sum, item) => sum + item.bounds.width,\n      0,\n    );\n    const gap = (space - totalWidth) / (segment.length + 1);\n    let cursor = start.bounds.x + start.bounds.width + gap;\n    segment.forEach((item) => {\n      const dx = cursor - item.bounds.x;\n      appendCommand(commands, item, dx, 0);\n      cursor += item.bounds.width + gap;\n    });\n  }\n}\n\nfunction distributeVertically(\n  items: AlignableItem[],\n  commands: UpdateElementCommand[],\n) {\n  if (items.length <= 2) return;\n  const sorted = [...items].sort(\n    (a, b) => a.bounds.y - b.bounds.y || a.bounds.x - b.bounds.x,\n  );\n  const anchorIndices = collectAnchorIndices(sorted);\n\n  for (let i = 0; i < anchorIndices.length - 1; i++) {\n    const startIndex = anchorIndices[i];\n    const endIndex = anchorIndices[i + 1];\n    const start = sorted[startIndex];\n    const end = sorted[endIndex];\n    const segment = sorted.slice(startIndex + 1, endIndex);\n    if (!segment.length) continue;\n\n    const space = end.bounds.y - (start.bounds.y + start.bounds.height);\n    const totalHeight = segment.reduce(\n      (sum, item) => sum + item.bounds.height,\n      0,\n    );\n    const gap = (space - totalHeight) / (segment.length + 1);\n    let cursor = start.bounds.y + start.bounds.height + gap;\n    segment.forEach((item) => {\n      const dy = cursor - item.bounds.y;\n      appendCommand(commands, item, 0, dy);\n      cursor += item.bounds.height + gap;\n    });\n  }\n}\n\nfunction collectAnchorIndices(items: AlignableItem[]) {\n  const anchors = new Set<number>();\n  anchors.add(0);\n  anchors.add(items.length - 1);\n  items.forEach((item, index) => {\n    if (!item.movable) anchors.add(index);\n  });\n  return Array.from(anchors).sort((a, b) => a - b);\n}\n\nfunction appendCommand(\n  commands: UpdateElementCommand[],\n  item: AlignableItem,\n  dx: number,\n  dy: number,\n) {\n  const command = createUpdateCommand(item, dx, dy);\n  if (command) commands.push(command);\n}\n\nfunction createAlignableItem(\n  element: Element,\n  svg: SVGSVGElement,\n): AlignableItem {\n  const bounds = getElementViewportBounds(svg, element);\n  const movable = !isIconElement(element as SVGElement);\n  const transformInfo = getTransformInfo(element as SVGElement);\n  if (transformInfo) {\n    return {\n      element,\n      bounds,\n      mode: 'transform',\n      startX: transformInfo.x,\n      startY: transformInfo.y,\n      hasX: false,\n      hasY: false,\n      hasDataX: false,\n      hasDataY: false,\n      restTransform: transformInfo.rest,\n      originalTransform: transformInfo.original,\n      movable,\n    };\n  }\n\n  const { x, y, hasX, hasY, hasDataX, hasDataY } = getAttrInfo(element, bounds);\n  return {\n    element,\n    bounds,\n    mode: 'attr',\n    startX: x,\n    startY: y,\n    hasX,\n    hasY,\n    hasDataX,\n    hasDataY,\n    movable,\n  };\n}\n\nfunction createUpdateCommand(\n  item: AlignableItem,\n  dx: number,\n  dy: number,\n): UpdateElementCommand | null {\n  if (!item.movable) return null;\n  if (Math.abs(dx) < 1e-6 && Math.abs(dy) < 1e-6) return null;\n\n  if (item.mode === 'attr') {\n    const x = item.startX + dx;\n    const y = item.startY + dy;\n    const modifiedAttrs: Record<string, any> = { x, y };\n    const originalAttrs: Record<string, any> = {};\n\n    originalAttrs.x = item.hasX ? item.startX : null;\n    originalAttrs.y = item.hasY ? item.startY : null;\n\n    if (item.hasDataX) {\n      modifiedAttrs['data-x'] = x;\n      originalAttrs['data-x'] = item.startX;\n    }\n    if (item.hasDataY) {\n      modifiedAttrs['data-y'] = y;\n      originalAttrs['data-y'] = item.startY;\n    }\n\n    return new UpdateElementCommand(\n      item.element,\n      { attributes: modifiedAttrs },\n      { attributes: originalAttrs },\n    );\n  }\n\n  const transform = composeTransform(\n    item.startX + dx,\n    item.startY + dy,\n    item.restTransform,\n  );\n  const originalTransform =\n    item.originalTransform !== undefined ? item.originalTransform : null;\n  return new UpdateElementCommand(\n    item.element,\n    { attributes: { transform } },\n    { attributes: { transform: originalTransform } },\n  );\n}\n\nfunction getAttrInfo(element: Element, bounds: DOMRect) {\n  const attrs = getAttributes(\n    element as SVGElement,\n    ['x', 'y', 'data-x', 'data-y'],\n    false,\n  );\n  const hasX = attrs.x !== null && attrs.x !== undefined;\n  const hasY = attrs.y !== null && attrs.y !== undefined;\n  const hasDataX = attrs['data-x'] !== null && attrs['data-x'] !== undefined;\n  const hasDataY = attrs['data-y'] !== null && attrs['data-y'] !== undefined;\n\n  const parseNumber = (value: string | null | undefined, fallback: number) => {\n    const num = value !== null && value !== undefined ? Number(value) : NaN;\n    return Number.isFinite(num) ? num : fallback;\n  };\n\n  const xFromAttr = parseNumber(attrs.x, NaN);\n  const yFromAttr = parseNumber(attrs.y, NaN);\n  const xFromData = parseNumber(attrs['data-x'], NaN);\n  const yFromData = parseNumber(attrs['data-y'], NaN);\n  const x = Number.isFinite(xFromAttr)\n    ? xFromAttr\n    : Number.isFinite(xFromData)\n      ? xFromData\n      : bounds.x;\n  const y = Number.isFinite(yFromAttr)\n    ? yFromAttr\n    : Number.isFinite(yFromData)\n      ? yFromData\n      : bounds.y;\n\n  return { x, y, hasX, hasY, hasDataX, hasDataY };\n}\n\nfunction getTransformInfo(element: SVGElement) {\n  const transform = element.getAttribute('transform');\n  if (transform === null) return null;\n\n  const match = transform.match(\n    /translate\\(\\s*([-\\d.]+)(?:[ ,]\\s*([-\\d.]+))?\\s*\\)/i,\n  );\n  if (!match) {\n    const before = transform.trim();\n    return {\n      x: 0,\n      y: 0,\n      rest: { before, after: '' },\n      original: transform,\n    };\n  }\n\n  const x = Number(match[1]) || 0;\n  const y = match[2] !== undefined ? Number(match[2]) || 0 : 0;\n  const start = match.index ?? 0;\n  const before = transform.slice(0, start).trim();\n  const after = transform.slice(start + match[0].length).trim();\n  const rest = { before, after };\n  return { x, y, rest, original: transform };\n}\n\nfunction composeTransform(x: number, y: number, rest?: TransformParts) {\n  const translate = `translate(${x}, ${y})`;\n  const parts = [rest?.before, translate, rest?.after].filter(\n    (part) => part && part.length,\n  );\n  return parts.join(' ');\n}\n","import type {\n  TextAttributes,\n  TextHorizontalAlign,\n  TextVerticalAlign,\n} from '../../../../types';\nimport { injectStyleOnce } from '../../../../utils';\nimport { UpdateElementCommand } from '../../../commands';\nimport { Button, IconButton, Popover, TEXT_ICONS } from '../../components';\nimport type { EditItem } from './types';\n\n// \nconst GRID_CLASS = 'infographic-font-align-grid';\nconst GRID_STYLE_ID = 'infographic-font-align-grid-style';\n\nconst HORIZONTAL_ALIGN_OPTIONS = [\n  { icon: TEXT_ICONS.alignLeft, align: 'LEFT' },\n  { icon: TEXT_ICONS.alignCenter, align: 'CENTER' },\n  { icon: TEXT_ICONS.alignRight, align: 'RIGHT' },\n] as const;\n\nconst VERTICAL_ALIGN_OPTIONS = [\n  { icon: TEXT_ICONS.alignTop, align: 'TOP' },\n  { icon: TEXT_ICONS.alignMiddle, align: 'MIDDLE' },\n  { icon: TEXT_ICONS.alignBottom, align: 'BOTTOM' },\n] as const;\n\nconst GRID_STYLES = `\n.${GRID_CLASS} {\n  display: grid;\n  grid-template-columns: repeat(3, 32px);\n  grid-auto-rows: 32px;\n  gap: 2px;\n}\n`;\n\n// \ntype AlignState = {\n  horizontal: TextHorizontalAlign | undefined;\n  vertical: TextVerticalAlign | undefined;\n};\n\ntype AlignOption<T> = {\n  icon: any;\n  align: T;\n};\n\nexport const FontAlign: EditItem<TextAttributes> = (\n  selection,\n  attrs,\n  commander,\n) => {\n  injectStyleOnce(GRID_STYLE_ID, GRID_STYLES);\n\n  const state: AlignState = {\n    horizontal: attrs['data-horizontal-align'],\n    vertical: attrs['data-vertical-align'],\n  };\n\n  const button = IconButton({ icon: TEXT_ICONS.align });\n\n  const content = createAlignContent(state, (align) => {\n    const attributes: Partial<TextAttributes> = {};\n    if (align.horizontal)\n      attributes['data-horizontal-align'] = align.horizontal;\n    if (align.vertical) attributes['data-vertical-align'] = align.vertical;\n\n    if (!Object.keys(attributes).length) return;\n\n    commander.executeBatch(\n      selection.map(\n        (text) =>\n          new UpdateElementCommand(text, {\n            attributes,\n          }),\n      ),\n    );\n  });\n\n  return Popover({\n    target: button,\n    content,\n    placement: 'top',\n    offset: 12,\n  });\n};\n\nfunction createAlignContent(\n  state: AlignState,\n  onAlignChange: (align: AlignState) => void,\n) {\n  const content = document.createElement('div');\n  content.classList.add(GRID_CLASS);\n\n  const buttons: Record<string, Button> = {};\n\n  const updateAllButtons = () => {\n    Object.entries(buttons).forEach(([align, button]) => {\n      const isActive = align === state.horizontal || align === state.vertical;\n      button.setActivate(isActive);\n    });\n  };\n\n  const createButtons = <T extends string>(\n    options: ReadonlyArray<AlignOption<T>>,\n    stateKey: keyof AlignState,\n  ) => {\n    options.forEach(({ icon, align }) => {\n      const button = IconButton({\n        icon,\n        onClick: () => {\n          if (state[stateKey] === align) return;\n\n          Object.assign(state, { [stateKey]: align });\n\n          updateAllButtons();\n          onAlignChange({ ...state });\n        },\n        activate: align === state[stateKey],\n      });\n      buttons[align] = button;\n      content.appendChild(button);\n    });\n  };\n\n  createButtons(HORIZONTAL_ALIGN_OPTIONS, 'horizontal');\n  createButtons(VERTICAL_ALIGN_OPTIONS, 'vertical');\n\n  return content;\n}\n","import type { TextAttributes } from '../../../../types';\nimport { hasColor, injectStyleOnce } from '../../../../utils';\nimport { UpdateElementCommand } from '../../../commands';\nimport { ColorPicker, Popover } from '../../components';\nimport type { EditItem } from './types';\n\nconst FONT_COLOR_BUTTON_CLASS = 'infographic-font-color-btn';\nconst FONT_COLOR_STYLE_ID = 'infographic-font-color-style';\nconst DEFAULT_COLOR = '#1f1f1f';\n\nexport const FontColor: EditItem<TextAttributes> = (\n  selection,\n  attrs,\n  commander,\n) => {\n  ensureFontColorStyles();\n\n  const color = normalizeColor(attrs.fill);\n  const isMixed = attrs.fill === undefined && selection.length > 1;\n\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.classList.add(FONT_COLOR_BUTTON_CLASS);\n  setButtonColor(button, color ?? DEFAULT_COLOR, isMixed);\n\n  const picker = ColorPicker({\n    value: color ?? DEFAULT_COLOR,\n    onChange: (nextColor) => {\n      setButtonColor(button, nextColor, false);\n      commander.executeBatch(\n        selection.map(\n          (text) =>\n            new UpdateElementCommand(text, {\n              attributes: { fill: nextColor },\n            }),\n        ),\n      );\n    },\n  });\n\n  return Popover({\n    target: button,\n    content: picker,\n    placement: ['top', 'bottom'],\n    offset: 12,\n    trigger: 'hover',\n    closeOnOutsideClick: true,\n    open: false,\n    padding: 0,\n  });\n};\n\nfunction normalizeColor(fill?: TextAttributes['fill']) {\n  if (!fill) return undefined;\n  return hasColor(fill) ? fill : undefined;\n}\n\nfunction setButtonColor(\n  button: HTMLButtonElement,\n  color: string,\n  mixed: boolean,\n) {\n  button.style.setProperty('--infographic-font-color', color);\n  if (mixed) button.setAttribute('data-mixed', 'true');\n  else button.removeAttribute('data-mixed');\n}\n\nfunction ensureFontColorStyles() {\n  injectStyleOnce(\n    FONT_COLOR_STYLE_ID,\n    `\n.${FONT_COLOR_BUTTON_CLASS} {\n  position: relative;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  border: none;\n  background: #fff;\n  cursor: pointer;\n  transition: box-shadow 0.2s ease, border-color 0.2s ease;\n}\n.${FONT_COLOR_BUTTON_CLASS}::after {\n  content: '';\n  position: absolute;\n  inset: 6px;\n  border-radius: 50%;\n  background: var(--infographic-font-color, ${DEFAULT_COLOR});\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);\n}\n.${FONT_COLOR_BUTTON_CLASS}[data-mixed=\"true\"]::after {\n  background: repeating-linear-gradient(\n    45deg,\n    #d9d9d9 0,\n    #d9d9d9 6px,\n    #f5f5f5 6px,\n    #f5f5f5 12px\n  );\n}\n`,\n  );\n}\n","import { getFonts } from '../../../../renderer';\nimport type { TextAttributes } from '../../../../types';\nimport {\n  decodeFontFamily,\n  encodeFontFamily,\n  injectStyleOnce,\n} from '../../../../utils';\nimport { UpdateElementCommand } from '../../../commands';\nimport { IconButton, Popover, TEXT_ICONS } from '../../components';\nimport type { EditItem } from './types';\n\nconst FONT_LIST_CLASS = 'infographic-font-family-list';\nconst FONT_OPTION_CLASS = `${FONT_LIST_CLASS}__option`;\nconst FONT_LIST_STYLE_ID = 'infographic-font-family-list-style';\nconst DEFAULT_FONT_LABEL = '';\n\nexport const FontFamily: EditItem<TextAttributes> = (\n  selection,\n  attrs,\n  commander,\n) => {\n  ensureFontFamilyListStyle();\n\n  const fonts = getFonts();\n  const current = normalizeFontFamily(attrs['font-family']);\n\n  const options = fonts.map((font) => ({\n    label: font.name || font.fontFamily,\n    value: font.fontFamily,\n  }));\n  if (\n    !options.some((option) => normalizeFontFamily(option.value) === current)\n  ) {\n    options.unshift({\n      label: DEFAULT_FONT_LABEL,\n      value: current,\n    });\n  }\n\n  let selected = current;\n  const content = createFontList(options, selected, (value) => {\n    if (selected === value) return;\n    selected = value;\n    commander.executeBatch(\n      selection.map(\n        (text) =>\n          new UpdateElementCommand(text, {\n            attributes: { 'font-family': decodeFontFamily(value) },\n          }),\n      ),\n    );\n  });\n\n  const button = IconButton({ icon: TEXT_ICONS.fontFamily });\n\n  const popover = Popover({\n    target: button,\n    content,\n    placement: ['top', 'bottom'],\n    offset: 12,\n    trigger: 'hover',\n    closeOnOutsideClick: true,\n    open: false,\n    padding: 0,\n  });\n\n  return popover;\n};\n\nfunction createFontList(\n  options: { label: string; value: string }[],\n  selected: string | undefined,\n  onChange: (value: string) => void,\n) {\n  const content = document.createElement('div');\n  content.classList.add(FONT_LIST_CLASS);\n\n  const buttons: Record<string, HTMLButtonElement> = {};\n\n  const updateAllButtons = (active?: string) => {\n    Object.entries(buttons).forEach(([value, button]) => {\n      if (value === active) button.setAttribute('data-activate', 'true');\n      else button.removeAttribute('data-activate');\n    });\n  };\n\n  options.forEach(({ label, value }) => {\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.classList.add(FONT_OPTION_CLASS);\n    button.textContent = label;\n    button.style.fontFamily = value;\n    if (value === selected) button.setAttribute('data-activate', 'true');\n    button.addEventListener('click', () => {\n      if (selected === value) return;\n      selected = value;\n      updateAllButtons(selected);\n      onChange(value);\n    });\n    buttons[value] = button;\n    content.appendChild(button);\n  });\n\n  return content;\n}\n\nfunction normalizeFontFamily(font: TextAttributes['font-family']) {\n  if (!font) return '';\n  if (Array.isArray(font)) return encodeFontFamily(font.join(', '));\n  return encodeFontFamily(String(font));\n}\n\nfunction ensureFontFamilyListStyle() {\n  injectStyleOnce(\n    FONT_LIST_STYLE_ID,\n    `\n.${FONT_LIST_CLASS} {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  padding: 4px;\n  min-width: 180px;\n  max-height: 220px;\n  overflow-y: auto;\n}\n.${FONT_OPTION_CLASS} {\n  width: 100%;\n  text-align: left;\n  padding: 6px 10px;\n  border: none;\n  border-radius: 6px;\n  background: #fff;\n  cursor: pointer;\n  font-size: 12px;\n  color: #000000d9;\n  transition: background-color 0.2s ease, color 0.2s ease;\n}\n.${FONT_OPTION_CLASS}:hover {\n  background: #f5f5f5;\n}\n.${FONT_OPTION_CLASS}[data-activate=\"true\"] {\n  background: #e6f4ff;\n  color: #0958d9;\n}\n`,\n  );\n}\n","import type { TextAttributes } from '../../../../types';\nimport { injectStyleOnce } from '../../../../utils';\nimport { UpdateElementCommand } from '../../../commands';\nimport { IconButton, Popover, TEXT_ICONS } from '../../components';\nimport type { Button } from '../../components/button';\nimport type { Icon } from '../../components/icons';\nimport type { EditItem } from './types';\n\nconst FONT_SIZE_CLASS = 'infographic-font-size-grid';\nconst FONT_SIZE_STYLE_ID = 'infographic-font-size-grid-style';\n\nconst FONT_SIZE_OPTIONS = [\n  { label: 'XS', value: 12 },\n  { label: 'S', value: 14 },\n  { label: 'M', value: 16 },\n  { label: 'L', value: 20 },\n  { label: 'XL', value: 24 },\n] as const;\n\nconst FONT_SIZE_STYLES = `\n.${FONT_SIZE_CLASS} {\n  display: grid;\n  grid-template-columns: repeat(5, 32px);\n  grid-auto-rows: 32px;\n  gap: 2px;\n}\n`;\n\nexport const FontSize: EditItem<TextAttributes> = (\n  selection,\n  attrs,\n  commander,\n) => {\n  injectStyleOnce(FONT_SIZE_STYLE_ID, FONT_SIZE_STYLES);\n\n  const button = IconButton({ icon: TEXT_ICONS.fontSize });\n  const currentSize = normalizeFontSize(attrs['font-size']);\n  const content = createFontSizeContent(currentSize, (size) => {\n    commander.executeBatch(\n      selection.map(\n        (text) =>\n          new UpdateElementCommand(text, {\n            attributes: { 'font-size': size },\n          }),\n      ),\n    );\n  });\n\n  return Popover({\n    target: button,\n    content,\n    placement: 'top',\n    offset: 12,\n  });\n};\n\nfunction createFontSizeContent(\n  defaultSize: number,\n  onSizeChange: (size: number) => void,\n) {\n  const content = document.createElement('div');\n  content.classList.add(FONT_SIZE_CLASS);\n\n  let selected = defaultSize;\n  const buttons: Record<string, Button> = {};\n\n  const updateAllButtons = () => {\n    Object.entries(buttons).forEach(([value, button]) => {\n      const isActive = Number(value) === selected;\n      button.setActivate(isActive);\n    });\n  };\n\n  FONT_SIZE_OPTIONS.forEach(({ label, value }) => {\n    const button = IconButton({\n      icon: createLabelIcon(label),\n      onClick: () => {\n        if (selected === value) return;\n        selected = value;\n        updateAllButtons();\n        onSizeChange(value);\n      },\n      activate: value === selected,\n    });\n\n    buttons[String(value)] = button;\n    content.appendChild(button);\n  });\n\n  return content;\n}\n\nfunction createLabelIcon(label: string): Icon {\n  return () => {\n    const size = '1.2em';\n    const span = document.createElement('span');\n    span.textContent = label;\n    span.style.display = 'inline-flex';\n    span.style.alignItems = 'center';\n    span.style.justifyContent = 'center';\n    span.style.width = size;\n    span.style.height = size;\n    span.style.fontSize = '12px';\n    return span;\n  };\n}\n\nfunction normalizeFontSize(size: TextAttributes['font-size']) {\n  const DEFAULT_SIZE = 12;\n  if (typeof size === 'number') return size;\n  if (typeof size === 'string') {\n    const num = parseFloat(size);\n    return Number.isFinite(num) ? num : DEFAULT_SIZE;\n  }\n  return DEFAULT_SIZE;\n}\n","import type { IconAttributes } from '../../../../types';\nimport { hasColor, injectStyleOnce } from '../../../../utils';\nimport { UpdateElementCommand } from '../../../commands';\nimport { ColorPicker, Popover } from '../../components';\nimport type { EditItem } from './types';\n\nconst ICON_COLOR_BUTTON_CLASS = 'infographic-icon-color-btn';\nconst ICON_COLOR_STYLE_ID = 'infographic-icon-color-style';\nconst DEFAULT_COLOR = '#1f1f1f';\n\nexport const IconColor: EditItem<IconAttributes> = (\n  selection,\n  attrs,\n  commander,\n) => {\n  ensureIconColorStyles();\n\n  const color = normalizeColor(attrs.fill);\n  const isMixed = attrs.fill === undefined && selection.length > 1;\n\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.classList.add(ICON_COLOR_BUTTON_CLASS);\n  setButtonColor(button, color ?? DEFAULT_COLOR, isMixed);\n\n  const picker = ColorPicker({\n    value: color ?? DEFAULT_COLOR,\n    onChange: (nextColor) => {\n      setButtonColor(button, nextColor, false);\n      commander.executeBatch(\n        selection.map(\n          (icon) =>\n            new UpdateElementCommand(icon, {\n              attributes: { fill: nextColor },\n            }),\n        ),\n      );\n    },\n  });\n\n  return Popover({\n    target: button,\n    content: picker,\n    placement: ['top', 'bottom'],\n    offset: 12,\n    trigger: 'hover',\n    closeOnOutsideClick: true,\n    open: false,\n    padding: 0,\n  });\n};\n\nfunction normalizeColor(fill?: IconAttributes['fill']) {\n  if (!fill) return undefined;\n  return hasColor(fill) ? fill : undefined;\n}\n\nfunction setButtonColor(\n  button: HTMLButtonElement,\n  color: string,\n  mixed: boolean,\n) {\n  button.style.setProperty('--infographic-icon-color', color);\n  if (mixed) button.setAttribute('data-mixed', 'true');\n  else button.removeAttribute('data-mixed');\n}\n\nfunction ensureIconColorStyles() {\n  injectStyleOnce(\n    ICON_COLOR_STYLE_ID,\n    `\n.${ICON_COLOR_BUTTON_CLASS} {\n  position: relative;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  border: none;\n  background: #fff;\n  cursor: pointer;\n  transition: box-shadow 0.2s ease, border-color 0.2s ease;\n}\n.${ICON_COLOR_BUTTON_CLASS}::after {\n  content: '';\n  position: absolute;\n  inset: 6px;\n  border-radius: 50%;\n  background: var(--infographic-icon-color, ${DEFAULT_COLOR});\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);\n}\n.${ICON_COLOR_BUTTON_CLASS}[data-mixed=\"true\"]::after {\n  background: repeating-linear-gradient(\n    45deg,\n    #d9d9d9 0,\n    #d9d9d9 6px,\n    #f5f5f5 6px,\n    #f5f5f5 12px\n  );\n}\n`,\n  );\n}\n","import { COMPONENT_ROLE } from '../../../constants';\nimport { getCombinedBounds } from '../../../jsx';\nimport { IconElement, TextElement } from '../../../types';\nimport {\n  getCommonAttrs,\n  getIconAttrs,\n  getTextElementProps,\n  isEditableText,\n  isGeometryElement,\n  isIconElement,\n  setElementRole,\n} from '../../../utils';\nimport type {\n  IPlugin,\n  PluginInitOptions,\n  Selection,\n  SelectionChangePayload,\n} from '../../types';\nimport { Plugin } from '../base';\nimport {\n  ElementAlign,\n  FontAlign,\n  FontColor,\n  FontFamily,\n  FontSize,\n  IconColor,\n} from './edit-items';\n\nexport interface EditBarOptions {\n  style?: Partial<CSSStyleDeclaration>;\n  className?: string;\n  getContainer?: HTMLElement | (() => HTMLElement);\n}\n\ntype EditItem = HTMLElement;\n\nexport class EditBar extends Plugin implements IPlugin {\n  name = 'edit-bar';\n  private container?: HTMLDivElement;\n  private selection: Selection = [];\n\n  constructor(private options?: EditBarOptions) {\n    super();\n  }\n\n  init(options: PluginInitOptions) {\n    super.init(options);\n    const { emitter } = options;\n    emitter.on('selection:change', this.handleSelectionChanged);\n    emitter.on('selection:geometrychange', this.handleGeometryChanged);\n    emitter.on('history:change', this.handleHistoryChanged);\n  }\n\n  destroy() {\n    const { emitter } = this;\n    emitter.off('selection:change', this.handleSelectionChanged);\n    emitter.off('selection:geometrychange', this.handleGeometryChanged);\n    emitter.off('history:change', this.handleHistoryChanged);\n    this.container?.remove();\n  }\n\n  private handleSelectionChanged = ({ next }: SelectionChangePayload) => {\n    this.selection = next;\n    if (next.length === 0) {\n      if (this.container) hideContainer(this.container);\n      return;\n    }\n    const container = this.getOrCreateEditBar();\n    const items = this.getEditItems(next);\n\n    if (items.length === 0) {\n      hideContainer(container);\n      return;\n    }\n\n    setContainerItems(container, items);\n\n    this.placeEditBar(container, next);\n    showContainer(container);\n  };\n\n  private handleGeometryChanged = ({\n    target,\n  }: {\n    type: 'selection:geometrychange';\n    target: Selection[number];\n  }) => {\n    if (!this.selection.includes(target) || !this.container) return;\n    this.placeEditBar(this.container, this.selection);\n    showContainer(this.container);\n  };\n\n  private handleHistoryChanged = () => {\n    if (!this.container || this.selection.length === 0) return;\n    this.placeEditBar(this.container, this.selection);\n    showContainer(this.container);\n  };\n\n  protected getEditItems(selection: Selection) {\n    let hasText = false;\n    let hasIcon = false;\n    let hasGeometry = false;\n\n    for (const item of selection) {\n      if (isEditableText(item)) hasText = true;\n      else if (isIconElement(item)) hasIcon = true;\n      else if (isGeometryElement(item)) hasGeometry = true;\n\n      if (hasText && hasIcon && hasGeometry) break;\n    }\n    // Only text\n    if (hasText && !hasIcon && !hasGeometry) {\n      if (selection.length === 1) {\n        return this.getTextEditItems(selection[0] as TextElement);\n      } else {\n        return this.getTextCollectionEditItems(selection as TextElement[]);\n      }\n    }\n    // Only icon\n    if (!hasText && hasIcon && !hasGeometry) {\n      if (selection.length === 1) {\n        return this.getIconEditItems(selection);\n      } else {\n        return this.getIconCollectionEditItems(selection);\n      }\n    }\n    // Only geometry\n    if (!hasText && !hasIcon && hasGeometry) {\n      if (selection.length === 1) {\n        return this.getGeometryEditItems(selection);\n      } else {\n        return this.getGeometryCollectionEditItems(selection);\n      }\n    }\n    // Mixed or multiple elements\n    return this.getElementCollectionEditItems(selection);\n  }\n\n  protected getOrCreateEditBar() {\n    if (this.container) return this.container;\n\n    const { style, className } = this.options || {};\n    const container = document.createElement('div');\n    Object.assign(container.style, {\n      visibility: 'hidden',\n      position: 'absolute',\n      left: '0',\n      top: '0',\n      display: 'flex',\n      flexFlow: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '40px',\n      minWidth: '40px',\n      minHeight: '40px',\n      borderRadius: '8px',\n      padding: '0 4px',\n      backgroundColor: '#fff',\n      border: '1px solid rgba(239, 240, 240, 0.9)',\n      zIndex: '9999',\n      boxShadow:\n        'rgba(0, 0, 0, 0.08) 0px 1px 2px -2px, rgba(0, 0, 0, 0.04) 0px 2px 6px, rgba(0, 0, 0, 0.02) 0px 4px 8px 1px',\n      ...style,\n    } satisfies Partial<CSSStyleDeclaration>);\n    if (className) {\n      container.classList.add(className);\n    }\n\n    setElementRole(container, COMPONENT_ROLE);\n\n    this.container = container;\n\n    const { getContainer } = this.options || {};\n    const resolvedContainer =\n      typeof getContainer === 'function' ? getContainer() : getContainer;\n    const containerParent = resolvedContainer ?? document.body;\n\n    containerParent?.appendChild(container);\n\n    return container;\n  }\n\n  protected getTextEditItems(text: TextElement): EditItem[] {\n    const { attributes = {} } = getTextElementProps(text);\n    return [FontColor, FontSize, FontAlign, FontFamily].map((item) =>\n      item([text], attributes, this.commander),\n    );\n  }\n\n  protected getTextCollectionEditItems(selection: TextElement[]): EditItem[] {\n    const attrs = getCommonAttrs(\n      selection.map((text) => getTextElementProps(text).attributes || {}),\n    );\n    const items = [FontColor, FontSize, FontAlign, FontFamily].map((item) =>\n      item(selection, attrs, this.commander),\n    );\n    const commonItems = this.getElementCollectionEditItems(selection);\n    return [...items, ...commonItems];\n  }\n\n  protected getIconEditItems(selection: Selection): EditItem[] {\n    const attrs = getIconAttrs(selection[0] as IconElement);\n    return [IconColor].map((item) => item(selection, attrs, this.commander));\n  }\n  protected getIconCollectionEditItems(selection: Selection): EditItem[] {\n    const attrs = getCommonAttrs(\n      selection.map((icon) => getIconAttrs(icon as IconElement)),\n    );\n    return [IconColor].map((item) => item(selection, attrs, this.commander));\n  }\n\n  protected getGeometryEditItems(_selection: Selection): EditItem[] {\n    return [];\n  }\n\n  protected getGeometryCollectionEditItems(selection: Selection): EditItem[] {\n    const commonItems = this.getElementCollectionEditItems(selection);\n    return [...commonItems];\n  }\n\n  protected getElementCollectionEditItems(selection: Selection): EditItem[] {\n    if (selection.length <= 1) return [];\n    return [\n      ElementAlign(selection, {}, this.commander, {\n        enableDistribution: selection.length > 2,\n      }),\n    ];\n  }\n\n  private placeEditBar(container: HTMLDivElement, selection: Selection) {\n    if (selection.length === 0) return;\n\n    const combinedBounds = getCombinedBounds(\n      selection.map((element) => element.getBoundingClientRect()),\n    );\n\n    const offsetParent =\n      (container.offsetParent as HTMLElement | null) ??\n      (document.documentElement as HTMLElement);\n    const viewportHeight = document.documentElement.clientHeight;\n    const viewportWidth = document.documentElement.clientWidth;\n    const containerRect = container.getBoundingClientRect();\n    const offset = 8;\n    const anchorTop = {\n      x: combinedBounds.x + combinedBounds.width / 2,\n      y: combinedBounds.y,\n    };\n    const anchorBottom = {\n      x: anchorTop.x,\n      y: combinedBounds.y + combinedBounds.height,\n    };\n\n    const clamp = (value: number, min: number, max: number) =>\n      Math.min(Math.max(value, min), max);\n\n    // Use viewport space, not container space, to decide whether we have enough room above.\n    const spaceAbove = anchorTop.y - offset;\n    const spaceBelow = viewportHeight - anchorBottom.y - offset;\n    const shouldPlaceAbove =\n      spaceAbove >= containerRect.height || spaceAbove >= spaceBelow;\n\n    if (\n      offsetParent === document.body ||\n      offsetParent === document.documentElement\n    ) {\n      const scrollX = window.scrollX || document.documentElement.scrollLeft;\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      let left = scrollX + anchorTop.x - containerRect.width / 2;\n      left = clamp(\n        left,\n        scrollX,\n        scrollX + Math.max(viewportWidth - containerRect.width, 0),\n      );\n\n      let top = shouldPlaceAbove\n        ? scrollY + anchorTop.y - containerRect.height - offset\n        : scrollY + anchorBottom.y + offset;\n      top = clamp(\n        top,\n        scrollY,\n        scrollY + Math.max(viewportHeight - containerRect.height, 0),\n      );\n\n      container.style.left = `${left}px`;\n      container.style.top = `${top}px`;\n      return;\n    }\n\n    const parentRect = offsetParent.getBoundingClientRect();\n    let left = anchorTop.x - parentRect.left - containerRect.width / 2;\n    left = clamp(left, 0, Math.max(parentRect.width - containerRect.width, 0));\n\n    let top = shouldPlaceAbove\n      ? anchorTop.y - parentRect.top - containerRect.height - offset\n      : anchorBottom.y - parentRect.top + offset;\n    top = clamp(top, 0, Math.max(parentRect.height - containerRect.height, 0));\n\n    container.style.left = `${left}px`;\n    container.style.top = `${top}px`;\n  }\n}\n\nfunction showContainer(container: HTMLDivElement) {\n  container.style.visibility = 'visible';\n}\n\nfunction hideContainer(container: HTMLDivElement) {\n  container.style.visibility = 'hidden';\n}\n\nfunction setContainerItems(container: HTMLDivElement, items: EditItem[]) {\n  container.innerHTML = '';\n  items.forEach((node) => {\n    container.appendChild(node);\n  });\n}\n","import { COMPONENT_ROLE } from '../../constants';\nimport {\n  getBoundViewBox,\n  getViewBox,\n  injectStyleOnce,\n  parsePadding,\n  setElementRole,\n  viewBoxToString,\n} from '../../utils';\nimport { UpdateOptionsCommand } from '../commands';\nimport type { IPlugin, PluginInitOptions } from '../types';\nimport { Plugin } from './base';\nimport { IconButton } from './components';\nimport { RESET_ICON } from './components/icons';\n\nconst MARGIN_X = 25;\nconst MARGIN_Y = 25;\nconst BUTTON_SIZE = 40;\nexport interface ResetViewBoxOptions {\n  style?: Partial<CSSStyleDeclaration>;\n  className?: string;\n  getContainer?: HTMLElement | (() => HTMLElement);\n}\n\nexport class ResetViewBox extends Plugin implements IPlugin {\n  name = 'reset-viewBox';\n\n  private originViewBox!: string;\n  private resetButton?: HTMLButtonElement;\n  private viewBoxChanged = false;\n  private unregisterSync?: () => void;\n\n  constructor(private options?: ResetViewBoxOptions) {\n    super();\n  }\n\n  init(options: PluginInitOptions) {\n    super.init(options);\n\n    // Initialize originViewBox\n    this.ensureButtonStyle();\n    this.updateOriginViewBox();\n\n    this.unregisterSync = this.editor.registerSync(\n      'viewBox',\n      this.handleViewBoxChange,\n    );\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  destroy(): void {\n    this.unregisterSync?.();\n    window.removeEventListener('resize', this.handleResize);\n    this.removeButton();\n  }\n\n  private handleResize = () => {\n    this.updateOriginViewBox();\n    this.updatePosition();\n  };\n\n  private updateOriginViewBox() {\n    const svg = this.editor.getDocument();\n    // In Node env or before render, fallback to current viewBox attribute\n    if (!svg.getBBox) {\n      this.originViewBox = viewBoxToString(getViewBox(svg));\n      return;\n    }\n\n    // In Browser, calculate fit\n    const { padding } = this.state.getOptions();\n    this.originViewBox = getBoundViewBox(svg, parsePadding(padding));\n  }\n\n  private handleViewBoxChange = (viewBox?: string) => {\n    const svg = this.editor.getDocument();\n\n    this.viewBoxChanged = viewBox !== this.originViewBox;\n\n    if (!this.viewBoxChanged) {\n      if (this.resetButton) this.hideButton(this.resetButton);\n      return;\n    }\n    const button = this.getOrCreateResetButton();\n\n    this.placeButton(button, svg);\n    this.showButton(button);\n  };\n\n  protected getOrCreateResetButton = () => {\n    if (this.resetButton) return this.resetButton;\n\n    const { style, className } = this.options || {};\n\n    const button = IconButton({\n      icon: RESET_ICON,\n      onClick: this.resetViewBox,\n    });\n\n    button.classList.add(RESET_BUTTON_CLASS);\n\n    if (className) {\n      button.classList.add(className);\n    }\n\n    if (style) {\n      Object.assign(button.style, style);\n    }\n\n    setElementRole(button, COMPONENT_ROLE);\n\n    this.resetButton = button;\n\n    const { getContainer } = this.options || {};\n    const resolvedContainer =\n      typeof getContainer === 'function' ? getContainer() : getContainer;\n    const containerParent = resolvedContainer ?? document.body;\n\n    containerParent?.appendChild(button);\n\n    return button;\n  };\n\n  /** Get CSS transform scale of an element */\n  private getTransformScale = (\n    element: HTMLElement,\n  ): { scaleX: number; scaleY: number } => {\n    const rect = element.getBoundingClientRect();\n    const scaleX =\n      element.offsetWidth > 0 ? rect.width / element.offsetWidth : 1;\n    const scaleY =\n      element.offsetHeight > 0 ? rect.height / element.offsetHeight : 1;\n    return { scaleX, scaleY };\n  };\n\n  /** Find the nearest stable overflow container */\n  private findStableContainer = (svg: SVGSVGElement): HTMLElement | null => {\n    let current: Element | null = svg.parentElement;\n    while (current) {\n      if (current instanceof HTMLElement) {\n        const style = window.getComputedStyle(current);\n        // Look for overflow container or positioned element as stable reference\n        if (\n          (style.overflow && style.overflow !== 'visible') ||\n          (style.overflowX && style.overflowX !== 'visible') ||\n          (style.overflowY && style.overflowY !== 'visible')\n        ) {\n          return current;\n        }\n      }\n      current = current.parentElement;\n    }\n    return null;\n  };\n\n  private placeButton = (button: HTMLButtonElement, svg: SVGSVGElement) => {\n    if (!svg.isConnected) return;\n    const svgRect = svg.getBoundingClientRect();\n    const offsetParent =\n      (button.offsetParent as HTMLElement | null) ??\n      (document.documentElement as HTMLElement);\n\n    // Use stable container bounds to clamp button position when SVG overflows\n    const stableContainer = this.findStableContainer(svg);\n    const containerRect = stableContainer?.getBoundingClientRect();\n\n    // Prefer SVG bounds, but clamp to container if SVG overflows\n    const effectiveRect = containerRect\n      ? {\n          right: Math.min(svgRect.right, containerRect.right),\n          bottom: Math.min(svgRect.bottom, containerRect.bottom),\n        }\n      : svgRect;\n\n    if (\n      offsetParent === document.body ||\n      offsetParent === document.documentElement\n    ) {\n      const scrollX = window.scrollX || document.documentElement.scrollLeft;\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n\n      const left = scrollX + effectiveRect.right - MARGIN_X - BUTTON_SIZE;\n      const top = scrollY + effectiveRect.bottom - MARGIN_Y - BUTTON_SIZE;\n\n      button.style.left = `${left}px`;\n      button.style.top = `${top}px`;\n      return;\n    }\n\n    const parentRect = offsetParent.getBoundingClientRect();\n\n    // Compensate for parent transform scale\n    const { scaleX, scaleY } = this.getTransformScale(offsetParent);\n\n    // Convert to offsetParent local coordinates\n    const left =\n      (effectiveRect.right - parentRect.left) / scaleX - MARGIN_X - BUTTON_SIZE;\n    const top =\n      (effectiveRect.bottom - parentRect.top) / scaleY - MARGIN_Y - BUTTON_SIZE;\n\n    button.style.left = `${left}px`;\n    button.style.top = `${top}px`;\n  };\n  private updatePosition = () => {\n    if (this.resetButton && this.viewBoxChanged) {\n      this.placeButton(this.resetButton, this.editor.getDocument());\n    }\n  };\n\n  private resetViewBox = () => {\n    const command = new UpdateOptionsCommand({\n      viewBox: this.originViewBox,\n    });\n    void this.commander.execute(command);\n  };\n\n  private showButton = (button: HTMLButtonElement) => {\n    button.style.display = 'flex';\n    button.style.visibility = 'visible';\n  };\n\n  private hideButton = (button: HTMLButtonElement) => {\n    button.style.display = 'none';\n  };\n\n  private removeButton = () => {\n    this.viewBoxChanged = false;\n    this.resetButton?.remove();\n    this.resetButton = undefined;\n  };\n\n  private ensureButtonStyle() {\n    injectStyleOnce(\n      RESET_BUTTON_STYLE_ID,\n      `\n      button.${RESET_BUTTON_CLASS} {\n        visibility: hidden;\n        position: absolute;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: ${BUTTON_SIZE}px;\n        height: ${BUTTON_SIZE}px;\n        border-radius: 50%;\n        padding: 4px;\n        background-color: #fff;\n        border: 1px solid #e5e7eb;\n        z-index: 1000;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n        cursor: pointer;\n      }\n      `,\n    );\n  }\n}\n\nconst RESET_BUTTON_CLASS = 'infographic-reset-viewbox-btn';\nconst RESET_BUTTON_STYLE_ID = 'infographic-reset-viewbox-btn-style';\n","import type { TextElement } from '../../types';\nimport {\n  createElement,\n  getAttributes,\n  isEditableText,\n  setAttributes,\n} from '../../utils';\nimport { UpdateElementCommand } from '../commands';\nimport type {\n  IPlugin,\n  PluginInitOptions,\n  Selection,\n  SelectionChangePayload,\n} from '../types';\nimport { getElementViewportBounds } from '../utils';\nimport { Plugin } from './base';\n\ntype HandlePosition =\n  | 'top-left'\n  | 'top'\n  | 'top-right'\n  | 'right'\n  | 'bottom-right'\n  | 'bottom'\n  | 'bottom-left'\n  | 'left';\n\ntype Rect = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\nexport class ResizeElement extends Plugin implements IPlugin {\n  name = 'resize-element';\n\n  private target: TextElement | null = null;\n\n  private container?: SVGGElement;\n  private outline?: SVGRectElement;\n  private overlay?: SVGRectElement;\n  private handles: SVGElement[] = [];\n\n  private activeHandle: HandlePosition | null = null;\n  private activePointerId: number | null = null;\n  private startPointer?: DOMPoint;\n  private startRect?: Rect;\n  private startAttrs?: Rect;\n  private lastRect?: Rect;\n  private lastViewportRect?: Rect;\n\n  init(options: PluginInitOptions) {\n    super.init(options);\n    const { emitter } = options;\n    emitter.on('selection:change', this.handleSelectionChange);\n    emitter.on('selection:geometrychange', this.handleGeometryChange);\n    emitter.on('history:change', this.handleHistoryChange);\n    emitter.on('deactivated', this.handleDeactivate);\n  }\n\n  destroy() {\n    this.cancelDrag();\n    this.removeContainer();\n    const { emitter } = this;\n    emitter.off('selection:change', this.handleSelectionChange);\n    emitter.off('selection:geometrychange', this.handleGeometryChange);\n    emitter.off('history:change', this.handleHistoryChange);\n    emitter.off('deactivated', this.handleDeactivate);\n  }\n\n  private handleSelectionChange = ({ next }: SelectionChangePayload) => {\n    const only = next.length === 1 ? next[0] : null;\n    if (only && isEditableText(only)) {\n      this.target = only as TextElement;\n      this.updateHandles();\n    } else {\n      this.target = null;\n      this.hideHandles();\n      this.cancelDrag();\n    }\n  };\n\n  private handleDeactivate = () => {\n    this.target = null;\n    this.hideHandles();\n    this.cancelDrag();\n  };\n\n  private handleGeometryChange = ({\n    target,\n  }: {\n    type: 'selection:geometrychange';\n    target: Selection[number];\n  }) => {\n    if (!this.target || target !== this.target) return;\n    const rect = this.getViewportRect(this.target);\n    this.lastViewportRect = rect;\n    this.updateHandles(rect);\n  };\n\n  private handleHistoryChange = () => {\n    if (!this.target) return;\n    const rect = this.getViewportRect(this.target);\n    this.lastViewportRect = rect;\n    this.updateHandles(rect);\n  };\n\n  private ensureContainer(): SVGGElement {\n    if (this.container) return this.container;\n\n    const container = createElement<SVGGElement>('g', {\n      'pointer-events': 'none',\n    });\n    this.overlay = createElement<SVGRectElement>('rect', {\n      fill: 'rgba(51, 132, 245, 0.06)',\n      stroke: 'none',\n      'pointer-events': 'none',\n    });\n    const outline = createElement<SVGRectElement>('rect', {\n      fill: 'none',\n      stroke: '#3384F5',\n      'stroke-width': 1,\n      'stroke-dasharray': '4 2',\n      'pointer-events': 'none',\n    });\n\n    container.appendChild(this.overlay);\n    container.appendChild(outline);\n    this.outline = outline;\n\n    const handlePositions = ResizeElement.HANDLE_POSITIONS;\n    const cursors: Record<HandlePosition, string> = {\n      'top-left': 'nwse-resize',\n      top: 'ns-resize',\n      'top-right': 'nesw-resize',\n      right: 'ew-resize',\n      'bottom-right': 'nwse-resize',\n      bottom: 'ns-resize',\n      'bottom-left': 'nesw-resize',\n      left: 'ew-resize',\n    };\n\n    handlePositions.forEach((pos, index) => {\n      const isEdge =\n        pos === 'top' || pos === 'right' || pos === 'bottom' || pos === 'left';\n      const handle = isEdge\n        ? createElement<SVGLineElement>('line', {\n            stroke: 'transparent',\n            'stroke-width': ResizeElement.LINE_STROKE_WIDTH,\n          })\n        : createElement<SVGCircleElement>('circle', {\n            r: ResizeElement.HANDLE_SIZE / 2,\n            fill: '#3384F5',\n            stroke: '#fff',\n            'stroke-width': 1.5,\n          });\n      handle.style.cursor = cursors[pos];\n      handle.style.pointerEvents = 'all';\n      handle.addEventListener('pointerdown', (event) =>\n        this.handlePointerDown(event as PointerEvent, pos),\n      );\n      handle.addEventListener('click', (event) => {\n        event.stopPropagation();\n        event.preventDefault();\n      });\n      container.appendChild(handle);\n      this.handles[index] = handle;\n    });\n\n    this.editor.getDocument().appendChild(container);\n    this.container = container;\n\n    return container;\n  }\n\n  private updateHandles(rect?: Rect) {\n    if (!this.target) {\n      this.hideHandles();\n      return;\n    }\n\n    const bounds =\n      rect ||\n      this.getViewportRect(this.target) ||\n      this.lastViewportRect ||\n      null;\n    if (!bounds) {\n      this.hideHandles();\n      return;\n    }\n    this.lastViewportRect = bounds;\n\n    const container = this.ensureContainer();\n    container.style.display = 'block';\n    this.outline!.style.display = 'block';\n    setAttributes(this.outline!, bounds);\n    if (this.overlay) {\n      this.overlay.style.display = 'block';\n      setAttributes(this.overlay, bounds);\n    }\n\n    const points = this.getHandlePoints(bounds);\n    this.handles.forEach((handle, index) => {\n      const [x, y] = points[index];\n      if (handle.tagName === 'circle') {\n        setAttributes(handle, { cx: x, cy: y });\n      } else {\n        const pos = ResizeElement.HANDLE_POSITIONS[index];\n        const line = this.getHandleLine(bounds, pos);\n        setAttributes(handle, line);\n      }\n      handle.style.display = 'block';\n    });\n  }\n\n  private hideHandles() {\n    if (this.container) this.container.style.display = 'none';\n    if (this.outline) this.outline.style.display = 'none';\n    if (this.overlay) this.overlay.style.display = 'none';\n    this.handles.forEach((handle) => (handle.style.display = 'none'));\n  }\n\n  private removeContainer() {\n    this.container?.remove();\n    this.container = undefined;\n    this.outline = undefined;\n    this.overlay = undefined;\n    this.handles = [];\n  }\n\n  private handlePointerDown(event: PointerEvent, handle: HandlePosition) {\n    if (!this.target) return;\n    if (event.button !== 0 && event.pointerType === 'mouse') return;\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    const point = this.clientToElement(\n      this.target,\n      event.clientX,\n      event.clientY,\n    );\n\n    this.activeHandle = handle;\n    this.activePointerId = event.pointerId;\n    this.startPointer = point;\n    const currentRect = this.getCurrentAttributes(this.target);\n    this.startRect = currentRect;\n    this.startAttrs = { ...currentRect };\n    this.lastRect = currentRect;\n    this.lastViewportRect = this.getViewportRect(this.target);\n\n    window.addEventListener('pointermove', this.handlePointerMove);\n    window.addEventListener('pointerup', this.handlePointerUp);\n    window.addEventListener('pointercancel', this.handlePointerUp);\n  }\n\n  private handlePointerMove = (event: PointerEvent) => {\n    if (\n      !this.target ||\n      !this.startPointer ||\n      !this.startRect ||\n      !this.activeHandle ||\n      (this.activePointerId !== null &&\n        event.pointerId !== this.activePointerId)\n    ) {\n      return;\n    }\n\n    const point = this.clientToElement(\n      this.target,\n      event.clientX,\n      event.clientY,\n    );\n    const dx = point.x - this.startPointer.x;\n    const dy = point.y - this.startPointer.y;\n\n    const next = this.clampRect(\n      this.applyDelta(this.startRect, dx, dy, this.activeHandle),\n      this.activeHandle,\n    );\n    this.lastRect = next;\n\n    this.applyRect(this.target, next);\n    this.lastViewportRect = this.getViewportRect(this.target);\n    this.updateHandles(this.lastViewportRect);\n    this.emitSelectionGeometryChange();\n  };\n\n  private handlePointerUp = (event: PointerEvent) => {\n    if (\n      this.activePointerId !== null &&\n      event.pointerId !== this.activePointerId\n    ) {\n      return;\n    }\n\n    const finalRect = this.lastRect;\n    const original = this.startAttrs;\n    const changed =\n      finalRect &&\n      this.startRect &&\n      this.hasRectChanged(this.startRect, finalRect);\n\n    this.cancelDrag();\n\n    if (changed && this.target && finalRect && original) {\n      this.commander.execute(\n        new UpdateElementCommand(\n          this.target,\n          { attributes: finalRect },\n          { attributes: original },\n        ),\n      );\n      this.lastViewportRect = this.getViewportRect(this.target);\n      this.updateHandles(this.lastViewportRect);\n      this.emitSelectionGeometryChange();\n    } else if (this.target) {\n      const viewportRect =\n        this.lastViewportRect || this.getViewportRect(this.target);\n      this.updateHandles(viewportRect);\n    }\n  };\n\n  private cancelDrag() {\n    this.activeHandle = null;\n    this.activePointerId = null;\n    this.startPointer = undefined;\n    this.startRect = undefined;\n    this.startAttrs = undefined;\n    this.lastRect = undefined;\n    this.lastViewportRect = undefined;\n    window.removeEventListener('pointermove', this.handlePointerMove);\n    window.removeEventListener('pointerup', this.handlePointerUp);\n    window.removeEventListener('pointercancel', this.handlePointerUp);\n  }\n\n  private applyRect(target: TextElement, rect: Rect) {\n    setAttributes(target, {\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n    });\n  }\n\n  private getViewportRect(element: TextElement): Rect {\n    const { x, y, width, height } = getElementViewportBounds(\n      this.editor.getDocument(),\n      element,\n    );\n    return { x, y, width, height };\n  }\n\n  private clientToElement(\n    element: TextElement,\n    x: number,\n    y: number,\n  ): DOMPoint {\n    const matrix =\n      element.getScreenCTM()?.inverse() ||\n      this.editor.getDocument().getScreenCTM()?.inverse() ||\n      new DOMMatrix();\n    return new DOMPoint(x, y).matrixTransform(matrix);\n  }\n\n  private getCurrentAttributes(element: TextElement): Rect {\n    const attrs = getAttributes(element, ['x', 'y', 'width', 'height'], false);\n    const fallback = this.getViewportRect(element);\n    const getNumber = (value: string | null, backup: number) => {\n      const numeric = value !== null ? Number(value) : NaN;\n      return Number.isFinite(numeric) ? numeric : backup;\n    };\n    return {\n      x: getNumber(attrs.x, fallback.x),\n      y: getNumber(attrs.y, fallback.y),\n      width: getNumber(attrs.width, fallback.width),\n      height: getNumber(attrs.height, fallback.height),\n    };\n  }\n\n  private getHandlePoints(rect: Rect): number[][] {\n    const { x, y, width, height } = rect;\n    const cx = x + width / 2;\n    const cy = y + height / 2;\n    return [\n      [x, y], // top-left\n      [cx, y], // top\n      [x + width, y], // top-right\n      [x + width, cy], // right\n      [x + width, y + height], // bottom-right\n      [cx, y + height], // bottom\n      [x, y + height], // bottom-left\n      [x, cy], // left\n    ];\n  }\n\n  private applyDelta(\n    rect: Rect,\n    dx: number,\n    dy: number,\n    handle: HandlePosition,\n  ): Rect {\n    let { x, y, width, height } = rect;\n\n    switch (handle) {\n      case 'top-left':\n        x += dx;\n        y += dy;\n        width -= dx;\n        height -= dy;\n        break;\n      case 'top':\n        y += dy;\n        height -= dy;\n        break;\n      case 'top-right':\n        y += dy;\n        width += dx;\n        height -= dy;\n        break;\n      case 'right':\n        width += dx;\n        break;\n      case 'bottom-right':\n        width += dx;\n        height += dy;\n        break;\n      case 'bottom':\n        height += dy;\n        break;\n      case 'bottom-left':\n        x += dx;\n        width -= dx;\n        height += dy;\n        break;\n      case 'left':\n        x += dx;\n        width -= dx;\n        break;\n    }\n\n    return { x, y, width, height };\n  }\n\n  private clampRect(rect: Rect, handle: HandlePosition): Rect {\n    let { x, y, width, height } = rect;\n\n    if (width < ResizeElement.MIN_SIZE) {\n      const diff = ResizeElement.MIN_SIZE - width;\n      if (\n        handle === 'top-left' ||\n        handle === 'bottom-left' ||\n        handle === 'left'\n      )\n        x -= diff;\n      width = ResizeElement.MIN_SIZE;\n    }\n\n    if (height < ResizeElement.MIN_SIZE) {\n      const diff = ResizeElement.MIN_SIZE - height;\n      if (handle === 'top-left' || handle === 'top-right' || handle === 'top')\n        y -= diff;\n      height = ResizeElement.MIN_SIZE;\n    }\n\n    return { x, y, width, height };\n  }\n\n  private hasRectChanged(a: Rect, b: Rect) {\n    return (\n      Math.abs(a.x - b.x) > 0.5 ||\n      Math.abs(a.y - b.y) > 0.5 ||\n      Math.abs(a.width - b.width) > 0.5 ||\n      Math.abs(a.height - b.height) > 0.5\n    );\n  }\n\n  private emitSelectionGeometryChange() {\n    if (this.target && this.lastViewportRect) {\n      this.emitter.emit('selection:geometrychange', {\n        type: 'selection:geometrychange',\n        target: this.target,\n        rect: this.lastViewportRect,\n      });\n    }\n  }\n\n  private getHandleLine(rect: Rect, pos: HandlePosition) {\n    const { x, y, width, height } = rect;\n    switch (pos) {\n      case 'top':\n        return { x1: x, y1: y, x2: x + width, y2: y };\n      case 'right':\n        return { x1: x + width, y1: y, x2: x + width, y2: y + height };\n      case 'bottom':\n        return { x1: x, y1: y + height, x2: x + width, y2: y + height };\n      case 'left':\n      default:\n        return { x1: x, y1: y, x2: x, y2: y + height };\n    }\n  }\n\n  private static readonly HANDLE_SIZE = 10;\n  private static readonly LINE_STROKE_WIDTH = 8;\n  private static readonly MIN_SIZE = 1;\n  private static readonly HANDLE_POSITIONS: HandlePosition[] = [\n    'top-left',\n    'top',\n    'top-right',\n    'right',\n    'bottom-right',\n    'bottom',\n    'bottom-left',\n    'left',\n  ];\n}\n","var x=String;\nvar create=function() {return {isColorSupported:false,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x,blackBright:x,redBright:x,greenBright:x,yellowBright:x,blueBright:x,magentaBright:x,cyanBright:x,whiteBright:x,bgBlackBright:x,bgRedBright:x,bgGreenBright:x,bgYellowBright:x,bgBlueBright:x,bgMagentaBright:x,bgCyanBright:x,bgWhiteBright:x}};\nmodule.exports=create();\nmodule.exports.createColors = create;\n","export default {}","'use strict'\n\nlet pico = require('picocolors')\n\nlet terminalHighlight = require('./terminal-highlight')\n\nclass CssSyntaxError extends Error {\n  constructor(message, line, column, source, file, plugin) {\n    super(message)\n    this.name = 'CssSyntaxError'\n    this.reason = message\n\n    if (file) {\n      this.file = file\n    }\n    if (source) {\n      this.source = source\n    }\n    if (plugin) {\n      this.plugin = plugin\n    }\n    if (typeof line !== 'undefined' && typeof column !== 'undefined') {\n      if (typeof line === 'number') {\n        this.line = line\n        this.column = column\n      } else {\n        this.line = line.line\n        this.column = line.column\n        this.endLine = column.line\n        this.endColumn = column.column\n      }\n    }\n\n    this.setMessage()\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError)\n    }\n  }\n\n  setMessage() {\n    this.message = this.plugin ? this.plugin + ': ' : ''\n    this.message += this.file ? this.file : '<css input>'\n    if (typeof this.line !== 'undefined') {\n      this.message += ':' + this.line + ':' + this.column\n    }\n    this.message += ': ' + this.reason\n  }\n\n  showSourceCode(color) {\n    if (!this.source) return ''\n\n    let css = this.source\n    if (color == null) color = pico.isColorSupported\n\n    let aside = text => text\n    let mark = text => text\n    let highlight = text => text\n    if (color) {\n      let { bold, gray, red } = pico.createColors(true)\n      mark = text => bold(red(text))\n      aside = text => gray(text)\n      if (terminalHighlight) {\n        highlight = text => terminalHighlight(text)\n      }\n    }\n\n    let lines = css.split(/\\r?\\n/)\n    let start = Math.max(this.line - 3, 0)\n    let end = Math.min(this.line + 2, lines.length)\n    let maxWidth = String(end).length\n\n    return lines\n      .slice(start, end)\n      .map((line, index) => {\n        let number = start + 1 + index\n        let gutter = ' ' + (' ' + number).slice(-maxWidth) + ' | '\n        if (number === this.line) {\n          if (line.length > 160) {\n            let padding = 20\n            let subLineStart = Math.max(0, this.column - padding)\n            let subLineEnd = Math.max(\n              this.column + padding,\n              this.endColumn + padding\n            )\n            let subLine = line.slice(subLineStart, subLineEnd)\n\n            let spacing =\n              aside(gutter.replace(/\\d/g, ' ')) +\n              line\n                .slice(0, Math.min(this.column - 1, padding - 1))\n                .replace(/[^\\t]/g, ' ')\n\n            return (\n              mark('>') +\n              aside(gutter) +\n              highlight(subLine) +\n              '\\n ' +\n              spacing +\n              mark('^')\n            )\n          }\n\n          let spacing =\n            aside(gutter.replace(/\\d/g, ' ')) +\n            line.slice(0, this.column - 1).replace(/[^\\t]/g, ' ')\n\n          return (\n            mark('>') +\n            aside(gutter) +\n            highlight(line) +\n            '\\n ' +\n            spacing +\n            mark('^')\n          )\n        }\n\n        return ' ' + aside(gutter) + highlight(line)\n      })\n      .join('\\n')\n  }\n\n  toString() {\n    let code = this.showSourceCode()\n    if (code) {\n      code = '\\n\\n' + code + '\\n'\n    }\n    return this.name + ': ' + this.message + code\n  }\n}\n\nmodule.exports = CssSyntaxError\nCssSyntaxError.default = CssSyntaxError\n","'use strict'\n\nconst DEFAULT_RAW = {\n  after: '\\n',\n  beforeClose: '\\n',\n  beforeComment: '\\n',\n  beforeDecl: '\\n',\n  beforeOpen: ' ',\n  beforeRule: '\\n',\n  colon: ': ',\n  commentLeft: ' ',\n  commentRight: ' ',\n  emptyBody: '',\n  indent: '    ',\n  semicolon: false\n}\n\nfunction capitalize(str) {\n  return str[0].toUpperCase() + str.slice(1)\n}\n\nclass Stringifier {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  atrule(node, semicolon) {\n    let name = '@' + node.name\n    let params = node.params ? this.rawValue(node, 'params') : ''\n\n    if (typeof node.raws.afterName !== 'undefined') {\n      name += node.raws.afterName\n    } else if (params) {\n      name += ' '\n    }\n\n    if (node.nodes) {\n      this.block(node, name + params)\n    } else {\n      let end = (node.raws.between || '') + (semicolon ? ';' : '')\n      this.builder(name + params + end, node)\n    }\n  }\n\n  beforeAfter(node, detect) {\n    let value\n    if (node.type === 'decl') {\n      value = this.raw(node, null, 'beforeDecl')\n    } else if (node.type === 'comment') {\n      value = this.raw(node, null, 'beforeComment')\n    } else if (detect === 'before') {\n      value = this.raw(node, null, 'beforeRule')\n    } else {\n      value = this.raw(node, null, 'beforeClose')\n    }\n\n    let buf = node.parent\n    let depth = 0\n    while (buf && buf.type !== 'root') {\n      depth += 1\n      buf = buf.parent\n    }\n\n    if (value.includes('\\n')) {\n      let indent = this.raw(node, null, 'indent')\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent\n      }\n    }\n\n    return value\n  }\n\n  block(node, start) {\n    let between = this.raw(node, 'between', 'beforeOpen')\n    this.builder(start + between + '{', node, 'start')\n\n    let after\n    if (node.nodes && node.nodes.length) {\n      this.body(node)\n      after = this.raw(node, 'after')\n    } else {\n      after = this.raw(node, 'after', 'emptyBody')\n    }\n\n    if (after) this.builder(after)\n    this.builder('}', node, 'end')\n  }\n\n  body(node) {\n    let last = node.nodes.length - 1\n    while (last > 0) {\n      if (node.nodes[last].type !== 'comment') break\n      last -= 1\n    }\n\n    let semicolon = this.raw(node, 'semicolon')\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i]\n      let before = this.raw(child, 'before')\n      if (before) this.builder(before)\n      this.stringify(child, last !== i || semicolon)\n    }\n  }\n\n  comment(node) {\n    let left = this.raw(node, 'left', 'commentLeft')\n    let right = this.raw(node, 'right', 'commentRight')\n    this.builder('/*' + left + node.text + right + '*/', node)\n  }\n\n  decl(node, semicolon) {\n    let between = this.raw(node, 'between', 'colon')\n    let string = node.prop + between + this.rawValue(node, 'value')\n\n    if (node.important) {\n      string += node.raws.important || ' !important'\n    }\n\n    if (semicolon) string += ';'\n    this.builder(string, node)\n  }\n\n  document(node) {\n    this.body(node)\n  }\n\n  raw(node, own, detect) {\n    let value\n    if (!detect) detect = own\n\n    // Already had\n    if (own) {\n      value = node.raws[own]\n      if (typeof value !== 'undefined') return value\n    }\n\n    let parent = node.parent\n\n    if (detect === 'before') {\n      // Hack for first rule in CSS\n      if (!parent || (parent.type === 'root' && parent.first === node)) {\n        return ''\n      }\n\n      // `root` nodes in `document` should use only their own raws\n      if (parent && parent.type === 'document') {\n        return ''\n      }\n    }\n\n    // Floating child without parent\n    if (!parent) return DEFAULT_RAW[detect]\n\n    // Detect style by other nodes\n    let root = node.root()\n    if (!root.rawCache) root.rawCache = {}\n    if (typeof root.rawCache[detect] !== 'undefined') {\n      return root.rawCache[detect]\n    }\n\n    if (detect === 'before' || detect === 'after') {\n      return this.beforeAfter(node, detect)\n    } else {\n      let method = 'raw' + capitalize(detect)\n      if (this[method]) {\n        value = this[method](root, node)\n      } else {\n        root.walk(i => {\n          value = i.raws[own]\n          if (typeof value !== 'undefined') return false\n        })\n      }\n    }\n\n    if (typeof value === 'undefined') value = DEFAULT_RAW[detect]\n\n    root.rawCache[detect] = value\n    return value\n  }\n\n  rawBeforeClose(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length > 0) {\n        if (typeof i.raws.after !== 'undefined') {\n          value = i.raws.after\n          if (value.includes('\\n')) {\n            value = value.replace(/[^\\n]+$/, '')\n          }\n          return false\n        }\n      }\n    })\n    if (value) value = value.replace(/\\S/g, '')\n    return value\n  }\n\n  rawBeforeComment(root, node) {\n    let value\n    root.walkComments(i => {\n      if (typeof i.raws.before !== 'undefined') {\n        value = i.raws.before\n        if (value.includes('\\n')) {\n          value = value.replace(/[^\\n]+$/, '')\n        }\n        return false\n      }\n    })\n    if (typeof value === 'undefined') {\n      value = this.raw(node, null, 'beforeDecl')\n    } else if (value) {\n      value = value.replace(/\\S/g, '')\n    }\n    return value\n  }\n\n  rawBeforeDecl(root, node) {\n    let value\n    root.walkDecls(i => {\n      if (typeof i.raws.before !== 'undefined') {\n        value = i.raws.before\n        if (value.includes('\\n')) {\n          value = value.replace(/[^\\n]+$/, '')\n        }\n        return false\n      }\n    })\n    if (typeof value === 'undefined') {\n      value = this.raw(node, null, 'beforeRule')\n    } else if (value) {\n      value = value.replace(/\\S/g, '')\n    }\n    return value\n  }\n\n  rawBeforeOpen(root) {\n    let value\n    root.walk(i => {\n      if (i.type !== 'decl') {\n        value = i.raws.between\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawBeforeRule(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && (i.parent !== root || root.first !== i)) {\n        if (typeof i.raws.before !== 'undefined') {\n          value = i.raws.before\n          if (value.includes('\\n')) {\n            value = value.replace(/[^\\n]+$/, '')\n          }\n          return false\n        }\n      }\n    })\n    if (value) value = value.replace(/\\S/g, '')\n    return value\n  }\n\n  rawColon(root) {\n    let value\n    root.walkDecls(i => {\n      if (typeof i.raws.between !== 'undefined') {\n        value = i.raws.between.replace(/[^\\s:]/g, '')\n        return false\n      }\n    })\n    return value\n  }\n\n  rawEmptyBody(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length === 0) {\n        value = i.raws.after\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawIndent(root) {\n    if (root.raws.indent) return root.raws.indent\n    let value\n    root.walk(i => {\n      let p = i.parent\n      if (p && p !== root && p.parent && p.parent === root) {\n        if (typeof i.raws.before !== 'undefined') {\n          let parts = i.raws.before.split('\\n')\n          value = parts[parts.length - 1]\n          value = value.replace(/\\S/g, '')\n          return false\n        }\n      }\n    })\n    return value\n  }\n\n  rawSemicolon(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length && i.last.type === 'decl') {\n        value = i.raws.semicolon\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawValue(node, prop) {\n    let value = node[prop]\n    let raw = node.raws[prop]\n    if (raw && raw.value === value) {\n      return raw.raw\n    }\n\n    return value\n  }\n\n  root(node) {\n    this.body(node)\n    if (node.raws.after) this.builder(node.raws.after)\n  }\n\n  rule(node) {\n    this.block(node, this.rawValue(node, 'selector'))\n    if (node.raws.ownSemicolon) {\n      this.builder(node.raws.ownSemicolon, node, 'end')\n    }\n  }\n\n  stringify(node, semicolon) {\n    /* c8 ignore start */\n    if (!this[node.type]) {\n      throw new Error(\n        'Unknown AST node type ' +\n          node.type +\n          '. ' +\n          'Maybe you need to change PostCSS stringifier.'\n      )\n    }\n    /* c8 ignore stop */\n    this[node.type](node, semicolon)\n  }\n}\n\nmodule.exports = Stringifier\nStringifier.default = Stringifier\n","'use strict'\n\nlet Stringifier = require('./stringifier')\n\nfunction stringify(node, builder) {\n  let str = new Stringifier(builder)\n  str.stringify(node)\n}\n\nmodule.exports = stringify\nstringify.default = stringify\n","'use strict'\n\nmodule.exports.isClean = Symbol('isClean')\n\nmodule.exports.my = Symbol('my')\n","'use strict'\n\nlet CssSyntaxError = require('./css-syntax-error')\nlet Stringifier = require('./stringifier')\nlet stringify = require('./stringify')\nlet { isClean, my } = require('./symbols')\n\nfunction cloneNode(obj, parent) {\n  let cloned = new obj.constructor()\n\n  for (let i in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) {\n      /* c8 ignore next 2 */\n      continue\n    }\n    if (i === 'proxyCache') continue\n    let value = obj[i]\n    let type = typeof value\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) cloned[i] = parent\n    } else if (i === 'source') {\n      cloned[i] = value\n    } else if (Array.isArray(value)) {\n      cloned[i] = value.map(j => cloneNode(j, cloned))\n    } else {\n      if (type === 'object' && value !== null) value = cloneNode(value)\n      cloned[i] = value\n    }\n  }\n\n  return cloned\n}\n\nfunction sourceOffset(inputCSS, position) {\n  // Not all custom syntaxes support `offset` in `source.start` and `source.end`\n  if (position && typeof position.offset !== 'undefined') {\n    return position.offset\n  }\n\n  let column = 1\n  let line = 1\n  let offset = 0\n\n  for (let i = 0; i < inputCSS.length; i++) {\n    if (line === position.line && column === position.column) {\n      offset = i\n      break\n    }\n\n    if (inputCSS[i] === '\\n') {\n      column = 1\n      line += 1\n    } else {\n      column += 1\n    }\n  }\n\n  return offset\n}\n\nclass Node {\n  get proxyOf() {\n    return this\n  }\n\n  constructor(defaults = {}) {\n    this.raws = {}\n    this[isClean] = false\n    this[my] = true\n\n    for (let name in defaults) {\n      if (name === 'nodes') {\n        this.nodes = []\n        for (let node of defaults[name]) {\n          if (typeof node.clone === 'function') {\n            this.append(node.clone())\n          } else {\n            this.append(node)\n          }\n        }\n      } else {\n        this[name] = defaults[name]\n      }\n    }\n  }\n\n  addToError(error) {\n    error.postcssNode = this\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s = this.source\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s.input.from}:${s.start.line}:${s.start.column}$&`\n      )\n    }\n    return error\n  }\n\n  after(add) {\n    this.parent.insertAfter(this, add)\n    return this\n  }\n\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name]\n    }\n    return this\n  }\n\n  before(add) {\n    this.parent.insertBefore(this, add)\n    return this\n  }\n\n  cleanRaws(keepBetween) {\n    delete this.raws.before\n    delete this.raws.after\n    if (!keepBetween) delete this.raws.between\n  }\n\n  clone(overrides = {}) {\n    let cloned = cloneNode(this)\n    for (let name in overrides) {\n      cloned[name] = overrides[name]\n    }\n    return cloned\n  }\n\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertAfter(this, cloned)\n    return cloned\n  }\n\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertBefore(this, cloned)\n    return cloned\n  }\n\n  error(message, opts = {}) {\n    if (this.source) {\n      let { end, start } = this.rangeBy(opts)\n      return this.source.input.error(\n        message,\n        { column: start.column, line: start.line },\n        { column: end.column, line: end.line },\n        opts\n      )\n    }\n    return new CssSyntaxError(message)\n  }\n\n  getProxyProcessor() {\n    return {\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else {\n          return node[prop]\n        }\n      },\n\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (\n          prop === 'prop' ||\n          prop === 'value' ||\n          prop === 'name' ||\n          prop === 'params' ||\n          prop === 'important' ||\n          /* c8 ignore next */\n          prop === 'text'\n        ) {\n          node.markDirty()\n        }\n        return true\n      }\n    }\n  }\n\n  /* c8 ignore next 3 */\n  markClean() {\n    this[isClean] = true\n  }\n\n  markDirty() {\n    if (this[isClean]) {\n      this[isClean] = false\n      let next = this\n      while ((next = next.parent)) {\n        next[isClean] = false\n      }\n    }\n  }\n\n  next() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index + 1]\n  }\n\n  positionBy(opts = {}) {\n    let pos = this.source.start\n    if (opts.index) {\n      pos = this.positionInside(opts.index)\n    } else if (opts.word) {\n      let inputString =\n        'document' in this.source.input\n          ? this.source.input.document\n          : this.source.input.css\n      let stringRepresentation = inputString.slice(\n        sourceOffset(inputString, this.source.start),\n        sourceOffset(inputString, this.source.end)\n      )\n      let index = stringRepresentation.indexOf(opts.word)\n      if (index !== -1) pos = this.positionInside(index)\n    }\n    return pos\n  }\n\n  positionInside(index) {\n    let column = this.source.start.column\n    let line = this.source.start.line\n    let inputString =\n      'document' in this.source.input\n        ? this.source.input.document\n        : this.source.input.css\n    let offset = sourceOffset(inputString, this.source.start)\n    let end = offset + index\n\n    for (let i = offset; i < end; i++) {\n      if (inputString[i] === '\\n') {\n        column = 1\n        line += 1\n      } else {\n        column += 1\n      }\n    }\n\n    return { column, line, offset: end }\n  }\n\n  prev() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index - 1]\n  }\n\n  rangeBy(opts = {}) {\n    let inputString =\n      'document' in this.source.input\n        ? this.source.input.document\n        : this.source.input.css\n    let start = {\n      column: this.source.start.column,\n      line: this.source.start.line,\n      offset: sourceOffset(inputString, this.source.start)\n    }\n    let end = this.source.end\n      ? {\n          column: this.source.end.column + 1,\n          line: this.source.end.line,\n          offset:\n            typeof this.source.end.offset === 'number'\n              ? // `source.end.offset` is exclusive, so we don't need to add 1\n                this.source.end.offset\n              : // Since line/column in this.source.end is inclusive,\n                // the `sourceOffset(... , this.source.end)` returns an inclusive offset.\n                // So, we add 1 to convert it to exclusive.\n                sourceOffset(inputString, this.source.end) + 1\n        }\n      : {\n          column: start.column + 1,\n          line: start.line,\n          offset: start.offset + 1\n        }\n\n    if (opts.word) {\n      let stringRepresentation = inputString.slice(\n        sourceOffset(inputString, this.source.start),\n        sourceOffset(inputString, this.source.end)\n      )\n      let index = stringRepresentation.indexOf(opts.word)\n      if (index !== -1) {\n        start = this.positionInside(index)\n        end = this.positionInside(index + opts.word.length)\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          column: opts.start.column,\n          line: opts.start.line,\n          offset: sourceOffset(inputString, opts.start)\n        }\n      } else if (opts.index) {\n        start = this.positionInside(opts.index)\n      }\n\n      if (opts.end) {\n        end = {\n          column: opts.end.column,\n          line: opts.end.line,\n          offset: sourceOffset(inputString, opts.end)\n        }\n      } else if (typeof opts.endIndex === 'number') {\n        end = this.positionInside(opts.endIndex)\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1)\n      }\n    }\n\n    if (\n      end.line < start.line ||\n      (end.line === start.line && end.column <= start.column)\n    ) {\n      end = {\n        column: start.column + 1,\n        line: start.line,\n        offset: start.offset + 1\n      }\n    }\n\n    return { end, start }\n  }\n\n  raw(prop, defaultType) {\n    let str = new Stringifier()\n    return str.raw(this, prop, defaultType)\n  }\n\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this)\n    }\n    this.parent = undefined\n    return this\n  }\n\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this\n      let foundSelf = false\n      for (let node of nodes) {\n        if (node === this) {\n          foundSelf = true\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node)\n          bookmark = node\n        } else {\n          this.parent.insertBefore(bookmark, node)\n        }\n      }\n\n      if (!foundSelf) {\n        this.remove()\n      }\n    }\n\n    return this\n  }\n\n  root() {\n    let result = this\n    while (result.parent && result.parent.type !== 'document') {\n      result = result.parent\n    }\n    return result\n  }\n\n  toJSON(_, inputs) {\n    let fixed = {}\n    let emitInputs = inputs == null\n    inputs = inputs || new Map()\n    let inputsNextIndex = 0\n\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        /* c8 ignore next 2 */\n        continue\n      }\n      if (name === 'parent' || name === 'proxyCache') continue\n      let value = this[name]\n\n      if (Array.isArray(value)) {\n        fixed[name] = value.map(i => {\n          if (typeof i === 'object' && i.toJSON) {\n            return i.toJSON(null, inputs)\n          } else {\n            return i\n          }\n        })\n      } else if (typeof value === 'object' && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs)\n      } else if (name === 'source') {\n        if (value == null) continue\n        let inputId = inputs.get(value.input)\n        if (inputId == null) {\n          inputId = inputsNextIndex\n          inputs.set(value.input, inputsNextIndex)\n          inputsNextIndex++\n        }\n        fixed[name] = {\n          end: value.end,\n          inputId,\n          start: value.start\n        }\n      } else {\n        fixed[name] = value\n      }\n    }\n\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map(input => input.toJSON())\n    }\n\n    return fixed\n  }\n\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor())\n    }\n    return this.proxyCache\n  }\n\n  toString(stringifier = stringify) {\n    if (stringifier.stringify) stringifier = stringifier.stringify\n    let result = ''\n    stringifier(this, i => {\n      result += i\n    })\n    return result\n  }\n\n  warn(result, text, opts = {}) {\n    let data = { node: this }\n    for (let i in opts) data[i] = opts[i]\n    return result.warn(text, data)\n  }\n}\n\nmodule.exports = Node\nNode.default = Node\n","'use strict'\n\nlet Node = require('./node')\n\nclass Comment extends Node {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'comment'\n  }\n}\n\nmodule.exports = Comment\nComment.default = Comment\n","'use strict'\n\nlet Node = require('./node')\n\nclass Declaration extends Node {\n  get variable() {\n    return this.prop.startsWith('--') || this.prop[0] === '$'\n  }\n\n  constructor(defaults) {\n    if (\n      defaults &&\n      typeof defaults.value !== 'undefined' &&\n      typeof defaults.value !== 'string'\n    ) {\n      defaults = { ...defaults, value: String(defaults.value) }\n    }\n    super(defaults)\n    this.type = 'decl'\n  }\n}\n\nmodule.exports = Declaration\nDeclaration.default = Declaration\n","'use strict'\n\nlet Comment = require('./comment')\nlet Declaration = require('./declaration')\nlet Node = require('./node')\nlet { isClean, my } = require('./symbols')\n\nlet AtRule, parse, Root, Rule\n\nfunction cleanSource(nodes) {\n  return nodes.map(i => {\n    if (i.nodes) i.nodes = cleanSource(i.nodes)\n    delete i.source\n    return i\n  })\n}\n\nfunction markTreeDirty(node) {\n  node[isClean] = false\n  if (node.proxyOf.nodes) {\n    for (let i of node.proxyOf.nodes) {\n      markTreeDirty(i)\n    }\n  }\n}\n\nclass Container extends Node {\n  get first() {\n    if (!this.proxyOf.nodes) return undefined\n    return this.proxyOf.nodes[0]\n  }\n\n  get last() {\n    if (!this.proxyOf.nodes) return undefined\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1]\n  }\n\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last)\n      for (let node of nodes) this.proxyOf.nodes.push(node)\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween)\n    if (this.nodes) {\n      for (let node of this.nodes) node.cleanRaws(keepBetween)\n    }\n  }\n\n  each(callback) {\n    if (!this.proxyOf.nodes) return undefined\n    let iterator = this.getIterator()\n\n    let index, result\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index = this.indexes[iterator]\n      result = callback(this.proxyOf.nodes[index], index)\n      if (result === false) break\n\n      this.indexes[iterator] += 1\n    }\n\n    delete this.indexes[iterator]\n    return result\n  }\n\n  every(condition) {\n    return this.nodes.every(condition)\n  }\n\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0\n    if (!this.indexes) this.indexes = {}\n\n    this.lastEach += 1\n    let iterator = this.lastEach\n    this.indexes[iterator] = 0\n\n    return iterator\n  }\n\n  getProxyProcessor() {\n    return {\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (!node[prop]) {\n          return node[prop]\n        } else if (\n          prop === 'each' ||\n          (typeof prop === 'string' && prop.startsWith('walk'))\n        ) {\n          return (...args) => {\n            return node[prop](\n              ...args.map(i => {\n                if (typeof i === 'function') {\n                  return (child, index) => i(child.toProxy(), index)\n                } else {\n                  return i\n                }\n              })\n            )\n          }\n        } else if (prop === 'every' || prop === 'some') {\n          return cb => {\n            return node[prop]((child, ...other) =>\n              cb(child.toProxy(), ...other)\n            )\n          }\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else if (prop === 'nodes') {\n          return node.nodes.map(i => i.toProxy())\n        } else if (prop === 'first' || prop === 'last') {\n          return node[prop].toProxy()\n        } else {\n          return node[prop]\n        }\n      },\n\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (prop === 'name' || prop === 'params' || prop === 'selector') {\n          node.markDirty()\n        }\n        return true\n      }\n    }\n  }\n\n  index(child) {\n    if (typeof child === 'number') return child\n    if (child.proxyOf) child = child.proxyOf\n    return this.proxyOf.nodes.indexOf(child)\n  }\n\n  insertAfter(exist, add) {\n    let existIndex = this.index(exist)\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse()\n    existIndex = this.index(exist)\n    for (let node of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (existIndex < index) {\n        this.indexes[id] = index + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  insertBefore(exist, add) {\n    let existIndex = this.index(exist)\n    let type = existIndex === 0 ? 'prepend' : false\n    let nodes = this.normalize(\n      add,\n      this.proxyOf.nodes[existIndex],\n      type\n    ).reverse()\n    existIndex = this.index(exist)\n    for (let node of nodes) this.proxyOf.nodes.splice(existIndex, 0, node)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (existIndex <= index) {\n        this.indexes[id] = index + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  normalize(nodes, sample) {\n    if (typeof nodes === 'string') {\n      nodes = cleanSource(parse(nodes).nodes)\n    } else if (typeof nodes === 'undefined') {\n      nodes = []\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0)\n      for (let i of nodes) {\n        if (i.parent) i.parent.removeChild(i, 'ignore')\n      }\n    } else if (nodes.type === 'root' && this.type !== 'document') {\n      nodes = nodes.nodes.slice(0)\n      for (let i of nodes) {\n        if (i.parent) i.parent.removeChild(i, 'ignore')\n      }\n    } else if (nodes.type) {\n      nodes = [nodes]\n    } else if (nodes.prop) {\n      if (typeof nodes.value === 'undefined') {\n        throw new Error('Value field is missed in node creation')\n      } else if (typeof nodes.value !== 'string') {\n        nodes.value = String(nodes.value)\n      }\n      nodes = [new Declaration(nodes)]\n    } else if (nodes.selector || nodes.selectors) {\n      nodes = [new Rule(nodes)]\n    } else if (nodes.name) {\n      nodes = [new AtRule(nodes)]\n    } else if (nodes.text) {\n      nodes = [new Comment(nodes)]\n    } else {\n      throw new Error('Unknown node type in node creation')\n    }\n\n    let processed = nodes.map(i => {\n      /* c8 ignore next */\n      if (!i[my]) Container.rebuild(i)\n      i = i.proxyOf\n      if (i.parent) i.parent.removeChild(i)\n      if (i[isClean]) markTreeDirty(i)\n\n      if (!i.raws) i.raws = {}\n      if (typeof i.raws.before === 'undefined') {\n        if (sample && typeof sample.raws.before !== 'undefined') {\n          i.raws.before = sample.raws.before.replace(/\\S/g, '')\n        }\n      }\n      i.parent = this.proxyOf\n      return i\n    })\n\n    return processed\n  }\n\n  prepend(...children) {\n    children = children.reverse()\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, 'prepend').reverse()\n      for (let node of nodes) this.proxyOf.nodes.unshift(node)\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  push(child) {\n    child.parent = this\n    this.proxyOf.nodes.push(child)\n    return this\n  }\n\n  removeAll() {\n    for (let node of this.proxyOf.nodes) node.parent = undefined\n    this.proxyOf.nodes = []\n\n    this.markDirty()\n\n    return this\n  }\n\n  removeChild(child) {\n    child = this.index(child)\n    this.proxyOf.nodes[child].parent = undefined\n    this.proxyOf.nodes.splice(child, 1)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (index >= child) {\n        this.indexes[id] = index - 1\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts\n      opts = {}\n    }\n\n    this.walkDecls(decl => {\n      if (opts.props && !opts.props.includes(decl.prop)) return\n      if (opts.fast && !decl.value.includes(opts.fast)) return\n\n      decl.value = decl.value.replace(pattern, callback)\n    })\n\n    this.markDirty()\n\n    return this\n  }\n\n  some(condition) {\n    return this.nodes.some(condition)\n  }\n\n  walk(callback) {\n    return this.each((child, i) => {\n      let result\n      try {\n        result = callback(child, i)\n      } catch (e) {\n        throw child.addToError(e)\n      }\n      if (result !== false && child.walk) {\n        result = child.walk(callback)\n      }\n\n      return result\n    })\n  }\n\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name\n      return this.walk((child, i) => {\n        if (child.type === 'atrule') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'atrule' && name.test(child.name)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'atrule' && child.name === name) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkComments(callback) {\n    return this.walk((child, i) => {\n      if (child.type === 'comment') {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop\n      return this.walk((child, i) => {\n        if (child.type === 'decl') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'decl' && prop.test(child.prop)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'decl' && child.prop === prop) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector\n\n      return this.walk((child, i) => {\n        if (child.type === 'rule') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'rule' && selector.test(child.selector)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'rule' && child.selector === selector) {\n        return callback(child, i)\n      }\n    })\n  }\n}\n\nContainer.registerParse = dependant => {\n  parse = dependant\n}\n\nContainer.registerRule = dependant => {\n  Rule = dependant\n}\n\nContainer.registerAtRule = dependant => {\n  AtRule = dependant\n}\n\nContainer.registerRoot = dependant => {\n  Root = dependant\n}\n\nmodule.exports = Container\nContainer.default = Container\n\n/* c8 ignore start */\nContainer.rebuild = node => {\n  if (node.type === 'atrule') {\n    Object.setPrototypeOf(node, AtRule.prototype)\n  } else if (node.type === 'rule') {\n    Object.setPrototypeOf(node, Rule.prototype)\n  } else if (node.type === 'decl') {\n    Object.setPrototypeOf(node, Declaration.prototype)\n  } else if (node.type === 'comment') {\n    Object.setPrototypeOf(node, Comment.prototype)\n  } else if (node.type === 'root') {\n    Object.setPrototypeOf(node, Root.prototype)\n  }\n\n  node[my] = true\n\n  if (node.nodes) {\n    node.nodes.forEach(child => {\n      Container.rebuild(child)\n    })\n  }\n}\n/* c8 ignore stop */\n","'use strict'\n\nlet Container = require('./container')\n\nclass AtRule extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'atrule'\n  }\n\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = []\n    return super.append(...children)\n  }\n\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = []\n    return super.prepend(...children)\n  }\n}\n\nmodule.exports = AtRule\nAtRule.default = AtRule\n\nContainer.registerAtRule(AtRule)\n","'use strict'\n\nlet Container = require('./container')\n\nlet LazyResult, Processor\n\nclass Document extends Container {\n  constructor(defaults) {\n    // type needs to be passed to super, otherwise child roots won't be normalized correctly\n    super({ type: 'document', ...defaults })\n\n    if (!this.nodes) {\n      this.nodes = []\n    }\n  }\n\n  toResult(opts = {}) {\n    let lazy = new LazyResult(new Processor(), this, opts)\n\n    return lazy.stringify()\n  }\n}\n\nDocument.registerLazyResult = dependant => {\n  LazyResult = dependant\n}\n\nDocument.registerProcessor = dependant => {\n  Processor = dependant\n}\n\nmodule.exports = Document\nDocument.default = Document\n","// This alphabet uses `A-Za-z0-9_-` symbols.\n// The order of characters is optimized for better gzip and brotli compression.\n// References to the same file (works both for gzip and brotli):\n// `'use`, `andom`, and `rict'`\n// References to the brotli default dictionary:\n// `-26T`, `1983`, `40px`, `75px`, `bush`, `jack`, `mind`, `very`, and `wolf`\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    // A compact alternative for `for (var i = 0; i < step; i++)`.\n    let i = size | 0\n    while (i--) {\n      // `| 0` is more compact and faster than `Math.floor()`.\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  let i = size | 0\n  while (i--) {\n    // `| 0` is more compact and faster than `Math.floor()`.\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n\nmodule.exports = { nanoid, customAlphabet }\n","'use strict'\n\nlet { existsSync, readFileSync } = require('fs')\nlet { dirname, join } = require('path')\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\n\nfunction fromBase64(str) {\n  if (Buffer) {\n    return Buffer.from(str, 'base64').toString()\n  } else {\n    /* c8 ignore next 2 */\n    return window.atob(str)\n  }\n}\n\nclass PreviousMap {\n  constructor(css, opts) {\n    if (opts.map === false) return\n    this.loadAnnotation(css)\n    this.inline = this.startWith(this.annotation, 'data:')\n\n    let prev = opts.map ? opts.map.prev : undefined\n    let text = this.loadMap(opts.from, prev)\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from\n    }\n    if (this.mapFile) this.root = dirname(this.mapFile)\n    if (text) this.text = text\n  }\n\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer(this.text)\n    }\n    return this.consumerCache\n  }\n\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/\n    let baseUri = /^data:application\\/json;base64,/\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/\n    let uri = /^data:application\\/json,/\n\n    let uriMatch = text.match(charsetUri) || text.match(uri)\n    if (uriMatch) {\n      return decodeURIComponent(text.substr(uriMatch[0].length))\n    }\n\n    let baseUriMatch = text.match(baseCharsetUri) || text.match(baseUri)\n    if (baseUriMatch) {\n      return fromBase64(text.substr(baseUriMatch[0].length))\n    }\n\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1]\n    throw new Error('Unsupported source map encoding ' + encoding)\n  }\n\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, '').trim()\n  }\n\n  isMap(map) {\n    if (typeof map !== 'object') return false\n    return (\n      typeof map.mappings === 'string' ||\n      typeof map._mappings === 'string' ||\n      Array.isArray(map.sections)\n    )\n  }\n\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/g)\n    if (!comments) return\n\n    // sourceMappingURLs from comments, strings, etc.\n    let start = css.lastIndexOf(comments.pop())\n    let end = css.indexOf('*/', start)\n\n    if (start > -1 && end > -1) {\n      // Locate the last sourceMappingURL to avoid pickin\n      this.annotation = this.getAnnotationURL(css.substring(start, end))\n    }\n  }\n\n  loadFile(path) {\n    this.root = dirname(path)\n    if (existsSync(path)) {\n      this.mapFile = path\n      return readFileSync(path, 'utf-8').toString().trim()\n    }\n  }\n\n  loadMap(file, prev) {\n    if (prev === false) return false\n\n    if (prev) {\n      if (typeof prev === 'string') {\n        return prev\n      } else if (typeof prev === 'function') {\n        let prevPath = prev(file)\n        if (prevPath) {\n          let map = this.loadFile(prevPath)\n          if (!map) {\n            throw new Error(\n              'Unable to load previous source map: ' + prevPath.toString()\n            )\n          }\n          return map\n        }\n      } else if (prev instanceof SourceMapConsumer) {\n        return SourceMapGenerator.fromSourceMap(prev).toString()\n      } else if (prev instanceof SourceMapGenerator) {\n        return prev.toString()\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev)\n      } else {\n        throw new Error(\n          'Unsupported previous source map format: ' + prev.toString()\n        )\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation)\n    } else if (this.annotation) {\n      let map = this.annotation\n      if (file) map = join(dirname(file), map)\n      return this.loadFile(map)\n    }\n  }\n\n  startWith(string, start) {\n    if (!string) return false\n    return string.substr(0, start.length) === start\n  }\n\n  withContent() {\n    return !!(\n      this.consumer().sourcesContent &&\n      this.consumer().sourcesContent.length > 0\n    )\n  }\n}\n\nmodule.exports = PreviousMap\nPreviousMap.default = PreviousMap\n","'use strict'\n\nlet { nanoid } = require('nanoid/non-secure')\nlet { isAbsolute, resolve } = require('path')\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { fileURLToPath, pathToFileURL } = require('url')\n\nlet CssSyntaxError = require('./css-syntax-error')\nlet PreviousMap = require('./previous-map')\nlet terminalHighlight = require('./terminal-highlight')\n\nlet lineToIndexCache = Symbol('lineToIndexCache')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(resolve && isAbsolute)\n\nfunction getLineToIndex(input) {\n  if (input[lineToIndexCache]) return input[lineToIndexCache]\n  let lines = input.css.split('\\n')\n  let lineToIndex = new Array(lines.length)\n  let prevIndex = 0\n\n  for (let i = 0, l = lines.length; i < l; i++) {\n    lineToIndex[i] = prevIndex\n    prevIndex += lines[i].length + 1\n  }\n\n  input[lineToIndexCache] = lineToIndex\n  return lineToIndex\n}\n\nclass Input {\n  get from() {\n    return this.file || this.id\n  }\n\n  constructor(css, opts = {}) {\n    if (\n      css === null ||\n      typeof css === 'undefined' ||\n      (typeof css === 'object' && !css.toString)\n    ) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`)\n    }\n\n    this.css = css.toString()\n\n    if (this.css[0] === '\\uFEFF' || this.css[0] === '\\uFFFE') {\n      this.hasBOM = true\n      this.css = this.css.slice(1)\n    } else {\n      this.hasBOM = false\n    }\n\n    this.document = this.css\n    if (opts.document) this.document = opts.document.toString()\n\n    if (opts.from) {\n      if (\n        !pathAvailable ||\n        /^\\w+:\\/\\//.test(opts.from) ||\n        isAbsolute(opts.from)\n      ) {\n        this.file = opts.from\n      } else {\n        this.file = resolve(opts.from)\n      }\n    }\n\n    if (pathAvailable && sourceMapAvailable) {\n      let map = new PreviousMap(this.css, opts)\n      if (map.text) {\n        this.map = map\n        let file = map.consumer().file\n        if (!this.file && file) this.file = this.mapResolve(file)\n      }\n    }\n\n    if (!this.file) {\n      this.id = '<input css ' + nanoid(6) + '>'\n    }\n    if (this.map) this.map.file = this.from\n  }\n\n  error(message, line, column, opts = {}) {\n    let endColumn, endLine, endOffset, offset, result\n\n    if (line && typeof line === 'object') {\n      let start = line\n      let end = column\n      if (typeof start.offset === 'number') {\n        offset = start.offset\n        let pos = this.fromOffset(offset)\n        line = pos.line\n        column = pos.col\n      } else {\n        line = start.line\n        column = start.column\n        offset = this.fromLineAndColumn(line, column)\n      }\n      if (typeof end.offset === 'number') {\n        endOffset = end.offset\n        let pos = this.fromOffset(endOffset)\n        endLine = pos.line\n        endColumn = pos.col\n      } else {\n        endLine = end.line\n        endColumn = end.column\n        endOffset = this.fromLineAndColumn(end.line, end.column)\n      }\n    } else if (!column) {\n      offset = line\n      let pos = this.fromOffset(offset)\n      line = pos.line\n      column = pos.col\n    } else {\n      offset = this.fromLineAndColumn(line, column)\n    }\n\n    let origin = this.origin(line, column, endLine, endColumn)\n    if (origin) {\n      result = new CssSyntaxError(\n        message,\n        origin.endLine === undefined\n          ? origin.line\n          : { column: origin.column, line: origin.line },\n        origin.endLine === undefined\n          ? origin.column\n          : { column: origin.endColumn, line: origin.endLine },\n        origin.source,\n        origin.file,\n        opts.plugin\n      )\n    } else {\n      result = new CssSyntaxError(\n        message,\n        endLine === undefined ? line : { column, line },\n        endLine === undefined ? column : { column: endColumn, line: endLine },\n        this.css,\n        this.file,\n        opts.plugin\n      )\n    }\n\n    result.input = { column, endColumn, endLine, endOffset, line, offset, source: this.css }\n    if (this.file) {\n      if (pathToFileURL) {\n        result.input.url = pathToFileURL(this.file).toString()\n      }\n      result.input.file = this.file\n    }\n\n    return result\n  }\n\n  fromLineAndColumn(line, column) {\n    let lineToIndex = getLineToIndex(this)\n    let index = lineToIndex[line - 1]\n    return index + column - 1\n  }\n\n  fromOffset(offset) {\n    let lineToIndex = getLineToIndex(this)\n    let lastLine = lineToIndex[lineToIndex.length - 1]\n\n    let min = 0\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1\n    } else {\n      let max = lineToIndex.length - 2\n      let mid\n      while (min < max) {\n        mid = min + ((max - min) >> 1)\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1\n        } else {\n          min = mid\n          break\n        }\n      }\n    }\n    return {\n      col: offset - lineToIndex[min] + 1,\n      line: min + 1\n    }\n  }\n\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file\n    }\n    return resolve(this.map.consumer().sourceRoot || this.map.root || '.', file)\n  }\n\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false\n    let consumer = this.map.consumer()\n\n    let from = consumer.originalPositionFor({ column, line })\n    if (!from.source) return false\n\n    let to\n    if (typeof endLine === 'number') {\n      to = consumer.originalPositionFor({ column: endColumn, line: endLine })\n    }\n\n    let fromUrl\n\n    if (isAbsolute(from.source)) {\n      fromUrl = pathToFileURL(from.source)\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n      )\n    }\n\n    let result = {\n      column: from.column,\n      endColumn: to && to.column,\n      endLine: to && to.line,\n      line: from.line,\n      url: fromUrl.toString()\n    }\n\n    if (fromUrl.protocol === 'file:') {\n      if (fileURLToPath) {\n        result.file = fileURLToPath(fromUrl)\n      } else {\n        /* c8 ignore next 2 */\n        throw new Error(`file: protocol is not available in this PostCSS build`)\n      }\n    }\n\n    let source = consumer.sourceContentFor(from.source)\n    if (source) result.source = source\n\n    return result\n  }\n\n  toJSON() {\n    let json = {}\n    for (let name of ['hasBOM', 'css', 'file', 'id']) {\n      if (this[name] != null) {\n        json[name] = this[name]\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map }\n      if (json.map.consumerCache) {\n        json.map.consumerCache = undefined\n      }\n    }\n    return json\n  }\n}\n\nmodule.exports = Input\nInput.default = Input\n\nif (terminalHighlight && terminalHighlight.registerInput) {\n  terminalHighlight.registerInput(Input)\n}\n","'use strict'\n\nlet Container = require('./container')\n\nlet LazyResult, Processor\n\nclass Root extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'root'\n    if (!this.nodes) this.nodes = []\n  }\n\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child)\n\n    if (sample) {\n      if (type === 'prepend') {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before\n        } else {\n          delete sample.raws.before\n        }\n      } else if (this.first !== sample) {\n        for (let node of nodes) {\n          node.raws.before = sample.raws.before\n        }\n      }\n    }\n\n    return nodes\n  }\n\n  removeChild(child, ignore) {\n    let index = this.index(child)\n\n    if (!ignore && index === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index].raws.before\n    }\n\n    return super.removeChild(child)\n  }\n\n  toResult(opts = {}) {\n    let lazy = new LazyResult(new Processor(), this, opts)\n    return lazy.stringify()\n  }\n}\n\nRoot.registerLazyResult = dependant => {\n  LazyResult = dependant\n}\n\nRoot.registerProcessor = dependant => {\n  Processor = dependant\n}\n\nmodule.exports = Root\nRoot.default = Root\n\nContainer.registerRoot(Root)\n","'use strict'\n\nlet list = {\n  comma(string) {\n    return list.split(string, [','], true)\n  },\n\n  space(string) {\n    let spaces = [' ', '\\n', '\\t']\n    return list.split(string, spaces)\n  },\n\n  split(string, separators, last) {\n    let array = []\n    let current = ''\n    let split = false\n\n    let func = 0\n    let inQuote = false\n    let prevQuote = ''\n    let escape = false\n\n    for (let letter of string) {\n      if (escape) {\n        escape = false\n      } else if (letter === '\\\\') {\n        escape = true\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true\n        prevQuote = letter\n      } else if (letter === '(') {\n        func += 1\n      } else if (letter === ')') {\n        if (func > 0) func -= 1\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true\n      }\n\n      if (split) {\n        if (current !== '') array.push(current.trim())\n        current = ''\n        split = false\n      } else {\n        current += letter\n      }\n    }\n\n    if (last || current !== '') array.push(current.trim())\n    return array\n  }\n}\n\nmodule.exports = list\nlist.default = list\n","'use strict'\n\nlet Container = require('./container')\nlet list = require('./list')\n\nclass Rule extends Container {\n  get selectors() {\n    return list.comma(this.selector)\n  }\n\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null\n    let sep = match ? match[0] : ',' + this.raw('between', 'beforeOpen')\n    this.selector = values.join(sep)\n  }\n\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'rule'\n    if (!this.nodes) this.nodes = []\n  }\n}\n\nmodule.exports = Rule\nRule.default = Rule\n\nContainer.registerRule(Rule)\n","'use strict'\n\nlet AtRule = require('./at-rule')\nlet Comment = require('./comment')\nlet Declaration = require('./declaration')\nlet Input = require('./input')\nlet PreviousMap = require('./previous-map')\nlet Root = require('./root')\nlet Rule = require('./rule')\n\nfunction fromJSON(json, inputs) {\n  if (Array.isArray(json)) return json.map(n => fromJSON(n))\n\n  let { inputs: ownInputs, ...defaults } = json\n  if (ownInputs) {\n    inputs = []\n    for (let input of ownInputs) {\n      let inputHydrated = { ...input, __proto__: Input.prototype }\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap.prototype\n        }\n      }\n      inputs.push(inputHydrated)\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map(n => fromJSON(n, inputs))\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source\n    defaults.source = source\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId]\n    }\n  }\n  if (defaults.type === 'root') {\n    return new Root(defaults)\n  } else if (defaults.type === 'decl') {\n    return new Declaration(defaults)\n  } else if (defaults.type === 'rule') {\n    return new Rule(defaults)\n  } else if (defaults.type === 'comment') {\n    return new Comment(defaults)\n  } else if (defaults.type === 'atrule') {\n    return new AtRule(defaults)\n  } else {\n    throw new Error('Unknown node type: ' + json.type)\n  }\n}\n\nmodule.exports = fromJSON\nfromJSON.default = fromJSON\n","'use strict'\n\nlet { dirname, relative, resolve, sep } = require('path')\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { pathToFileURL } = require('url')\n\nlet Input = require('./input')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(dirname && resolve && relative && sep)\n\nclass MapGenerator {\n  constructor(stringify, root, opts, cssString) {\n    this.stringify = stringify\n    this.mapOpts = opts.map || {}\n    this.root = root\n    this.opts = opts\n    this.css = cssString\n    this.originalCSS = cssString\n    this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute\n\n    this.memoizedFileURLs = new Map()\n    this.memoizedPaths = new Map()\n    this.memoizedURLs = new Map()\n  }\n\n  addAnnotation() {\n    let content\n\n    if (this.isInline()) {\n      content =\n        'data:application/json;base64,' + this.toBase64(this.map.toString())\n    } else if (typeof this.mapOpts.annotation === 'string') {\n      content = this.mapOpts.annotation\n    } else if (typeof this.mapOpts.annotation === 'function') {\n      content = this.mapOpts.annotation(this.opts.to, this.root)\n    } else {\n      content = this.outputFile() + '.map'\n    }\n    let eol = '\\n'\n    if (this.css.includes('\\r\\n')) eol = '\\r\\n'\n\n    this.css += eol + '/*# sourceMappingURL=' + content + ' */'\n  }\n\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file))\n      let root = prev.root || dirname(prev.file)\n      let map\n\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer(prev.text)\n        if (map.sourcesContent) {\n          map.sourcesContent = null\n        }\n      } else {\n        map = prev.consumer()\n      }\n\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root)))\n    }\n  }\n\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return\n\n    if (this.root) {\n      let node\n      for (let i = this.root.nodes.length - 1; i >= 0; i--) {\n        node = this.root.nodes[i]\n        if (node.type !== 'comment') continue\n        if (node.text.startsWith('# sourceMappingURL=')) {\n          this.root.removeChild(i)\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/\\n*\\/\\*#[\\S\\s]*?\\*\\/$/gm, '')\n    }\n  }\n\n  generate() {\n    this.clearAnnotation()\n    if (pathAvailable && sourceMapAvailable && this.isMap()) {\n      return this.generateMap()\n    } else {\n      let result = ''\n      this.stringify(this.root, i => {\n        result += i\n      })\n      return [result]\n    }\n  }\n\n  generateMap() {\n    if (this.root) {\n      this.generateString()\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer()\n      prev.file = this.outputFile()\n      this.map = SourceMapGenerator.fromSourceMap(prev, {\n        ignoreInvalidMapping: true\n      })\n    } else {\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      })\n      this.map.addMapping({\n        generated: { column: 0, line: 1 },\n        original: { column: 0, line: 1 },\n        source: this.opts.from\n          ? this.toUrl(this.path(this.opts.from))\n          : '<no source>'\n      })\n    }\n\n    if (this.isSourcesContent()) this.setSourcesContent()\n    if (this.root && this.previous().length > 0) this.applyPrevMaps()\n    if (this.isAnnotation()) this.addAnnotation()\n\n    if (this.isInline()) {\n      return [this.css]\n    } else {\n      return [this.css, this.map]\n    }\n  }\n\n  generateString() {\n    this.css = ''\n    this.map = new SourceMapGenerator({\n      file: this.outputFile(),\n      ignoreInvalidMapping: true\n    })\n\n    let line = 1\n    let column = 1\n\n    let noSource = '<no source>'\n    let mapping = {\n      generated: { column: 0, line: 0 },\n      original: { column: 0, line: 0 },\n      source: ''\n    }\n\n    let last, lines\n    this.stringify(this.root, (str, node, type) => {\n      this.css += str\n\n      if (node && type !== 'end') {\n        mapping.generated.line = line\n        mapping.generated.column = column - 1\n        if (node.source && node.source.start) {\n          mapping.source = this.sourcePath(node)\n          mapping.original.line = node.source.start.line\n          mapping.original.column = node.source.start.column - 1\n          this.map.addMapping(mapping)\n        } else {\n          mapping.source = noSource\n          mapping.original.line = 1\n          mapping.original.column = 0\n          this.map.addMapping(mapping)\n        }\n      }\n\n      lines = str.match(/\\n/g)\n      if (lines) {\n        line += lines.length\n        last = str.lastIndexOf('\\n')\n        column = str.length - last\n      } else {\n        column += str.length\n      }\n\n      if (node && type !== 'start') {\n        let p = node.parent || { raws: {} }\n        let childless =\n          node.type === 'decl' || (node.type === 'atrule' && !node.nodes)\n        if (!childless || node !== p.last || p.raws.semicolon) {\n          if (node.source && node.source.end) {\n            mapping.source = this.sourcePath(node)\n            mapping.original.line = node.source.end.line\n            mapping.original.column = node.source.end.column - 1\n            mapping.generated.line = line\n            mapping.generated.column = column - 2\n            this.map.addMapping(mapping)\n          } else {\n            mapping.source = noSource\n            mapping.original.line = 1\n            mapping.original.column = 0\n            mapping.generated.line = line\n            mapping.generated.column = column - 1\n            this.map.addMapping(mapping)\n          }\n        }\n      }\n    })\n  }\n\n  isAnnotation() {\n    if (this.isInline()) {\n      return true\n    }\n    if (typeof this.mapOpts.annotation !== 'undefined') {\n      return this.mapOpts.annotation\n    }\n    if (this.previous().length) {\n      return this.previous().some(i => i.annotation)\n    }\n    return true\n  }\n\n  isInline() {\n    if (typeof this.mapOpts.inline !== 'undefined') {\n      return this.mapOpts.inline\n    }\n\n    let annotation = this.mapOpts.annotation\n    if (typeof annotation !== 'undefined' && annotation !== true) {\n      return false\n    }\n\n    if (this.previous().length) {\n      return this.previous().some(i => i.inline)\n    }\n    return true\n  }\n\n  isMap() {\n    if (typeof this.opts.map !== 'undefined') {\n      return !!this.opts.map\n    }\n    return this.previous().length > 0\n  }\n\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== 'undefined') {\n      return this.mapOpts.sourcesContent\n    }\n    if (this.previous().length) {\n      return this.previous().some(i => i.withContent())\n    }\n    return true\n  }\n\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to)\n    } else if (this.opts.from) {\n      return this.path(this.opts.from)\n    } else {\n      return 'to.css'\n    }\n  }\n\n  path(file) {\n    if (this.mapOpts.absolute) return file\n    if (file.charCodeAt(0) === 60 /* `<` */) return file\n    if (/^\\w+:\\/\\//.test(file)) return file\n    let cached = this.memoizedPaths.get(file)\n    if (cached) return cached\n\n    let from = this.opts.to ? dirname(this.opts.to) : '.'\n\n    if (typeof this.mapOpts.annotation === 'string') {\n      from = dirname(resolve(from, this.mapOpts.annotation))\n    }\n\n    let path = relative(from, file)\n    this.memoizedPaths.set(file, path)\n\n    return path\n  }\n\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = []\n      if (this.root) {\n        this.root.walk(node => {\n          if (node.source && node.source.input.map) {\n            let map = node.source.input.map\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map)\n            }\n          }\n        })\n      } else {\n        let input = new Input(this.originalCSS, this.opts)\n        if (input.map) this.previousMaps.push(input.map)\n      }\n    }\n\n    return this.previousMaps\n  }\n\n  setSourcesContent() {\n    let already = {}\n    if (this.root) {\n      this.root.walk(node => {\n        if (node.source) {\n          let from = node.source.input.from\n          if (from && !already[from]) {\n            already[from] = true\n            let fromUrl = this.usesFileUrls\n              ? this.toFileUrl(from)\n              : this.toUrl(this.path(from))\n            this.map.setSourceContent(fromUrl, node.source.input.css)\n          }\n        }\n      })\n    } else if (this.css) {\n      let from = this.opts.from\n        ? this.toUrl(this.path(this.opts.from))\n        : '<no source>'\n      this.map.setSourceContent(from, this.css)\n    }\n  }\n\n  sourcePath(node) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from)\n    } else if (this.usesFileUrls) {\n      return this.toFileUrl(node.source.input.from)\n    } else {\n      return this.toUrl(this.path(node.source.input.from))\n    }\n  }\n\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString('base64')\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)))\n    }\n  }\n\n  toFileUrl(path) {\n    let cached = this.memoizedFileURLs.get(path)\n    if (cached) return cached\n\n    if (pathToFileURL) {\n      let fileURL = pathToFileURL(path).toString()\n      this.memoizedFileURLs.set(path, fileURL)\n\n      return fileURL\n    } else {\n      throw new Error(\n        '`map.absolute` option is not available in this PostCSS build'\n      )\n    }\n  }\n\n  toUrl(path) {\n    let cached = this.memoizedURLs.get(path)\n    if (cached) return cached\n\n    if (sep === '\\\\') {\n      path = path.replace(/\\\\/g, '/')\n    }\n\n    let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent)\n    this.memoizedURLs.set(path, url)\n\n    return url\n  }\n}\n\nmodule.exports = MapGenerator\n","'use strict'\n\nconst SINGLE_QUOTE = \"'\".charCodeAt(0)\nconst DOUBLE_QUOTE = '\"'.charCodeAt(0)\nconst BACKSLASH = '\\\\'.charCodeAt(0)\nconst SLASH = '/'.charCodeAt(0)\nconst NEWLINE = '\\n'.charCodeAt(0)\nconst SPACE = ' '.charCodeAt(0)\nconst FEED = '\\f'.charCodeAt(0)\nconst TAB = '\\t'.charCodeAt(0)\nconst CR = '\\r'.charCodeAt(0)\nconst OPEN_SQUARE = '['.charCodeAt(0)\nconst CLOSE_SQUARE = ']'.charCodeAt(0)\nconst OPEN_PARENTHESES = '('.charCodeAt(0)\nconst CLOSE_PARENTHESES = ')'.charCodeAt(0)\nconst OPEN_CURLY = '{'.charCodeAt(0)\nconst CLOSE_CURLY = '}'.charCodeAt(0)\nconst SEMICOLON = ';'.charCodeAt(0)\nconst ASTERISK = '*'.charCodeAt(0)\nconst COLON = ':'.charCodeAt(0)\nconst AT = '@'.charCodeAt(0)\n\nconst RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g\nconst RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g\nconst RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/\nconst RE_HEX_ESCAPE = /[\\da-f]/i\n\nmodule.exports = function tokenizer(input, options = {}) {\n  let css = input.css.valueOf()\n  let ignore = options.ignoreErrors\n\n  let code, content, escape, next, quote\n  let currentToken, escaped, escapePos, n, prev\n\n  let length = css.length\n  let pos = 0\n  let buffer = []\n  let returned = []\n\n  function position() {\n    return pos\n  }\n\n  function unclosed(what) {\n    throw input.error('Unclosed ' + what, pos)\n  }\n\n  function endOfFile() {\n    return returned.length === 0 && pos >= length\n  }\n\n  function nextToken(opts) {\n    if (returned.length) return returned.pop()\n    if (pos >= length) return\n\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false\n\n    code = css.charCodeAt(pos)\n\n    switch (code) {\n      case NEWLINE:\n      case SPACE:\n      case TAB:\n      case CR:\n      case FEED: {\n        next = pos\n        do {\n          next += 1\n          code = css.charCodeAt(next)\n        } while (\n          code === SPACE ||\n          code === NEWLINE ||\n          code === TAB ||\n          code === CR ||\n          code === FEED\n        )\n\n        currentToken = ['space', css.slice(pos, next)]\n        pos = next - 1\n        break\n      }\n\n      case OPEN_SQUARE:\n      case CLOSE_SQUARE:\n      case OPEN_CURLY:\n      case CLOSE_CURLY:\n      case COLON:\n      case SEMICOLON:\n      case CLOSE_PARENTHESES: {\n        let controlChar = String.fromCharCode(code)\n        currentToken = [controlChar, controlChar, pos]\n        break\n      }\n\n      case OPEN_PARENTHESES: {\n        prev = buffer.length ? buffer.pop()[1] : ''\n        n = css.charCodeAt(pos + 1)\n        if (\n          prev === 'url' &&\n          n !== SINGLE_QUOTE &&\n          n !== DOUBLE_QUOTE &&\n          n !== SPACE &&\n          n !== NEWLINE &&\n          n !== TAB &&\n          n !== FEED &&\n          n !== CR\n        ) {\n          next = pos\n          do {\n            escaped = false\n            next = css.indexOf(')', next + 1)\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos\n                break\n              } else {\n                unclosed('bracket')\n              }\n            }\n            escapePos = next\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1\n              escaped = !escaped\n            }\n          } while (escaped)\n\n          currentToken = ['brackets', css.slice(pos, next + 1), pos, next]\n\n          pos = next\n        } else {\n          next = css.indexOf(')', pos + 1)\n          content = css.slice(pos, next + 1)\n\n          if (next === -1 || RE_BAD_BRACKET.test(content)) {\n            currentToken = ['(', '(', pos]\n          } else {\n            currentToken = ['brackets', content, pos, next]\n            pos = next\n          }\n        }\n\n        break\n      }\n\n      case SINGLE_QUOTE:\n      case DOUBLE_QUOTE: {\n        quote = code === SINGLE_QUOTE ? \"'\" : '\"'\n        next = pos\n        do {\n          escaped = false\n          next = css.indexOf(quote, next + 1)\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1\n              break\n            } else {\n              unclosed('string')\n            }\n          }\n          escapePos = next\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n            escapePos -= 1\n            escaped = !escaped\n          }\n        } while (escaped)\n\n        currentToken = ['string', css.slice(pos, next + 1), pos, next]\n        pos = next\n        break\n      }\n\n      case AT: {\n        RE_AT_END.lastIndex = pos + 1\n        RE_AT_END.test(css)\n        if (RE_AT_END.lastIndex === 0) {\n          next = css.length - 1\n        } else {\n          next = RE_AT_END.lastIndex - 2\n        }\n\n        currentToken = ['at-word', css.slice(pos, next + 1), pos, next]\n\n        pos = next\n        break\n      }\n\n      case BACKSLASH: {\n        next = pos\n        escape = true\n        while (css.charCodeAt(next + 1) === BACKSLASH) {\n          next += 1\n          escape = !escape\n        }\n        code = css.charCodeAt(next + 1)\n        if (\n          escape &&\n          code !== SLASH &&\n          code !== SPACE &&\n          code !== NEWLINE &&\n          code !== TAB &&\n          code !== CR &&\n          code !== FEED\n        ) {\n          next += 1\n          if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n              next += 1\n            }\n            if (css.charCodeAt(next + 1) === SPACE) {\n              next += 1\n            }\n          }\n        }\n\n        currentToken = ['word', css.slice(pos, next + 1), pos, next]\n\n        pos = next\n        break\n      }\n\n      default: {\n        if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n          next = css.indexOf('*/', pos + 2) + 1\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length\n            } else {\n              unclosed('comment')\n            }\n          }\n\n          currentToken = ['comment', css.slice(pos, next + 1), pos, next]\n          pos = next\n        } else {\n          RE_WORD_END.lastIndex = pos + 1\n          RE_WORD_END.test(css)\n          if (RE_WORD_END.lastIndex === 0) {\n            next = css.length - 1\n          } else {\n            next = RE_WORD_END.lastIndex - 2\n          }\n\n          currentToken = ['word', css.slice(pos, next + 1), pos, next]\n          buffer.push(currentToken)\n          pos = next\n        }\n\n        break\n      }\n    }\n\n    pos++\n    return currentToken\n  }\n\n  function back(token) {\n    returned.push(token)\n  }\n\n  return {\n    back,\n    endOfFile,\n    nextToken,\n    position\n  }\n}\n","'use strict'\n\nlet AtRule = require('./at-rule')\nlet Comment = require('./comment')\nlet Declaration = require('./declaration')\nlet Root = require('./root')\nlet Rule = require('./rule')\nlet tokenizer = require('./tokenize')\n\nconst SAFE_COMMENT_NEIGHBOR = {\n  empty: true,\n  space: true\n}\n\nfunction findLastWithPosition(tokens) {\n  for (let i = tokens.length - 1; i >= 0; i--) {\n    let token = tokens[i]\n    let pos = token[3] || token[2]\n    if (pos) return pos\n  }\n}\n\nclass Parser {\n  constructor(input) {\n    this.input = input\n\n    this.root = new Root()\n    this.current = this.root\n    this.spaces = ''\n    this.semicolon = false\n\n    this.createTokenizer()\n    this.root.source = { input, start: { column: 1, line: 1, offset: 0 } }\n  }\n\n  atrule(token) {\n    let node = new AtRule()\n    node.name = token[1].slice(1)\n    if (node.name === '') {\n      this.unnamedAtrule(node, token)\n    }\n    this.init(node, token[2])\n\n    let type\n    let prev\n    let shift\n    let last = false\n    let open = false\n    let params = []\n    let brackets = []\n\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken()\n      type = token[0]\n\n      if (type === '(' || type === '[') {\n        brackets.push(type === '(' ? ')' : ']')\n      } else if (type === '{' && brackets.length > 0) {\n        brackets.push('}')\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop()\n      }\n\n      if (brackets.length === 0) {\n        if (type === ';') {\n          node.source.end = this.getPosition(token[2])\n          node.source.end.offset++\n          this.semicolon = true\n          break\n        } else if (type === '{') {\n          open = true\n          break\n        } else if (type === '}') {\n          if (params.length > 0) {\n            shift = params.length - 1\n            prev = params[shift]\n            while (prev && prev[0] === 'space') {\n              prev = params[--shift]\n            }\n            if (prev) {\n              node.source.end = this.getPosition(prev[3] || prev[2])\n              node.source.end.offset++\n            }\n          }\n          this.end(token)\n          break\n        } else {\n          params.push(token)\n        }\n      } else {\n        params.push(token)\n      }\n\n      if (this.tokenizer.endOfFile()) {\n        last = true\n        break\n      }\n    }\n\n    node.raws.between = this.spacesAndCommentsFromEnd(params)\n    if (params.length) {\n      node.raws.afterName = this.spacesAndCommentsFromStart(params)\n      this.raw(node, 'params', params)\n      if (last) {\n        token = params[params.length - 1]\n        node.source.end = this.getPosition(token[3] || token[2])\n        node.source.end.offset++\n        this.spaces = node.raws.between\n        node.raws.between = ''\n      }\n    } else {\n      node.raws.afterName = ''\n      node.params = ''\n    }\n\n    if (open) {\n      node.nodes = []\n      this.current = node\n    }\n  }\n\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens)\n    if (colon === false) return\n\n    let founded = 0\n    let token\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j]\n      if (token[0] !== 'space') {\n        founded += 1\n        if (founded === 2) break\n      }\n    }\n    // If the token is a word, e.g. `!important`, `red` or any other valid property's value.\n    // Then we need to return the colon after that word token. [3] is the \"end\" colon of that word.\n    // And because we need it after that one we do +1 to get the next one.\n    throw this.input.error(\n      'Missed semicolon',\n      token[0] === 'word' ? token[3] + 1 : token[2]\n    )\n  }\n\n  colon(tokens) {\n    let brackets = 0\n    let prev, token, type\n    for (let [i, element] of tokens.entries()) {\n      token = element\n      type = token[0]\n\n      if (type === '(') {\n        brackets += 1\n      }\n      if (type === ')') {\n        brackets -= 1\n      }\n      if (brackets === 0 && type === ':') {\n        if (!prev) {\n          this.doubleColon(token)\n        } else if (prev[0] === 'word' && prev[1] === 'progid') {\n          continue\n        } else {\n          return i\n        }\n      }\n\n      prev = token\n    }\n    return false\n  }\n\n  comment(token) {\n    let node = new Comment()\n    this.init(node, token[2])\n    node.source.end = this.getPosition(token[3] || token[2])\n    node.source.end.offset++\n\n    let text = token[1].slice(2, -2)\n    if (/^\\s*$/.test(text)) {\n      node.text = ''\n      node.raws.left = text\n      node.raws.right = ''\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/)\n      node.text = match[2]\n      node.raws.left = match[1]\n      node.raws.right = match[3]\n    }\n  }\n\n  createTokenizer() {\n    this.tokenizer = tokenizer(this.input)\n  }\n\n  decl(tokens, customProperty) {\n    let node = new Declaration()\n    this.init(node, tokens[0][2])\n\n    let last = tokens[tokens.length - 1]\n    if (last[0] === ';') {\n      this.semicolon = true\n      tokens.pop()\n    }\n\n    node.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition(tokens)\n    )\n    node.source.end.offset++\n\n    while (tokens[0][0] !== 'word') {\n      if (tokens.length === 1) this.unknownWord(tokens)\n      node.raws.before += tokens.shift()[1]\n    }\n    node.source.start = this.getPosition(tokens[0][2])\n\n    node.prop = ''\n    while (tokens.length) {\n      let type = tokens[0][0]\n      if (type === ':' || type === 'space' || type === 'comment') {\n        break\n      }\n      node.prop += tokens.shift()[1]\n    }\n\n    node.raws.between = ''\n\n    let token\n    while (tokens.length) {\n      token = tokens.shift()\n\n      if (token[0] === ':') {\n        node.raws.between += token[1]\n        break\n      } else {\n        if (token[0] === 'word' && /\\w/.test(token[1])) {\n          this.unknownWord([token])\n        }\n        node.raws.between += token[1]\n      }\n    }\n\n    if (node.prop[0] === '_' || node.prop[0] === '*') {\n      node.raws.before += node.prop[0]\n      node.prop = node.prop.slice(1)\n    }\n\n    let firstSpaces = []\n    let next\n    while (tokens.length) {\n      next = tokens[0][0]\n      if (next !== 'space' && next !== 'comment') break\n      firstSpaces.push(tokens.shift())\n    }\n\n    this.precheckMissedSemicolon(tokens)\n\n    for (let i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i]\n      if (token[1].toLowerCase() === '!important') {\n        node.important = true\n        let string = this.stringFrom(tokens, i)\n        string = this.spacesFromEnd(tokens) + string\n        if (string !== ' !important') node.raws.important = string\n        break\n      } else if (token[1].toLowerCase() === 'important') {\n        let cache = tokens.slice(0)\n        let str = ''\n        for (let j = i; j > 0; j--) {\n          let type = cache[j][0]\n          if (str.trim().startsWith('!') && type !== 'space') {\n            break\n          }\n          str = cache.pop()[1] + str\n        }\n        if (str.trim().startsWith('!')) {\n          node.important = true\n          node.raws.important = str\n          tokens = cache\n        }\n      }\n\n      if (token[0] !== 'space' && token[0] !== 'comment') {\n        break\n      }\n    }\n\n    let hasWord = tokens.some(i => i[0] !== 'space' && i[0] !== 'comment')\n\n    if (hasWord) {\n      node.raws.between += firstSpaces.map(i => i[1]).join('')\n      firstSpaces = []\n    }\n    this.raw(node, 'value', firstSpaces.concat(tokens), customProperty)\n\n    if (node.value.includes(':') && !customProperty) {\n      this.checkMissedSemicolon(tokens)\n    }\n  }\n\n  doubleColon(token) {\n    throw this.input.error(\n      'Double colon',\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    )\n  }\n\n  emptyRule(token) {\n    let node = new Rule()\n    this.init(node, token[2])\n    node.selector = ''\n    node.raws.between = ''\n    this.current = node\n  }\n\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon\n    }\n    this.semicolon = false\n\n    this.current.raws.after = (this.current.raws.after || '') + this.spaces\n    this.spaces = ''\n\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2])\n      this.current.source.end.offset++\n      this.current = this.current.parent\n    } else {\n      this.unexpectedClose(token)\n    }\n  }\n\n  endFile() {\n    if (this.current.parent) this.unclosedBlock()\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon\n    }\n    this.current.raws.after = (this.current.raws.after || '') + this.spaces\n    this.root.source.end = this.getPosition(this.tokenizer.position())\n  }\n\n  freeSemicolon(token) {\n    this.spaces += token[1]\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1]\n      if (prev && prev.type === 'rule' && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces\n        this.spaces = ''\n        prev.source.end = this.getPosition(token[2])\n        prev.source.end.offset += prev.raws.ownSemicolon.length\n      }\n    }\n  }\n\n  // Helpers\n\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset)\n    return {\n      column: pos.col,\n      line: pos.line,\n      offset\n    }\n  }\n\n  init(node, offset) {\n    this.current.push(node)\n    node.source = {\n      input: this.input,\n      start: this.getPosition(offset)\n    }\n    node.raws.before = this.spaces\n    this.spaces = ''\n    if (node.type !== 'comment') this.semicolon = false\n  }\n\n  other(start) {\n    let end = false\n    let type = null\n    let colon = false\n    let bracket = null\n    let brackets = []\n    let customProperty = start[1].startsWith('--')\n\n    let tokens = []\n    let token = start\n    while (token) {\n      type = token[0]\n      tokens.push(token)\n\n      if (type === '(' || type === '[') {\n        if (!bracket) bracket = token\n        brackets.push(type === '(' ? ')' : ']')\n      } else if (customProperty && colon && type === '{') {\n        if (!bracket) bracket = token\n        brackets.push('}')\n      } else if (brackets.length === 0) {\n        if (type === ';') {\n          if (colon) {\n            this.decl(tokens, customProperty)\n            return\n          } else {\n            break\n          }\n        } else if (type === '{') {\n          this.rule(tokens)\n          return\n        } else if (type === '}') {\n          this.tokenizer.back(tokens.pop())\n          end = true\n          break\n        } else if (type === ':') {\n          colon = true\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop()\n        if (brackets.length === 0) bracket = null\n      }\n\n      token = this.tokenizer.nextToken()\n    }\n\n    if (this.tokenizer.endOfFile()) end = true\n    if (brackets.length > 0) this.unclosedBracket(bracket)\n\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0]\n          if (token !== 'space' && token !== 'comment') break\n          this.tokenizer.back(tokens.pop())\n        }\n      }\n      this.decl(tokens, customProperty)\n    } else {\n      this.unknownWord(tokens)\n    }\n  }\n\n  parse() {\n    let token\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken()\n\n      switch (token[0]) {\n        case 'space':\n          this.spaces += token[1]\n          break\n\n        case ';':\n          this.freeSemicolon(token)\n          break\n\n        case '}':\n          this.end(token)\n          break\n\n        case 'comment':\n          this.comment(token)\n          break\n\n        case 'at-word':\n          this.atrule(token)\n          break\n\n        case '{':\n          this.emptyRule(token)\n          break\n\n        default:\n          this.other(token)\n          break\n      }\n    }\n    this.endFile()\n  }\n\n  precheckMissedSemicolon(/* tokens */) {\n    // Hook for Safe Parser\n  }\n\n  raw(node, prop, tokens, customProperty) {\n    let token, type\n    let length = tokens.length\n    let value = ''\n    let clean = true\n    let next, prev\n\n    for (let i = 0; i < length; i += 1) {\n      token = tokens[i]\n      type = token[0]\n      if (type === 'space' && i === length - 1 && !customProperty) {\n        clean = false\n      } else if (type === 'comment') {\n        prev = tokens[i - 1] ? tokens[i - 1][0] : 'empty'\n        next = tokens[i + 1] ? tokens[i + 1][0] : 'empty'\n        if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n          if (value.slice(-1) === ',') {\n            clean = false\n          } else {\n            value += token[1]\n          }\n        } else {\n          clean = false\n        }\n      } else {\n        value += token[1]\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i) => all + i[1], '')\n      node.raws[prop] = { raw, value }\n    }\n    node[prop] = value\n  }\n\n  rule(tokens) {\n    tokens.pop()\n\n    let node = new Rule()\n    this.init(node, tokens[0][2])\n\n    node.raws.between = this.spacesAndCommentsFromEnd(tokens)\n    this.raw(node, 'selector', tokens)\n    this.current = node\n  }\n\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType\n    let spaces = ''\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0]\n      if (lastTokenType !== 'space' && lastTokenType !== 'comment') break\n      spaces = tokens.pop()[1] + spaces\n    }\n    return spaces\n  }\n\n  // Errors\n\n  spacesAndCommentsFromStart(tokens) {\n    let next\n    let spaces = ''\n    while (tokens.length) {\n      next = tokens[0][0]\n      if (next !== 'space' && next !== 'comment') break\n      spaces += tokens.shift()[1]\n    }\n    return spaces\n  }\n\n  spacesFromEnd(tokens) {\n    let lastTokenType\n    let spaces = ''\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0]\n      if (lastTokenType !== 'space') break\n      spaces = tokens.pop()[1] + spaces\n    }\n    return spaces\n  }\n\n  stringFrom(tokens, from) {\n    let result = ''\n    for (let i = from; i < tokens.length; i++) {\n      result += tokens[i][1]\n    }\n    tokens.splice(from, tokens.length - from)\n    return result\n  }\n\n  unclosedBlock() {\n    let pos = this.current.source.start\n    throw this.input.error('Unclosed block', pos.line, pos.column)\n  }\n\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      'Unclosed bracket',\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    )\n  }\n\n  unexpectedClose(token) {\n    throw this.input.error(\n      'Unexpected }',\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    )\n  }\n\n  unknownWord(tokens) {\n    throw this.input.error(\n      'Unknown word ' + tokens[0][1],\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    )\n  }\n\n  unnamedAtrule(node, token) {\n    throw this.input.error(\n      'At-rule without name',\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    )\n  }\n}\n\nmodule.exports = Parser\n","'use strict'\n\nlet Container = require('./container')\nlet Input = require('./input')\nlet Parser = require('./parser')\n\nfunction parse(css, opts) {\n  let input = new Input(css, opts)\n  let parser = new Parser(input)\n  try {\n    parser.parse()\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (e.name === 'CssSyntaxError' && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse SCSS with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-scss parser'\n        } else if (/\\.sass/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse Sass with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-sass parser'\n        } else if (/\\.less$/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse Less with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-less parser'\n        }\n      }\n    }\n    throw e\n  }\n\n  return parser.root\n}\n\nmodule.exports = parse\nparse.default = parse\n\nContainer.registerParse(parse)\n","'use strict'\n\nclass Warning {\n  constructor(text, opts = {}) {\n    this.type = 'warning'\n    this.text = text\n\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts)\n      this.line = range.start.line\n      this.column = range.start.column\n      this.endLine = range.end.line\n      this.endColumn = range.end.column\n    }\n\n    for (let opt in opts) this[opt] = opts[opt]\n  }\n\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        index: this.index,\n        plugin: this.plugin,\n        word: this.word\n      }).message\n    }\n\n    if (this.plugin) {\n      return this.plugin + ': ' + this.text\n    }\n\n    return this.text\n  }\n}\n\nmodule.exports = Warning\nWarning.default = Warning\n","'use strict'\n\nlet Warning = require('./warning')\n\nclass Result {\n  get content() {\n    return this.css\n  }\n\n  constructor(processor, root, opts) {\n    this.processor = processor\n    this.messages = []\n    this.root = root\n    this.opts = opts\n    this.css = ''\n    this.map = undefined\n  }\n\n  toString() {\n    return this.css\n  }\n\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin\n      }\n    }\n\n    let warning = new Warning(text, opts)\n    this.messages.push(warning)\n\n    return warning\n  }\n\n  warnings() {\n    return this.messages.filter(i => i.type === 'warning')\n  }\n}\n\nmodule.exports = Result\nResult.default = Result\n","/* eslint-disable no-console */\n'use strict'\n\nlet printed = {}\n\nmodule.exports = function warnOnce(message) {\n  if (printed[message]) return\n  printed[message] = true\n\n  if (typeof console !== 'undefined' && console.warn) {\n    console.warn(message)\n  }\n}\n","'use strict'\n\nlet Container = require('./container')\nlet Document = require('./document')\nlet MapGenerator = require('./map-generator')\nlet parse = require('./parse')\nlet Result = require('./result')\nlet Root = require('./root')\nlet stringify = require('./stringify')\nlet { isClean, my } = require('./symbols')\nlet warnOnce = require('./warn-once')\n\nconst TYPE_TO_CLASS_NAME = {\n  atrule: 'AtRule',\n  comment: 'Comment',\n  decl: 'Declaration',\n  document: 'Document',\n  root: 'Root',\n  rule: 'Rule'\n}\n\nconst PLUGIN_PROPS = {\n  AtRule: true,\n  AtRuleExit: true,\n  Comment: true,\n  CommentExit: true,\n  Declaration: true,\n  DeclarationExit: true,\n  Document: true,\n  DocumentExit: true,\n  Once: true,\n  OnceExit: true,\n  postcssPlugin: true,\n  prepare: true,\n  Root: true,\n  RootExit: true,\n  Rule: true,\n  RuleExit: true\n}\n\nconst NOT_VISITORS = {\n  Once: true,\n  postcssPlugin: true,\n  prepare: true\n}\n\nconst CHILDREN = 0\n\nfunction isPromise(obj) {\n  return typeof obj === 'object' && typeof obj.then === 'function'\n}\n\nfunction getEvents(node) {\n  let key = false\n  let type = TYPE_TO_CLASS_NAME[node.type]\n  if (node.type === 'decl') {\n    key = node.prop.toLowerCase()\n  } else if (node.type === 'atrule') {\n    key = node.name.toLowerCase()\n  }\n\n  if (key && node.append) {\n    return [\n      type,\n      type + '-' + key,\n      CHILDREN,\n      type + 'Exit',\n      type + 'Exit-' + key\n    ]\n  } else if (key) {\n    return [type, type + '-' + key, type + 'Exit', type + 'Exit-' + key]\n  } else if (node.append) {\n    return [type, CHILDREN, type + 'Exit']\n  } else {\n    return [type, type + 'Exit']\n  }\n}\n\nfunction toStack(node) {\n  let events\n  if (node.type === 'document') {\n    events = ['Document', CHILDREN, 'DocumentExit']\n  } else if (node.type === 'root') {\n    events = ['Root', CHILDREN, 'RootExit']\n  } else {\n    events = getEvents(node)\n  }\n\n  return {\n    eventIndex: 0,\n    events,\n    iterator: 0,\n    node,\n    visitorIndex: 0,\n    visitors: []\n  }\n}\n\nfunction cleanMarks(node) {\n  node[isClean] = false\n  if (node.nodes) node.nodes.forEach(i => cleanMarks(i))\n  return node\n}\n\nlet postcss = {}\n\nclass LazyResult {\n  get content() {\n    return this.stringify().content\n  }\n\n  get css() {\n    return this.stringify().css\n  }\n\n  get map() {\n    return this.stringify().map\n  }\n\n  get messages() {\n    return this.sync().messages\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get root() {\n    return this.sync().root\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'LazyResult'\n  }\n\n  constructor(processor, css, opts) {\n    this.stringified = false\n    this.processed = false\n\n    let root\n    if (\n      typeof css === 'object' &&\n      css !== null &&\n      (css.type === 'root' || css.type === 'document')\n    ) {\n      root = cleanMarks(css)\n    } else if (css instanceof LazyResult || css instanceof Result) {\n      root = cleanMarks(css.root)\n      if (css.map) {\n        if (typeof opts.map === 'undefined') opts.map = {}\n        if (!opts.map.inline) opts.map.inline = false\n        opts.map.prev = css.map\n      }\n    } else {\n      let parser = parse\n      if (opts.syntax) parser = opts.syntax.parse\n      if (opts.parser) parser = opts.parser\n      if (parser.parse) parser = parser.parse\n\n      try {\n        root = parser(css, opts)\n      } catch (error) {\n        this.processed = true\n        this.error = error\n      }\n\n      if (root && !root[my]) {\n        /* c8 ignore next 2 */\n        Container.rebuild(root)\n      }\n    }\n\n    this.result = new Result(processor, root, opts)\n    this.helpers = { ...postcss, postcss, result: this.result }\n    this.plugins = this.processor.plugins.map(plugin => {\n      if (typeof plugin === 'object' && plugin.prepare) {\n        return { ...plugin, ...plugin.prepare(this.result) }\n      } else {\n        return plugin\n      }\n    })\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    if (this.processed) return Promise.resolve(this.result)\n    if (!this.processing) {\n      this.processing = this.runAsync()\n    }\n    return this.processing\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  getAsyncError() {\n    throw new Error('Use process(css).then(cb) to work with async plugins')\n  }\n\n  handleError(error, node) {\n    let plugin = this.result.lastPlugin\n    try {\n      if (node) node.addToError(error)\n      this.error = error\n      if (error.name === 'CssSyntaxError' && !error.plugin) {\n        error.plugin = plugin.postcssPlugin\n        error.setMessage()\n      } else if (plugin.postcssVersion) {\n        if (process.env.NODE_ENV !== 'production') {\n          let pluginName = plugin.postcssPlugin\n          let pluginVer = plugin.postcssVersion\n          let runtimeVer = this.result.processor.version\n          let a = pluginVer.split('.')\n          let b = runtimeVer.split('.')\n\n          if (a[0] !== b[0] || parseInt(a[1]) > parseInt(b[1])) {\n            // eslint-disable-next-line no-console\n            console.error(\n              'Unknown error from PostCSS plugin. Your current PostCSS ' +\n                'version is ' +\n                runtimeVer +\n                ', but ' +\n                pluginName +\n                ' uses ' +\n                pluginVer +\n                '. Perhaps this is the source of the error below.'\n            )\n          }\n        }\n      }\n    } catch (err) {\n      /* c8 ignore next 3 */\n      // eslint-disable-next-line no-console\n      if (console && console.error) console.error(err)\n    }\n    return error\n  }\n\n  prepareVisitors() {\n    this.listeners = {}\n    let add = (plugin, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = []\n      this.listeners[type].push([plugin, cb])\n    }\n    for (let plugin of this.plugins) {\n      if (typeof plugin === 'object') {\n        for (let event in plugin) {\n          if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin.postcssPlugin}. ` +\n                `Try to update PostCSS (${this.processor.version} now).`\n            )\n          }\n          if (!NOT_VISITORS[event]) {\n            if (typeof plugin[event] === 'object') {\n              for (let filter in plugin[event]) {\n                if (filter === '*') {\n                  add(plugin, event, plugin[event][filter])\n                } else {\n                  add(\n                    plugin,\n                    event + '-' + filter.toLowerCase(),\n                    plugin[event][filter]\n                  )\n                }\n              }\n            } else if (typeof plugin[event] === 'function') {\n              add(plugin, event, plugin[event])\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0\n  }\n\n  async runAsync() {\n    this.plugin = 0\n    for (let i = 0; i < this.plugins.length; i++) {\n      let plugin = this.plugins[i]\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        try {\n          await promise\n        } catch (error) {\n          throw this.handleError(error)\n        }\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        let stack = [toStack(root)]\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack)\n          if (isPromise(promise)) {\n            try {\n              await promise\n            } catch (e) {\n              let node = stack[stack.length - 1].node\n              throw this.handleError(e, node)\n            }\n          }\n        }\n      }\n\n      if (this.listeners.OnceExit) {\n        for (let [plugin, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin\n          try {\n            if (root.type === 'document') {\n              let roots = root.nodes.map(subRoot =>\n                visitor(subRoot, this.helpers)\n              )\n\n              await Promise.all(roots)\n            } else {\n              await visitor(root, this.helpers)\n            }\n          } catch (e) {\n            throw this.handleError(e)\n          }\n        }\n      }\n    }\n\n    this.processed = true\n    return this.stringify()\n  }\n\n  runOnRoot(plugin) {\n    this.result.lastPlugin = plugin\n    try {\n      if (typeof plugin === 'object' && plugin.Once) {\n        if (this.result.root.type === 'document') {\n          let roots = this.result.root.nodes.map(root =>\n            plugin.Once(root, this.helpers)\n          )\n\n          if (isPromise(roots[0])) {\n            return Promise.all(roots)\n          }\n\n          return roots\n        }\n\n        return plugin.Once(this.result.root, this.helpers)\n      } else if (typeof plugin === 'function') {\n        return plugin(this.result.root, this.result)\n      }\n    } catch (error) {\n      throw this.handleError(error)\n    }\n  }\n\n  stringify() {\n    if (this.error) throw this.error\n    if (this.stringified) return this.result\n    this.stringified = true\n\n    this.sync()\n\n    let opts = this.result.opts\n    let str = stringify\n    if (opts.syntax) str = opts.syntax.stringify\n    if (opts.stringifier) str = opts.stringifier\n    if (str.stringify) str = str.stringify\n\n    let map = new MapGenerator(str, this.result.root, this.result.opts)\n    let data = map.generate()\n    this.result.css = data[0]\n    this.result.map = data[1]\n\n    return this.result\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    if (this.processed) return this.result\n    this.processed = true\n\n    if (this.processing) {\n      throw this.getAsyncError()\n    }\n\n    for (let plugin of this.plugins) {\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        this.walkSync(root)\n      }\n      if (this.listeners.OnceExit) {\n        if (root.type === 'document') {\n          for (let subRoot of root.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot)\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root)\n        }\n      }\n    }\n\n    return this.result\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this.opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  toString() {\n    return this.css\n  }\n\n  visitSync(visitors, node) {\n    for (let [plugin, visitor] of visitors) {\n      this.result.lastPlugin = plugin\n      let promise\n      try {\n        promise = visitor(node, this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node.proxyOf)\n      }\n      if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n        return true\n      }\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n  }\n\n  visitTick(stack) {\n    let visit = stack[stack.length - 1]\n    let { node, visitors } = visit\n\n    if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n      stack.pop()\n      return\n    }\n\n    if (visitors.length > 0 && visit.visitorIndex < visitors.length) {\n      let [plugin, visitor] = visitors[visit.visitorIndex]\n      visit.visitorIndex += 1\n      if (visit.visitorIndex === visitors.length) {\n        visit.visitors = []\n        visit.visitorIndex = 0\n      }\n      this.result.lastPlugin = plugin\n      try {\n        return visitor(node.toProxy(), this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node)\n      }\n    }\n\n    if (visit.iterator !== 0) {\n      let iterator = visit.iterator\n      let child\n      while ((child = node.nodes[node.indexes[iterator]])) {\n        node.indexes[iterator] += 1\n        if (!child[isClean]) {\n          child[isClean] = true\n          stack.push(toStack(child))\n          return\n        }\n      }\n      visit.iterator = 0\n      delete node.indexes[iterator]\n    }\n\n    let events = visit.events\n    while (visit.eventIndex < events.length) {\n      let event = events[visit.eventIndex]\n      visit.eventIndex += 1\n      if (event === CHILDREN) {\n        if (node.nodes && node.nodes.length) {\n          node[isClean] = true\n          visit.iterator = node.getIterator()\n        }\n        return\n      } else if (this.listeners[event]) {\n        visit.visitors = this.listeners[event]\n        return\n      }\n    }\n    stack.pop()\n  }\n\n  walkSync(node) {\n    node[isClean] = true\n    let events = getEvents(node)\n    for (let event of events) {\n      if (event === CHILDREN) {\n        if (node.nodes) {\n          node.each(child => {\n            if (!child[isClean]) this.walkSync(child)\n          })\n        }\n      } else {\n        let visitors = this.listeners[event]\n        if (visitors) {\n          if (this.visitSync(visitors, node.toProxy())) return\n        }\n      }\n    }\n  }\n\n  warnings() {\n    return this.sync().warnings()\n  }\n}\n\nLazyResult.registerPostcss = dependant => {\n  postcss = dependant\n}\n\nmodule.exports = LazyResult\nLazyResult.default = LazyResult\n\nRoot.registerLazyResult(LazyResult)\nDocument.registerLazyResult(LazyResult)\n","'use strict'\n\nlet MapGenerator = require('./map-generator')\nlet parse = require('./parse')\nconst Result = require('./result')\nlet stringify = require('./stringify')\nlet warnOnce = require('./warn-once')\n\nclass NoWorkResult {\n  get content() {\n    return this.result.css\n  }\n\n  get css() {\n    return this.result.css\n  }\n\n  get map() {\n    return this.result.map\n  }\n\n  get messages() {\n    return []\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get root() {\n    if (this._root) {\n      return this._root\n    }\n\n    let root\n    let parser = parse\n\n    try {\n      root = parser(this._css, this._opts)\n    } catch (error) {\n      this.error = error\n    }\n\n    if (this.error) {\n      throw this.error\n    } else {\n      this._root = root\n      return root\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'NoWorkResult'\n  }\n\n  constructor(processor, css, opts) {\n    css = css.toString()\n    this.stringified = false\n\n    this._processor = processor\n    this._css = css\n    this._opts = opts\n    this._map = undefined\n    let root\n\n    let str = stringify\n    this.result = new Result(this._processor, root, this._opts)\n    this.result.css = css\n\n    let self = this\n    Object.defineProperty(this.result, 'root', {\n      get() {\n        return self.root\n      }\n    })\n\n    let map = new MapGenerator(str, root, this._opts, css)\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate()\n      if (generatedCSS) {\n        this.result.css = generatedCSS\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap\n      }\n    } else {\n      map.clearAnnotation()\n      this.result.css = map.css\n    }\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    return Promise.resolve(this.result)\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    return this.result\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this._opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  toString() {\n    return this._css\n  }\n\n  warnings() {\n    return []\n  }\n}\n\nmodule.exports = NoWorkResult\nNoWorkResult.default = NoWorkResult\n","'use strict'\n\nlet Document = require('./document')\nlet LazyResult = require('./lazy-result')\nlet NoWorkResult = require('./no-work-result')\nlet Root = require('./root')\n\nclass Processor {\n  constructor(plugins = []) {\n    this.version = '8.5.6'\n    this.plugins = this.normalize(plugins)\n  }\n\n  normalize(plugins) {\n    let normalized = []\n    for (let i of plugins) {\n      if (i.postcss === true) {\n        i = i()\n      } else if (i.postcss) {\n        i = i.postcss\n      }\n\n      if (typeof i === 'object' && Array.isArray(i.plugins)) {\n        normalized = normalized.concat(i.plugins)\n      } else if (typeof i === 'object' && i.postcssPlugin) {\n        normalized.push(i)\n      } else if (typeof i === 'function') {\n        normalized.push(i)\n      } else if (typeof i === 'object' && (i.parse || i.stringify)) {\n        if (process.env.NODE_ENV !== 'production') {\n          throw new Error(\n            'PostCSS syntaxes cannot be used as plugins. Instead, please use ' +\n              'one of the syntax/parser/stringifier options as outlined ' +\n              'in your PostCSS runner documentation.'\n          )\n        }\n      } else {\n        throw new Error(i + ' is not a PostCSS plugin')\n      }\n    }\n    return normalized\n  }\n\n  process(css, opts = {}) {\n    if (\n      !this.plugins.length &&\n      !opts.parser &&\n      !opts.stringifier &&\n      !opts.syntax\n    ) {\n      return new NoWorkResult(this, css, opts)\n    } else {\n      return new LazyResult(this, css, opts)\n    }\n  }\n\n  use(plugin) {\n    this.plugins = this.plugins.concat(this.normalize([plugin]))\n    return this\n  }\n}\n\nmodule.exports = Processor\nProcessor.default = Processor\n\nRoot.registerProcessor(Processor)\nDocument.registerProcessor(Processor)\n","'use strict'\n\nlet AtRule = require('./at-rule')\nlet Comment = require('./comment')\nlet Container = require('./container')\nlet CssSyntaxError = require('./css-syntax-error')\nlet Declaration = require('./declaration')\nlet Document = require('./document')\nlet fromJSON = require('./fromJSON')\nlet Input = require('./input')\nlet LazyResult = require('./lazy-result')\nlet list = require('./list')\nlet Node = require('./node')\nlet parse = require('./parse')\nlet Processor = require('./processor')\nlet Result = require('./result.js')\nlet Root = require('./root')\nlet Rule = require('./rule')\nlet stringify = require('./stringify')\nlet Warning = require('./warning')\n\nfunction postcss(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0]\n  }\n  return new Processor(plugins)\n}\n\npostcss.plugin = function plugin(name, initializer) {\n  let warningPrinted = false\n  function creator(...args) {\n    // eslint-disable-next-line no-console\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true\n      // eslint-disable-next-line no-console\n      console.warn(\n        name +\n          ': postcss.plugin was deprecated. Migration guide:\\n' +\n          'https://evilmartians.com/chronicles/postcss-8-plugin-migration'\n      )\n      if (process.env.LANG && process.env.LANG.startsWith('cn')) {\n        /* c8 ignore next 7 */\n        // eslint-disable-next-line no-console\n        console.warn(\n          name +\n            ':  postcss.plugin . :\\n' +\n            'https://www.w3ctech.com/topic/2226'\n        )\n      }\n    }\n    let transformer = initializer(...args)\n    transformer.postcssPlugin = name\n    transformer.postcssVersion = new Processor().version\n    return transformer\n  }\n\n  let cache\n  Object.defineProperty(creator, 'postcss', {\n    get() {\n      if (!cache) cache = creator()\n      return cache\n    }\n  })\n\n  creator.process = function (css, processOpts, pluginOpts) {\n    return postcss([creator(pluginOpts)]).process(css, processOpts)\n  }\n\n  return creator\n}\n\npostcss.stringify = stringify\npostcss.parse = parse\npostcss.fromJSON = fromJSON\npostcss.list = list\n\npostcss.comment = defaults => new Comment(defaults)\npostcss.atRule = defaults => new AtRule(defaults)\npostcss.decl = defaults => new Declaration(defaults)\npostcss.rule = defaults => new Rule(defaults)\npostcss.root = defaults => new Root(defaults)\npostcss.document = defaults => new Document(defaults)\n\npostcss.CssSyntaxError = CssSyntaxError\npostcss.Declaration = Declaration\npostcss.Container = Container\npostcss.Processor = Processor\npostcss.Document = Document\npostcss.Comment = Comment\npostcss.Warning = Warning\npostcss.AtRule = AtRule\npostcss.Result = Result\npostcss.Input = Input\npostcss.Rule = Rule\npostcss.Root = Root\npostcss.Node = Node\n\nLazyResult.registerPostcss(postcss)\n\nmodule.exports = postcss\npostcss.default = postcss\n","import postcss from './postcss.js'\n\nexport default postcss\n\nexport const stringify = postcss.stringify\nexport const fromJSON = postcss.fromJSON\nexport const plugin = postcss.plugin\nexport const parse = postcss.parse\nexport const list = postcss.list\n\nexport const document = postcss.document\nexport const comment = postcss.comment\nexport const atRule = postcss.atRule\nexport const rule = postcss.rule\nexport const decl = postcss.decl\nexport const root = postcss.root\n\nexport const CssSyntaxError = postcss.CssSyntaxError\nexport const Declaration = postcss.Declaration\nexport const Container = postcss.Container\nexport const Processor = postcss.Processor\nexport const Document = postcss.Document\nexport const Comment = postcss.Comment\nexport const Warning = postcss.Warning\nexport const AtRule = postcss.AtRule\nexport const Result = postcss.Result\nexport const Input = postcss.Input\nexport const Rule = postcss.Rule\nexport const Root = postcss.Root\nexport const Node = postcss.Node\n","import postcss from 'postcss';\nimport { getFontURLs, getWoff2BaseURL } from '../renderer';\nimport {\n  createElement,\n  decodeFontFamily,\n  fetchWithCache,\n  join,\n  normalizeFontWeightName,\n  splitFontFamily,\n} from '../utils';\n\ninterface FontFaceAttributes {\n  'font-family': string;\n  src: string;\n  'font-style': string;\n  'font-display': string;\n  'font-weight': string;\n  'unicode-range': string;\n}\n\nexport async function embedFonts(svg: SVGSVGElement, embedResources = true) {\n  // 1.  font-family\n  const usedFonts = collectUsedFonts(svg);\n  if (usedFonts.size === 0) return;\n\n  const parsedFontsFaces: FontFaceAttributes[] = [];\n\n  // 2.  CSS +  document.fonts \n  await Promise.all(\n    Array.from(usedFonts).map(async (fontFamily) => {\n      const loadedFonts = getActualLoadedFontFace(fontFamily);\n      if (!loadedFonts.length) return;\n\n      const cssFontFaces = await parseFontFamily(fontFamily);\n      if (!cssFontFaces.length) return;\n\n      const processed = await Promise.all(\n        cssFontFaces.map(async (rawFace) => {\n          const fontFace = normalizeFontFace(rawFace);\n\n          const unicodeRange = fontFace['unicode-range'].replace(/\\s/g, '');\n          const subset = loadedFonts.find(\n            (font) =>\n              font.unicodeRange &&\n              font.unicodeRange.replace(/\\s/g, '') === unicodeRange,\n          );\n\n          //  font-face\n          if (!subset) return null;\n\n          const baseURL = getWoff2BaseURL(\n            fontFace['font-family'],\n            normalizeFontWeightName(fontFace['font-weight']),\n          );\n          if (!baseURL) return null;\n\n          //  src  .woff2 URL \n          const urlMatch = fontFace.src.match(\n            /url\\([\"']?(.*?\\.woff2)[^\"']*[\"']?\\)/,\n          );\n          if (!urlMatch?.[1]) return null;\n\n          const woff2URL = join(baseURL, urlMatch[1]);\n\n          if (embedResources) {\n            const woff2DataUrl = await loadWoff2(woff2URL);\n            fontFace.src = `url(${woff2DataUrl}) format('woff2')`;\n          } else {\n            fontFace.src = `url(${woff2URL}) format('woff2')`;\n          }\n\n          return fontFace;\n        }),\n      );\n\n      parsedFontsFaces.push(\n        ...((processed.filter(Boolean) as FontFaceAttributes[]) || []),\n      );\n    }),\n  );\n\n  // 3.  <style>@font-face...</style>  SVG\n  if (parsedFontsFaces.length > 0) {\n    insertFontStyle(svg, parsedFontsFaces);\n  }\n}\n\n/**\n *  SVG  font-family\n */\nfunction collectUsedFonts(svg: SVGSVGElement) {\n  const usedFonts = new Set<string>();\n\n  const addFamilies = (fontFamilyString: string | null | undefined) => {\n    if (!fontFamilyString) return;\n    splitFontFamily(fontFamilyString).forEach((family) => {\n      const decodedFontFamily = decodeFontFamily(family);\n      if (decodedFontFamily) usedFonts.add(decodedFontFamily);\n    });\n  };\n\n  addFamilies(svg.getAttribute('font-family'));\n\n  const textElements =\n    svg.querySelectorAll<HTMLSpanElement>('foreignObject span');\n\n  for (const span of textElements) {\n    addFamilies(span.style.fontFamily);\n  }\n\n  return usedFonts;\n}\n\n/**\n *  font-family  CSS @font-face\n */\nasync function parseFontFamily(fontFamily: string) {\n  const urls = getFontURLs(fontFamily);\n  const fontFaces: Partial<FontFaceAttributes>[] = [];\n\n  await Promise.allSettled(\n    urls.map(async (url) => {\n      const cssText = await fetchWithCache(url)\n        .then((res) => res.text())\n        .catch(() => {\n          console.error(`Failed to fetch font CSS: ${url}`);\n          return null;\n        });\n\n      if (!cssText) return;\n\n      try {\n        const root = postcss.parse(cssText);\n\n        root.walkAtRules('font-face', (rule) => {\n          const fontFace: Record<string, string> = {};\n\n          rule.walkDecls((decl) => {\n            fontFace[decl.prop] = decl.value;\n          });\n\n          fontFaces.push(fontFace as Partial<FontFaceAttributes>);\n        });\n      } catch (error) {\n        console.error(`Failed to parse CSS: ${url}`, error);\n      }\n    }),\n  );\n\n  return fontFaces;\n}\n\n/**\n *  document.fonts  family  FontFace\n */\nexport function getActualLoadedFontFace(fontFamily: string) {\n  const fonts: FontFace[] = [];\n  const families = splitFontFamily(fontFamily).map((family) =>\n    decodeFontFamily(family),\n  );\n\n  document.fonts.forEach((font) => {\n    if (\n      families.includes(decodeFontFamily(font.family)) &&\n      font.status === 'loaded'\n    ) {\n      fonts.push(font);\n    }\n  });\n\n  return fonts;\n}\n\n/**\n *  FontFaceAttributes \n */\nfunction normalizeFontFace(\n  face: Partial<FontFaceAttributes>,\n): FontFaceAttributes {\n  return {\n    'font-family': face['font-family'] ?? '',\n    src: face.src ?? '',\n    'font-style': face['font-style'] ?? 'normal',\n    'font-display': face['font-display'] ?? 'swap',\n    'font-weight': face['font-weight'] ?? '400',\n    'unicode-range': face['unicode-range'] ?? 'U+0-FFFF',\n  };\n}\n\n/**\n *  @font-face  <style> SVG \n */\nfunction insertFontStyle(svg: SVGSVGElement, fontFaces: FontFaceAttributes[]) {\n  //  family + weight + style + unicode-range + src \n  const unique: FontFaceAttributes[] = [];\n  const seen = new Set<string>();\n\n  for (const f of fontFaces) {\n    const key = [\n      f['font-family'],\n      f['font-weight'],\n      f['font-style'],\n      f['unicode-range'],\n      f.src,\n    ].join('|');\n\n    if (!seen.has(key)) {\n      seen.add(key);\n      unique.push(f);\n    }\n  }\n\n  if (unique.length === 0) return;\n\n  const style = createElement('style', { type: 'text/css' });\n\n  style.innerHTML = unique\n    .map((f) =>\n      `\n@font-face {\n  font-family: ${f['font-family']};\n  src: ${f.src};\n  font-style: ${f['font-style']};\n  font-weight: ${f['font-weight']};\n  font-display: ${f['font-display']};\n  unicode-range: ${f['unicode-range']};\n}\n`.trim(),\n    )\n    .join('\\n');\n\n  //  <defs> \n  const defs = svg.querySelector('defs');\n  if (defs && defs.parentNode) {\n    defs.parentNode.insertBefore(style, defs.nextSibling);\n  } else {\n    svg.insertBefore(style, svg.firstChild);\n  }\n}\n\n/**\n *  woff2  DataURL\n */\nasync function loadWoff2(url: string) {\n  const response = await fetchWithCache(url);\n  if (!response.ok) {\n    throw new Error(`Failed to load font: ${url}`);\n  }\n\n  const blob = await response.blob();\n\n  const dataUrl = await new Promise<string>((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      resolve(reader.result as string);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n\n  return dataUrl;\n}\n","import { ElementTypeEnum } from '../constants';\nimport {\n  createElement,\n  getElementByRole,\n  getViewBox,\n  setAttributes,\n  setElementRole,\n  traverse,\n} from '../utils';\nimport { embedFonts } from './font';\nimport type { SVGExportOptions } from './types';\n\nexport async function exportToSVGString(\n  svg: SVGSVGElement,\n  options: Omit<SVGExportOptions, 'type'> = {},\n) {\n  const node = await exportToSVG(svg, options);\n  const str = new XMLSerializer().serializeToString(node);\n  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(str);\n}\n\nexport async function exportToSVG(\n  svg: SVGSVGElement,\n  options: Omit<SVGExportOptions, 'type'> = {},\n) {\n  const { embedResources = true, removeIds = false } = options;\n  const clonedSVG = svg.cloneNode(true) as SVGSVGElement;\n  const { width, height } = getViewBox(svg);\n  setAttributes(clonedSVG, { width, height });\n\n  if (removeIds) {\n    inlineUseElements(clonedSVG);\n    inlineDefsReferences(clonedSVG);\n  } else {\n    await embedIcons(clonedSVG);\n  }\n  await embedFonts(clonedSVG, embedResources);\n\n  cleanSVG(clonedSVG);\n\n  return clonedSVG;\n}\n\nasync function embedIcons(svg: SVGSVGElement) {\n  const icons = svg.querySelectorAll('use');\n  const defs = getDefs(svg);\n\n  icons.forEach((icon) => {\n    const href = icon.getAttribute('href');\n    if (!href) return;\n    const existsSymbol = svg.querySelector(href);\n\n    if (!existsSymbol) {\n      const symbolElement = document.querySelector(href);\n      if (symbolElement) defs.appendChild(symbolElement.cloneNode(true));\n    }\n  });\n}\n\nconst iconRole = 'icon-defs';\nfunction getDefs(svg: SVGSVGElement) {\n  const defs = getElementByRole(svg, iconRole);\n  if (defs) return defs;\n  const _defs = createElement('defs');\n  setElementRole(_defs, iconRole);\n  svg.prepend(_defs);\n  return _defs;\n}\n\nfunction inlineUseElements(svg: SVGSVGElement) {\n  const uses = Array.from(svg.querySelectorAll<SVGUseElement>('use'));\n  if (!uses.length) return;\n\n  uses.forEach((use) => {\n    const href = getUseHref(use);\n    if (!href || !href.startsWith('#')) return;\n    const target = resolveUseTarget(svg, href);\n    if (!target || target === use) return;\n\n    const replacement = createInlineElement(use, target);\n    if (!replacement) return;\n    use.replaceWith(replacement);\n  });\n}\n\nfunction getUseHref(use: SVGUseElement) {\n  return use.getAttribute('href') ?? use.getAttribute('xlink:href');\n}\n\nfunction resolveUseTarget(svg: SVGSVGElement, href: string) {\n  const localTarget = svg.querySelector(href);\n  if (localTarget) return localTarget as SVGElement;\n  const docTarget = document.querySelector(href);\n  return docTarget as SVGElement | null;\n}\n\nfunction createInlineElement(use: SVGUseElement, target: SVGElement) {\n  const tag = target.tagName.toLowerCase();\n  if (tag === 'symbol') {\n    return materializeSymbol(use, target as SVGSymbolElement);\n  }\n  if (tag === 'svg') {\n    return materializeSVG(use, target as SVGSVGElement);\n  }\n  return materializeElement(use, target);\n}\n\nfunction materializeSymbol(use: SVGUseElement, symbol: SVGSymbolElement) {\n  const symbolClone = symbol.cloneNode(true) as SVGSymbolElement;\n  const svg = createElement<SVGSVGElement>('svg');\n\n  applyAttributes(svg, symbolClone, new Set(['id']));\n  applyAttributes(svg, use, new Set(['href', 'xlink:href']));\n\n  while (symbolClone.firstChild) {\n    svg.appendChild(symbolClone.firstChild);\n  }\n\n  return svg;\n}\n\nfunction materializeSVG(use: SVGUseElement, source: SVGSVGElement) {\n  const clone = source.cloneNode(true) as SVGSVGElement;\n  clone.removeAttribute('id');\n  applyAttributes(clone, use, new Set(['href', 'xlink:href']));\n  return clone;\n}\n\nfunction materializeElement(use: SVGUseElement, source: SVGElement) {\n  const clone = source.cloneNode(true) as SVGElement;\n  clone.removeAttribute('id');\n\n  const wrapper = createElement<SVGGElement>('g');\n  applyAttributes(\n    wrapper,\n    use,\n    new Set(['href', 'xlink:href', 'x', 'y', 'width', 'height', 'transform']),\n  );\n\n  const transform = buildUseTransform(use);\n  if (transform) {\n    wrapper.setAttribute('transform', transform);\n  }\n\n  wrapper.appendChild(clone);\n  return wrapper;\n}\n\nfunction buildUseTransform(use: SVGUseElement) {\n  const x = use.getAttribute('x');\n  const y = use.getAttribute('y');\n  const translate = x || y ? `translate(${x ?? 0} ${y ?? 0})` : '';\n  const transform = use.getAttribute('transform') ?? '';\n  if (translate && transform) return `${translate} ${transform}`;\n  return translate || transform || null;\n}\n\nfunction applyAttributes(\n  target: SVGElement,\n  source: SVGElement,\n  exclude: Set<string> = new Set(),\n) {\n  Array.from(source.attributes).forEach((attr) => {\n    if (exclude.has(attr.name)) return;\n    if (attr.name === 'style') {\n      mergeStyleAttribute(target, attr.value);\n      return;\n    }\n    if (attr.name === 'class') {\n      mergeClassAttribute(target, attr.value);\n      return;\n    }\n    target.setAttribute(attr.name, attr.value);\n  });\n}\n\nfunction mergeStyleAttribute(target: SVGElement, value: string) {\n  const current = target.getAttribute('style');\n  if (!current) {\n    target.setAttribute('style', value);\n    return;\n  }\n  const separator = current.trim().endsWith(';') ? '' : ';';\n  target.setAttribute('style', `${current}${separator}${value}`);\n}\n\nfunction mergeClassAttribute(target: SVGElement, value: string) {\n  const current = target.getAttribute('class');\n  if (!current) {\n    target.setAttribute('class', value);\n    return;\n  }\n  target.setAttribute('class', `${current} ${value}`.trim());\n}\n\nconst urlRefRegex = /url\\(\\s*['\"]?#([^'\")\\s]+)['\"]?\\s*\\)/g;\nfunction inlineDefsReferences(svg: SVGSVGElement) {\n  const referencedIds = collectReferencedIds(svg);\n  if (referencedIds.size === 0) {\n    removeDefs(svg);\n    return;\n  }\n\n  const defsDataUrl = createDefsDataUrl(svg, referencedIds);\n  if (!defsDataUrl) return;\n\n  traverse(svg, (node) => {\n    if (node.tagName.toLowerCase() === 'defs') return false;\n    const attrs = Array.from(node.attributes);\n    attrs.forEach((attr) => {\n      const value = attr.value;\n      if (!value.includes('url(')) return;\n      const updated = value.replace(urlRefRegex, (_match, id) => {\n        const encodedId = encodeURIComponent(id);\n        return `url(\"${defsDataUrl}#${encodedId}\")`;\n      });\n      if (updated !== value) node.setAttribute(attr.name, updated);\n    });\n  });\n\n  removeDefs(svg);\n}\n\nfunction collectReferencedIds(svg: SVGSVGElement) {\n  const ids = new Set<string>();\n  traverse(svg, (node) => {\n    if (node.tagName.toLowerCase() === 'defs') return false;\n    collectIdsFromAttributes(node, (id) => ids.add(id));\n  });\n  return ids;\n}\n\nfunction collectIdsFromAttributes(\n  node: SVGElement,\n  addId: (id: string) => void,\n) {\n  for (const attr of Array.from(node.attributes)) {\n    const value = attr.value;\n    if (value.includes('url(')) {\n      for (const match of value.matchAll(urlRefRegex)) {\n        if (match[1]) addId(match[1]);\n      }\n    }\n    if (\n      (attr.name === 'href' || attr.name === 'xlink:href') &&\n      value[0] === '#'\n    ) {\n      addId(value.slice(1));\n    }\n  }\n}\n\nfunction createDefsDataUrl(svg: SVGSVGElement, ids: Set<string>) {\n  if (ids.size === 0) return null;\n\n  const collected = collectDefElements(svg, ids);\n  if (collected.size === 0) return null;\n\n  const defsSvg = createElement<SVGSVGElement>('svg', {\n    xmlns: 'http://www.w3.org/2000/svg',\n    'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  });\n  const defs = createElement<SVGDefsElement>('defs');\n\n  collected.forEach((node) => {\n    defs.appendChild(node.cloneNode(true));\n  });\n\n  if (!defs.children.length) return null;\n  defsSvg.appendChild(defs);\n\n  const serialized = new XMLSerializer().serializeToString(defsSvg);\n  return 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(serialized);\n}\n\nfunction collectDefElements(svg: SVGSVGElement, ids: Set<string>) {\n  const collected = new Map<string, SVGElement>();\n  const queue = Array.from(ids);\n  const queued = new Set(queue);\n  const visited = new Set<string>();\n  const enqueue = (id: string) => {\n    if (visited.has(id) || queued.has(id)) return;\n    queue.push(id);\n    queued.add(id);\n  };\n\n  while (queue.length) {\n    const id = queue.shift()!;\n    if (visited.has(id)) continue;\n    visited.add(id);\n\n    const selector = `#${escapeCssId(id)}`;\n    const target = svg.querySelector(selector);\n    if (!target) continue;\n    collected.set(id, target as SVGElement);\n\n    traverse(target as SVGElement, (node) => {\n      collectIdsFromAttributes(node, enqueue);\n    });\n  }\n\n  return collected;\n}\n\nfunction escapeCssId(id: string) {\n  if (globalThis.CSS && typeof globalThis.CSS.escape === 'function') {\n    return globalThis.CSS.escape(id);\n  }\n  return id.replace(/([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])/g, '\\\\$1');\n}\n\nfunction removeDefs(svg: SVGSVGElement) {\n  const defsList = Array.from(svg.querySelectorAll('defs'));\n  defsList.forEach((defs) => defs.remove());\n}\n\nfunction cleanSVG(svg: SVGSVGElement) {\n  removeBtnGroup(svg);\n  removeTransientContainer(svg);\n  removeUselessAttrs(svg);\n\n  clearDataset(svg);\n}\n\nfunction removeBtnGroup(svg: SVGSVGElement) {\n  const btnGroup = getElementByRole(svg, ElementTypeEnum.BtnsGroup);\n  btnGroup?.remove();\n\n  const btnIconDefs = getElementByRole(svg, 'btn-icon-defs');\n  btnIconDefs?.remove();\n}\n\nfunction removeTransientContainer(svg: SVGSVGElement) {\n  const transientContainer = svg.querySelector(\n    '[data-element-type=transient-container]',\n  );\n  transientContainer?.remove();\n}\n\nfunction removeUselessAttrs(svg: SVGSVGElement) {\n  const groups = svg.querySelectorAll('g');\n  groups.forEach((group) => {\n    group.removeAttribute('x');\n    group.removeAttribute('y');\n    group.removeAttribute('width');\n    group.removeAttribute('height');\n  });\n}\n\nfunction clearDataset(svg: SVGSVGElement) {\n  traverse(svg, (node) => {\n    for (const key in node.dataset) {\n      delete node.dataset[key];\n    }\n  });\n}\n","import { getViewBox } from '../utils';\nimport { exportToSVG } from './svg';\nimport { PNGExportOptions } from './types';\n\nexport async function exportToPNGString(\n  svg: SVGSVGElement,\n  options: Omit<PNGExportOptions, 'type'> = {},\n): Promise<string> {\n  const { dpr = globalThis.devicePixelRatio ?? 2 } = options;\n  const node = await exportToSVG(svg);\n\n  const { width, height } = getViewBox(node);\n\n  return new Promise<string>((resolve, reject) => {\n    try {\n      const canvas = document.createElement('canvas');\n      canvas.width = width * dpr;\n      canvas.height = height * dpr;\n\n      const ctx = canvas.getContext('2d');\n      if (!ctx) {\n        reject(new Error('Failed to get canvas context'));\n        return;\n      }\n\n      //  DPR \n      ctx.scale(dpr, dpr);\n\n      ctx.imageSmoothingEnabled = true;\n      ctx.imageSmoothingQuality = 'high';\n\n      node.setAttribute('width', String(width));\n      node.setAttribute('height', String(height));\n\n      const updatedSvgData = new XMLSerializer().serializeToString(node);\n      const svgURL =\n        'data:image/svg+xml;charset=utf-8,' +\n        encodeURIComponent(updatedSvgData);\n\n      const img = new Image();\n      img.onload = function () {\n        ctx.clearRect(0, 0, width, height);\n        ctx.drawImage(img, 0, 0, width, height);\n\n        const pngURL = canvas.toDataURL('image/png');\n        resolve(pngURL);\n      };\n\n      img.onerror = function (error) {\n        reject(new Error('Image load failed: ' + error));\n      };\n\n      img.src = svgURL;\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import type { IEventEmitter } from '../../types';\nimport { BatchCommand } from '../commands';\nimport type {\n  CommandManagerInitOptions,\n  ICommand,\n  ICommandManager,\n  IStateManager,\n} from '../types';\n\nexport class CommandManager implements ICommandManager {\n  private emitter!: IEventEmitter;\n  private state!: IStateManager;\n  private undoStack: ICommand[] = [];\n  private redoStack: ICommand[] = [];\n\n  init(options: CommandManagerInitOptions) {\n    Object.assign(this, options);\n  }\n\n  async execute(command: ICommand) {\n    await command.apply(this.state);\n    this.undoStack.push(command);\n    this.redoStack = [];\n    this.emitHistoryChange('execute');\n  }\n\n  async executeBatch(commands: ICommand[]) {\n    if (commands.length === 0) return;\n\n    const batchCommand = new BatchCommand(commands);\n    await this.execute(batchCommand);\n  }\n\n  async undo() {\n    const command = this.undoStack.pop();\n    if (command) {\n      await command.undo(this.state);\n      this.redoStack.push(command);\n      this.emitHistoryChange('undo');\n    }\n  }\n\n  async redo() {\n    const command = this.redoStack.pop();\n    if (command) {\n      await command.apply(this.state);\n      this.undoStack.push(command);\n      this.emitHistoryChange('redo');\n    }\n  }\n\n  serialize(): any[] {\n    return this.undoStack.map((cmd) => cmd.serialize());\n  }\n\n  clear() {\n    this.undoStack = [];\n    this.redoStack = [];\n  }\n\n  canUndo(): boolean {\n    return this.undoStack.length > 0;\n  }\n\n  canRedo(): boolean {\n    return this.redoStack.length > 0;\n  }\n\n  getHistorySize(): number {\n    return this.undoStack.length;\n  }\n\n  destroy() {\n    this.clear();\n  }\n\n  private emitHistoryChange(action: 'execute' | 'undo' | 'redo') {\n    this.emitter?.emit('history:change', {\n      type: 'history:change',\n      action,\n    });\n  }\n}\n","import type { IEventEmitter } from '../../types';\nimport {\n  createElement,\n  getElementByRole,\n  isInfographicComponent,\n  setElementRole,\n} from '../../utils';\nimport type {\n  ICommandManager,\n  IEditor,\n  IInteraction,\n  IInteractionManager,\n  InteractionManagerInitOptions,\n  IStateManager,\n  Selection,\n  SelectionChangePayload,\n  SelectMode,\n} from '../types';\nimport { Extension } from '../utils';\n\nexport class InteractionManager implements IInteractionManager {\n  private extensions = new Extension<IInteraction>();\n  private emitter!: IEventEmitter;\n  private editor!: IEditor;\n  private commander!: ICommandManager;\n  private state!: IStateManager;\n  private interactions: IInteraction[] = [];\n\n  private active = false;\n  private running: IInteraction | null = null;\n  private concurrentInteractions: Set<IInteraction> = new Set();\n  private selection: Set<Selection[number]> = new Set();\n\n  init(options: InteractionManagerInitOptions) {\n    Object.assign(this, options);\n    document.addEventListener('click', this.handleClick);\n\n    this.interactions.forEach((interaction) => {\n      this.extensions.register(interaction.name, interaction);\n      interaction.init({\n        emitter: this.emitter,\n        editor: this.editor,\n        commander: this.commander,\n        state: this.state,\n        interaction: this,\n      });\n      this.emitter.emit('interaction:registered', interaction);\n    });\n  }\n\n  isActive() {\n    return this.active;\n  }\n\n  select(items: Selection, mode: SelectMode) {\n    const previous = this.getSelection();\n    const added: Selection = [];\n    const removed: Selection = [];\n\n    if (mode === 'replace') {\n      const next = new Set(items);\n      previous.forEach((id) => {\n        if (!next.has(id)) removed.push(id);\n      });\n      items.forEach((id) => {\n        if (!this.selection.has(id)) added.push(id);\n      });\n      this.selection = next;\n    } else if (mode === 'add') {\n      items.forEach((id) => {\n        if (!this.selection.has(id)) {\n          this.selection.add(id);\n          added.push(id);\n        }\n      });\n    } else if (mode === 'remove') {\n      items.forEach((id) => {\n        if (this.selection.delete(id)) {\n          removed.push(id);\n        }\n      });\n    } else if (mode === 'toggle') {\n      items.forEach((id) => {\n        if (this.selection.has(id)) {\n          this.selection.delete(id);\n          removed.push(id);\n        } else {\n          this.selection.add(id);\n          added.push(id);\n        }\n      });\n    }\n\n    const next = this.getSelection();\n    const payload: SelectionChangePayload = {\n      type: 'selection:change',\n      previous,\n      next,\n      added,\n      removed,\n      mode,\n    };\n    this.emitter.emit('selection:change', payload);\n  }\n\n  getSelection() {\n    return [...this.selection];\n  }\n\n  isSelected(item: Selection[number]) {\n    return this.selection.has(item);\n  }\n\n  clearSelection() {\n    const previous = this.getSelection();\n    this.selection.clear();\n\n    const payload: SelectionChangePayload = {\n      type: 'selection:change',\n      previous,\n      next: [],\n      added: [],\n      removed: previous,\n      mode: 'replace',\n    };\n\n    this.emitter.emit('selection:change', payload);\n  }\n\n  private handleClick = (event: MouseEvent) => {\n    const doc = this.editor.getDocument();\n    const target = event.target;\n\n    if (!target) {\n      this.deactivate();\n      return;\n    }\n    //  SVG \n    if (\n      doc.contains(target as Node) ||\n      isInfographicComponent(target as HTMLElement)\n    )\n      this.activate();\n    else this.deactivate();\n  };\n\n  private activate() {\n    this.active = true;\n    this.emitter.emit('activated');\n  }\n\n  private deactivate() {\n    this.active = false;\n    this.running = null;\n    this.clearSelection();\n    this.emitter.emit('deactivated');\n  }\n\n  /**\n   * \n   */\n  async executeExclusiveInteraction(\n    instance: IInteraction,\n    callback: () => Promise<void>,\n  ) {\n    // \n    if (!this.active || this.running) return;\n\n    this.running = instance;\n\n    try {\n      this.emitter.emit('interaction:started', instance);\n      await callback();\n      this.emitter.emit('interaction:ended', instance);\n    } catch (error) {\n      console.error(\n        `Error occurred during exclusive interaction \"${instance.name}\":`,\n        error,\n      );\n      this.emitter.emit('interaction:error', instance, error);\n    } finally {\n      this.running = null;\n    }\n  }\n\n  /**\n   * \n   */\n  async executeConcurrentInteraction(\n    instance: IInteraction,\n    callback: () => Promise<void>,\n  ) {\n    if (!this.active) return;\n\n    this.concurrentInteractions.add(instance);\n\n    try {\n      this.emitter.emit('interaction:started', instance);\n      await callback();\n      this.emitter.emit('interaction:ended', instance);\n    } catch (error) {\n      console.error(\n        `Error occurred during concurrent interaction \"${instance.name}\":`,\n        error,\n      );\n      this.emitter.emit('interaction:error', instance, error);\n    } finally {\n      this.concurrentInteractions.delete(instance);\n    }\n  }\n\n  private getOrCreateTransientContainer() {\n    const role = 'transient-container';\n    const doc = this.editor.getDocument();\n    const container = getElementByRole(doc, role);\n    if (container && container.isConnected) return container;\n\n    const g = createElement('g');\n    setElementRole(g, role);\n    doc.appendChild(g);\n    return g;\n  }\n\n  appendTransientElement<T extends SVGElement>(element: T): T {\n    const container = this.getOrCreateTransientContainer();\n    container.appendChild(element);\n    return element;\n  }\n\n  destroy() {\n    this.extensions.forEach((interaction) => {\n      interaction.destroy();\n      this.emitter.emit('interaction:destroyed', interaction);\n    });\n    this.extensions.destroy();\n\n    this.active = false;\n    this.running = null;\n    this.clearSelection();\n\n    document.removeEventListener('click', this.handleClick);\n    this.getOrCreateTransientContainer().remove();\n  }\n}\n","import { IEventEmitter } from '../../types';\nimport type {\n  ICommandManager,\n  IEditor,\n  IPlugin,\n  IPluginManager,\n  IStateManager,\n  PluginInitOptions,\n  PluginManagerInitOptions,\n} from '../types';\nimport { Extension } from '../utils';\n\nexport class PluginManager implements IPluginManager {\n  private extensions = new Extension<IPlugin>();\n\n  private emitter!: IEventEmitter;\n  private editor!: IEditor;\n  private commander!: ICommandManager;\n  private state!: IStateManager;\n\n  init(options: PluginManagerInitOptions, plugins: IPlugin[] = []) {\n    Object.assign(this, options);\n\n    plugins.forEach((plugin) => {\n      this.registerPlugin(plugin);\n    });\n  }\n\n  getPlugin<T extends IPlugin>(name: string): T | undefined {\n    return this.extensions.get(name) as T | undefined;\n  }\n\n  getPlugins(): ReadonlyMap<string, IPlugin> {\n    return this.extensions.getAll();\n  }\n\n  registerPlugin(plugin: IPlugin): void {\n    this.extensions.register(plugin.name, plugin);\n    const pluginInitOptions: PluginInitOptions = {\n      emitter: this.emitter,\n      editor: this.editor,\n      commander: this.commander,\n      plugin: this,\n      state: this.state,\n    };\n    plugin.init(pluginInitOptions);\n    this.emitter.emit('plugin:registered', plugin);\n  }\n\n  unregisterPlugin(name: string): void {\n    const plugin = this.extensions.get(name);\n    if (plugin) {\n      plugin.destroy();\n      this.extensions.unregister(name);\n      this.emitter.emit('plugin:unregistered', plugin);\n    }\n  }\n\n  destroy(): void {\n    this.extensions.getAll().forEach((plugin) => {\n      this.unregisterPlugin(plugin.name);\n      this.emitter.emit('plugin:destroyed', plugin);\n    });\n    this.extensions.destroy();\n  }\n}\n","import { ElementTypeEnum } from '../../constants';\nimport type {\n  ParsedInfographicOptions,\n  UpdatableInfographicOptions,\n} from '../../options';\nimport type { Element, IEventEmitter, ItemDatum } from '../../types';\nimport { getDatumByIndexes, getElementRole, isIconElement } from '../../utils';\nimport type {\n  ElementProps,\n  ICommandManager,\n  IEditor,\n  IStateManager,\n  StateChangePayload,\n  StateManagerInitOptions,\n} from '../types';\nimport {\n  applyOptionUpdates,\n  buildItemPath,\n  getChildrenDataByIndexes,\n  getIndexesFromElement,\n} from '../utils';\n\nexport class StateManager implements IStateManager {\n  emitter!: IEventEmitter;\n  editor!: IEditor;\n  command!: ICommandManager;\n  options!: ParsedInfographicOptions;\n\n  init(options: StateManagerInitOptions) {\n    Object.assign(this, options);\n  }\n\n  addItemDatum(indexes: number[], datum: ItemDatum | ItemDatum[]): void {\n    const pre = indexes.slice(0, -1);\n    const last = indexes[indexes.length - 1];\n\n    const arr = Array.isArray(datum) ? datum : [datum];\n    const list = getChildrenDataByIndexes(this.options.data, pre);\n    list.splice(last, 0, ...arr);\n\n    this.emitter.emit('options:data:item:add', { indexes, datum });\n    this.emitter.emit('options:change', {\n      type: 'options:change',\n      changes: [\n        {\n          op: 'add',\n          path: 'data.items',\n          indexes,\n          value: arr,\n        },\n      ],\n    } satisfies StateChangePayload);\n  }\n\n  updateItemDatum(indexes: number[], datum: Partial<ItemDatum>): void {\n    const item = getDatumByIndexes(this.options.data, indexes);\n    if (item == null || indexes.length === 0) return;\n    Object.assign(item, datum);\n    this.emitter.emit('options:data:item:update', { indexes, datum });\n    this.emitter.emit('options:change', {\n      type: 'options:change',\n      changes: [\n        {\n          op: 'update',\n          path: 'data.items',\n          indexes,\n          value: datum,\n        },\n      ],\n    } satisfies StateChangePayload);\n  }\n\n  removeItemDatum(indexes: number[], count = 1): void {\n    const pre = indexes.slice(0, -1);\n    const last = indexes[indexes.length - 1];\n\n    const list = getChildrenDataByIndexes(this.options.data, pre);\n    const datum = list.splice(last, count);\n\n    this.emitter.emit('options:data:item:remove', { indexes, datum });\n    this.emitter.emit('options:change', {\n      type: 'options:change',\n      changes: [\n        {\n          op: 'remove',\n          path: 'data.items',\n          indexes,\n          value: datum,\n        },\n      ],\n    } satisfies StateChangePayload);\n  }\n\n  updateData(key: string, value: any) {\n    (this.options.data as any)[key] = value;\n    this.emitter.emit('options:data:update', { key, value });\n    this.emitter.emit('options:change', {\n      type: 'options:change',\n      changes: [\n        {\n          op: 'update',\n          path: `data.${key}`,\n          value,\n        },\n      ],\n    } satisfies StateChangePayload);\n  }\n\n  updateElement(element: Element, props: Partial<ElementProps>): void {\n    this.updateBuiltInElement(element, props);\n  }\n\n  updateOptions(\n    options: UpdatableInfographicOptions,\n    execOptions?: { bubbleUp?: boolean },\n  ) {\n    const { bubbleUp = false } = execOptions || {};\n\n    applyOptionUpdates(this.options, options, '', {\n      bubbleUp,\n      collector: (path, newVal, oldVal) => {\n        this.editor.syncRegistry.trigger(path, newVal, oldVal);\n      },\n    });\n\n    this.emitter.emit('options:change', {\n      type: 'options:change',\n      changes: [\n        {\n          op: 'update',\n          path: '',\n          value: options,\n        },\n      ],\n    } satisfies StateChangePayload);\n  }\n\n  getOptions(): ParsedInfographicOptions {\n    return this.options;\n  }\n\n  /**\n   * \n   */\n  private updateBuiltInElement(element: Element, props: Partial<ElementProps>) {\n    const { data } = this.options;\n    const { attributes = {} } = props;\n    const role = getElementRole(element);\n    const isItemElement =\n      isIconElement(element) ||\n      ElementTypeEnum.ItemLabel === role ||\n      ElementTypeEnum.ItemDesc === role ||\n      ElementTypeEnum.ItemValue === role ||\n      ElementTypeEnum.ItemIllus === role;\n    const indexes = isItemElement ? getIndexesFromElement(element) : undefined;\n    if (isItemElement) {\n      const datum = getDatumByIndexes(data, indexes!);\n      if (datum == null) return;\n      const key = role.replace('item-', '');\n      datum.attributes ||= {};\n      datum.attributes[key] ||= {};\n      Object.assign(datum.attributes[key], attributes);\n    } else if (\n      ElementTypeEnum.Title === role ||\n      ElementTypeEnum.Desc === role ||\n      ElementTypeEnum.Illus === role\n    ) {\n      data.attributes ||= {};\n      data.attributes[role] ||= {};\n      Object.assign(data.attributes[role], attributes);\n    }\n\n    this.emitter.emit('options:element:update', { element, props });\n    this.emitter.emit('options:change', {\n      type: 'options:change',\n      changes: [\n        {\n          op: 'update',\n          role,\n          indexes,\n          path: isItemElement\n            ? `${buildItemPath(indexes!)}.attributes.${role.replace('item-', '')}`\n            : `data.attributes.${role}`,\n          value: props,\n        },\n      ],\n    } satisfies StateChangePayload);\n  }\n\n  destroy(): void {}\n}\n","import { get } from 'lodash-es';\nimport { ISyncRegistry, SyncHandler } from '../types';\n\ntype OptionsGetter = () => any;\n\nexport class SyncRegistry implements ISyncRegistry {\n  private handlers = new Map<string, Set<SyncHandler>>();\n  // lock to prevent recursive updates\n  private isDispatching = false;\n  private isDestroyed = false;\n\n  constructor(private getOptions: OptionsGetter) {}\n\n  register(\n    path: string,\n    handler: SyncHandler,\n    options?: { immediate?: boolean },\n  ): () => void {\n    if (!this.handlers.has(path)) {\n      this.handlers.set(path, new Set());\n    }\n    this.handlers.get(path)!.add(handler);\n\n    if (options?.immediate) {\n      const currentVal = get(this.getOptions(), path);\n      handler(currentVal, undefined);\n    }\n\n    return () => {\n      const set = this.handlers.get(path);\n      if (set) {\n        set.delete(handler);\n        if (set.size === 0) {\n          this.handlers.delete(path);\n        }\n      }\n    };\n  }\n  trigger(path: string, newVal: any, oldVal: any): void {\n    if (this.isDestroyed || this.isDispatching) {\n      if (this.isDispatching) {\n        console.warn(\n          `[SyncRegistry] Recursive update detected on ${path}. Skipped to prevent loop.`,\n        );\n      }\n      return;\n    }\n\n    const handlers = this.handlers.get(path);\n\n    if (handlers) {\n      this.isDispatching = true;\n      try {\n        handlers.forEach((fn) => fn(newVal, oldVal));\n      } finally {\n        this.isDispatching = false;\n      }\n    }\n  }\n\n  destroy() {\n    this.isDestroyed = true;\n    this.handlers.clear();\n  }\n}\n","import type { ParsedInfographicOptions } from '../options';\nimport type { IEventEmitter } from '../types';\nimport {\n  CommandManager,\n  InteractionManager,\n  PluginManager,\n  StateManager,\n} from './managers';\nimport { SyncRegistry } from './managers/sync-registry';\nimport { CoreSyncPlugin } from './plugins';\nimport type {\n  ICommandManager,\n  IEditor,\n  IPluginManager,\n  IStateManager,\n  ISyncRegistry,\n  SyncHandler,\n} from './types';\n\nexport class Editor implements IEditor {\n  state: IStateManager;\n  commander: ICommandManager;\n  plugin: IPluginManager;\n  interaction: InteractionManager;\n  syncRegistry: ISyncRegistry;\n\n  constructor(\n    private emitter: IEventEmitter,\n    private document: SVGSVGElement,\n    private options: ParsedInfographicOptions,\n  ) {\n    if (!document.isConnected) {\n      throw new Error('The provided document is not connected to the DOM.');\n    }\n    document.style.userSelect = 'none';\n\n    const commander = new CommandManager();\n    const state = new StateManager();\n    const plugin = new PluginManager();\n    const interaction = new InteractionManager();\n\n    const syncRegistry = new SyncRegistry(() => state.getOptions());\n\n    this.commander = commander;\n    this.state = state;\n    this.plugin = plugin;\n    this.interaction = interaction;\n    this.syncRegistry = syncRegistry;\n\n    commander.init({ state, emitter });\n    state.init({\n      emitter,\n      editor: this,\n      commander,\n      options,\n    });\n    // Load core plugin: CoreSyncPlugin (handles viewBox/padding sync)\n    const corePlugin = new CoreSyncPlugin();\n    const userPlugins = options.plugins || [];\n\n    plugin.init(\n      {\n        emitter,\n        editor: this,\n        commander,\n        state,\n      },\n      [corePlugin, ...userPlugins],\n    );\n    interaction.init({\n      emitter,\n      editor: this,\n      commander,\n      state,\n      interactions: options.interactions,\n    });\n  }\n\n  registerSync(\n    path: string,\n    handler: SyncHandler,\n    options?: { immediate?: boolean },\n  ) {\n    return this.syncRegistry.register(path, handler, options);\n  }\n\n  getDocument() {\n    return this.document;\n  }\n\n  destroy() {\n    this.document.style.userSelect = '';\n    this.interaction.destroy();\n    this.plugin.destroy();\n    this.commander.destroy();\n    this.state.destroy();\n    this.syncRegistry.destroy();\n  }\n}\n","import { merge } from 'lodash-es';\nimport {\n  DesignOptions,\n  getItem,\n  getStructure,\n  getTemplate,\n  NullableParsedDesignsOptions,\n  ParsedDesignsOptions,\n  Title,\n} from '../designs';\nimport { getPaletteColor } from '../renderer';\nimport type { TemplateOptions } from '../templates';\nimport { generateThemeColors, getTheme, type ThemeConfig } from '../themes';\nimport type { Data, ItemDatum, ParsedData } from '../types';\nimport {\n  isDarkColor,\n  isNonNullableParsedDesignsOptions,\n  parsePadding,\n} from '../utils';\nimport type { InfographicOptions, ParsedInfographicOptions } from './types';\n\nexport function parseOptions(\n  options: Partial<InfographicOptions>,\n): Partial<ParsedInfographicOptions> {\n  const {\n    container = '#container',\n    padding = 0,\n    template,\n    design,\n    theme,\n    themeConfig,\n    data,\n    ...restOptions\n  } = options;\n\n  const parsedContainer =\n    typeof container === 'string'\n      ? document.querySelector(container) || document.createElement('div')\n      : container;\n\n  const templateOptions: TemplateOptions | undefined = template\n    ? getTemplate(template)\n    : undefined;\n  const mergedThemeConfig = merge(\n    {},\n    templateOptions?.themeConfig,\n    themeConfig,\n  );\n  const resolvedThemeConfig =\n    theme || themeConfig || templateOptions?.themeConfig\n      ? parseTheme(theme, mergedThemeConfig)\n      : undefined;\n\n  const parsed: Partial<ParsedInfographicOptions> = {\n    container: parsedContainer as HTMLElement,\n    padding: parsePadding(padding),\n  };\n\n  if (templateOptions) {\n    const { design: templateDesign, ...restTemplateOptions } = templateOptions;\n    Object.assign(parsed, restTemplateOptions);\n  }\n\n  Object.assign(parsed, restOptions);\n\n  const parsedData = parseData(data, options.template);\n  if (parsedData) parsed.data = parsedData;\n\n  if (template) parsed.template = template;\n  if (templateOptions?.design || design) {\n    const designOptions = {\n      ...(resolvedThemeConfig\n        ? { ...options, themeConfig: resolvedThemeConfig }\n        : options),\n      data: parsedData || data,\n    };\n    const parsedDesign = parseDesign(\n      { ...templateOptions?.design, ...design },\n      designOptions,\n    );\n\n    if (isNonNullableParsedDesignsOptions(parsedDesign)) {\n      parsed.design = parsedDesign;\n    }\n  }\n  if (theme) parsed.theme = theme;\n  if (resolvedThemeConfig) {\n    parsed.themeConfig = resolvedThemeConfig;\n  }\n  return parsed;\n}\n\nexport function parseData(\n  data?: Data,\n  template?: string,\n): ParsedData | undefined {\n  if (!data) return undefined;\n  if (Array.isArray(data.items) && data.items.length) return data as ParsedData;\n\n  const { lists, sequences, compares, nodes, values, root } =\n    data as ParsedData;\n  const getPreferredData = (): ItemDatum[] | null => {\n    if (!template) return null;\n    const DATA_MAP: Record<string, ItemDatum[]> = {\n      list: lists,\n      sequence: sequences,\n      compare: compares,\n      relation: nodes,\n      chart: values,\n      hierarchy: root ? [root] : [],\n    };\n    const prefix = template.split('-')[0];\n    const arr = DATA_MAP[prefix];\n    return arr?.length ? arr : null;\n  };\n  const getPolyfillData = (): ItemDatum[] => {\n    if (lists?.length) return lists;\n    if (sequences?.length) return sequences;\n    if (compares?.length) return compares;\n    if (nodes?.length) return nodes;\n    if (values?.length) return values;\n    if (root) return [root];\n    if (data.items?.length) return data.items;\n    return [];\n  };\n\n  let items = getPreferredData() || getPolyfillData();\n\n  if (items === sequences && data.order === 'desc') {\n    items = [...items].reverse();\n  }\n\n  return { ...data, items } as ParsedData;\n}\n\nfunction normalizeWithType<T extends { type: string }>(obj: string | T): T {\n  if (typeof obj === 'string') return { type: obj } as T;\n  if (!('type' in obj)) throw new Error('Type is required');\n  return obj as T;\n}\n\nfunction parseDesign(\n  config: DesignOptions,\n  options: Partial<InfographicOptions>,\n): NullableParsedDesignsOptions {\n  const { structure, title, item, items } = config || {};\n  const defaultItem = parseDesignItem(item || items?.[0], options);\n  return {\n    structure: parseDesignStructure(structure),\n    title: parseDesignTitle(title, options),\n    item: defaultItem,\n    items: !items\n      ? [defaultItem]\n      : items.map((item) => parseDesignItem(item, options)),\n  };\n}\n\nfunction parseDesignStructure(\n  config: DesignOptions['structure'],\n): ParsedDesignsOptions['structure'] | null {\n  if (!config) return null;\n  const { type, ...userProps } = normalizeWithType(config);\n  const structure = getStructure(type);\n  if (!structure) return null;\n  const { component } = structure;\n  return {\n    ...structure,\n    component: (props) => component({ ...props, ...userProps }),\n  };\n}\n\nfunction parseDesignTitle(\n  config: DesignOptions['title'],\n  options: Partial<InfographicOptions>,\n): ParsedDesignsOptions['title'] {\n  if (!config) return { component: null };\n  const { type, ...userProps } = normalizeWithType(config);\n\n  const { themeConfig } = options;\n  const background = themeConfig?.colorBg || '#fff';\n  const themeColors = generateColors(background, background);\n  // use default title for now\n  return {\n    component: (props: Parameters<typeof Title>[0]) =>\n      Title({ ...props, themeColors, ...userProps }),\n  };\n}\n\nfunction parseDesignItem(\n  config: DesignOptions['item'],\n  options: Partial<InfographicOptions>,\n): ParsedDesignsOptions['item'] | null {\n  if (!config) return null;\n  const { type, ...userProps } = normalizeWithType(config);\n  const item = getItem(type);\n  if (!item) return null;\n  const { component, options: itemOptions } = item;\n  return {\n    ...item,\n    component: (props) => {\n      const { indexes } = props;\n      const { data, themeConfig } = options;\n      const background = themeConfig?.colorBg || '#fff';\n\n      const {\n        themeColors = generateColors(\n          getPaletteColor(themeConfig?.palette, indexes, data?.items?.length) ||\n            themeConfig?.colorPrimary ||\n            '#FF356A',\n          background,\n        ),\n        ...restProps\n      } = props;\n\n      return component({\n        themeColors,\n        ...restProps,\n        ...userProps,\n      });\n    },\n    options: itemOptions,\n  };\n}\n\nfunction parseTheme(\n  theme: string | undefined,\n  themeConfig: ThemeConfig = {},\n): ThemeConfig {\n  const base = theme ? getTheme(theme) || {} : {};\n  const parsedThemeConfig = merge({}, base, themeConfig);\n  parsedThemeConfig.palette = themeConfig.palette || base.palette;\n  parsedThemeConfig.stylize = themeConfig.stylize ?? base.stylize;\n\n  if (!parsedThemeConfig.colorPrimary) {\n    parsedThemeConfig.colorPrimary = '#FF356A';\n  }\n  if (!parsedThemeConfig.palette) {\n    parsedThemeConfig.palette = [parsedThemeConfig.colorPrimary];\n  }\n  return parsedThemeConfig;\n}\n\nfunction generateColors(colorPrimary: string, background: string = '#fff') {\n  return generateThemeColors({\n    colorPrimary,\n    isDarkMode: isDarkColor(background),\n    colorBg: background,\n  });\n}\n","import type { ArrayNode, ObjectNode, SyntaxError } from './types';\n\ninterface StackFrame {\n  indent: number;\n  node: ObjectNode | ArrayNode;\n  parent?: ObjectNode | ArrayNode | null;\n  key?: string | null;\n}\n\ninterface ParseResult {\n  ast: ObjectNode;\n  errors: SyntaxError[];\n}\n\nfunction isWhitespace(char: string) {\n  return char === ' ' || char === '\\t';\n}\n\nfunction getIndentInfo(line: string) {\n  let indent = 0;\n  let index = 0;\n  while (index < line.length) {\n    const char = line[index];\n    if (char === ' ') {\n      indent += 1;\n      index += 1;\n      continue;\n    }\n    if (char === '\\t') {\n      indent += 2;\n      index += 1;\n      continue;\n    }\n    break;\n  }\n  return { indent, content: line.slice(index) };\n}\n\nfunction stripComments(content: string) {\n  return content.trimEnd();\n}\n\nfunction looksLikeRelationExpression(text: string) {\n  return /[<>=o.x-]{2,}/.test(text);\n}\n\nfunction parseKeyValue(raw: string) {\n  const text = raw.trim();\n  if (!text) return null;\n  const match = text.match(/^([^:\\s=]+)\\s*[:=]\\s*(.*)$/);\n  if (match) {\n    return { key: match[1], value: match[2].trim() };\n  }\n  const matchSpace = text.match(/^([^\\s]+)\\s+(.*)$/);\n  if (matchSpace) {\n    return { key: matchSpace[1], value: matchSpace[2].trim() };\n  }\n  return { key: text, value: undefined };\n}\n\nfunction createObjectNode(line: number, value?: string): ObjectNode {\n  return { kind: 'object', line, value, entries: {} };\n}\n\nfunction createArrayNode(line: number): ArrayNode {\n  return { kind: 'array', line, items: [] };\n}\n\nexport function parseSyntaxToAst(input: string): ParseResult {\n  const errors: SyntaxError[] = [];\n  const root: ObjectNode = createObjectNode(0);\n  const stack: StackFrame[] = [\n    { indent: -1, node: root, parent: null, key: null },\n  ];\n\n  const lines = input.split(/\\r?\\n/);\n  lines.forEach((line, index) => {\n    const lineNumber = index + 1;\n    if (!line.trim()) return;\n    const { indent, content } = getIndentInfo(line);\n    const stripped = stripComments(content);\n    if (!stripped.trim()) return;\n\n    while (stack.length > 1 && indent <= stack[stack.length - 1].indent) {\n      stack.pop();\n    }\n\n    const parentFrame = stack[stack.length - 1];\n    let parentNode = parentFrame.node;\n\n    const trimmed = stripped.trim();\n    if (\n      trimmed.startsWith('-') &&\n      (trimmed.length === 1 || isWhitespace(trimmed[1]))\n    ) {\n      if (parentNode.kind !== 'array') {\n        if (\n          parentNode.kind === 'object' &&\n          Object.keys(parentNode.entries).length === 0 &&\n          parentNode.value === undefined &&\n          parentFrame.parent &&\n          parentFrame.key\n        ) {\n          const arrayNode = createArrayNode(parentNode.line);\n          if (parentFrame.parent.kind === 'object') {\n            parentFrame.parent.entries[parentFrame.key] = arrayNode;\n          } else if (parentFrame.parent.kind === 'array') {\n            const indexInParent = parentFrame.parent.items.indexOf(parentNode);\n            if (indexInParent >= 0)\n              parentFrame.parent.items[indexInParent] = arrayNode;\n          }\n          parentFrame.node = arrayNode;\n          parentNode = arrayNode;\n        } else {\n          errors.push({\n            path: '',\n            line: lineNumber,\n            code: 'bad_list',\n            message: 'List item is not under an array container.',\n            raw: trimmed,\n          });\n          return;\n        }\n      }\n\n      const itemContent = trimmed.slice(1).trim();\n      const itemNode = createObjectNode(lineNumber, itemContent || undefined);\n      parentNode.items.push(itemNode);\n      stack.push({\n        indent,\n        node: itemNode,\n        parent: parentNode,\n      });\n      return;\n    }\n\n    if (\n      parentFrame.key === 'relations' &&\n      !trimmed.startsWith('-') &&\n      looksLikeRelationExpression(trimmed)\n    ) {\n      if (parentNode.kind !== 'array') {\n        if (\n          parentNode.kind === 'object' &&\n          Object.keys(parentNode.entries).length === 0 &&\n          parentNode.value === undefined &&\n          parentFrame.parent &&\n          parentFrame.key\n        ) {\n          const arrayNode = createArrayNode(parentNode.line);\n          if (parentFrame.parent.kind === 'object') {\n            parentFrame.parent.entries[parentFrame.key] = arrayNode;\n          } else if (parentFrame.parent.kind === 'array') {\n            const indexInParent = parentFrame.parent.items.indexOf(parentNode);\n            if (indexInParent >= 0)\n              parentFrame.parent.items[indexInParent] = arrayNode;\n          }\n          parentFrame.node = arrayNode;\n          parentNode = arrayNode;\n        } else {\n          errors.push({\n            path: '',\n            line: lineNumber,\n            code: 'bad_list',\n            message: 'List item is not under an array container.',\n            raw: trimmed,\n          });\n          return;\n        }\n      }\n\n      const itemNode = createObjectNode(lineNumber, trimmed);\n      parentNode.items.push(itemNode);\n      stack.push({\n        indent,\n        node: itemNode,\n        parent: parentNode,\n      });\n      return;\n    }\n\n    const parsed = parseKeyValue(trimmed);\n    if (!parsed) {\n      errors.push({\n        path: '',\n        line: lineNumber,\n        code: 'bad_syntax',\n        message: 'Invalid syntax line.',\n        raw: trimmed,\n      });\n      return;\n    }\n\n    if (parentNode.kind !== 'object') {\n      errors.push({\n        path: '',\n        line: lineNumber,\n        code: 'bad_syntax',\n        message: 'Key-value pair is not under an object container.',\n        raw: trimmed,\n      });\n      return;\n    }\n\n    const node = createObjectNode(lineNumber, parsed.value);\n    parentNode.entries[parsed.key] = node;\n    stack.push({\n      indent,\n      node,\n      parent: parentNode,\n      key: parsed.key,\n    });\n  });\n\n  return { ast: root, errors };\n}\n\nexport function parseInlineKeyValue(value: string) {\n  return parseKeyValue(value);\n}\n","import tinycolor from 'tinycolor2';\nimport { parseInlineKeyValue } from './parser';\nimport type {\n  SchemaNode,\n  SyntaxError,\n  SyntaxNode,\n  UnionSchema,\n  ValueNode,\n} from './types';\n\nfunction createValueNode(value: string, line: number): ValueNode {\n  return { kind: 'value', line, value };\n}\n\nconst HEX_COLOR_PATTERN =\n  /^(#[0-9a-f]{8}|#[0-9a-f]{6}|#[0-9a-f]{4}|#[0-9a-f]{3})/i;\nconst FUNCTION_COLOR_PATTERN = /^((?:rgb|rgba|hsl|hsla)\\([^)]*\\))/i;\n\nfunction parseScalar(value: string) {\n  const trimmed = value.trim();\n  if (trimmed === 'true') return true;\n  if (trimmed === 'false') return false;\n  if (/^-?\\d+(\\.\\d+)?$/.test(trimmed)) return parseFloat(trimmed);\n  return trimmed;\n}\n\nfunction readScalar(node: SyntaxNode): string | undefined {\n  if (node.kind === 'value') return node.value;\n  if (node.kind === 'object') return node.value;\n  return undefined;\n}\n\nfunction addError(\n  errors: SyntaxError[],\n  node: SyntaxNode,\n  path: string,\n  code: SyntaxError['code'],\n  message: string,\n  raw?: string,\n) {\n  errors.push({\n    path,\n    line: node.line,\n    code,\n    message,\n    raw,\n  });\n}\n\nfunction splitArrayValue(\n  value: string,\n  split: 'space' | 'comma' | 'any' = 'any',\n) {\n  let text = value.trim();\n  if (text.startsWith('[') && text.endsWith(']')) {\n    text = text.slice(1, -1).trim();\n  }\n  if (!text) return [];\n  let parts: string[];\n  if (split === 'comma') {\n    parts = text.split(',');\n  } else if (split === 'space') {\n    parts = text.split(/\\s+/);\n  } else {\n    parts = text.split(/[,\\s]+/);\n  }\n  const normalized: string[] = [];\n  for (const part of parts) {\n    const trimmedPart = part.trim();\n    if (!trimmedPart) continue;\n    if (trimmedPart === '#' || trimmedPart === '//') break;\n    normalized.push(trimmedPart);\n  }\n  return normalized;\n}\n\nfunction stripColorComments(value: string) {\n  let trimmed = value.trim();\n  const hashIndex = trimmed.search(/\\s+#(?![0-9a-f])/i);\n  if (hashIndex >= 0) {\n    trimmed = trimmed.slice(0, hashIndex).trimEnd();\n  }\n  const slashIndex = trimmed.indexOf('//');\n  if (slashIndex >= 0) {\n    trimmed = trimmed.slice(0, slashIndex).trimEnd();\n  }\n  return trimmed;\n}\n\nfunction normalizeExplicitColor(value: string) {\n  const trimmed = stripColorComments(value);\n  if (!trimmed) return undefined;\n  const hexMatch = trimmed.match(HEX_COLOR_PATTERN);\n  if (hexMatch && hexMatch[0].length === trimmed.length) {\n    return trimmed;\n  }\n  const funcMatch = trimmed.match(FUNCTION_COLOR_PATTERN);\n  if (funcMatch && funcMatch[1].length === trimmed.length) {\n    return trimmed;\n  }\n  if (tinycolor(trimmed).isValid()) return trimmed;\n  return undefined;\n}\n\nfunction mapColor(\n  node: SyntaxNode,\n  path: string,\n  errors: SyntaxError[],\n  options: { soft?: boolean } = {},\n) {\n  const value = readScalar(node);\n  if (value === undefined) {\n    addError(errors, node, path, 'schema_mismatch', 'Expected color value.');\n    return undefined;\n  }\n  const normalized = normalizeExplicitColor(value);\n  if (!normalized) {\n    if (!options.soft) {\n      addError(\n        errors,\n        node,\n        path,\n        'invalid_value',\n        'Invalid color value.',\n        value,\n      );\n    }\n    return undefined;\n  }\n  return normalized;\n}\n\nfunction shouldTreatPaletteStringAsArray(\n  trimmed: string,\n  parts: string[],\n): boolean {\n  if (parts.length > 1) return true;\n  if (trimmed.startsWith('[') && trimmed.endsWith(']')) return true;\n  return normalizeExplicitColor(trimmed) !== undefined;\n}\n\nfunction mapUnknown(node: SyntaxNode): any {\n  if (node.kind === 'array') {\n    return node.items.map((item) => mapUnknown(item));\n  }\n  if (node.kind === 'value') return parseScalar(node.value);\n  const hasEntries = Object.keys(node.entries).length > 0;\n  if (!hasEntries && node.value !== undefined) {\n    return parseScalar(node.value);\n  }\n  const result: Record<string, any> = {};\n  if (node.value !== undefined) {\n    result.value = parseScalar(node.value);\n  }\n  Object.entries(node.entries).forEach(([key, child]) => {\n    result[key] = mapUnknown(child);\n  });\n  return result;\n}\n\nfunction mapUnion(\n  node: SyntaxNode,\n  schema: UnionSchema,\n  path: string,\n  errors: SyntaxError[],\n) {\n  let bestValue: any = undefined;\n  let bestErrors: SyntaxError[] | null = null;\n  for (const variant of schema.variants) {\n    const variantErrors: SyntaxError[] = [];\n    const value = mapWithSchema(node, variant, path, variantErrors);\n    if (bestErrors === null || variantErrors.length < bestErrors.length) {\n      bestErrors = variantErrors;\n      bestValue = value;\n    }\n  }\n  if (bestErrors) errors.push(...bestErrors);\n  return bestValue;\n}\n\nexport function mapWithSchema(\n  node: SyntaxNode,\n  schema: SchemaNode,\n  path: string,\n  errors: SyntaxError[],\n): any {\n  switch (schema.kind) {\n    case 'union':\n      return mapUnion(node, schema, path, errors);\n    case 'string': {\n      const value = readScalar(node);\n      if (value === undefined) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected string value.',\n        );\n        return undefined;\n      }\n      return value;\n    }\n    case 'number': {\n      const value = readScalar(node);\n      if (value === undefined) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected number value.',\n        );\n        return undefined;\n      }\n      const trimmed = value.trim();\n      const match = trimmed.match(/^(-?\\d+(\\.\\d+)?)(?:\\s*(#|\\/\\/).*)?$/);\n      if (!match) {\n        addError(\n          errors,\n          node,\n          path,\n          'invalid_value',\n          'Invalid number value.',\n          value,\n        );\n        return undefined;\n      }\n      return parseFloat(match[1]);\n    }\n    case 'boolean': {\n      const value = readScalar(node);\n      if (value === undefined) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected boolean value.',\n        );\n        return undefined;\n      }\n      if (value !== 'true' && value !== 'false') {\n        addError(\n          errors,\n          node,\n          path,\n          'invalid_value',\n          'Invalid boolean value.',\n          value,\n        );\n        return undefined;\n      }\n      return value === 'true';\n    }\n    case 'enum': {\n      const value = readScalar(node);\n      if (value === undefined) {\n        addError(errors, node, path, 'schema_mismatch', 'Expected enum value.');\n        return undefined;\n      }\n      if (!schema.values.includes(value)) {\n        addError(\n          errors,\n          node,\n          path,\n          'invalid_value',\n          'Invalid enum value.',\n          value,\n        );\n        return undefined;\n      }\n      return value;\n    }\n    case 'array': {\n      if (node.kind === 'array') {\n        return node.items\n          .map((item, index) =>\n            mapWithSchema(item, schema.item, `${path}[${index}]`, errors),\n          )\n          .filter((value) => value !== undefined);\n      }\n      if (node.kind === 'object' && Object.keys(node.entries).length > 0) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected array value.',\n        );\n        return undefined;\n      }\n      const scalar = readScalar(node);\n      if (scalar === undefined) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected array value.',\n        );\n        return undefined;\n      }\n      const trimmed = scalar.trim();\n      if (trimmed.startsWith('[') && !trimmed.endsWith(']')) {\n        return undefined;\n      }\n      const parts = splitArrayValue(scalar, schema.split);\n      return parts\n        .map((part, index) =>\n          mapWithSchema(\n            createValueNode(part, node.line),\n            schema.item,\n            `${path}[${index}]`,\n            errors,\n          ),\n        )\n        .filter((value) => value !== undefined);\n    }\n    case 'palette': {\n      if (node.kind === 'array') {\n        const values = mapWithSchema(\n          node,\n          { kind: 'array', item: { kind: 'color' }, split: 'any' },\n          path,\n          errors,\n        );\n        return Array.isArray(values) && values.length > 0 ? values : undefined;\n      }\n      if (node.kind === 'object' && Object.keys(node.entries).length > 0) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected palette value.',\n        );\n        return undefined;\n      }\n      const scalar = readScalar(node);\n      if (scalar === undefined) {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected palette value.',\n        );\n        return undefined;\n      }\n      const trimmed = scalar.trim();\n      if (trimmed.startsWith('[') && !trimmed.endsWith(']')) {\n        return undefined;\n      }\n      const directColor = normalizeExplicitColor(trimmed);\n      if (directColor) {\n        return [directColor];\n      }\n      const parts = splitArrayValue(scalar, 'any');\n      if (shouldTreatPaletteStringAsArray(trimmed, parts)) {\n        const values = parts\n          .map((part, index) =>\n            mapColor(\n              createValueNode(part, node.line),\n              `${path}[${index}]`,\n              errors,\n            ),\n          )\n          .filter((value): value is string => value !== undefined);\n        return values.length > 0 ? values : undefined;\n      }\n      return scalar;\n    }\n    case 'color': {\n      return mapColor(node, path, errors, { soft: schema.soft });\n    }\n    case 'object': {\n      if (node.kind === 'array') {\n        addError(\n          errors,\n          node,\n          path,\n          'schema_mismatch',\n          'Expected object value.',\n        );\n        return undefined;\n      }\n      const result: Record<string, any> = {};\n      if (node.kind === 'value') {\n        if (schema.shorthandKey) {\n          result[schema.shorthandKey] = node.value;\n          return result;\n        }\n        const inline = parseInlineKeyValue(node.value);\n        if (inline?.value !== undefined) {\n          if (schema.fields[inline.key]) {\n            const value = mapWithSchema(\n              createValueNode(inline.value, node.line),\n              schema.fields[inline.key],\n              `${path}.${inline.key}`,\n              errors,\n            );\n            if (value !== undefined) result[inline.key] = value;\n            return result;\n          }\n          if (schema.allowUnknown) {\n            result[inline.key] = parseScalar(inline.value);\n            return result;\n          }\n          addError(\n            errors,\n            node,\n            `${path}.${inline.key}`,\n            'unknown_key',\n            'Unknown key in object.',\n            inline.key,\n          );\n          return result;\n        }\n        if (schema.allowUnknown) {\n          result.value = parseScalar(node.value);\n          return result;\n        }\n        addError(errors, node, path, 'invalid_value', 'Expected object value.');\n        return undefined;\n      }\n\n      if (node.value !== undefined) {\n        if (schema.shorthandKey && result[schema.shorthandKey] === undefined) {\n          result[schema.shorthandKey] = node.value;\n        } else {\n          const inline = parseInlineKeyValue(node.value);\n          if (inline?.value !== undefined) {\n            if (schema.fields[inline.key]) {\n              const value = mapWithSchema(\n                createValueNode(inline.value, node.line),\n                schema.fields[inline.key],\n                `${path}.${inline.key}`,\n                errors,\n              );\n              if (value !== undefined && result[inline.key] === undefined) {\n                result[inline.key] = value;\n              }\n            } else if (schema.allowUnknown) {\n              result[inline.key] = parseScalar(inline.value);\n            } else {\n              addError(\n                errors,\n                node,\n                `${path}.${inline.key}`,\n                'unknown_key',\n                'Unknown key in object.',\n                inline.key,\n              );\n            }\n          } else if (schema.allowUnknown) {\n            result.value = parseScalar(node.value);\n          }\n        }\n      }\n\n      Object.entries(node.entries).forEach(([key, child]) => {\n        const fieldSchema = schema.fields[key];\n        if (!fieldSchema) {\n          if (schema.allowUnknown) {\n            result[key] = mapUnknown(child);\n            return;\n          }\n          addError(\n            errors,\n            child,\n            `${path}.${key}`,\n            'unknown_key',\n            'Unknown key in object.',\n            key,\n          );\n          return;\n        }\n        const value = mapWithSchema(\n          child,\n          fieldSchema,\n          `${path}.${key}`,\n          errors,\n        );\n        if (value !== undefined) result[key] = value;\n      });\n      return result;\n    }\n    default:\n      return undefined;\n  }\n}\n\nexport function mapUnknownToObject(node: SyntaxNode) {\n  return mapUnknown(node);\n}\n","import type { ObjectSchema, SchemaNode } from './types';\n\nconst string = (): SchemaNode => ({ kind: 'string' });\nconst number = (): SchemaNode => ({ kind: 'number' });\n// const boolean = (): SchemaNode => ({ kind: 'boolean' });\nconst enumOf = (values: string[]): SchemaNode => ({ kind: 'enum', values });\nconst color = (options: { soft?: boolean } = {}): SchemaNode => ({\n  kind: 'color',\n  soft: options.soft,\n});\nconst array = (item: SchemaNode, split: 'space' | 'comma' | 'any' = 'any') => ({\n  kind: 'array' as const,\n  item,\n  split,\n});\nconst object = (\n  fields: Record<string, SchemaNode>,\n  options: { allowUnknown?: boolean; shorthandKey?: string } = {},\n): ObjectSchema => ({\n  kind: 'object',\n  fields,\n  allowUnknown: options.allowUnknown,\n  shorthandKey: options.shorthandKey,\n});\nconst union = (...variants: SchemaNode[]): SchemaNode => ({\n  kind: 'union',\n  variants,\n});\nconst palette = (): SchemaNode => ({ kind: 'palette' });\nconst anyObject = (): ObjectSchema => object({}, { allowUnknown: true });\n\nconst nullableColorFields = {\n  fill: color({ soft: true }),\n  stroke: color({ soft: true }),\n};\n\nconst textStyleSchema = object(nullableColorFields, { allowUnknown: true });\nconst shapeStyleSchema = object(nullableColorFields, { allowUnknown: true });\n\nconst itemDatumSchema: ObjectSchema = object({}, { allowUnknown: true });\nitemDatumSchema.fields = {\n  id: string(),\n  label: string(),\n  value: union(number(), string()),\n  desc: string(),\n  icon: union(string(), anyObject()),\n  illus: union(string(), anyObject()),\n  attributes: anyObject(),\n  group: string(),\n  category: string(),\n  children: array(itemDatumSchema),\n};\n\nexport const RelationSchema: ObjectSchema = object(\n  {\n    id: string(),\n    from: string(),\n    to: string(),\n    label: string(),\n    direction: enumOf(['forward', 'both', 'none']),\n    showArrow: enumOf(['true', 'false']),\n    arrowType: enumOf(['arrow', 'triangle', 'diamond']),\n  },\n  { allowUnknown: true },\n);\n\nexport const ThemeSchema = object(\n  {\n    type: string(),\n    colorBg: color(),\n    colorPrimary: color(),\n    palette: palette(),\n    title: textStyleSchema,\n    desc: textStyleSchema,\n    shape: shapeStyleSchema,\n    base: object({\n      global: object({}, { allowUnknown: true }),\n      shape: shapeStyleSchema,\n      text: textStyleSchema,\n    }),\n    item: object({\n      icon: object({}, { allowUnknown: true }),\n      label: textStyleSchema,\n      desc: textStyleSchema,\n      value: textStyleSchema,\n      shape: shapeStyleSchema,\n    }),\n    stylize: object(\n      {\n        type: enumOf(['rough', 'pattern']),\n        roughness: number(),\n        bowing: number(),\n        fillWeight: number(),\n        hachureGap: number(),\n        pattern: string(),\n        backgroundColor: color(),\n        foregroundColor: color(),\n        scale: number(),\n      },\n      { shorthandKey: 'type' },\n    ),\n    elements: object({}, { allowUnknown: true }),\n  },\n  { shorthandKey: 'type' },\n);\n\nconst designNodeSchema = object(\n  {},\n  { allowUnknown: true, shorthandKey: 'type' },\n);\n\nexport const DesignSchema = object({\n  structure: designNodeSchema,\n  item: designNodeSchema,\n  items: array(designNodeSchema),\n  title: designNodeSchema,\n});\n\nexport const DataSchema = object({\n  title: string(),\n  desc: string(),\n  items: array(itemDatumSchema),\n  lists: array(itemDatumSchema),\n  sequences: array(itemDatumSchema),\n  root: itemDatumSchema,\n  compares: array(itemDatumSchema),\n  nodes: array(itemDatumSchema),\n  relations: array(RelationSchema),\n  values: array(itemDatumSchema),\n  order: enumOf(['asc', 'desc']),\n  illus: anyObject(),\n  attributes: anyObject(),\n});\n\nexport const TemplateSchema = object(\n  {\n    type: string(),\n  },\n  { shorthandKey: 'type' },\n);\n\nexport const RootSchema = object({\n  template: TemplateSchema,\n  design: DesignSchema,\n  data: DataSchema,\n  theme: ThemeSchema,\n  width: union(number(), string()),\n  height: union(number(), string()),\n});\n","import type { ItemDatum, RelationEdgeDatum } from '../types';\nimport { mapWithSchema } from './mapper';\nimport { RelationSchema } from './schema';\nimport type { SyntaxError, SyntaxNode } from './types';\n\nconst RELATION_TOKEN = /[<>=o.x-]{2,}/;\nconst ARROW_TOKEN = /[<>=o.x-]{2,}/g;\n\ninterface ParsedNode {\n  id: string;\n  label?: string;\n}\n\ninterface ParsedEdge {\n  label?: string;\n  direction: 'forward' | 'both' | 'none';\n  reverse: boolean;\n  nextIndex: number;\n}\n\nfunction normalizeLabel(text: string) {\n  let label = text.trim();\n  if (!label) return '';\n  const first = label[0];\n  const last = label[label.length - 1];\n  if ((first === '\"' && last === '\"') || (first === \"'\" && last === \"'\")) {\n    label = label.slice(1, -1);\n  }\n  label = label\n    .replace(/\\\\([\"'])/g, '$1')\n    .replace(/(&quot;|&#quot;|#quot;)/g, '\"')\n    .replace(/(&apos;|&#39;|#apos;)/g, \"'\");\n  return label.trim();\n}\n\nfunction stripEdgeLabelPrefix(text: string) {\n  const trimmed = text\n    .trim()\n    .replace(/^[-=.ox]+/, '')\n    .trim();\n  return normalizeLabel(trimmed);\n}\n\nfunction skipSpaces(text: string, index: number) {\n  let cursor = index;\n  while (cursor < text.length && /\\s/.test(text[cursor])) {\n    cursor += 1;\n  }\n  return cursor;\n}\n\nfunction readNode(text: string, startIndex: number) {\n  let index = skipSpaces(text, startIndex);\n  if (index >= text.length) return null;\n  const idStart = index;\n  while (index < text.length) {\n    const char = text[index];\n    if (\n      /\\s/.test(char) ||\n      char === '[' ||\n      char === '(' ||\n      char === '@' ||\n      char === '|' ||\n      char === '<' ||\n      char === '>'\n    ) {\n      break;\n    }\n    if (\n      char === '-' &&\n      (text[index + 1] === '-' ||\n        text[index + 1] === '>' ||\n        text[index + 1] === '<')\n    ) {\n      break;\n    }\n    index += 1;\n  }\n  if (index === idStart) return null;\n  const id = text.slice(idStart, index).trim();\n  if (!id) return null;\n\n  if (text.startsWith('@{', index)) {\n    const braceEnd = text.indexOf('}', index + 2);\n    if (braceEnd !== -1) {\n      index = braceEnd + 1;\n    }\n  }\n\n  index = skipSpaces(text, index);\n  let label: string | undefined;\n  if (text[index] === '[') {\n    const end = text.indexOf(']', index + 1);\n    if (end !== -1) {\n      label = normalizeLabel(text.slice(index + 1, end));\n      index = end + 1;\n    }\n  } else if (text[index] === '(') {\n    const end = text.indexOf(')', index + 1);\n    if (end !== -1) {\n      let content = text.slice(index + 1, end).trim();\n      if (content.startsWith('[') && content.endsWith(']')) {\n        content = content.slice(1, -1).trim();\n      }\n      label = normalizeLabel(content);\n      index = end + 1;\n    }\n  }\n\n  return {\n    node: { id, label } as ParsedNode,\n    nextIndex: index,\n  };\n}\n\nfunction readEdge(text: string, startIndex: number): ParsedEdge | null {\n  ARROW_TOKEN.lastIndex = startIndex;\n  const match = ARROW_TOKEN.exec(text);\n  if (!match) return null;\n  const arrowToken = match[0];\n  const arrowStart = match.index;\n  const arrowEnd = arrowStart + arrowToken.length;\n  const labelPrefix = stripEdgeLabelPrefix(text.slice(startIndex, arrowStart));\n  let label = labelPrefix || undefined;\n  let directionToken = arrowToken;\n  let index = arrowEnd;\n\n  index = skipSpaces(text, index);\n  if (text[index] === '|') {\n    const pipeEnd = text.indexOf('|', index + 1);\n    if (pipeEnd !== -1) {\n      const pipeLabel = normalizeLabel(text.slice(index + 1, pipeEnd));\n      label = pipeLabel || label;\n      index = pipeEnd + 1;\n      const afterLabel = skipSpaces(text, index);\n      ARROW_TOKEN.lastIndex = afterLabel;\n      const tail = ARROW_TOKEN.exec(text);\n      if (tail && tail.index === afterLabel) {\n        directionToken += tail[0];\n        index = tail.index + tail[0].length;\n      } else {\n        index = afterLabel;\n      }\n    }\n  }\n\n  const hasLeft = directionToken.includes('<');\n  const hasRight = directionToken.includes('>');\n  const markerMatch = directionToken.match(/[xo]/gi) || [];\n  const markerLeft = /^[xo]/i.test(directionToken);\n  const markerRight = /[xo]$/i.test(directionToken);\n  let direction: ParsedEdge['direction'] = 'none';\n  let reverse = false;\n  if (\n    (hasLeft && hasRight) ||\n    (hasLeft && markerRight) ||\n    (hasRight && markerLeft) ||\n    (markerLeft && markerRight)\n  ) {\n    direction = 'both';\n  } else if (hasLeft || hasRight || markerMatch.length > 0) {\n    direction = 'forward';\n    reverse = hasLeft && !hasRight;\n  }\n\n  return { label, direction, reverse, nextIndex: index };\n}\n\nfunction parseRelationLine(text: string) {\n  const relations: RelationEdgeDatum[] = [];\n  const nodes: ParsedNode[] = [];\n  const nodeMap = new Map<string, ParsedNode>();\n  let index = 0;\n  const first = readNode(text, index);\n  if (!first) return { relations, nodes };\n  let current = first.node;\n  if (!nodeMap.has(current.id)) {\n    nodeMap.set(current.id, current);\n    nodes.push(current);\n  }\n  index = first.nextIndex;\n\n  while (index < text.length) {\n    const edge = readEdge(text, index);\n    if (!edge) break;\n    index = edge.nextIndex;\n    const nextNode = readNode(text, index);\n    if (!nextNode) break;\n    index = nextNode.nextIndex;\n\n    let from = current.id;\n    let to = nextNode.node.id;\n    const direction = edge.direction;\n    if (edge.reverse) {\n      from = nextNode.node.id;\n      to = current.id;\n    }\n\n    const relation: RelationEdgeDatum = {\n      from,\n      to,\n    };\n    if (edge.label) relation.label = edge.label;\n    if (direction === 'both') relation.direction = 'both';\n    if (direction === 'none') relation.direction = 'none';\n    relations.push(relation);\n\n    if (!nodeMap.has(current.id)) {\n      nodeMap.set(current.id, current);\n      nodes.push(current);\n    }\n    if (!nodeMap.has(nextNode.node.id)) {\n      nodeMap.set(nextNode.node.id, nextNode.node);\n      nodes.push(nextNode.node);\n    }\n    current = nextNode.node;\n  }\n\n  return { relations, nodes };\n}\n\nfunction ensureItemLabel(\n  items: Map<string, ItemDatum>,\n  list: ItemDatum[],\n  id: string,\n  label?: string,\n) {\n  if (!id) return;\n  const existing = items.get(id);\n  if (existing) {\n    if (!existing.label && label) existing.label = label;\n    return;\n  }\n  const item: ItemDatum = { id, label: label || id };\n  items.set(id, item);\n  list.push(item);\n}\n\nfunction parseExplicitRelation(\n  node: SyntaxNode,\n  path: string,\n  errors: SyntaxError[],\n) {\n  const value = mapWithSchema(node, RelationSchema, path, errors);\n  if (!value || typeof value !== 'object') return null;\n  if (typeof value.from !== 'string' || typeof value.to !== 'string') {\n    return null;\n  }\n  return value as RelationEdgeDatum;\n}\n\nexport function parseRelationsNode(\n  node: SyntaxNode,\n  errors: SyntaxError[],\n  path: string,\n) {\n  const relations: RelationEdgeDatum[] = [];\n  const items: ItemDatum[] = [];\n  const itemMap = new Map<string, ItemDatum>();\n\n  const parseLine = (line: string) => {\n    if (!RELATION_TOKEN.test(line)) return;\n    const parsed = parseRelationLine(line);\n    parsed.nodes.forEach((nodeItem) => {\n      ensureItemLabel(itemMap, items, nodeItem.id, nodeItem.label);\n    });\n    relations.push(...parsed.relations);\n  };\n\n  if (node.kind === 'array') {\n    node.items.forEach((item, index) => {\n      if (\n        item.kind === 'object' &&\n        item.value &&\n        Object.keys(item.entries).length === 0 &&\n        RELATION_TOKEN.test(item.value)\n      ) {\n        parseLine(item.value);\n        return;\n      }\n      const relation = parseExplicitRelation(item, `${path}[${index}]`, errors);\n      if (relation) {\n        relations.push(relation);\n      }\n    });\n  } else if (node.kind === 'object' && node.value) {\n    parseLine(node.value);\n  }\n\n  return { relations, items };\n}\n","import type { InfographicOptions } from '../options';\nimport type { ItemDatum } from '../types';\nimport { mapWithSchema } from './mapper';\nimport { parseSyntaxToAst } from './parser';\nimport { parseRelationsNode } from './relations';\nimport {\n  DataSchema,\n  DesignSchema,\n  RootSchema,\n  TemplateSchema,\n  ThemeSchema,\n} from './schema';\nimport type { SyntaxNode, SyntaxParseResult } from './types';\n\nfunction normalizeItems(items: ItemDatum[]) {\n  const seen = new Set<string>();\n  const normalized: ItemDatum[] = [];\n  for (let index = items.length - 1; index >= 0; index -= 1) {\n    const item = items[index];\n    const id = item.id ?? item.label;\n    if (!id) {\n      normalized.push(item);\n      continue;\n    }\n    if (seen.has(id)) continue;\n    seen.add(id);\n    if (!item.id) item.id = id;\n    normalized.push(item);\n  }\n  return normalized.reverse();\n}\n\nfunction resolveTemplate(\n  node: SyntaxNode | undefined,\n  errors: SyntaxParseResult['errors'],\n) {\n  if (!node) return undefined;\n  const mapped = mapWithSchema(node, TemplateSchema, 'template', errors);\n  if (!mapped) return undefined;\n  if (typeof mapped === 'string') return mapped;\n  if (typeof mapped === 'object' && typeof mapped.type === 'string') {\n    return mapped.type;\n  }\n  return undefined;\n}\n\nexport function parseSyntax(input: string): SyntaxParseResult {\n  const { ast, errors } = parseSyntaxToAst(input);\n  const warnings: SyntaxParseResult['warnings'] = [];\n  const options: Partial<InfographicOptions> = {};\n\n  const mergedEntries = { ...ast.entries };\n  const infographicNode = ast.entries.infographic;\n  let templateFromInfographic: string | undefined;\n  if (infographicNode && infographicNode.kind === 'object') {\n    if (infographicNode.value) templateFromInfographic = infographicNode.value;\n    Object.entries(infographicNode.entries).forEach(([key, value]) => {\n      if (!(key in mergedEntries)) mergedEntries[key] = value;\n    });\n  }\n\n  const allowedRootKeys = new Set([\n    'infographic',\n    'template',\n    'design',\n    'data',\n    'theme',\n    'width',\n    'height',\n  ]);\n  Object.keys(mergedEntries).forEach((key) => {\n    if (!allowedRootKeys.has(key)) {\n      errors.push({\n        path: key,\n        line: (mergedEntries[key] as SyntaxNode).line,\n        code: 'unknown_key',\n        message: 'Unknown top-level key.',\n        raw: key,\n      });\n    }\n  });\n\n  const templateNode = mergedEntries.template as SyntaxNode | undefined;\n  const templateValue = resolveTemplate(templateNode, errors);\n  if (templateValue) options.template = templateValue;\n  if (!options.template && templateFromInfographic) {\n    options.template = templateFromInfographic;\n  }\n\n  const designNode = mergedEntries.design as SyntaxNode | undefined;\n  if (designNode) {\n    const design = mapWithSchema(designNode, DesignSchema, 'design', errors);\n    if (design) options.design = design;\n  }\n\n  const dataNode = mergedEntries.data as SyntaxNode | undefined;\n  if (dataNode) {\n    let relationsNode: SyntaxNode | undefined;\n    let dataNodeForMapping = dataNode;\n    if (dataNode.kind === 'object') {\n      const { relations, ...rest } = dataNode.entries;\n      relationsNode = relations;\n      dataNodeForMapping = { ...dataNode, entries: rest };\n    }\n    const data = mapWithSchema(dataNodeForMapping, DataSchema, 'data', errors);\n    if (data) options.data = data;\n    if (relationsNode) {\n      const parsed = parseRelationsNode(\n        relationsNode,\n        errors,\n        'data.relations',\n      );\n      if (parsed.relations.length > 0 || parsed.items.length > 0) {\n        const current = (options.data ?? {}) as Record<string, any>;\n        const existingItems = Array.isArray(current.items)\n          ? (current.items as ItemDatum[])\n          : [];\n        const normalizedItems = normalizeItems(existingItems);\n        const itemMap = new Map<string, ItemDatum>();\n        normalizedItems.forEach((item) => {\n          if (item.id) itemMap.set(item.id, item);\n        });\n        parsed.items.forEach((item) => {\n          const existing = itemMap.get(item.id as string);\n          if (existing) {\n            if (!existing.label && item.label) existing.label = item.label;\n          } else {\n            normalizedItems.push(item);\n            itemMap.set(item.id as string, item);\n          }\n        });\n        current.items = normalizedItems;\n        current.relations = parsed.relations;\n        options.data = current as any;\n      }\n    }\n  }\n\n  const themeNode = mergedEntries.theme as SyntaxNode | undefined;\n  if (themeNode) {\n    const theme = mapWithSchema(themeNode, ThemeSchema, 'theme', errors);\n    if (theme && typeof theme === 'object') {\n      const { type, ...rest } = theme as Record<string, any>;\n      if (typeof type === 'string' && type) options.theme = type;\n      if (Object.keys(rest).length > 0) {\n        options.themeConfig = rest;\n      }\n    }\n  }\n\n  const widthNode = mergedEntries.width as SyntaxNode | undefined;\n  if (widthNode) {\n    const width = mapWithSchema(\n      widthNode,\n      RootSchema.fields.width,\n      'width',\n      errors,\n    );\n    if (width !== undefined) options.width = width;\n  }\n\n  const heightNode = mergedEntries.height as SyntaxNode | undefined;\n  if (heightNode) {\n    const height = mapWithSchema(\n      heightNode,\n      RootSchema.fields.height,\n      'height',\n      errors,\n    );\n    if (height !== undefined) options.height = height;\n  }\n\n  return {\n    options,\n    errors,\n    warnings,\n    ast,\n  };\n}\n\nexport type { SyntaxError, SyntaxNode, SyntaxParseResult } from './types';\n","import {\n  BrushSelect,\n  ClickSelect,\n  DblClickEditText,\n  DragCanvas,\n  DragElement,\n  EditBar,\n  HotkeyHistory,\n  ResetViewBox,\n  ResizeElement,\n  SelectHighlight,\n  ZoomWheel,\n} from '../editor';\nimport { InfographicOptions } from '../options';\n\nconst createDefaultPlugins = () => [\n  new EditBar(),\n  new ResizeElement(),\n  new ResetViewBox(),\n];\nconst createDefaultInteractions = () => [\n  new DragCanvas(),\n  new DblClickEditText(),\n  new BrushSelect(),\n  new ClickSelect(),\n  new DragElement(),\n  new HotkeyHistory(),\n  new ZoomWheel(),\n  new SelectHighlight(),\n];\n\nexport const DEFAULT_OPTIONS: Partial<InfographicOptions> = {\n  padding: 20,\n  theme: 'light',\n  themeConfig: {\n    palette: 'antv',\n  },\n  get plugins() {\n    return createDefaultPlugins();\n  },\n  get interactions() {\n    return createDefaultInteractions();\n  },\n};\n","import { cloneDeep } from 'lodash-es';\nimport type { InfographicOptions, ParsedInfographicOptions } from '../options';\nimport { isNonNullableParsedDesignsOptions } from '../utils';\n\nexport function mergeOptions(\n  object: Partial<InfographicOptions>,\n  source: Partial<InfographicOptions>,\n): Partial<InfographicOptions> {\n  const base: Partial<InfographicOptions> = {\n    ...object,\n    ...source,\n  };\n\n  if (object.design || source.design) {\n    base.design = { ...object.design, ...source.design };\n  }\n  if (object.themeConfig || source.themeConfig) {\n    base.themeConfig = { ...object.themeConfig, ...source.themeConfig };\n  }\n  if (object.svg || source.svg) {\n    base.svg = { ...object.svg, ...source.svg };\n  }\n\n  return base;\n}\n\nexport function cloneOptions<T extends Partial<InfographicOptions>>(\n  options: T,\n): T {\n  const cloned = { ...options };\n  if (cloned.data) cloned.data = cloneDeep(cloned.data);\n  if (cloned.elements) cloned.elements = cloneDeep(cloned.elements);\n  return cloned as T;\n}\n\nexport function isCompleteParsedInfographicOptions(\n  options: Partial<ParsedInfographicOptions>,\n): options is ParsedInfographicOptions {\n  const { design, data } = options;\n  if (!design) return false;\n  if (!isNonNullableParsedDesignsOptions(design)) return false;\n  if (!data) return false;\n  if (!Array.isArray(data.items) || data.items.length < 1) return false;\n  return true;\n}\n","import EventEmitter from 'eventemitter3';\nimport { Editor, type IEditor } from '../editor';\nimport {\n  exportToPNGString,\n  exportToSVGString,\n  type ExportOptions,\n} from '../exporter';\nimport { renderSVG } from '../jsx';\nimport {\n  InfographicOptions,\n  ParsedInfographicOptions,\n  parseOptions,\n} from '../options';\nimport { Renderer } from '../renderer';\nimport { waitForSvgLoads } from '../resource';\nimport { parseSyntax, type SyntaxError } from '../syntax';\nimport { IEventEmitter } from '../types';\nimport { getTypes, parseSVG } from '../utils';\nimport { DEFAULT_OPTIONS } from './options';\nimport {\n  cloneOptions,\n  isCompleteParsedInfographicOptions,\n  mergeOptions,\n} from './utils';\n\nexport class Infographic {\n  rendered: boolean = false;\n\n  private emitter: IEventEmitter = new EventEmitter();\n\n  private node: SVGSVGElement | null = null;\n\n  private editor?: IEditor;\n\n  private initialOptions: Partial<InfographicOptions> = {};\n  private options!: Partial<InfographicOptions>;\n  private parsedOptions!: Partial<ParsedInfographicOptions>;\n\n  constructor(options: string | Partial<InfographicOptions>) {\n    this.setOptions(options, 'replace', true);\n  }\n\n  getOptions() {\n    return this.options;\n  }\n\n  private setOptions(\n    options: string | Partial<InfographicOptions>,\n    mode: 'replace' | 'merge' = 'replace',\n    isInitial = false,\n  ) {\n    const {\n      options: parsedOptions,\n      errors,\n      warnings,\n    } = parseSyntaxOptions(options);\n    if (isInitial) {\n      this.initialOptions = parsedOptions;\n    }\n\n    const base =\n      mode === 'replace'\n        ? mergeOptions(cloneOptions(this.initialOptions || {}), parsedOptions)\n        : mergeOptions(\n            this.options || cloneOptions(this.initialOptions || {}),\n            parsedOptions,\n          );\n\n    this.options = base;\n    this.parsedOptions = parseOptions(\n      mergeOptions(DEFAULT_OPTIONS, this.options),\n    );\n\n    if (warnings.length) {\n      this.emitter.emit('warning', warnings);\n    }\n    if (errors.length) {\n      this.emitter.emit('error', errors);\n    }\n  }\n\n  /**\n   * Render the infographic into the container\n   */\n  render(options?: string | Partial<InfographicOptions>) {\n    if (options) {\n      this.setOptions(options, 'replace');\n    } else if (!this.options && this.initialOptions) {\n      this.setOptions(this.initialOptions, 'replace');\n    }\n    this.performRender();\n  }\n\n  update(options: string | Partial<InfographicOptions>) {\n    this.setOptions(options, 'merge');\n    this.performRender();\n  }\n\n  private performRender() {\n    const parsedOptions = this.parsedOptions;\n    if (!isCompleteParsedInfographicOptions(parsedOptions)) {\n      this.emitter.emit('error', new Error('Incomplete options'));\n      return;\n    }\n\n    const { container } = this.parsedOptions;\n    const template = this.compose(parsedOptions);\n    const renderer = new Renderer(parsedOptions, template);\n    this.node = renderer.render();\n    container?.replaceChildren(this.node);\n    this.editor?.destroy();\n    this.editor = undefined;\n    if (this.options.editable) {\n      this.editor = new Editor(this.emitter, this.node, parsedOptions);\n    }\n\n    this.rendered = true;\n    this.emitter.emit('rendered', { node: this.node, options: this.options });\n    const currentNode = this.node;\n    if (currentNode) {\n      void waitForSvgLoads(currentNode).then(() => {\n        if (this.node !== currentNode) return;\n        this.emitter.emit('loaded', {\n          node: currentNode,\n          options: this.options,\n        });\n      });\n    }\n    return true;\n  }\n\n  /**\n   * Compose the SVG template\n   */\n  compose(parsedOptions: ParsedInfographicOptions): SVGSVGElement {\n    const { design, data } = parsedOptions;\n    const { title, item, items, structure } = design;\n    const { component: Structure, props: structureProps } = structure;\n    const Title = title.component;\n    const Item = item.component;\n    const Items = items.map((it) => it.component);\n\n    const svg = renderSVG(\n      <Structure\n        data={data}\n        Title={Title}\n        Item={Item}\n        Items={Items}\n        options={parsedOptions}\n        {...structureProps}\n      />,\n    );\n\n    const template = parseSVG(svg);\n    if (!template) {\n      throw new Error('Failed to parse SVG template');\n    }\n    return template;\n  }\n\n  getTypes() {\n    const parsedOptions = this.parsedOptions;\n    if (!isCompleteParsedInfographicOptions(parsedOptions)) {\n      this.emitter.emit('error', new Error('Incomplete options'));\n      return;\n    }\n    const design = parsedOptions.design;\n    const structure = design.structure.composites || [];\n    const items = design.items.map((it) => it.composites || []);\n    return getTypes({ structure, items });\n  }\n\n  /**\n   * Export the infographic to data URL\n   * @param options Export option\n   * @returns Data URL string of the exported infographic\n   * @description This method need to be called after `render()` and in a browser environment.\n   */\n  async toDataURL(options?: ExportOptions): Promise<string> {\n    if (!this.node) {\n      throw new Error('Infographic is not rendered yet.');\n    }\n    if (options?.type === 'svg') {\n      return await exportToSVGString(this.node, options);\n    }\n    return await exportToPNGString(this.node, options);\n  }\n\n  on(event: string, listener: (...args: any[]) => void) {\n    this.emitter.on(event, listener);\n  }\n\n  off(event: string, listener: (...args: any[]) => void) {\n    this.emitter.off(event, listener);\n  }\n\n  destroy() {\n    this.editor?.destroy();\n    this.node?.remove();\n    this.node = null;\n    this.rendered = false;\n    this.emitter.emit('destroyed');\n    this.emitter.removeAllListeners();\n  }\n}\n\ntype SyntaxParseFeedback = {\n  options: Partial<InfographicOptions>;\n  errors: SyntaxError[];\n  warnings: SyntaxError[];\n};\n\nfunction parseSyntaxOptions(\n  input: string | Partial<InfographicOptions>,\n): SyntaxParseFeedback {\n  if (typeof input === 'string') {\n    const { options, errors, warnings } = parseSyntax(input);\n    return { options, errors, warnings };\n  }\n\n  return {\n    options: cloneOptions(input),\n    errors: [],\n    warnings: [],\n  };\n}\n","export const VERSION = '0.2.14';\n"],"names":["TEMPLATE_REGISTRY","registerTemplate","type","template","getTemplate","getTemplates","chartPieTemplates","baseTemplates","warnedKeys","wrappedTemplates","key","oldKey","target","prop","receiver","compareQuadrantTemplates","BRANCH_GRADIENT","LEVEL_GRADIENT","LINED_PALETTE","CAPSULE","CIRCULAR_PROGRESS","ROUNDED_RECT_NODE","COMPACT_CARD","createStructure","gradient","edgeAlign","__spreadValues","createTemplate","item","hierarchyMindmapTemplates","hierarchyStructureTemplates","structures","items","hierarchyTreeTemplates","structureName","orientationConfigs","createTemplateName","oriKey","name","structureProps","orientation","templateName","listZigzagTemplates","baseStructureAttrs","__spreadProps","relationDagreFlowTemplates","omit","strKey","strAttrs","itemKey","itemAttrs","appendix","templateKey","sequenceStairsTemplates","wordCloudTemplate","BUILT_IN_TEMPLATES","text","options","Fragment","jsx","props","jsxs","COMPONENT_ROLE","ElementTypeEnum","ICON_SERVICE_URL","DefsSymbol","Defs","Ellipse","_a","_b","_c","_d","x","y","width","height","Group","Path","finalProps","Polygon","__objRest","pointsStr","points","Rect","getCommonAttrs","attrs","acc","k","attr","parseNumber","color","len","named","parseNamed","hex","parseHex","match","num","per","num_per","hue","c","rgb_num_old","rgb_per_old","parseRgbLegacy","res","prepare","mode","parse","converter","target_mode","converters","modes","parsers","colorProfiles","identity","v","useMode","definition","channel","parser","useParser","getMode","IdentStartCodePoint","IdentCodePoint","Tok","_i","is_num","chars","ch","ch1","is_ident","huenits","value","digits","id","ident","identlike","tokenize","str","tokens","alpha","parseColorSyntax","token","coords","consumeCoords","channels","ii","includeHue","parseModernSyntax","parsed","result","parseRgb","g","b","parseTransparent","lerp","a","t","get_classes","arr","classes","i","interpolatorLinear","interpolator","cls","idx","pair","fixupAlpha","some_defined","linearize","convertA98ToXyz65","a98","r","gamma","convertXyz65ToA98","z","fn","abs","convertRgbToLrgb","convertRgbToXyz65","rgb","convertLrgbToRgb","convertXyz65ToRgb","normalizeHue","hues","normalized","curr","fixupHueShorter","d","M","degToRad","radToDeg","DE","BE","BCAD","convertRgbToCubehelix","l","convertCubehelixToRgb","h","s","amp","cosh","sinh","differenceHueSaturation","std","smp","std_h","smp_h","dH","differenceHueNaive","differenceHueChroma","averageAngle","val","sum","rad","angle","convertLabToLch","convertLchToLab","e","D50","D65","convertLab65ToXyz65","fy","fx","fz","convertLab65ToRgb","lab","f","convertXyz65ToLab65","f0","f1","f2","convertRgbToLab65","kE","kCH","","cos","sin","factor","convertDlchToLab65","G","convertLab65ToDlch","convertDlabToLab65","convertLab65ToDlab","convertHsiToRgb","convertRgbToHsi","m","convertHslToRgb","m1","m2","convertRgbToHsl","hueToDeg","unit","hsl_old","parseHslLegacy","parseHsl","convertHsvToRgb","convertRgbToHsv","convertHwbToRgb","w","convertRgbToHwb","rgba","hsv","ParseHwb","parseHwb","YW","M1","M2","C1","C2","C3","transferPqDecode","transferPqEncode","toRel","convertItpToXyz65","p","toAbs","convertXyz65ToItp","absX","absY","absZ","d0","jabPqEncode","vn","n","convertXyz65ToJab","xp","yp","jabPqDecode","vp","rel","convertJabToXyz65","j","convertRgbToJab","convertJabToRgb","convertJabToJch","convertJchToJab","convertLabToXyz50","convertXyz50ToRgb","convertLabToRgb","convertRgbToXyz50","convertXyz50ToLab","convertRgbToLab","parseLab","parseLch","lch","convertLuvToLchuv","u","convertLchuvToLuv","u_fn","v_fn","un","l_fn","convertXyz50ToLuv","convertLuvToXyz50","up","lchuv","luv","convertLrgbToOklab","L","S","convertRgbToOklab","convertOklabToLrgb","convertOklabToRgb","toe","k_3","toe_inv","compute_max_saturation","k0","k1","k2","k3","k4","wl","wm","ws","k_l","k_m","k_s","l_","m_","s_","l_dS","m_dS","s_dS","l_dS2","m_dS2","s_dS2","find_cusp","S_cusp","L_cusp","C_cusp","find_gamut_intersection","L1","L0","cusp","dL","dC","l_dt","m_dt","s_dt","C","ldt","mdt","sdt","ldt2","mdt2","sdt2","r1","r2","u_r","t_r","g1","g2","u_g","t_g","b1","b2","u_b","t_b","get_ST_max","a_","b_","get_Cs","C_max","ST_max","S_mid","T_mid","C_a","C_b","C_mid","convertOklabToOkhsl","ret","C_0","k_0","k_1","k_2","convertOkhslToOklab","hsl","modeOkhsl","modeHsl","convertOklabToOkhsv","S_max","T","S_0","L_v","C_v","L_vt","C_vt","rgb_scale","scale_L","convertOkhsvToOklab","L_new","modeOkhsv","modeHsv","parseOklab","parseOklch","convertP3ToXyz65","convertXyz65ToP3","convertXyz50ToProphoto","convertProphotoToXyz50","prophoto","","","convertXyz65ToRec2020","convertRec2020ToXyz65","rec2020","bias","bias_cbrt","transfer","convertRgbToXyb","xyz65","xyz50","q","clamp","fixup","serializeHex","serializeHex8","formatHex","formatHex8","luminance","contrast","L2","modeA98","modeCubehelix","modeDlab","modeDlch","modeHsi","modeHwb","modeItp","modeJab","modeJch","modeLab","modeLab65","modeLch","modeLch65","modeLchuv","modeLrgb","modeLuv","modeOklab","oklch","modeOklch","modeP3","modeProphoto","modeRec2020","modeRgb","modeXyb","modeXyz50","modeXyz65","modeYiq","hasColor","fill","normalizedFill","isDarkColor","wcagLuminance","freeGlobal","freeSelf","root","Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","arrayMap","array","iteratee","index","length","isArray","symbolProto","symbolToString","baseToString","reWhitespace","trimmedEndIndex","string","reTrimStart","baseTrim","isObject","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","INFINITY","MAX_INTEGER","toFinite","sign","asyncTag","funcTag","genTag","proxyTag","isFunction","coreJsData","maskSrcKey","uid","isMasked","func","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","pattern","getValue","object","getNative","WeakMap","objectCreate","baseCreate","proto","apply","thisArg","args","copyArray","source","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","count","lastCalled","stamp","remaining","constant","defineProperty","baseSetToString","setToString","arrayEach","MAX_SAFE_INTEGER","reIsUint","isIndex","baseAssignValue","eq","assignValue","objValue","copyObject","customizer","isNew","newValue","nativeMax","overRest","start","transform","otherArgs","baseRest","isLength","isArrayLike","isIterateeCall","createAssigner","assigner","sources","guard","isPrototype","Ctor","baseTimes","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","stubFalse","freeExports","exports","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","nodeUtil","types","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","overArg","arg","nativeKeys","baseKeys","keys","nativeKeysIn","baseKeysIn","isProto","keysIn","reIsDeepProp","reIsPlainProp","isKey","nativeCreate","hashClear","hashDelete","HASH_UNDEFINED","hashGet","data","hashHas","hashSet","Hash","entries","entry","listCacheClear","assocIndexOf","arrayProto","splice","listCacheDelete","lastIndex","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","isKeyable","getMapData","map","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","size","MapCache","FUNC_ERROR_TEXT","memoize","resolver","memoized","cache","MAX_MEMOIZE_SIZE","memoizeCapped","rePropName","reEscapeChar","stringToPath","number","quote","subString","toString","castPath","toKey","baseGet","path","get","defaultValue","arrayPush","values","offset","getPrototype","objectCtorString","isPlainObject","baseSlice","end","castSlice","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","hasUnicode","asciiToArray","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","unicodeToArray","stringToArray","createCaseFirst","methodName","strSymbols","chr","trailing","upperFirst","capitalize","arrayReduce","accumulator","initAccum","basePropertyOf","deburredLetters","deburrLetter","reLatin","reComboMark","deburr","reAsciiWord","asciiWords","reHasUnicodeWord","hasUnicodeWord","rsDingbatRange","rsLowerRange","rsMathOpRange","rsNonCharRange","rsPunctuationRange","rsSpaceRange","rsUpperRange","rsBreakRange","rsApos","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","rsOrdLower","rsOrdUpper","rsEmoji","reUnicodeWord","unicodeWords","words","reApos","createCompounder","callback","camelCase","word","stackClear","stackDelete","stackGet","stackHas","LARGE_ARRAY_SIZE","stackSet","pairs","Stack","allocUnsafe","cloneBuffer","buffer","isDeep","arrayFilter","predicate","resIndex","stubArray","nativeGetSymbols","getSymbols","symbol","baseGetAllKeys","keysFunc","symbolsFunc","getAllKeys","DataView","Promise","Set","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","initCloneArray","Uint8Array","cloneArrayBuffer","arrayBuffer","cloneDataView","dataView","reFlags","cloneRegExp","regexp","symbolValueOf","cloneSymbol","cloneTypedArray","typedArray","initCloneByTag","initCloneObject","baseIsMap","nodeIsMap","isMap","baseIsSet","nodeIsSet","isSet","CLONE_DEEP_FLAG","cloneableTags","baseClone","bitmask","stack","isFunc","stacked","subValue","CLONE_SYMBOLS_FLAG","cloneDeep","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","set","equalByTag","convert","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objCtor","othCtor","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","createBaseFor","fromRight","iterable","baseFor","assignMergeValue","isArrayLikeObject","safeGet","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","srcValue","isCommon","isTyped","baseMerge","nativeMin","baseInRange","inRange","isEqual","kebabCase","merge","getDatumByIndexes","indexes","base","isNonNullableParsedDesignsOptions","structure","it","GENERIC_FONT_FAMILIES","splitFontFamily","font","families","current","push","char","stripWrappingQuotes","trimmed","isWrappedInQuotes","needsQuoting","encodeSingleFontFamily","decodeFontFamily","family","encodeFontFamily","FontWeightNameMap","normalizeFontWeightName","fontWeight","fontRegistry","fontAliases","defaultFontFamily","resolveFontFamily","fallbackFontData","normalizeWeight","weight","namedWeights","normalizeStyle","style","registerFont","normalizedWeight","normalizedStyle","alias","expandedGlyphs","widthOrChar","valueOrWidth","familyMap","getFontData","targetFamily","weightMap","fontData","firstStyle","firstWeightMap","applyTextTransform","normalizeFontSize","fontSize","calculateLineHeight","lineHeight","ascender","descender","lineGap","measureText","transformedText","letterSpacing","wordSpacing","totalWidth","nextChar","advance","charWidth","kernValue","baseline","AlibabaPuHuiTi","SVG_LOAD_PROMISE_MAP","getSvgLoadPromises","svg","getSvgLoadPromise","trackSvgLoadPromise","promise","waitForSvgLoads","__async","promises","FONT_REGISTRY","DEFAULT_FONT","getFont","fontObj","getFonts","setDefaultFont","getFontURLs","urls","config","baseUrl","url","join","getWoff2BaseURL","fontWeightName","FONT_LOAD_MAP","FONT_PROMISE_MAP","trackFontPromise","isLinkLoaded","link","getFontLoadPromise","existing","resolve","done","loadFont","doc","links","promiseKey","loadFonts","isNode","BASE_FONT_URL","getUrl","PALETTE_REGISTRY","registerPalette","palette","getPalette","getPalettes","_","colors","getPaletteColor","total","ratio","renderBackground","background","container","element","getElementByRole","rect","createElement","parseDynamicAttributes","node","attributes","staticValue","getSafetyId","renderBaseElement","traverse","parsedAttrs","setAttributes","ADD_ICON_ID","REMOVE_ICON_ID","renderButtonsGroup","group","addBtns","removeBtns","defineButtonIcon","renderAddButton","renderRemoveButton","btnIconDefRole","defs","setElementRole","addIconSymbol","parseSVG","removeIconSymbol","renderButtonIcon","getAttributes","dataItems","bkg","icon","isImageBase64Resource","resource","loadImageBase64Resource","mimeType","analysis","reject","img","canvas","ctx","hasAlpha","step","preserveAspectRatio","aspectRatio","isSVGResource","trimmedResource","loadSVGResource","isRemoteResource","shouldParseAsSVG","contentType","format","loadRemoteResource","response","fetchWithCache","svgText","blob","base64","blobToBase64","reader","queryIcon","query","params","error","isDataURI","looksLikeSVG","loadSearchResource","isBase64","commaIndex","customResourceLoader","registerResourceLoader","loader","getCustomResourceLoader","parseDataURI","header","parts","KNOWN_FORMATS","inferFormatFromUrl","lower","parseRefResource","rest","restParts","payload","normalizedSource","parseResourceConfig","legacy","dataURIConfig","refConfig","getResourceId","cfg","getSimpleHash","getResourceHref","getResource","scene","datum","encoding","customLoader","getFallbackQuery","RESOURCE_MAP","RESOURCE_LOAD_MAP","loadResource","loadedMap","existingPromise","loadPromise","getOrCreateDefs","defaultQuery","datumQuery","normalizeQuery","renderItemIcon","themeConfig","dataAttrs","createIcon","createIconElement","renderIllus","clipPathId","createClipPath","createIllusElement","parseIllusBounds","renderItemIllus","uuid","clipPath","clonedNode","removeAttributes","restAttrs","bounds","use","dataIllusBounds","_typeof","obj","trimLeft","trimRight","tinycolor","opts","inputToRGB","RsRGB","GsRGB","BsRGB","R","B","boundAlpha","rgbToHsv","rgbToHsl","allow3Char","rgbToHex","allow4Char","rgbaToHex","bound01","hexNames","secondColor","hex8String","rgbaToArgbHex","secondHex8String","gradientType","formatSet","formattedString","needsAlphaFormat","_lighten","_brighten","_darken","_desaturate","_saturate","_greyscale","_spin","_analogous","_complement","_monochromatic","_splitcomplement","polyad","newColor","convertToPercentage","ok","stringInputToObject","isValidCSSUnit","rgbToRgb","hsvToRgb","hslToRgb","max","min","hue2rgb","mod","pad2","convertDecimalToHex","color1","color2","amount","clamp01","results","slices","part","modification","rgb1","rgb2","c1","c2","wcag2","readability","wcag2Parms","out","validateWCAG2Parms","baseColor","colorList","bestColor","bestScore","includeFallbackColors","level","names","flip","o","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","matchers","CSS_INTEGER","CSS_NUMBER","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","parms","applyGradientStyle","currentColor","actualConfig","inferGradientConfig","stops","getGradientId","x1","y1","x2","y2","angleToUnitVector","linearGradient","stop","upsertGradient","radialGradient","stroke","exist","tc","inferConfig","colorId","radians","scale","backgroundColor","foregroundColor","circle1","circle2","line1","line2","PATTERNS","registerPattern","generator","builtInPatterns","applyPatternStyle","restConfig","getPatternId","upsertPattern","o$1","h$2","r$2","i$2","c$1","l$1","p$2","__pow","P","O","D","E","$","F","A","V","Z","I","W","Q","H","N","J","K","U","X","Y","tt","et","st","nt","ot","at","applyRoughStyle","rc","rough","volume","createRoughShape","svgAttributes","applySVGAttributes","shapeType","getShapeAttrs","allAttrs","shapeAttrs","roughOptions","fillOpacity","strokeOpacity","strokeWidth","strokeDasharray","strokeLinecap","strokeLinejoin","opacity","filter","mask","dashArray","svgAttrs","cx","cy","rx","ry","createRoundedRectPath","parsePolygonPoints","renderShape","stylizeShape","renderStaticShape","renderSVG","fontFamily","renderText","textElement","staticAttrs","renderedText","layoutText","renderItemText","textShape","getItemIndexes","renderStaticText","norm","textContent","getTextAttributes","createTextElement","upsert","original","modified","Renderer","renderTemplate","postRender","setView","observer","mutations","mutation","setSVG","_e","_f","_g","isTitle","isDesc","isIllus","isShapesGroup","child","isShape","isBtnsGroup","itemType","isItemLabel","isItemDesc","isItemValue","isItemIllus","isItemIcon","isText","isGroup","className","padding","viewBox","setSVGPadding","parsePadding","FONT_EXTEND_FACTOR","setFontExtendFactor","canvasContext","measureSpan","getCanvasContext","getMeasureSpan","resolveLineHeight","measureTextInBrowser","content","lines","normalizedFamily","lineHeightPx","context","maxWidth","line","metrics","span","fallback","measure","tagName","ignoreEmpty","defsId","selector","newDefs","getTextEntity","isForeignObjectElement","entity","foreignObject","updateTextElement","setTextContent","textAttrs","getTextStyle","getTextContent","fSize","horizontal","vertical","alignToFlex","horizontalAlign","verticalAlign","textAnchor","dominantBaseline","getTextElementProps","justifyContent","alignContent","flexToAlign","is","role","isTagName","isItemIconGroup","isEditArea","isRoughElement","isRoughVolume","isTextEntity","isEditableText","getElementRole","isEditingText","isGeometryElement","isIconElement","isInfographicComponent","flru","prev","limit","keep","reset","nativeFetch","responseCache","pendingRequests","buildHeadersKey","request","nameA","nameB","buildCacheKey","headersKey","buildResponse","fetchAndCache","input","init","pending","getTypes","composites","commentsMap","indent","fieldLine","comment","buildItemType","indentLevel","fields","fieldLines","field","hash","ICON_RESOURCE_CACHE","applyIconColor","getIconEntity","getIconAttrs","updateIconElement","DEFAULT_SEPARATOR","getIndexesFromItemKey","separator","indexesStr","paths","getViewBox","widthStr","heightStr","calculateZoomedViewBox","pivot","newWidth","newHeight","newX","newY","viewBoxToString","box","setSVGPaddingInNode","setSVGPaddingInBrowser","waitForLayout","top","right","bottom","left","getBoundViewBox","bbox","clientRect","scaleX","scaleY","topPx","rightPx","bottomPx","leftPx","topSvg","rightSvg","bottomSvg","leftSvg","check","injectStyleOnce","styles","Text","alignHorizontal","alignVertical","children","fontStyle","textDecoration","wordWrap","backgroundOpacity","backgroundRadius","restProps","textX","textY","textProps","containerProps","rectProps","createFragment","jsxDEV","isFragment","isJSXElement","nodeToElements","nodeToRenderableNodes","isNumber","zero","getCombinedBounds","list","minX","minY","maxX","maxY","getElementBounds","elements","getElementsBounds","isLayoutComponent","layoutResult","performLayout","externalX","externalY","externalWidth","externalHeight","renderedResult","innerBounds","innerElement","isPassthrough","innerHasExplicitSize","innerHasChildren","getChildrenFromElement","innerHasSamePosition","jsxChildren","validElements","validElement","externalProps","inner","innerHasSize","externalHasSize","getRenderableChildrenOf","cloneElement","originalProps","createDefaultContext","escapeHtml","htmlEscapes","SPECIFIC_ATTRS_MAP","toSVGAttr","LAYOUT_FN_MAP","createLayout","layoutFn","processElement","rendered","render","renderAttrs","childrenContent","processed","el","styleStr","renderStyle","defsContent","def","attrName","attrValue","styleString","BtnAdd","defaultProps","BtnRemove","BtnsGroup","Gap","Illus","ItemDesc","lineNumber","ItemIcon","ItemIconCircle","colorBg","innerSize","iconProps","ItemLabel","ItemsGroup","ItemValue","formatter","ShapesGroup","AlignLayout","childBounds","childrenBounds","containerX","containerY","containerWidth","containerHeight","positionedChildren","childProps","FlexLayout","flexDirection","alignItems","flexWrap","gap","isRow","isReverse","hasContainerSize","currentLine","currentLineBounds","currentLineSize","childSize","maxSize","layoutChildren","currentCrossPos","crossSizes","lineChildren","lineBounds","totalMainSize","childMainSize","maxCrossSize","mainStart","availableMainSpace","itemSpacing","currentMainPos","childIndex","childCrossSize","mainOffset","crossOffset","crossPos","clonedChild","totalCrossSize","availableCrossSpace","lineSpacing","currentOffset","lineIndex","lineStartIndex","lineEndIndex","newProps","maxHeight","centerOffset","finalBounds","Title","title","desc","subTitleLineNumber","themeColors","MainTitle","Desc","THEME_REGISTRY","registerTheme","theme","getTheme","getThemes","generateThemeColors","colorPrimary","isDarkMode","pc","bg","baseTheme","createBaseTheme","addDerivedColors","generatePrimaryBg","primaryColor","generateTextColor","bgColor","darkText","wcagContrast","generateSecondaryTextColor","colorText","lighter","generatePrimaryTextColor","colorPrimaryBg","lightText","darkContrast","generateElevatedBg","lightened","safeFormatHex","textColor","DEFAULT_COLOR","getColorPrimary","getPaletteColors","_getPaletteColor","getThemeColors","getHierarchyColorIndexes","depth","originalIndexes","flatIndex","getItemProps","extKeys","extProps","getItemComponent","Items","normalizePercent","numStr","ITEM_REGISTRY","registerItem","getItem","getItems","BadgeCard","iconSize","badgeSize","positionH","valueFormatter","hasValue","hasDesc","hasIcon","gradientId","badgeX","contentStartX","fullWidth","contentWidth","descY","contentAreaHeight","badgeY","contentY","textAlign","CandyCardLite","DropShadow","LinearGradient","startColor","stopColor","direction","CapsuleItem","iconPadding","borderRadius","isFlipped","textWidth","labelProps","labelBounds","descProps","descBounds","textGap","totalTextHeight","labelY","iconX","iconY","CircleNode","innerCircleSize","innerCircleOffset","labelSize","labelOffset","colorOuterStart","fadeWithWhite","colorOuterEnd","colorInnerStart","colorInnerEnd","outerGradientId","innerGradientId","gradientDirection","mixPct","CircularProgress","percentage","radius","center","isFullCircle","pathData","describeArc","startAngle","endAngle","polarToCartesian","largeArcFlag","angleInDegrees","CompactCard","shadowId","textStartX","labelWidth","valueWidth","DoneList","positionV","shapeY","HorizontalIconArrow","isVNormal","textAlignVertical","label","dotLine","DotLine","dotLineGap","iconGap","arrowHeight","iconBounds","dotLineBounds","fixedGap","totalHeight","HorizontalArrow","lineLength","lineX","HorizontalIconLine","textAlignHorizontal","time","timeBounds","textSideHeight","iconSideHeight","heightDiff","topBalance","bottomBalance","IconBadge","badgeGradientId","IndexedCard","separatorHeight","indexFontSize","labelFontSize","indexNumber","indexStr","showLabel","showDesc","separatorColor","cardBgColor","indexBounds","labelAvailableWidth","titleRowHeight","contentHeight","LCornerCard","lStroke","arrowSize","arrowGap","descX","descWidth","descHeight","verticalLen","arrowX1","arrowY1","arrowY2","arrowVertices","innerWidth","lx1","lx2","ly1","ly2","halfStroke","LetterCard","showStripe","showGradient","showBottomShade","displayLetter","displayTitle","stripeWidth","gapWidth","rotationDeg","bottomShadeHeight","gradientLighten","gradStart","gradEnd","lightStripe","darkStripe","uniqueId","patternId","shadeId","tile","letterFontSize","letterHeight","titleFontSize","titleHeight","textTotalHeight","letterY","titleY","LinedText","usePaletteColor","showUnderline","underlineGap","underlineExtend","underlineThickness","alignH","measuredLabel","labelHeight","underlineWidth","finalWidth","finalHeight","offsetY","labelX","underlineX","underlineY","PillBadge","pillWidth","pillHeight","componentWidth","pillX","pillY","contentX","dropShadowId","linearGradientId","LabelText","ascending","descending","bisector","compare1","compare2","delta","lo","hi","mid","bisectRight","e10","e5","e2","tickSpec","power","i1","i2","inc","ticks","reverse","tickIncrement","tickStep","noop","dispatch","Dispatch","parseTypenames","typenames","typename","copy","that","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selection_select","select","groups","subgroups","subgroup","subnode","Selection","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","childFirst","selection_selectChild","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","next","constant$3","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","selection_data","bind","arraylike","enterGroup","updateGroup","exitGroup","i0","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","selection","groups0","groups1","m0","merges","group0","group1","selection_order","selection_sort","compare","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","classList","ClassList","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","listener","event","onRemove","on","onAdd","selection_on","dispatchEvent","window","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","selection_selection","define","constructor","factory","prototype","extend","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","rgbn","Rgb","hsla","rgbConvert","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","Hsl","hsl2rgb","clamph","clampt","constant$2","linear","exponential","nogamma","interpolateRgb","rgbGamma","colorRgb","numberArray","isNumberArray","genericArray","nb","na","date","interpolateNumber","object$1","reA","reB","one","interpolateString","bi","am","bm","bs","interpolate$1","interpolateRound","degrees","decompose","skewX","svgNode","parseCss","parseSvg","interpolateTransform","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","interpolateTransformCss","interpolateTransformSvg","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","sleep","timerFlush","wake","nap","poke","t0","t1","t2","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","self","tween","tick","interrupt","active","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","value1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","cancel","selection_prototype","cubicInOut","defaultTiming","easeCubicInOut","selection_transition","pi","tau","epsilon","tauEpsilon","append","strings","appendRound","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a0","a1","ccw","dx","dy","cw","da","nodes","strength","force","sx","sy","tree_add","add","tree","leaf","xm","ym","addAll","xz","yz","tree_cover","tree_data","tree_extent","Quad","tree_find","x3","y3","quads","d2","tree_remove","retainer","removeAll","tree_root","tree_size","tree_visit","tree_visitAfter","defaultX","tree_x","defaultY","tree_y","quadtree","Quadtree","leaf_copy","treeProto","tree_addAll","tree_removeAll","constant$1","jiggle","random","collide","radii","iterations","xi","yi","ri","ri2","quad","rj","initialize","_nodes","_random","nodeById","nodeId","defaultStrength","strengths","distance","distances","initializeStrength","initializeDistance","lcg","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","initializeNodes","initializeForce","closest","manyBody","distanceMin2","distanceMax2","theta2","accumulate","formatDecimal","formatDecimalParts","coefficient","exponent","formatGroup","grouping","thousands","formatNumerals","numerals","re","formatSpecifier","specifier","FormatSpecifier","formatTrim","prefixExponent","formatPrefixAuto","formatRounded","formatTypes","identity$2","prefixes","formatLocale","locale","currencyPrefix","currencySuffix","decimal","percent","minus","nan","newFormat","align","comma","precision","trim","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","node_count","node_each","node_eachBefore","node_eachAfter","node_find","node_sum","node_sort","node_path","ancestor","leastCommonAncestor","aNodes","bNodes","node_ancestors","node_descendants","node_leaves","leaves","node_links","node_iterator","hierarchy","mapChildren","objectChildren","Node","childs","computeHeight","node_copy","copyData","defaultSeparation","nextLeft","nextRight","moveSubtree","wp","shift","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","separation","nodeSize","firstWalk","secondWalk","sizeNode","tx","kx","ky","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","initRange","domain","range","constants","normalize","clamper","bimap","d1","r0","polymap","bisect","transformer","interpolateValue","untransform","unknown","piecewise","output","rescale","continuous","tickFormat","linearish","prestep","maxIter","atan2","cos","sin","sqrt","halfPi","acos","asin","withPath","shape","arcInnerRadius","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","intersect","x10","y10","x32","y32","cornerTangents","ox","oy","x11","y11","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","arc","innerRadius","outerRadius","cornerRadius","padRadius","padAngle","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","array$1","Linear","curveLinear","defined","curve","pointX","pointY","defined0","pie","sortValues","sort","arcs","pa","Transform","point","location","ProgressCard","progressHeight","displayValue","maxValue","progressWidth","progressFillWidth","scaleLinear","progressBgId","progressY","QuarterCircular","circleRadius","CIRCLE_MASS","LINE_WIDTH","DOT_RADIUS","VALUE_SIZE","CARD_Y","CARD_CONTENT_Y","LABEL_Y","DESC_Y_OFFSET","DECORATION_VERTICAL_SPACING","DECORATION_HORIZONTAL_SPACING","DECORATION_END_SPACING","isVFlipped","getDecorationCoords","getContentCoords","decorationCoords","contentCoords","getQuarterCirclePath","circleX","circleY","QuarterSimpleCard","cardPath","RibbonCard","ribbonHeight","RoundedRectNode","textHeight","SimpleCircleNode","SimpleHorizontalArrow","labelGap","SimpleIllusItem","illusSize","labelColor","labelContent","SimpleItem","showIcon","iconType","position","descFontSize","descLineHeight","iconContent","descLineNumber","getDescVerticalAlign","iconHeight","getIconVerticalAlign","SimpleVerticalArrow","isNormal","arrowWidth","VerticalArrow","underlineHeight","UnderlineText","titleX","VerticalIconArrow","lineY","STRUCTURE_REGISTRY","registerStructure","getStructure","getStructures","ChartBar","Item","barGap","barHeight","barAreaWidth","showValue","resolvedBarAreaWidth","xTitle","yTitle","titleContent","paddingTop","paddingRight","paddingBottom","paddingLeft","sampleDatum","itemBounds","rowHeight","gapByHeight","resolvedGap","minValue","domainMin","domainMax","zeroX","minBarWidth","chartHeight","yTitleSpace","xTickSpace","xTitleSpace","yStart","barStartX","valueSpace","axisGap","axisColor","barElements","valueElements","itemElements","axisElements","tickElements","gridElements","titleElements","axisY","formatTick","rowY","barY","barX","barWidthRaw","barWidth","barColor","valueX","tickCount","tickX","ChartColumn","columnGap","columnWidth","sortedValues","hasNegative","chartWidth","valueTextHeight","itemGap","extraBottomSpace","yScale","zeroY","columnElements","gradientDefs","columnX","columnY","columnHeight","gradientPositiveId","gradientNegativeId","itemWidth","itemY","ChartLine","itemProps","sampleBounds","yTickSpace","baseSpacing","naturalChartWidth","targetChartWidth","spacing","derivedChartWidth","chartOriginX","chartOriginY","domainPadding","axisBaseY","lineElements","pointElements","yPos","xLabels","pointPositions","colorStopsData","createSmoothPath","segments","p2","p3","cp1x","cp1y","cp2x","cp2y","minStopX","maxStopX","stopSpan","gradientStops","areaStops","lastColor","gradientIdBase","gradientStrokeId","gradientAreaId","smoothLinePath","areaCurveTail","areaPath","pos","paletteColor","EXTENSION_FACTOR","TEXT_GAP","SMOOTH_FACTOR","MAX_EXPECTED_SHIFT_FACTOR","FIXED_TEXT_RADIUS_GAP","ELBOW_RADIUS_FACTOR","PERCENT_TEXT_POSITION","DELETE_BUTTON_RADIUS_FACTOR","ADD_BUTTON_RADIUS_FACTOR","CONNECTOR_STROKE_OPACITY","CONNECTOR_STROKE_WIDTH","ChartPie","showPercentage","avoidLabelOverlap","rawMinShowLabelPercent","minShowLabelPercent","btnBounds","maxHorizontalDistance","maxVerticalDistance","centerX","centerY","totalValue","arcData","arcGenerator","innerArc","outerArc","percentTextRadius","percentageArc","deleteButtonArc","sliceElements","percentElements","connectorElements","btnElements","labelItems","arcDatum","originalIndex","pathD","midAngle","isRight","centroid","finalLabels","labelMinY","labelMaxY","leftItems","rightItems","labelSpacing","adjustedRight","distributeLabels","adjustedY","labelCenterY","dynamicShift","baseElbowRadius","currentElbowRadius","maxExpectedShift","fixedTextRadius","elbowX","itemX","percentPos","percentText","deletePos","nextIndex","currentEnd","nextStart","btnR","btnX","btnY","sorted","hasOverlap","firstItem","lastItem","isOutOfBounds","totalLabelsHeight","availableSpace","requiredSpaceWithIdealSpacing","actualSpacing","excessSpace","minAllowedY","lastIdx","last","maxAllowedY","first","DEFAULT_ROTATE_ANGLES","GOLDEN_ANGLE","getRotatedSize","hasCollision","placed","wLeft","wRight","wTop","wBottom","placeWords","enableRotate","spiralStep","radiusStep","rotationAngles","maxAttempts","wordIndex","sizeBias","angleOffset","extraRadius","placedWord","attempt","theta","rotated","fallbackAngle","farRadius","ChartWordCloud","minFontSize","maxFontSize","validItems","hasValues","sameValue","uniformSize","mapFontSize","measured","placedWords","offsetX","wordElements","translateX","translateY","rotationOriginX","rotationOriginY","dividerRegistry","registerDivider","component","getDividerComponent","colorPositive","colorNegative","lightColor","CompareBinaryHorizontal","groupGap","opposite","dividerType","leftRoot","rightRoot","leftChildren","rightChildren","Divider","dividerBounds","decorElements","maxChildren","itemsHeight","btnSpacing","topOffset","leftX","dividerX","rightX","leftPositionH","rightPositionH","childY","lastChildY","decorationWidthMap","CompareHierarchyLeftRight","decoration","surround","flipRoot","flipLeaf","RootItem","rootItemContent","itemContent","rootItemBounds","decoElements","decorationWidth","leftRootX","rightRootX","rootY","addDecoElement","side","SplitLine","circleCenterX","circleCenterY","leftItemsHeight","dxSq","rightItemsHeight","innerD","innerX","innerY","CompareHierarchyRow","itemPadding","showColumnBackground","columnBackgroundAlpha","childItemWidth","childItemBounds","maxChildrenCount","rootItem","rootIndex","rootX","childStartY","childX","lastColumnX","QUADRANT_CONFIG","Quadrant","userQuadrantWidth","userQuadrantHeight","showAxis","dashedAxis","quadrantItems","quadrantWidth","quadrantHeight","quadrantPositions","calculateQuadrantPositions","createAxisElements","axisArrowSize","n$1","r$1","DEFAULT_LEVEL_GAP","DEFAULT_NODE_GAP","LAYOUT_PADDING","DEFAULT_EDGE_ALIGN","DEFAULT_EDGE_TYPE","DEFAULT_EDGE_WIDTH","DEFAULT_COLOR_MODE","DEFAULT_EDGE_COLOR_MODE","annotateTree","parentIndexes","collectNodes","createCurvePath","ty","ctrlX1","ctrlX2","createStraightPath","getEdgeAnchors","parentLayout","childLayout","childSide","clampRatio","parentCy","childCy","HierarchyMindmap","levelGap","nodeGap","colorMode","edgeColorMode","edgeType","edgeWidth","groupColorIndexMap","nextGroupColorIndex","nodeSizeCache","colorCache","themeCache","getNodeColorIndexes","groupKey","groupIndex","getNodeThemeColors","cachedTheme","colorIndexes","primary","measureNode","cached","Component","mindmapRoot","mindmap","order","layoutNodes","nodeLinks","shiftX","shiftY","defsElements","layoutStore","displayX","displayY","childDatum","childColor","parentColor","appendIndex","addIndexes","removeY","addY","rootLayout","rootDatum","applyAlpha","clamped","alphaHex","normalizeLabel","getMaxTextBounds","labels","fallbackText","getPillDimensions","paddingX","paddingY","HierarchyStructure","rowGap","pillGap","pillColumns","ungroupedColumns","layerLabelPosition","rowPadding","groupPadding","labelPaddingX","labelPaddingY","pillPaddingX","pillPaddingY","groupTitleFontSize","pillFontSize","groupTitleGap","rowRadius","groupRadius","pillRadius","isLabelOnRight","rowBackgroundAlpha","rowBorderAlpha","groupBackgroundAlpha","groupBorderAlpha","pillBackgroundAlpha","pillBorderAlpha","rowInfos","layer","layerLabel","pillLabels","pill","groupMetrics","groupLabel","groupTitleBounds","groupChildren","groupColumns","groupRows","groupContentWidth","groupContentHeight","groupWidth","groupHeight","contentInnerWidth","metric","contentInnerHeight","columns","rows","maxLabelWidth","row","targetContentInnerWidth","getRowColors","layerIndex","rowColor","renderRowFrame","layerIndexes","rowFill","rowStroke","renderGroupedRow","rowInfo","rowColors","extraInnerWidth","extraPerGroup","groupX","groupIndexes","groupY","hasGroupChildren","titleAlignV","extraWidth","columnExtra","contentOffsetX","pillStartX","pillStartY","pillIndex","pillIndexes","rowIndex","colIndex","pillRx","renderUngroupedRow","pillWidthBase","extraPerColumn","currentY","rowWidth","distributedPadding","rawPadding","maxPadding","HierarchyTree","edgeStyle","edgeDashPattern","edgeCornerRadius","edgeOffset","edgeOrigin","edgeOriginPadding","edgeMarker","markerSize","isHorizontal","mainSign","normalizeItems","createRoundedPath","isVertical","deltaMain","deltaCross","signMain","signCross","midMain","effectiveRadius","getLayoutPoint","getNodeRect","offsets","buildHierarchyData","buildNode","computeLevelBounds","rootNode","levelBounds","sampleDatumByLevel","ItemComponent","nodeData","renderNode","allNodes","NodeComponent","nodeRect","nodeX","nodeY","nodeColor","nodeThemeColors","parentBounds","parentRect","siblingIndex","siblingCount","parentX","parentY","startY","segmentHeight","startX","segmentWidth","baseChildX","baseChildY","midX","midY","strokeColor","parentColorIndexes","childColorIndexes","arrowColor","arrowPoints","parentDotColor","childDotColor","renderSiblingBtns","nodesByParent","btns","insertIndex","siblingY","hierarchyData","d3.hierarchy","d3.tree","layoutPoints","deco","ListColumn","zigzag","btnAddX","btnAddY","extraAddBtnY","ListGrid","colWidth","processedRows","col","ListPyramid","levels","levelSizes","remainingItems","itemsInLevel","itemIndex","maxLevelSize","baseOffset","levelSize","levelY","totalLevelWidth","ListRow","btnRemoveY","extraAddBtnX","ListSector","gapAngle","sectorElements","totalAngle","totalGapAngle","totalUsableAngle","anglePerSector","currentStartAngle","currentEndAngle","innerGapAngle","outerGapAngle","outerStartAngleRad","outerEndAngleRad","innerStartAngleRad","innerEndAngleRad","outerStartX","outerStartY","outerEndX","outerEndY","innerStartX","innerStartY","innerEndX","innerEndY","arcPath","midAngleRad","midRadius","arcThickness","midAngleRadian","arcLength","btnRemoveRadius","btnRemoveX","gapMidAngleRad","btnAddRadius","firstGapMidAngleRad","centerRadius","titleCenterX","titleCenterY","titleWidth","titleRadius","centerSectorPath","centerStartAngleRad","centerEndAngleRad","centerStartX","centerStartY","centerEndX","centerEndY","centerLargeArcFlag","ListWaterfall","stepOffset","baseY","columnStepOffset","nextRow","MAX_ITEMS","ARROW_WIDTH","ARROW_HEIGHT_DOWN","ARROW_HEIGHT_UP","PRESET_RATIOS_DOWN","PRESET_RATIOS_UP","getPresetPoints","presetRatios","ratios","getAnchoredPosition","anchor","getUnitVector","from","to","createListZigzag","Arrow","layoutCount","displayItems","colorShadow","presetPoints","anchorPoints","baseDirection","startDirection","endDirection","addOffset","toItemPosition","itemPosition","isTop","firstAnchor","firstAddX","firstAddY","midAddX","midAddY","lastAnchor","lastAddX","lastAddY","ArrowDown","colorPrimaryDark","ArrowUp","ListZigzagDown","ListZigzagUp","RelationCircle","startMode","minRadius","itemArcWeights","totalWeight","angleAcc","anglePortion","removeRadius","removeBtnX","removeBtnY","buttonRadius","currentAngle","nextAngle","angleDiff","addX","__awaiter","_arguments","adopt","fulfilled","rejected","a$2","c$2","y$4","evaluateExpression","expression","parseSize","isSize","isNil","isString","formatFn","argNames","expr","argv","formatNumberFn","numberFn","evaluated","formatSizeFn","sizeFn","parsePoint","GraphLib","extractNodeData","extractEdgeData","edge","baseId","degree","inSet","outSet","merged","sourceDeg","targetDeg","_node","nodeFields","edgeFields","customFields","edges","getEdgeId","edgeData","RuntimeContext","proxyMarker","createEndpoint","releaseProxy","finalizer","throwMarker","proxyTransferHandler","port1","port2","expose","port","wrap","throwTransferHandler","serialized","transferHandlers","isAllowedOrigin","allowedOrigins","origin","allowedOrigin","ep","ev","argumentList","fromWireValue","returnValue","rawValue","proxy","wireValue","transferables","toWireValue","closeEndPoint","isMessagePort","endpoint","pendingListeners","createProxy","throwIfProxyReleased","isReleased","releaseEndpoint","requestResponseMessage","proxyCounter","proxyFinalizers","newCount","registerProxy","unregisterProxy","isProxyReleased","_target","_thisArg","rawArgumentList","processArguments","myFlat","transferCache","transfers","handler","serializedValue","msg","generateUUID","Supervisor","layoutId","workerPath","scriptUrl","currentScript","scripts","src","asIndex","asRoot","asSibling","BaseLayout","patch","userOptions","enableWorker","isArray$1","isObject$1","toString$2","commonjsGlobal","getDefaultExportFromCjs","commonjsRequire","_listCacheClear","hasRequired_listCacheClear","require_listCacheClear","eq_1","hasRequiredEq","requireEq","_assocIndexOf","hasRequired_assocIndexOf","require_assocIndexOf","_listCacheDelete","hasRequired_listCacheDelete","require_listCacheDelete","_listCacheGet","hasRequired_listCacheGet","require_listCacheGet","_listCacheHas","hasRequired_listCacheHas","require_listCacheHas","_listCacheSet","hasRequired_listCacheSet","require_listCacheSet","_ListCache","hasRequired_ListCache","require_ListCache","_stackClear","hasRequired_stackClear","require_stackClear","_stackDelete","hasRequired_stackDelete","require_stackDelete","_stackGet","hasRequired_stackGet","require_stackGet","_stackHas","hasRequired_stackHas","require_stackHas","_freeGlobal","hasRequired_freeGlobal","require_freeGlobal","_root","hasRequired_root","require_root","_Symbol","hasRequired_Symbol","require_Symbol","_getRawTag","hasRequired_getRawTag","require_getRawTag","_objectToString","hasRequired_objectToString","require_objectToString","_baseGetTag","hasRequired_baseGetTag","require_baseGetTag","isObject_1","hasRequiredIsObject","requireIsObject","isFunction_1","hasRequiredIsFunction","requireIsFunction","_coreJsData","hasRequired_coreJsData","require_coreJsData","_isMasked","hasRequired_isMasked","require_isMasked","_toSource","hasRequired_toSource","require_toSource","_baseIsNative","hasRequired_baseIsNative","require_baseIsNative","_getValue","hasRequired_getValue","require_getValue","_getNative","hasRequired_getNative","require_getNative","_Map","hasRequired_Map","require_Map","_nativeCreate","hasRequired_nativeCreate","require_nativeCreate","_hashClear","hasRequired_hashClear","require_hashClear","_hashDelete","hasRequired_hashDelete","require_hashDelete","_hashGet","hasRequired_hashGet","require_hashGet","_hashHas","hasRequired_hashHas","require_hashHas","_hashSet","hasRequired_hashSet","require_hashSet","_Hash","hasRequired_Hash","require_Hash","_mapCacheClear","hasRequired_mapCacheClear","require_mapCacheClear","_isKeyable","hasRequired_isKeyable","require_isKeyable","_getMapData","hasRequired_getMapData","require_getMapData","_mapCacheDelete","hasRequired_mapCacheDelete","require_mapCacheDelete","_mapCacheGet","hasRequired_mapCacheGet","require_mapCacheGet","_mapCacheHas","hasRequired_mapCacheHas","require_mapCacheHas","_mapCacheSet","hasRequired_mapCacheSet","require_mapCacheSet","_MapCache","hasRequired_MapCache","require_MapCache","_stackSet","hasRequired_stackSet","require_stackSet","_Stack","hasRequired_Stack","require_Stack","_arrayEach","hasRequired_arrayEach","require_arrayEach","_defineProperty","hasRequired_defineProperty","require_defineProperty","_baseAssignValue","hasRequired_baseAssignValue","require_baseAssignValue","_assignValue","hasRequired_assignValue","require_assignValue","_copyObject","hasRequired_copyObject","require_copyObject","_baseTimes","hasRequired_baseTimes","require_baseTimes","isObjectLike_1","hasRequiredIsObjectLike","requireIsObjectLike","_baseIsArguments","hasRequired_baseIsArguments","require_baseIsArguments","isArguments_1","hasRequiredIsArguments","requireIsArguments","isArray_1","hasRequiredIsArray","requireIsArray","stubFalse_1","hasRequiredStubFalse","requireStubFalse","hasRequiredIsBuffer","requireIsBuffer","module","exports$1","_isIndex","hasRequired_isIndex","require_isIndex","isLength_1","hasRequiredIsLength","requireIsLength","_baseIsTypedArray","hasRequired_baseIsTypedArray","require_baseIsTypedArray","_baseUnary","hasRequired_baseUnary","require_baseUnary","_nodeUtil","hasRequired_nodeUtil","require_nodeUtil","isTypedArray_1","hasRequiredIsTypedArray","requireIsTypedArray","_arrayLikeKeys","hasRequired_arrayLikeKeys","require_arrayLikeKeys","_isPrototype","hasRequired_isPrototype","require_isPrototype","_overArg","hasRequired_overArg","require_overArg","_nativeKeys","hasRequired_nativeKeys","require_nativeKeys","_baseKeys","hasRequired_baseKeys","require_baseKeys","isArrayLike_1","hasRequiredIsArrayLike","requireIsArrayLike","keys_1","hasRequiredKeys","requireKeys","_baseAssign","hasRequired_baseAssign","require_baseAssign","baseAssign","_nativeKeysIn","hasRequired_nativeKeysIn","require_nativeKeysIn","_baseKeysIn","hasRequired_baseKeysIn","require_baseKeysIn","keysIn_1","hasRequiredKeysIn","requireKeysIn","_baseAssignIn","hasRequired_baseAssignIn","require_baseAssignIn","baseAssignIn","_cloneBuffer","hasRequired_cloneBuffer","require_cloneBuffer","_copyArray","hasRequired_copyArray","require_copyArray","_arrayFilter","hasRequired_arrayFilter","require_arrayFilter","stubArray_1","hasRequiredStubArray","requireStubArray","_getSymbols","hasRequired_getSymbols","require_getSymbols","_copySymbols","hasRequired_copySymbols","require_copySymbols","copySymbols","_arrayPush","hasRequired_arrayPush","require_arrayPush","_getPrototype","hasRequired_getPrototype","require_getPrototype","_getSymbolsIn","hasRequired_getSymbolsIn","require_getSymbolsIn","getSymbolsIn","_copySymbolsIn","hasRequired_copySymbolsIn","require_copySymbolsIn","copySymbolsIn","_baseGetAllKeys","hasRequired_baseGetAllKeys","require_baseGetAllKeys","_getAllKeys","hasRequired_getAllKeys","require_getAllKeys","_getAllKeysIn","hasRequired_getAllKeysIn","require_getAllKeysIn","getAllKeysIn","_DataView","hasRequired_DataView","require_DataView","_Promise","hasRequired_Promise","require_Promise","_Set","hasRequired_Set","require_Set","_WeakMap","hasRequired_WeakMap","require_WeakMap","_getTag","hasRequired_getTag","require_getTag","_initCloneArray","hasRequired_initCloneArray","require_initCloneArray","_Uint8Array","hasRequired_Uint8Array","require_Uint8Array","_cloneArrayBuffer","hasRequired_cloneArrayBuffer","require_cloneArrayBuffer","_cloneDataView","hasRequired_cloneDataView","require_cloneDataView","_cloneRegExp","hasRequired_cloneRegExp","require_cloneRegExp","_cloneSymbol","hasRequired_cloneSymbol","require_cloneSymbol","_cloneTypedArray","hasRequired_cloneTypedArray","require_cloneTypedArray","_initCloneByTag","hasRequired_initCloneByTag","require_initCloneByTag","_baseCreate","hasRequired_baseCreate","require_baseCreate","_initCloneObject","hasRequired_initCloneObject","require_initCloneObject","_baseIsMap","hasRequired_baseIsMap","require_baseIsMap","isMap_1","hasRequiredIsMap","requireIsMap","_baseIsSet","hasRequired_baseIsSet","require_baseIsSet","isSet_1","hasRequiredIsSet","requireIsSet","_baseClone","hasRequired_baseClone","require_baseClone","CLONE_FLAT_FLAG","isFlat","isFull","clone_1","hasRequiredClone","requireClone","constant_1","hasRequiredConstant","requireConstant","_createBaseFor","hasRequired_createBaseFor","require_createBaseFor","_baseFor","hasRequired_baseFor","require_baseFor","_baseForOwn","hasRequired_baseForOwn","require_baseForOwn","baseForOwn","_createBaseEach","hasRequired_createBaseEach","require_createBaseEach","createBaseEach","eachFunc","collection","_baseEach","hasRequired_baseEach","require_baseEach","baseEach","identity_1","hasRequiredIdentity","requireIdentity","_castFunction","hasRequired_castFunction","require_castFunction","castFunction","forEach_1","hasRequiredForEach","requireForEach","forEach","each","hasRequiredEach","requireEach","_baseFilter","hasRequired_baseFilter","require_baseFilter","baseFilter","_setCacheAdd","hasRequired_setCacheAdd","require_setCacheAdd","_setCacheHas","hasRequired_setCacheHas","require_setCacheHas","_SetCache","hasRequired_SetCache","require_SetCache","_arraySome","hasRequired_arraySome","require_arraySome","_cacheHas","hasRequired_cacheHas","require_cacheHas","_equalArrays","hasRequired_equalArrays","require_equalArrays","_mapToArray","hasRequired_mapToArray","require_mapToArray","_setToArray","hasRequired_setToArray","require_setToArray","_equalByTag","hasRequired_equalByTag","require_equalByTag","_equalObjects","hasRequired_equalObjects","require_equalObjects","_baseIsEqualDeep","hasRequired_baseIsEqualDeep","require_baseIsEqualDeep","_baseIsEqual","hasRequired_baseIsEqual","require_baseIsEqual","_baseIsMatch","hasRequired_baseIsMatch","require_baseIsMatch","baseIsMatch","matchData","noCustomizer","_isStrictComparable","hasRequired_isStrictComparable","require_isStrictComparable","isStrictComparable","_getMatchData","hasRequired_getMatchData","require_getMatchData","getMatchData","_matchesStrictComparable","hasRequired_matchesStrictComparable","require_matchesStrictComparable","matchesStrictComparable","_baseMatches","hasRequired_baseMatches","require_baseMatches","baseMatches","isSymbol_1","hasRequiredIsSymbol","requireIsSymbol","_isKey","hasRequired_isKey","require_isKey","memoize_1","hasRequiredMemoize","requireMemoize","_memoizeCapped","hasRequired_memoizeCapped","require_memoizeCapped","_stringToPath","hasRequired_stringToPath","require_stringToPath","_arrayMap","hasRequired_arrayMap","require_arrayMap","_baseToString","hasRequired_baseToString","require_baseToString","toString_1","hasRequiredToString","requireToString","_castPath","hasRequired_castPath","require_castPath","_toKey","hasRequired_toKey","require_toKey","_baseGet","hasRequired_baseGet","require_baseGet","get_1","hasRequiredGet","requireGet","_baseHasIn","hasRequired_baseHasIn","require_baseHasIn","baseHasIn","_hasPath","hasRequired_hasPath","require_hasPath","hasPath","hasFunc","hasIn_1","hasRequiredHasIn","requireHasIn","hasIn","_baseMatchesProperty","hasRequired_baseMatchesProperty","require_baseMatchesProperty","baseMatchesProperty","_baseProperty","hasRequired_baseProperty","require_baseProperty","baseProperty","_basePropertyDeep","hasRequired_basePropertyDeep","require_basePropertyDeep","basePropertyDeep","property_1","hasRequiredProperty","requireProperty","property","_baseIteratee","hasRequired_baseIteratee","require_baseIteratee","baseIteratee","filter_1","hasRequiredFilter","requireFilter","_baseHas","hasRequired_baseHas","require_baseHas","baseHas","has_1","hasRequiredHas","requireHas","has","isEmpty_1","hasRequiredIsEmpty","requireIsEmpty","isEmpty","isUndefined_1","hasRequiredIsUndefined","requireIsUndefined","isUndefined","_baseMap","hasRequired_baseMap","require_baseMap","baseMap","map_1","hasRequiredMap","requireMap","_arrayReduce","hasRequired_arrayReduce","require_arrayReduce","_baseReduce","hasRequired_baseReduce","require_baseReduce","baseReduce","reduce_1","hasRequiredReduce","requireReduce","reduce","isString_1","hasRequiredIsString","requireIsString","_asciiSize","hasRequired_asciiSize","require_asciiSize","asciiSize","_hasUnicode","hasRequired_hasUnicode","require_hasUnicode","_unicodeSize","hasRequired_unicodeSize","require_unicodeSize","unicodeSize","_stringSize","hasRequired_stringSize","require_stringSize","stringSize","size_1","hasRequiredSize","requireSize","transform_1","hasRequiredTransform","requireTransform","isArrLike","_isFlattenable","hasRequired_isFlattenable","require_isFlattenable","spreadableSymbol","isFlattenable","_baseFlatten","hasRequired_baseFlatten","require_baseFlatten","baseFlatten","isStrict","_apply","hasRequired_apply","require_apply","_overRest","hasRequired_overRest","require_overRest","_baseSetToString","hasRequired_baseSetToString","require_baseSetToString","_shortOut","hasRequired_shortOut","require_shortOut","_setToString","hasRequired_setToString","require_setToString","_baseRest","hasRequired_baseRest","require_baseRest","_baseFindIndex","hasRequired_baseFindIndex","require_baseFindIndex","baseFindIndex","fromIndex","_baseIsNaN","hasRequired_baseIsNaN","require_baseIsNaN","baseIsNaN","_strictIndexOf","hasRequired_strictIndexOf","require_strictIndexOf","strictIndexOf","_baseIndexOf","hasRequired_baseIndexOf","require_baseIndexOf","baseIndexOf","_arrayIncludes","hasRequired_arrayIncludes","require_arrayIncludes","arrayIncludes","_arrayIncludesWith","hasRequired_arrayIncludesWith","require_arrayIncludesWith","arrayIncludesWith","comparator","noop_1","hasRequiredNoop","requireNoop","_createSet","hasRequired_createSet","require_createSet","createSet","_baseUniq","hasRequired_baseUniq","require_baseUniq","baseUniq","includes","outer","computed","seenIndex","isArrayLikeObject_1","hasRequiredIsArrayLikeObject","requireIsArrayLikeObject","union_1","hasRequiredUnion","requireUnion","union","arrays","_baseValues","hasRequired_baseValues","require_baseValues","baseValues","values_1","hasRequiredValues","requireValues","lodash_1$1","hasRequiredLodash$1","requireLodash$1","lodash","graph","hasRequiredGraph","requireGraph","requireLodash","Graph","DEFAULT_EDGE_NAME","GRAPH_NODE","EDGE_KEY_DELIM","newDefault","vs","removeEdge","predsV","sucsV","preds","neighbors","findParent","valueSpecified","arg0","edgeArgsToId","edgeObj","edgeArgsToObj","incrementOrInitEntry","edgeObjToId","decrementOrRemoveEntry","inV","outV","inEdges","isDirected","v_","w_","tmp","version$1","hasRequiredVersion$1","requireVersion$1","lib","hasRequiredLib","requireLib","requireVersion","json","hasRequiredJson","requireJson","write","read","writeNodes","writeEdges","nodeValue","edgeValue","components_1","hasRequiredComponents","requireComponents","components","visited","cmpts","cmpt","dfs","priorityQueue","hasRequiredPriorityQueue","requirePriorityQueue","PriorityQueue","keyIndices","largest","origArrI","origArrJ","dijkstra_1","hasRequiredDijkstra","requireDijkstra","dijkstra","DEFAULT_WEIGHT_FUNC","weightFn","edgeFn","runDijkstra","pq","vEntry","updateNeighbors","wEntry","dijkstraAll_1","hasRequiredDijkstraAll","requireDijkstraAll","dijkstraAll","weightFunc","edgeFunc","tarjan_1","hasRequiredTarjan","requireTarjan","tarjan","findCycles_1","hasRequiredFindCycles","requireFindCycles","findCycles","floydWarshall_1","hasRequiredFloydWarshall","requireFloydWarshall","floydWarshall","runFloydWarshall","rowK","rowI","ik","kj","ij","altDistance","topsort_1","hasRequiredTopsort","requireTopsort","topsort","CycleException","visit","isAcyclic_1","hasRequiredIsAcyclic","requireIsAcyclic","isAcyclic","dfs_1","hasRequiredDfs","requireDfs","navigation","doDfs","postorder","postorder_1","hasRequiredPostorder","requirePostorder","preorder_1","hasRequiredPreorder","requirePreorder","preorder","prim_1","hasRequiredPrim","requirePrim","prim","pri","edgeWeight","alg","hasRequiredAlg","requireAlg","graphlib","hasRequiredGraphlib$1","requireGraphlib$1","graphlib_1","hasRequiredGraphlib","requireGraphlib","cloneDeep_1","hasRequiredCloneDeep","requireCloneDeep","_isIterateeCall","hasRequired_isIterateeCall","require_isIterateeCall","defaults_1","hasRequiredDefaults","requireDefaults","defaults","propsIndex","propsLength","_createFind","hasRequired_createFind","require_createFind","createFind","findIndexFunc","_trimmedEndIndex","hasRequired_trimmedEndIndex","require_trimmedEndIndex","_baseTrim","hasRequired_baseTrim","require_baseTrim","toNumber_1","hasRequiredToNumber","requireToNumber","toFinite_1","hasRequiredToFinite","requireToFinite","toInteger_1","hasRequiredToInteger","requireToInteger","toInteger","remainder","findIndex_1","hasRequiredFindIndex","requireFindIndex","findIndex","find_1","hasRequiredFind","requireFind","flatten_1","hasRequiredFlatten","requireFlatten","flatten","forIn_1","hasRequiredForIn","requireForIn","forIn","last_1","hasRequiredLast","requireLast","mapValues_1","hasRequiredMapValues","requireMapValues","mapValues","_baseExtremum","hasRequired_baseExtremum","require_baseExtremum","baseExtremum","_baseGt","hasRequired_baseGt","require_baseGt","baseGt","max_1","hasRequiredMax","requireMax","_assignMergeValue","hasRequired_assignMergeValue","require_assignMergeValue","isPlainObject_1","hasRequiredIsPlainObject","requireIsPlainObject","_safeGet","hasRequired_safeGet","require_safeGet","toPlainObject_1","hasRequiredToPlainObject","requireToPlainObject","_baseMergeDeep","hasRequired_baseMergeDeep","require_baseMergeDeep","_baseMerge","hasRequired_baseMerge","require_baseMerge","_createAssigner","hasRequired_createAssigner","require_createAssigner","merge_1","hasRequiredMerge","requireMerge","_baseLt","hasRequired_baseLt","require_baseLt","baseLt","min_1","hasRequiredMin","requireMin","minBy_1","hasRequiredMinBy","requireMinBy","minBy","now_1","hasRequiredNow","requireNow","_baseSet","hasRequired_baseSet","require_baseSet","baseSet","nested","_basePickBy","hasRequired_basePickBy","require_basePickBy","basePickBy","_basePick","hasRequired_basePick","require_basePick","basePick","_flatRest","hasRequired_flatRest","require_flatRest","flatRest","pick_1","hasRequiredPick","requirePick","pick","_baseRange","hasRequired_baseRange","require_baseRange","nativeCeil","baseRange","_createRange","hasRequired_createRange","require_createRange","createRange","range_1","hasRequiredRange","requireRange","_baseSortBy","hasRequired_baseSortBy","require_baseSortBy","baseSortBy","comparer","_compareAscending","hasRequired_compareAscending","require_compareAscending","compareAscending","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","_compareMultiple","hasRequired_compareMultiple","require_compareMultiple","compareMultiple","orders","objCriteria","othCriteria","ordersLength","_baseOrderBy","hasRequired_baseOrderBy","require_baseOrderBy","baseOrderBy","iteratees","criteria","sortBy_1","hasRequiredSortBy","requireSortBy","sortBy","uniqueId_1","hasRequiredUniqueId","requireUniqueId","idCounter","_baseZipObject","hasRequired_baseZipObject","require_baseZipObject","baseZipObject","assignFunc","valsLength","zipObject_1","hasRequiredZipObject","requireZipObject","zipObject","lodash_1","hasRequiredLodash","hasRequiredList","requireList","List","sentinel","unlink","strs","filterOutLinks","greedyFas","hasRequiredGreedyFas","requireGreedyFas","greedyFAS","DEFAULT_WEIGHT_FN","state","buildState","doGreedyFAS","buckets","zeroIdx","sinks","removeNode","collectPredecessors","uEntry","assignBucket","fasGraph","maxIn","maxOut","prevWeight","acyclic","hasRequiredAcyclic","requireAcyclic","run","undo","fas","dfsFAS","forwardName","util$1","hasRequiredUtil$1","requireUtil$1","addDummyNode","simplify","asNonCompoundGraph","successorWeights","predecessorWeights","intersectRect","buildLayerMatrix","normalizeRanks","removeEmptyRanks","addBorderNode","maxRank","partition","notime","simplified","simpleLabel","sucs","layering","rank","layers","nodeRankFactor","hasRequiredNormalize","requireNormalize","util","requireUtil","normalizeEdge","vRank","wRank","edgeLabel","labelRank","dummy","origLabel","hasRequiredUtil","longestPath","slack","feasibleTree_1","hasRequiredFeasibleTree","requireFeasibleTree","feasibleTree","tightTree","findMinSlackEdge","shiftRanks","edgeV","networkSimplex_1","hasRequiredNetworkSimplex","requireNetworkSimplex","initRank","networkSimplex","initLowLimValues","initCutValues","calcCutValue","leaveEdge","enterEdge","exchangeEdges","assignCutValue","childLab","childIsTail","graphEdge","cutValue","isOutEdge","pointsToHead","otherWeight","isTreeEdge","otherCutValue","dfsAssignLowLim","nextLim","low","vLabel","wLabel","tailLabel","candidates","isDescendant","updateRanks","rootLabel","rank_1","hasRequiredRank","requireRank","rankUtil","networkSimplexRanker","tightTreeRanker","longestPathRanker","parentDummyChains_1","hasRequiredParentDummyChains","requireParentDummyChains","parentDummyChains","postorderNums","findPath","lca","pathIdx","pathV","vPath","wPath","lim","nestingGraph","hasRequiredNestingGraph","requireNestingGraph","cleanup","depths","treeDepths","nodeSep","sumWeights","childNode","childTop","childBottom","thisWeight","minlen","graphLabel","addBorderSegments_1","hasRequiredAddBorderSegments","requireAddBorderSegments","addBorderSegments","sg","sgNode","coordinateSystem","hasRequiredCoordinateSystem","requireCoordinateSystem","adjust","rankDir","swapWidthHeight","reverseY","swapXY","swapWidthHeightOne","reverseYOne","swapXYOne","initOrder_1","hasRequiredInitOrder","requireInitOrder","initOrder","simpleNodes","orderedVs","crossCount_1","hasRequiredCrossCount","requireCrossCount","crossCount","cc","twoLayerCrossCount","northLayer","southLayer","southPos","southEntries","firstIndex","treeSize","weightSum","barycenter_1","hasRequiredBarycenter","requireBarycenter","barycenter","movable","nodeU","resolveConflicts_1","hasRequiredResolveConflicts","requireResolveConflicts","resolveConflicts","cg","mappedEntries","entryV","entryW","sourceSet","doResolveConflicts","handleIn","mergeEntries","handleOut","sort_1","hasRequiredSort","requireSort","biasRight","sortable","unsortable","vsIndex","compareWithBias","consumeUnsortable","sortSubgraph_1","hasRequiredSortSubgraph","requireSortSubgraph","sortSubgraph","bl","br","subgraphs","barycenters","subgraphResult","mergeBarycenters","expandSubgraphs","blPred","brPred","buildLayerGraph_1","hasRequiredBuildLayerGraph","requireBuildLayerGraph","buildLayerGraph","relationship","createRootNode","addSubgraphConstraints_1","hasRequiredAddSubgraphConstraints","requireAddSubgraphConstraints","addSubgraphConstraints","rootPrev","prevChild","order_1","hasRequiredOrder","requireOrder","downLayerGraphs","buildLayerGraphs","upLayerGraphs","assignOrder","bestCC","best","lastBest","sweepLayerGraphs","ranks","layerGraphs","lg","bk","hasRequiredBk","requireBk","positionX","findType1Conflicts","findType2Conflicts","addConflict","hasConflict","verticalAlignment","horizontalCompaction","alignCoordinates","findSmallestWidthAlignment","balance","conflicts","visitLayer","prevLayer","scanPos","prevLayerLength","lastNode","findOtherInnerSegmentNode","scanNode","uLabel","uPos","scan","south","southEnd","prevNorthBorder","nextNorthBorder","uNode","north","prevNorthPos","nextNorthPos","southLookahead","predecessors","conflictsV","neighborFn","prevIdx","mp","il","reverseSep","xs","blockG","buildBlockGraph","borderType","iterate","setXsFunc","nextNodesFunc","elem","pass1","pass2","blockGraph","sepFn","sep","vRoot","uRoot","prevMax","xss","halfWidth","alignTo","alignToVals","alignToMin","alignToMax","vert","horiz","alignment","xsVals","ignore","adjustedLayering","smallestWidth","edgeSep","position_1","hasRequiredPosition","requirePosition","positionY","rankSep","prevY","layout_1","hasRequiredLayout","requireLayout","layout","layoutGraph","buildLayoutGraph","runLayout","updateInputGraph","makeSpaceForEdgeLabels","removeSelfEdges","injectEdgeLabelProxies","assignRankMinMax","removeEdgeLabelProxies","insertSelfEdges","positionSelfEdges","removeBorderNodes","fixupEdgeLabelCoords","translateGraph","assignNodeIntersects","reversePointsForReversedEdges","inputGraph","inputLabel","layoutLabel","graphNumAttrs","graphDefaults","graphAttrs","nodeNumAttrs","nodeDefaults","edgeNumAttrs","edgeDefaults","edgeAttrs","canonicalize","selectNumberAttrs","marginX","marginY","getExtremes","nodeV","nodeW","orderShift","selfEdge","selfNode","newAttrs","debug","hasRequiredDebug","requireDebug","debugOrdering","layerMatrix","layerV","version","hasRequiredVersion","dagre$1","hasRequiredDagre","requireDagre","dagreExports","dagre","isBoolean","each$1","rst","DagreLayout","nodeSizeFn","raw","edgeLabelSize","edgeLabelOffset","edgeLabelPos","edgeMinLen","edgeLabelSizeFn","edgeLabelOffsetFn","edgeLabelPosFn","edgeMinLenFn","edgeWeightFn","lw","lh","labelpos","labeloffset","DEFAULT_NODE_SEP","DEFAULT_RANK_SEP","DEFAULT_EDGE_SEP","DEFAULT_PADDING","checkUndirectedCycle","nodeIds","adj","parentEdgeId","edgeId","RelationDagreFlow","rankdir","nodesep","ranksep","edgesep","showConnections","edgeRouting","showArrow","arrowType","edgeAnimation","edgeAnimationSpeed","relations","nodeMetaMap","nodeSizeMap","nodeColorMap","nodeIdsByIndex","nodeIdSet","colorGroupIndexMap","nextColorGroupIndex","resolveNodeId","direct","mapped","relation","finalEdgeRouting","nodeLayouts","meta","nodeLayoutById","defaultStroke","labelBackground","labelTextColor","enableAnimation","animationDashArray","actualDashArray","dashPatternLength","animationDuration","straightCornerRadius","toPoint","v0x","v0y","v1x","v1y","currPoint","u0x","u0y","u1x","u1y","createArrowElements","fillColor","ux","uy","px","py","leftY","rightY","diamondLength","diamondWidth","diamondPoints","trianglePoints","getMidPoint","segment","getOrthEdgeEndpoints","sourceId","targetId","getOrthEdgePoints","endpoints","_h","normalizePoints","rawPoints","fallbackPoints","useOrthRouting","orthEdge","pointsOffsetX","pointsOffsetY","startPoint","endPoint","sourceColor","targetColor","gradientKey","edgeStroke","pathElement","labelPoint","midPoint","labelText","effectiveShowArrow","edgeArrowType","head","tail","arrowFill","arrowElements","RelationNetwork","runForceLayout","d3.forceSimulation","d3.forceLink","d3.forceManyBody","d3.forceCenter","d3.forceCollide","positionBy","nodesEls","linksMap","linksEls","tgt","linePath","SimpleArrow","rotation","strokeId","fillId","shaftWidth","shaftTop","shaftBottom","Text3d","shadowOffsetX","shadowOffsetY","midShadowOffsetX","midShadowOffsetY","deepShadowOpacity","midShadowOpacity","Triangle","CUBE_GAP_X","CUBE_GAP_Y","CUBE_WIDTH","CUBE_HEIGHT","ITEM_GAP","CUBE_PATH_BOTTOM","CUBE_PATH_TOP","CUBE_PATH_STROKE","DropShadowFilter","SequenceAscendingStairs3d","cubeWidth","cubeElements","cubeScale","scaledCubeHeight","cubeX","cubeY","gradientIdBottom","gradientIdTop","gradientIdStroke","nextCubeY","SequenceAscendingSteps","hGap","vGap","stepX","stepY","ITEM_DISTANCE","LINE_GAP","SequenceCircleArrows","angleStep","positions","lineData","startPos","endPos","circleBigW","normalizedAngle","deg","distanceFromCenter","itemCenterX","itemCenterY","itemPositions","CIRCLE_SMALL_W","ICON_SIZE","unitX","unitY","minLineLength","actualGap","adjustedStartX","adjustedStartY","adjustedEndX","adjustedEndY","d3.line","d3.curveLinear","arrowId","forkArrowPath","adjustedMidX","adjustedMidY","preItemX","preItemY","ITEM_AREA_HORIZONTAL_PADDING","CIRCLE_AREA_HORIZONTAL_PADDING","INNER_ARC_PADDING","ARC_BACKGROUND_OPACITY_HEX","SequenceCircular","itemDistance","iconRadius","iconBgRadius","arcElements","iconElements","arcAngle","createArcPath","innerR","outerR","startAngleRad","endAngleRad","x4","y4","computePosition","angleRad","avgRadius","anglePadding","itemColor","outerArcPath","innerArcPath","iconDistance","iconCenterX","iconCenterY","isRightSide","isBottomArea","itemAngle","itemAngleRad","removeBtnDistance","nextGapAngleRad","addBtnX","addBtnY","firstGapAngleRad","firstAddBtnX","firstAddBtnY","SequenceColorSnakeSteps","itemsPerRow","circleStrokeWidth","arcRadius","arcWidth","isReversedRow","nextRowIndex","currentItemY","nextItemY","arcX","sweepFlag","arcHeight","nextColor","lastRowIndex","lastColIndex","lastItemX","lastItemY","firstItemColor","calculateDepthOffset","pairIndex","cylinderRx","calculateLateralOffset","isLeft","calculateLayoutMetrics","itemsCount","baseHeight","heightIncrement","depthSpacing","firstDecorationWidth","gapFromCylinder","planeStepY","lastCylinderHeight","totalPlaneOffset","bottomMargin","canvasHeight","leftItemAlignedX","rightItemAlignedX","cylindersCenterX","cylinderAreaStartX","minCylinderX","maxCylinderX","depthOffset","relativeCylindersCenterX","firstCylinderRelativeX","firstItemCenterX","distanceToCenter","calculateCylinderPosition","lateralOffset","bottomY","topY","calculateItemPosition","cylinderPos","itemVerticalAlign","itemVerticalOffset","lineEndX","cylinderEdgeX","lineStartX","createGradientDefs","createCylinderElements","cylinderRy","numberX","numberY","transformValue","createDecorationElements","createBasePlate","leftmostPos","rightmostPos","plateThickness","plateMargin","frontLeftX","frontRightX","frontY","backLeftX","backRightX","backY","platePath","sidePath","frontPath","sequenceCylinders3d","layoutMetrics","perItemGroups","cylinderNodes","itemPos","decorationNodes","itemNode","btnNodes","itemsBoundsWidth","itemsBoundsHeight","basePlate","isNextLeft","nextPairIndex","nextDepthOffset","nextLateralOffset","nextX","nextY","SHAPE_CONFIG","PARTICLE_CONFIG","pseudoRandom","seed","calculateGridLayout","cols","calculateParticlePosition","baseX","generateParticles","rectX","rectY","rectWidth","rectHeight","particles","cellWidth","cellHeight","particleCount","rowOffset","calculateParticleCount","totalItems","progress","createMeshPath","corners","horizontalStart","horizontalEnd","verticalStart","verticalEnd","renderParticles","particle","createDecorElement","createArrowElement","arrowY","arrowParticleCount","arrowParticles","SequenceFilterMesh","itemYPos","round","getLength","PI$1","TAU","getClockDir","angle1","angle2","diff","getAngles","prevpoint","currpoint","nextpoint","prevlen","mainlen","nextlen","main","vel","dir","bis","PI","getSegments","opt","segmented","startangle","unitangle","vertices","roundPolygon","preRoundedPoints","limPoints","zeroLimPoints","preRoundedPoint","lockPoint","minHitPoint","getMinHit","calcLimitRadius","calcCommonRadius","roundedPoints","bislen","FUNNEL_CORNER_RADIUS","FUNNEL_LAYER_HEIGHT_RATIO","OVERLAP_DIST","SequenceFunnel","funnelWidth","itemHeight","minBottomRatio","actualFunnelWidth","itemAreaWidth","funnelLayerHeight","minFunnelPixelWidth","topWidth","calculateTrapezoidSegment","rounded","funnelCenterX","funnelY","rightTopX","backgroundX","backgroundWidth","backgroundYOffset","backgroundY","funnelColorId","btnAdd","minWidth","layerHeight","currentTopY","currentBottomY","widthDiff","bottomWidth","p4","SequenceHorizontalZigzag","cardPadding","cardWidth","cardHeight","dotSize","dotGap","topMargin","levelOffset","isEven","cardX","cardY","cardBackground","totalDotsWidth","dotsStartX","dotsY","dotX","isCurrent","pathSegments","firstCardY","middleY","lastIsEven","lastCardX","lastCardY","endX","endY","firstColor","Mountain","leftBottomColor","rightBottomColor","leftTopColor","rightTopColor","calculateMountainPoints","ripples","leftBottom","rightBottom","peak","centerBottom","snowLineY","leftEdge","centerSnow","rightEdge","allRipples","ripple","leftRipples","rightRipples","leftTopShape","rightTopShape","leftBottomShape","rightBottomShape","toPointsString","Tree","leftLeafColor","rightLeafColor","trunkColor","leafHeight","trunkHeight","leafWidth","trunkWidth","trunkX","trunkY","Sun","rayWidth","rayHeight","rayX","rayY","rayCount","rays","Cloud","SequenceMountain","minHeight","labelElements","sunSize","cloudSizes","mountainWidths","mountainXPositions","nextMountainX","calculatedWidth","mountainWidth","mountainX","firstMountainLeft","lastMountainRight","labelYPos","mountainHeight","mountainY","firstItemX","treeSizes","treeHeightMap","treeWidthMap","placedTrees","isTreeOverlapping","treeX","treeWidth","treesOnThisMountain","sizeIndex","treeHeight","attempts","validPosition","xOffset","treeY","cloudCount","cloudType","cloudSize","cloudRange","xPos","SequencePyramid","pyramidWidth","pyramidElements","backgroundElements","actualPyramidWidth","pyramidLayerHeight","isFirst","calculateTriangleSegment","pyramidCenterX","pyramidY","rightBottomX","backgroundHeight","backgroundRightEdge","pyramidColorId","counts","triangleHeight","rectTop","rectBottom","CONFIG","moveTo","lineTo","arcTo","sweep","getYPositions","roadWidth","renderItemRow","buildDecorations","SequenceRoadmapVertical","colorDefault","halfRoadWidth","x6","xMid","midPath","positivePath","negativePath","itemIcons","seriesNumber","decorationElements","isLast","p5","pathArr","roadmapHeight","SequenceSnakeSteps","nextColIndex","nextItemX","isRightToLeft","arrowX","turnArrowX","turnArrowY","SequenceStairsFront","perspectiveFactor","TitleComponent","connectorGap","baseConnectorWidth","bottomStepWidth","baseDepth","baseStepHeight","minStepHeight","heightStep","stepHeights","stepDepths","stepYs","depthFromTop","totalDepthSpan","minStepWidth","widthShrink","stepWidths","connectorWidths","stepWidth","connectorStartX","stepElements","spineElements","spineTop","spineBottom","arrowHeadHeight","arrowTopWidth","arrowNeckWidth","arrowBottomWidth","previousCenterY","stepDepth","stepHeight","rectCenterY","stepColor","connectorEndY","connectorWidth","SequenceSteps","SequenceTimeline","stepLabelX","timelineX","nodeRadius","firstNodeY","lastNodeY","continuousLinePath","PUCK_WIDTH","PUCK_HEIGHT","ITEM_TO_PUCK_GAP","PUCK_TOP_PATH","PUCK_MIDDLE_PATH","PUCK_BOTTOM_PATH","SequenceZigzagPucks3d","puckWidth","puckHeight","puckElements","puckX","puckY","gradientId1","gradientId2","nextPuckY","DX","DY","ITEM_TO_PATH_GAP","W_PATH_W","GLOW_W","GLOW_H","GLOW_OPACITY","DECO_PATH_1","DECO_PATH_2","DECO_OFFSET_X","DECO_OFFSET_Y","GlowFilter","SequenceZigzagSteps","pathElements","currentX","minPathY","maxItemY","minDecoX","minDecoY","pathPoints","decoX","decoY","isPeak","pathPoint","glowX","glowY","nextPoint","nextCx","nextCy","finalX","BatchCommand","commands","command","cmd","UpdateElementCommand","computedOriginal","getOriginalProps","mergeOriginalProps","updateElement","modifiedAttrKeys","originalAttributes","assignModifiedAttributes","provided","mergedAttributes","UpdateOptionsCommand","ClickHandler","getInverseScreenCTM","clientToViewport","getElementViewportBounds","transformedPoints","getChildrenDataByIndexes","buildItemPath","getIndexesFromElement","getElementEntity","getEventTarget","preprocess","getRoughEventTarget","getSelectableTarget","recognizers","getTextEventTarget","getIconEventTarget","ele","isTextSelectionTarget","Extension","extension","isEditableTarget","normalizeCombo","combo","comboObj","matchCombo","wantsMod","hasMeta","hasCtrl","hasMod","matchesStrict","expected","actual","Hotkey","binding","applyOptionUpdates","basePath","bubbleUp","collector","parentPathsToNotify","applyOptionUpdatesInternal","sortedPaths","depthA","parentPath","newVal","fullPath","updateValue","oldValue","collectParentPaths","UpdateTextCommand","newText","originalText","updateItemText","Interaction","BrushSelect","withShift","intersects","ax2","ay2","bx2","by2","collected","targetRect","ClickSelect","editor","interaction","handleSelect","DblClickEditText","commander","stopListen","editText","EDITOR_STYLE_ID","EDITOR_BASE_CLASS","ensureEditorStyles","InlineTextEditor","textNode","plainText","rangeFromPoint","cursorPosition","clientX","clientY","caretPosition","caretRange","DragCanvas","isBody","isEditor","currentViewBoxString","behavior","DragElement","isSelected","snap","started","modifiedAttrs","originalAttrs","originalTransform","transformInfo","hasX","hasY","hasDataX","hasDataY","xFromAttr","yFromAttr","xFromData","yFromData","rects","skip","moving","snapX","snapY","threshold","HotkeyHistory","SelectHighlight","emitter","ZOOM_FACTOR","ZoomWheel","currentViewBox","newViewBox","isMouseZoom","isCenterZoom","Plugin","CoreSyncPlugin","IconButton","onClick","activate","ensureIconButtonStyle","button","ICON_BUTTON_CLASS","iconElement","ICON_BUTTON_STYLE_ID","COLOR_PICKER_CLASS","COLOR_PICKER_SWATCHES_CLASS","COLOR_PICKER_SWATCH_CLASS","COLOR_PICKER_CONTROLS_CLASS","COLOR_PICKER_INPUT_CLASS","COLOR_PICKER_FORMAT_CLASS","COLOR_PICKER_SWITCH_CLASS","COLOR_PICKER_SWITCH_KNOB_CLASS","COLOR_PICKER_SWITCH_LABEL_CLASS","COLOR_PICKER_STYLE_ID","DEFAULT_SWATCHES","ColorPicker","ensureColorPickerStyles","swatchContainer","controls","formatToggle","formatSwitch","createSwitchLabel","switchKnob","parseColor","swatchButtons","formatColor","colorKey","setColor","setFormat","handleInput","syncUI","emitChange","isSameColor","updateSwatches","updateFormatButtons","btn","clampByte","formatRgba","formatHexa","toHex","trimAlpha","html","TEXT_ICONS","RESET_ICON","ELEMENT_ICONS","POPOVER_CLASS","POPOVER_CONTENT_CLASS","POPOVER_ARROW_CLASS","POPOVER_STYLE_ID","Popover","ensurePopoverStyle","placement","closeOnOutsideClick","triggerActions","hoverOpenDelay","hoverCloseDelay","arrowInnerSize","bodyPadding","trigger","getContentContainer","contentContainer","isPortal","arrow","body","open","placementPriority","currentPlacement","updatePosition","contentRect","scrollX","scrollY","viewportWidth","viewportHeight","calcPosition","placementValue","fitsViewport","nextTop","chosenPlacement","candidate","nextPosition","setContent","nextContent","setPlacement","setOpen","handleOutsideClick","toggle","targetNode","openTimer","closeTimer","hasHover","hasClick","clearTimers","handleMouseEnter","handleMouseLeave","GRID_CLASS","GRID_COMPACT_CLASS","GRID_STYLE_ID","GRID_STYLES","ALIGN_OPTIONS","ElementAlign","_attrs","enableDistribution","createAlignContent","action","alignSelection","onSelect","createAlignableItem","anchors","referenceSource","reference","appendCommand","distributeHorizontally","distributeVertically","anchorIndices","collectAnchorIndices","startIndex","endIndex","space","cursor","createUpdateCommand","getTransformInfo","getAttrInfo","composeTransform","after","HORIZONTAL_ALIGN_OPTIONS","VERTICAL_ALIGN_OPTIONS","FontAlign","onAlignChange","buttons","updateAllButtons","isActive","createButtons","stateKey","FONT_COLOR_BUTTON_CLASS","FONT_COLOR_STYLE_ID","FontColor","ensureFontColorStyles","normalizeColor","isMixed","setButtonColor","picker","mixed","FONT_LIST_CLASS","FONT_OPTION_CLASS","FONT_LIST_STYLE_ID","DEFAULT_FONT_LABEL","FontFamily","ensureFontFamilyListStyle","fonts","normalizeFontFamily","option","selected","createFontList","onChange","FONT_SIZE_CLASS","FONT_SIZE_STYLE_ID","FONT_SIZE_OPTIONS","FONT_SIZE_STYLES","FontSize","currentSize","createFontSizeContent","defaultSize","onSizeChange","createLabelIcon","ICON_COLOR_BUTTON_CLASS","ICON_COLOR_STYLE_ID","IconColor","ensureIconColorStyles","EditBar","hideContainer","setContainerItems","showContainer","hasText","hasGeometry","getContainer","resolvedContainer","containerParent","commonItems","_selection","combinedBounds","offsetParent","containerRect","anchorTop","anchorBottom","spaceAbove","spaceBelow","shouldPlaceAbove","MARGIN_X","MARGIN_Y","BUTTON_SIZE","ResetViewBox","RESET_BUTTON_CLASS","svgRect","stableContainer","effectiveRect","RESET_BUTTON_STYLE_ID","_ResizeElement","only","finalRect","changed","viewportRect","outline","handlePositions","cursors","handle","currentRect","matrix","getNumber","backup","numeric","ResizeElement","picocolors_browserModule","pico","require$$0","terminalHighlight","require$$1","CssSyntaxError","message","column","file","plugin","css","aside","mark","highlight","bold","gray","red","gutter","subLineStart","subLineEnd","subLine","code","cssSyntaxError","DEFAULT_RAW","Stringifier","builder","semicolon","detect","buf","between","own","method","stringifier","stringify","stringify_1","symbols","require$$2","isClean","my","require$$3","cloneNode","cloned","sourceOffset","inputCSS","overrides","keepBetween","inputString","defaultType","bookmark","foundSelf","inputs","fixed","emitInputs","inputsNextIndex","inputId","Comment","Declaration","declaration","AtRule","Root","Rule","cleanSource","markTreeDirty","Container","iterator","condition","cb","existIndex","sample","decl","dependant","atRule","LazyResult","Processor","Document","urlAlphabet","nonSecure","alphabet","existsSync","readFileSync","dirname","SourceMapConsumer","SourceMapGenerator","fromBase64","PreviousMap","baseCharsetUri","baseUri","charsetUri","uriMatch","baseUriMatch","sourceMapString","comments","prevPath","previousMap","nanoid","isAbsolute","fileURLToPath","pathToFileURL","require$$4","require$$5","require$$6","lineToIndexCache","sourceMapAvailable","pathAvailable","getLineToIndex","lineToIndex","prevIndex","Input","endColumn","endLine","endOffset","lastLine","consumer","fromUrl","spaces","separators","split","inQuote","prevQuote","escape","letter","list_1","rule","fromJSON","ownInputs","inputHydrated","fromJSON_1","relative","MapGenerator","cssString","eol","noSource","mapping","annotation","already","fileURL","mapGenerator","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","currentToken","escaped","escapePos","returned","unclosed","what","endOfFile","nextToken","ignoreUnclosed","controlChar","back","tokenizer","SAFE_COMMENT_NEIGHBOR","findLastWithPosition","Parser","brackets","colon","founded","customProperty","firstSpaces","bracket","clean","all","lastTokenType","parse_1","Warning","warning","Result","processor","printed","warnOnce","require$$7","require$$8","TYPE_TO_CLASS_NAME","PLUGIN_PROPS","NOT_VISITORS","CHILDREN","isPromise","getEvents","toStack","events","cleanMarks","postcss","onRejected","onFinally","pluginName","pluginVer","runtimeVer","err","visitor","roots","subRoot","onFulfilled","visitors","lazyResult","NoWorkResult","generatedCSS","generatedMap","noWorkResult","plugins","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","initializer","warningPrinted","processOpts","pluginOpts","postcss_1","embedFonts","embedResources","usedFonts","collectUsedFonts","parsedFontsFaces","loadedFonts","getActualLoadedFontFace","cssFontFaces","parseFontFamily","rawFace","fontFace","normalizeFontFace","unicodeRange","baseURL","urlMatch","woff2URL","woff2DataUrl","loadWoff2","insertFontStyle","addFamilies","fontFamilyString","decodedFontFamily","textElements","fontFaces","cssText","face","unique","exportToSVGString","_0","exportToSVG","removeIds","clonedSVG","inlineUseElements","inlineDefsReferences","embedIcons","cleanSVG","icons","getDefs","href","symbolElement","iconRole","_defs","uses","getUseHref","resolveUseTarget","replacement","createInlineElement","localTarget","materializeSymbol","materializeSVG","materializeElement","symbolClone","applyAttributes","wrapper","buildUseTransform","exclude","mergeStyleAttribute","mergeClassAttribute","urlRefRegex","referencedIds","collectReferencedIds","removeDefs","defsDataUrl","createDefsDataUrl","updated","_match","encodedId","ids","collectIdsFromAttributes","addId","collectDefElements","defsSvg","queue","queued","enqueue","escapeCssId","removeBtnGroup","removeTransientContainer","removeUselessAttrs","clearDataset","btnGroup","btnIconDefs","transientContainer","exportToPNGString","dpr","updatedSvgData","svgURL","pngURL","Events","EE","once","addListener","evt","clearEvent","EventEmitter","handlers","ee","listeners","a2","a3","a4","a5","CommandManager","batchCommand","InteractionManager","added","removed","instance","PluginManager","pluginInitOptions","StateManager","pre","execOptions","oldVal","isItemElement","SyncRegistry","getOptions","currentVal","Editor","syncRegistry","corePlugin","userPlugins","parseOptions","design","restOptions","parsedContainer","templateOptions","mergedThemeConfig","resolvedThemeConfig","parseTheme","templateDesign","restTemplateOptions","parsedData","parseData","designOptions","parsedDesign","parseDesign","lists","sequences","compares","getPreferredData","DATA_MAP","getPolyfillData","normalizeWithType","defaultItem","parseDesignItem","parseDesignStructure","parseDesignTitle","userProps","generateColors","itemOptions","parsedThemeConfig","isWhitespace","getIndentInfo","stripComments","looksLikeRelationExpression","parseKeyValue","matchSpace","createObjectNode","createArrayNode","parseSyntaxToAst","errors","stripped","parentFrame","parentNode","arrayNode","indexInParent","parseInlineKeyValue","createValueNode","HEX_COLOR_PATTERN","FUNCTION_COLOR_PATTERN","parseScalar","readScalar","addError","splitArrayValue","trimmedPart","stripColorComments","hashIndex","slashIndex","normalizeExplicitColor","hexMatch","funcMatch","mapColor","shouldTreatPaletteStringAsArray","mapUnknown","mapUnion","schema","bestValue","bestErrors","variant","variantErrors","mapWithSchema","scalar","directColor","inline","fieldSchema","enumOf","variants","anyObject","nullableColorFields","textStyleSchema","shapeStyleSchema","itemDatumSchema","RelationSchema","ThemeSchema","designNodeSchema","DesignSchema","DataSchema","TemplateSchema","RootSchema","RELATION_TOKEN","ARROW_TOKEN","stripEdgeLabelPrefix","skipSpaces","readNode","idStart","braceEnd","readEdge","arrowToken","arrowStart","arrowEnd","directionToken","pipeEnd","afterLabel","hasLeft","hasRight","markerMatch","markerLeft","markerRight","parseRelationLine","nodeMap","nextNode","ensureItemLabel","parseExplicitRelation","parseRelationsNode","itemMap","parseLine","nodeItem","resolveTemplate","parseSyntax","ast","warnings","mergedEntries","infographicNode","templateFromInfographic","allowedRootKeys","templateNode","templateValue","designNode","dataNode","relationsNode","dataNodeForMapping","existingItems","normalizedItems","themeNode","widthNode","heightNode","createDefaultPlugins","createDefaultInteractions","DEFAULT_OPTIONS","mergeOptions","cloneOptions","isCompleteParsedInfographicOptions","Infographic","isInitial","parsedOptions","parseSyntaxOptions","renderer","currentNode","Structure","VERSION"],"mappings":"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IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,EACL,IAAK,GACb,EACI,cAAe,CACX,IAAK,gBACL,IAAK,eACL,IAAK,uBACL,IAAK,uBACL,IAAK,eACL,IAAK,0BACL,IAAK,aACL,IAAK,cACL,IAAK,mBACL,IAAK,2BACL,IAAK,kBACL,IAAK,cACL,IAAK,mBACL,IAAM,yJACd,EACI,aAAc,IACd,QAAS,CACL,KAAM,IACN,MAAO,IACP,KAAM,KACN,KAAM,KACN,MAAO,IACP,KAAQ,IACR,KAAO,KACP,KAAO,KACP,KAAM,GACN,KAAM,KACN,KAAO,KACP,KAAM,KACN,KAAM,IACN,KAAM,IACN,KAAM,KACN,KAAO,KACP,KAAM,KACN,KAAM,IACN,KAAM,IACN,KAAM,KACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,KACN,KAAM,KACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,KACN,KAAO,KACP,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,KAAM,KACN,KAAM,KACN,GAAM,IACN,GAAM,IACN,GAAM,EACN,GAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAO,IACP,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,KACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,KACN,KAAM,KACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,GACN,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,KAAM,EACN,KAAO,EACP,KAAM,KACN,KAAM,KACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,KAAM,KACN,KAAM,KACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,EACN,GAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,GACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,EACN,KAAO,EACP,KAAM,KACN,KAAM,KACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,KACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,GAAM,EACN,GAAM,IACN,GAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,KAAM,EACN,KAAO,EACP,KAAM,EACN,KAAM,GACN,KAAM,GACN,KAAM,GACN,KAAM,GACN,GAAM,GACN,GAAM,GACN,GAAM,GACN,GAAM,GACN,GAAM,EACN,KAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,EACN,KAAM,EACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,EACN,KAAO,EACP,KAAM,EACN,KAAM,EACN,GAAM,IACN,KAAM,GACN,KAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,GACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,KAAM,IACN,KAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,I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","x_google_ignoreList":[22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,331,332,333,358,367,378,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,638,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,982,1030,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1064]}
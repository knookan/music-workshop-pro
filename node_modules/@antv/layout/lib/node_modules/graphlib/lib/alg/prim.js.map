{"version":3,"file":"prim.js","sources":["../../../../../node_modules/graphlib/lib/alg/prim.js"],"sourcesContent":["var _ = require(\"../lodash\");\nvar Graph = require(\"../graph\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = prim;\n\nfunction prim(g, weightFunc) {\n  var result = new Graph();\n  var parents = {};\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n    if (pri !== undefined) {\n      var edgeWeight = weightFunc(edge);\n      if (edgeWeight < pri) {\n        parents[w] = v;\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (g.nodeCount() === 0) {\n    return result;\n  }\n\n  _.each(g.nodes(), function(v) {\n    pq.add(v, Number.POSITIVE_INFINITY);\n    result.setNode(v);\n  });\n\n  // Start from an arbitrary node\n  pq.decrease(g.nodes()[0], 0);\n\n  var init = false;\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    if (_.has(parents, v)) {\n      result.setEdge(v, parents[v]);\n    } else if (init) {\n      throw new Error(\"Input graph is not connected: \" + g);\n    } else {\n      init = true;\n    }\n\n    g.nodeEdges(v).forEach(updateNeighbors);\n  }\n\n  return result;\n}\n"],"names":["require$$0","require$$1","require$$2"],"mappings":";;;;;;;;;;CAAA,IAAI,CAAC,GAAGA,aAAA,EAAoB;CAC5B,IAAI,KAAK,GAAGC,YAAA,EAAmB;CAC/B,IAAI,aAAa,GAAGC,oBAAA,EAAiC;;AAErD,CAAA,MAAc,GAAG,IAAI;;AAErB,CAAA,SAAS,IAAI,CAAC,CAAC,EAAE,UAAU,EAAE;AAC7B,GAAE,IAAI,MAAM,GAAG,IAAI,KAAK,EAAE;GACxB,IAAI,OAAO,GAAG,EAAE;AAClB,GAAE,IAAI,EAAE,GAAG,IAAI,aAAa,EAAE;AAC9B,GAAE,IAAI,CAAC;;AAEP,GAAE,SAAS,eAAe,CAAC,IAAI,EAAE;AACjC,KAAI,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;KACtC,IAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC5B,KAAI,IAAI,GAAG,KAAK,SAAS,EAAE;AAC3B,OAAM,IAAI,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC;AACvC,OAAM,IAAI,UAAU,GAAG,GAAG,EAAE;AAC5B,SAAQ,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;AACtB,SAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC;AAClC,OAAA;AACA,KAAA;AACA,GAAA;;AAEA,GAAE,IAAI,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;AAC3B,KAAI,OAAO,MAAM;AACjB,GAAA;;GAEE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,SAAS,CAAC,EAAE;KAC5B,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,iBAAiB,CAAC;AACvC,KAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;AACrB,GAAA,CAAG,CAAC;;AAEJ;AACA,GAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;GAE5B,IAAI,IAAI,GAAG,KAAK;AAClB,GAAE,OAAO,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;AACxB,KAAI,CAAC,GAAG,EAAE,CAAC,SAAS,EAAE;KAClB,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;OACrB,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;KACnC,CAAK,MAAM,IAAI,IAAI,EAAE;AACrB,OAAM,MAAM,IAAI,KAAK,CAAC,gCAAgC,GAAG,CAAC,CAAC;AAC3D,KAAA,CAAK,MAAM;OACL,IAAI,GAAG,IAAI;AACjB,KAAA;;KAEI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC;AAC3C,GAAA;;AAEA,GAAE,OAAO,MAAM;AACf,CAAA;;;;;;","x_google_ignoreList":[0]}
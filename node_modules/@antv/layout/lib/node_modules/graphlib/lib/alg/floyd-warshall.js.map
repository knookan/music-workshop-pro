{"version":3,"file":"floyd-warshall.js","sources":["../../../../../node_modules/graphlib/lib/alg/floyd-warshall.js"],"sourcesContent":["var _ = require(\"../lodash\");\n\nmodule.exports = floydWarshall;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g,\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n\n  nodes.forEach(function(v) {\n    results[v] = {};\n    results[v][v] = { distance: 0 };\n    nodes.forEach(function(w) {\n      if (v !== w) {\n        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n      }\n    });\n    edgeFn(v).forEach(function(edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = { distance: d, predecessor: v };\n    });\n  });\n\n  nodes.forEach(function(k) {\n    var rowK = results[k];\n    nodes.forEach(function(i) {\n      var rowI = results[i];\n      nodes.forEach(function(j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n\n  return results;\n}\n"],"names":["require$$0"],"mappings":";;;;;;;;CAAA,IAAI,CAAC,GAAGA,aAAA,EAAoB;;AAE5B,CAAA,eAAc,GAAG,aAAa;;AAE9B,CAAA,IAAI,mBAAmB,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;;AAEvC,CAAA,SAAS,aAAa,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE;GAC1C,OAAO,gBAAgB,CAAC,CAAC;KACvB,QAAQ,IAAI,mBAAmB;AACnC,KAAI,MAAM,IAAI,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACpD,CAAA;;AAEA,CAAA,SAAS,gBAAgB,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE;GAC7C,IAAI,OAAO,GAAG,EAAE;AAClB,GAAE,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE;;AAEvB,GAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAC5B,KAAI,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE;AACnB,KAAI,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE;AACnC,KAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAC9B,OAAM,IAAI,CAAC,KAAK,CAAC,EAAE;AACnB,SAAQ,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,CAAC,iBAAiB,EAAE;AAC9D,OAAA;AACA,KAAA,CAAK,CAAC;KACF,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,IAAI,EAAE;AACrC,OAAM,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AAC5C,OAAM,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC5B,OAAM,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;AACrD,KAAA,CAAK,CAAC;AACN,GAAA,CAAG,CAAC;;AAEJ,GAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAC5B,KAAI,IAAI,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC;AACzB,KAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAC9B,OAAM,IAAI,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC;AAC3B,OAAM,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;AAChC,SAAQ,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AACxB,SAAQ,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AACxB,SAAQ,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;SAChB,IAAI,WAAW,GAAG,EAAE,CAAC,QAAQ,GAAG,EAAE,CAAC,QAAQ;AACnD,SAAQ,IAAI,WAAW,GAAG,EAAE,CAAC,QAAQ,EAAE;AACvC,WAAU,EAAE,CAAC,QAAQ,GAAG,WAAW;AACnC,WAAU,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW;AACzC,SAAA;AACA,OAAA,CAAO,CAAC;AACR,KAAA,CAAK,CAAC;AACN,GAAA,CAAG,CAAC;;AAEJ,GAAE,OAAO,OAAO;AAChB,CAAA;;;;;;","x_google_ignoreList":[0]}
{"version":3,"file":"json.js","sources":["../../../../node_modules/graphlib/lib/json.js"],"sourcesContent":["var _ = require(\"./lodash\");\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function(v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function(e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function(entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function(entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n"],"names":["require$$0","require$$1"],"mappings":"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","x_google_ignoreList":[0]}
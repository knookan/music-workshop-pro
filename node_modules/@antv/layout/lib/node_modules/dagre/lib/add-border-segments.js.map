{"version":3,"file":"add-border-segments.js","sources":["../../../../node_modules/dagre/lib/add-border-segments.js"],"sourcesContent":["var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = addBorderSegments;\n\nfunction addBorderSegments(g) {\n  function dfs(v) {\n    var children = g.children(v);\n    var node = g.node(v);\n    if (children.length) {\n      _.forEach(children, dfs);\n    }\n\n    if (_.has(node, \"minRank\")) {\n      node.borderLeft = [];\n      node.borderRight = [];\n      for (var rank = node.minRank, maxRank = node.maxRank + 1;\n        rank < maxRank;\n        ++rank) {\n        addBorderNode(g, \"borderLeft\", \"_bl\", v, node, rank);\n        addBorderNode(g, \"borderRight\", \"_br\", v, node, rank);\n      }\n    }\n  }\n\n  _.forEach(g.children(), dfs);\n}\n\nfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n  var label = { width: 0, height: 0, rank: rank, borderType: prop };\n  var prev = sgNode[prop][rank - 1];\n  var curr = util.addDummyNode(g, \"border\", label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n  if (prev) {\n    g.setEdge(prev, curr, { weight: 1 });\n  }\n}\n"],"names":["require$$0","require$$1"],"mappings":";;;;;;;;;CAAA,IAAI,CAAC,GAAGA,aAAA,EAAmB;CAC3B,IAAI,IAAI,GAAGC,WAAA,EAAiB;;AAE5B,CAAA,mBAAc,GAAG,iBAAiB;;CAElC,SAAS,iBAAiB,CAAC,CAAC,EAAE;AAC9B,GAAE,SAAS,GAAG,CAAC,CAAC,EAAE;KACd,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;KAC5B,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACxB,KAAI,IAAI,QAAQ,CAAC,MAAM,EAAE;AACzB,OAAM,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC;AAC9B,KAAA;;KAEI,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE;AAChC,OAAM,IAAI,CAAC,UAAU,GAAG,EAAE;AAC1B,OAAM,IAAI,CAAC,WAAW,GAAG,EAAE;AAC3B,OAAM,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC;SACtD,IAAI,GAAG,OAAO;SACd,EAAE,IAAI,EAAE;AAChB,SAAQ,aAAa,CAAC,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;AAC5D,SAAQ,aAAa,CAAC,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;AAC7D,OAAA;AACA,KAAA;AACA,GAAA;;GAEE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC;AAC9B,CAAA;;AAEA,CAAA,SAAS,aAAa,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;AAC1D,GAAE,IAAI,KAAK,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;GACjE,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;AACnC,GAAE,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC;GACxD,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;AAC3B,GAAE,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC;GACrB,IAAI,IAAI,EAAE;AACZ,KAAI,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;AACxC,GAAA;AACA,CAAA;;;;;;","x_google_ignoreList":[0]}
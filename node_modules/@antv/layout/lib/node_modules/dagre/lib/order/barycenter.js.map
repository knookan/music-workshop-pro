{"version":3,"file":"barycenter.js","sources":["../../../../../node_modules/dagre/lib/order/barycenter.js"],"sourcesContent":["var _ = require(\"../lodash\");\n\nmodule.exports = barycenter;\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function(v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return { v: v };\n    } else {\n      var result = _.reduce(inV, function(acc, e) {\n        var edge = g.edge(e),\n          nodeU = g.node(e.v);\n        return {\n          sum: acc.sum + (edge.weight * nodeU.order),\n          weight: acc.weight + edge.weight\n        };\n      }, { sum: 0, weight: 0 });\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n}\n\n"],"names":["require$$0"],"mappings":";;;;;;;;CAAA,IAAI,CAAC,GAAGA,aAAA,EAAoB;;AAE5B,CAAA,YAAc,GAAG,UAAU;;AAE3B,CAAA,SAAS,UAAU,CAAC,CAAC,EAAE,OAAO,EAAE;GAC9B,OAAO,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE;KAChC,IAAI,GAAG,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAC1B,KAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;AACrB,OAAM,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE;AACrB,KAAA,CAAK,MAAM;AACX,OAAM,IAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,SAAS,GAAG,EAAE,CAAC,EAAE;SAC1C,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;WAClB,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,SAAQ,OAAO;AACf,WAAU,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC;AACpD,WAAU,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;UAC3B;OACT,CAAO,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;;AAE/B,OAAM,OAAO;SACL,CAAC,EAAE,CAAC;SACJ,UAAU,EAAE,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM;SACtC,MAAM,EAAE,MAAM,CAAC;QAChB;AACP,KAAA;AACA,GAAA,CAAG,CAAC;AACJ,CAAA;;;;;;","x_google_ignoreList":[0]}
{"version":3,"file":"add-subgraph-constraints.js","sources":["../../../../../node_modules/dagre/lib/order/add-subgraph-constraints.js"],"sourcesContent":["var _ = require(\"../lodash\");\n\nmodule.exports = addSubgraphConstraints;\n\nfunction addSubgraphConstraints(g, cg, vs) {\n  var prev = {},\n    rootPrev;\n\n  _.forEach(vs, function(v) {\n    var child = g.parent(v),\n      parent,\n      prevChild;\n    while (child) {\n      parent = g.parent(child);\n      if (parent) {\n        prevChild = prev[parent];\n        prev[parent] = child;\n      } else {\n        prevChild = rootPrev;\n        rootPrev = child;\n      }\n      if (prevChild && prevChild !== child) {\n        cg.setEdge(prevChild, child);\n        return;\n      }\n      child = parent;\n    }\n  });\n\n  /*\n  function dfs(v) {\n    var children = v ? g.children(v) : g.children();\n    if (children.length) {\n      var min = Number.POSITIVE_INFINITY,\n          subgraphs = [];\n      _.each(children, function(child) {\n        var childMin = dfs(child);\n        if (g.children(child).length) {\n          subgraphs.push({ v: child, order: childMin });\n        }\n        min = Math.min(min, childMin);\n      });\n      _.reduce(_.sortBy(subgraphs, \"order\"), function(prev, curr) {\n        cg.setEdge(prev.v, curr.v);\n        return curr;\n      });\n      return min;\n    }\n    return g.node(v).order;\n  }\n  dfs(undefined);\n  */\n}\n"],"names":["require$$0"],"mappings":";;;;;;;;CAAA,IAAI,CAAC,GAAGA,aAAA,EAAoB;;AAE5B,CAAA,wBAAc,GAAG,sBAAsB;;AAEvC,CAAA,SAAS,sBAAsB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;GACzC,IAAI,IAAI,GAAG,EAAE;AACf,KAAI,QAAQ;;GAEV,CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;KACxB,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC3B,OAAM,MAAM;AACZ,OAAM,SAAS;KACX,OAAO,KAAK,EAAE;AAClB,OAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;OACxB,IAAI,MAAM,EAAE;AAClB,SAAQ,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;AAChC,SAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK;AAC5B,OAAA,CAAO,MAAM;SACL,SAAS,GAAG,QAAQ;SACpB,QAAQ,GAAG,KAAK;AACxB,OAAA;AACA,OAAM,IAAI,SAAS,IAAI,SAAS,KAAK,KAAK,EAAE;AAC5C,SAAQ,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;SAC5B;AACR,OAAA;OACM,KAAK,GAAG,MAAM;AACpB,KAAA;AACA,GAAA,CAAG,CAAC;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAA;;;;;;","x_google_ignoreList":[0]}